/*! For license information please see main.5d6b6871.js.LICENSE.txt */
!function(){var e={1501:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var r,i,o,a=n(47313),s=["title","titleId"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){var n=e.title,l=e.titleId,d=u(e,s);return a.createElement("svg",c({viewBox:"0 0 55 131",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2,ref:t,"aria-labelledby":l},d),n?a.createElement("title",{id:l},n):null,r||(r=a.createElement("path",{fill:"none",d:"M0 0h54.504v130.964H0z"})),i||(i=a.createElement("path",{d:"M51.396 25.807c0 .237-.285.474-.617.474-.284 0-1.09 1.328-1.708 2.941-1.897 4.934-20.873 42.46-20.92 41.273 0-.617-.285-1.044-.76-1.044-.664 0-.759.38-.474 2.23.284 2.135.095 2.61-6.642 15.703-3.795 7.448-7.875 15.228-9.06 17.316-1.234 2.182-2.183 4.554-2.278 5.55-.142 1.708.047 1.945 4.175 5.503 2.372 2.088 5.408 4.697 6.736 5.883 5.978 5.455 8.777 7.638 9.536 7.495 1.138-.19 18.739-18.644 18.786-19.687 0-.475-.854-7.686-1.898-16.035-1.802-14.232-3.51-30.884-3.32-32.497.142-.996-.57-6.025-1.092-8.207-.426-1.708-.237-2.42 3.179-10.2 1.992-4.601 4.602-10.247 5.74-12.524 1.091-2.277 2.04-4.27 2.04-4.412 0-.142-.332-.237-.711-.237-.38 0-.712.19-.712.475zM40.485 61.244c.522 3.321 1.565 11.291 2.324 17.696 1.47 11.765 3.179 24.81 3.653 28.132.285 1.66.095 1.992-2.989 5.408-5.36 6.025-11.053 11.955-12.998 13.473l-1.803 1.423-9.25-8.634c-8.54-7.875-9.252-8.682-8.73-9.63.285-.522 2.704-4.934 5.361-9.773 2.657-4.84 6.167-11.29 7.78-14.327 1.66-3.084 3.179-5.74 3.463-5.883.332-.19.427 4.602.332 14.802-.19 15.228-.142 15.275 1.376 14.943.19 0 .332-7.685.332-17.03V74.86l4.982-9.963c2.751-5.503 5.028-9.915 5.123-9.867.095.047.57 2.846 1.044 6.214zM20.228 3.842c-3.51 2.799-8.919 7.543-13.189 11.623l-3.368 3.178.617 4.175c.332 2.277.949 6.736 1.328 9.867.427 3.131.854 6.073.996 6.5.19.569 0 .854-.521.854-.902 0-.95-.238 1.518 7.59a514.06 514.06 0 001.85 6.025c.095.332.474.474.901.332.427-.19.664-.57.522-.901-.142-.38.095-.76.474-.902.522-.19.475-.569-.332-1.945-1.28-2.135-4.554-20.352-4.744-26.234-.142-4.175-.142-4.222 1.613-6.594 1.708-2.325 5.646-5.836 11.718-10.295 1.708-1.28 3.416-2.704 3.89-3.178.712-.854 1.044-.617 7.021 5.74 3.463 3.653 7.306 7.4 8.54 8.35l2.277 1.707-1.756 3.7c-.948 1.993-4.791 9.678-8.586 16.984-7.923 15.37-6.31 13.9-15.513 14.042l-5.978.048-1.992 2.277c-2.088 2.42-2.372 3.32-1.376 4.839.38.522.664 1.376.664 1.897 0 .854.332.997 2.23 1.092 1.186.047 2.277.19 2.42.332.142.142.331 3.083.474 6.546l.19 6.263-3.179 6.83c-5.266 11.387-7.353 16.605-7.353 18.313 0 .901.19 1.66.38 1.66.474 0 .474-.047 19.782-40.324 8.966-18.691 17.458-36.292 18.881-39.186 1.423-2.893 2.704-5.55 2.799-5.93.095-.427-3.178-3.7-8.397-8.302-4.696-4.174-8.824-7.97-9.203-8.397-1.091-1.328-2.704-.9-5.598 1.424zm-2.372 62.146c-.38.997-1.376 3.084-2.182 4.65-1.329 2.656-1.471 2.751-1.803 1.66-.19-.664-.332-2.61-.38-4.365-.047-3.463-.142-3.415 3.843-3.652l1.28-.048-.758 1.755zm3.985-7.59c-2.183 4.222-2.277 4.27-8.255 4.554-5.266.285-5.36.237-5.36-.759 0-.57-.19-1.328-.428-1.708-.284-.427-.094-1.186.57-2.23l1.043-1.612h4.744c2.61-.048 5.598-.238 6.642-.427 1.044-.19 1.945-.285 2.04-.238.095.048-.38 1.139-.996 2.42zm-.19-43.266c-.854.617-1.091 1.234-1.091 2.8 0 1.85.142 2.134 1.423 2.656 1.28.522 1.613.474 3.084-.522 1.945-1.328 1.992-1.66.569-3.795-1.233-1.85-2.467-2.182-3.985-1.139z",fillRule:"nonzero"})),o||(o=a.createElement("path",{d:"M50.141 24.917c.352-.615 1.06-1.085 1.967-1.085.804 0 1.477.34 1.734.597.342.342.477.74.477 1.14 0 .089-.006.304-.119.612-.168.46-1.056 2.337-2.08 4.471-1.131 2.263-3.724 7.875-5.708 12.456-1.67 3.807-2.558 5.882-2.97 7.217-.301.975-.279 1.406-.123 2.031.558 2.33 1.27 7.705 1.122 8.731-.187 1.596 1.537 18.059 3.32 32.136 1.056 8.446 1.91 15.74 1.91 16.22l-.002.069c-.009.184-.087.608-.447 1.14-.506.748-1.932 2.415-3.805 4.477-4.242 4.671-10.806 11.46-13.673 14.058-.682.618-1.199 1.024-1.472 1.182a1.872 1.872 0 01-.612.237c-.41.077-1.225-.015-2.35-.738-1.495-.958-4.19-3.216-8.46-7.113-1.327-1.185-4.36-3.791-6.718-5.866-1.712-1.476-2.767-2.404-3.411-3.096-.677-.726-.994-1.29-1.16-1.838-.165-.544-.18-1.09-.117-1.847.104-1.1 1.103-3.738 2.466-6.15 1.182-2.08 5.247-9.833 9.031-17.26 3.34-6.491 5.06-9.853 5.906-11.859.677-1.603.696-2.113.587-2.93-.18-1.168-.195-1.884-.111-2.308.1-.511.321-.852.58-1.1.346-.331.813-.55 1.488-.55.199 0 .391.024.574.07 4.068-7.269 18.093-35.143 19.705-39.334.585-1.53 1.353-2.824 1.794-3.288.228-.24.462-.39.677-.482zM38.72 59.573a448.834 448.834 0 00-3.06 5.995l-4.823 9.646v16.63c0 8.501-.124 15.643-.287 16.987-.142 1.166-1.002 1.461-1.384 1.526l.16-.017c-.671.146-1.214.134-1.647-.048-.495-.208-1.058-.628-1.33-1.812-.332-1.439-.336-5.202-.22-14.563.04-4.272.047-7.59.016-9.984-.33.582-.666 1.188-.986 1.782-1.615 3.04-5.13 9.5-7.79 14.346-2.383 4.34-4.576 8.337-5.207 9.493.131.186.356.488.61.77 1.165 1.287 3.451 3.428 7.667 7.315l8.316 7.762.798-.63c1.917-1.497 7.518-7.35 12.808-13.296.898-.995 1.544-1.72 2-2.29.37-.464.594-.76.675-1.06.067-.247.004-.478-.051-.8l-.007-.041c-.475-3.324-2.184-16.382-3.657-28.168-.757-6.384-1.797-14.328-2.317-17.639l-.004-.023c-.089-.635-.185-1.272-.28-1.881zM19.289 2.67c1.673-1.343 3-2.097 4.04-2.364 1.537-.394 2.687.004 3.622 1.119.395.44 4.459 4.165 9.07 8.264 4.274 3.769 7.265 6.676 8.244 7.909.69.868.68 1.598.625 1.844a1.134 1.134 0 01-.009.038c-.1.398-1.416 3.195-2.908 6.228-1.423 2.893-9.912 20.488-18.875 39.173C7.581 97.252 4.465 103.75 3.6 105.058c-.497.75-.885.854-1.111.924a1.729 1.729 0 01-.526.075c-.42 0-.964-.148-1.368-.766-.223-.342-.511-1.288-.511-2.394 0-.606.19-1.593.67-3.031.955-2.865 3.1-7.863 6.821-15.91l3.03-6.513-.178-5.89a153.907 153.907 0 00-.33-5.346c-.352-.041-.773-.082-1.14-.096-.98-.05-1.616-.132-2.03-.262-.645-.203-1.016-.534-1.267-.927-.221-.348-.358-.79-.358-1.4 0-.282-.173-.735-.377-1.016l-.04-.06c-.621-.945-.859-1.756-.79-2.607.085-1.023.72-2.222 2.283-4.034l1.607-1.837c-.218-.687-.996-3.198-1.807-5.888-1.558-4.943-2.122-6.843-2.152-7.561-.034-.83.282-1.245.57-1.51a1.53 1.53 0 01.406-.265c-.216-1.235-.55-3.498-.875-5.878a488.89 488.89 0 00-1.323-9.83l-.617-4.174a1.5 1.5 0 01.455-1.31l3.361-3.172c4.301-4.11 9.749-8.888 13.287-11.709zm-3.879 71.31c-.31.282-.612.394-.858.441a1.547 1.547 0 01-1.04-.133l.103 3.419v.018l1.795-3.746zm12.426 1.473a23.55 23.55 0 01-.225.553 43.912 43.912 0 01-.762 1.686c.327-.11.65-.094.965.015l.022.008v-2.262zm1.524-3.996l-.032.037a1.575 1.575 0 01-.862.5c.042.411.057.798 0 1.25l.894-1.787zM16.286 65.87c-.566.056-1.034.116-1.267.149-.014.118-.03.274-.035.408-.012.4-.001.889.007 1.466.006.236.014.476.024.715.49-.996.97-2.019 1.271-2.738zm4.486-3.076a4.31 4.31 0 01-.88.653c.136.221.21.47.221.722l.28-.585.38-.79zm-.299-5.017c-1.381.167-3.98.323-6.29.365h-3.956l-.594.92c-.19.298-.36.7-.429.874.215.444.399 1.073.478 1.666h.014c.771.012 1.964-.048 3.819-.148 2.63-.125 3.979-.11 4.898-.616.326-.18.561-.453.817-.83.374-.551.75-1.277 1.243-2.231zm4.52-3.77a6.345 6.345 0 01-1.098.892c.156.141.3.333.383.595l.714-1.487zm15.241-3.122c-.47.933-.941 1.866-1.41 2.788.6-.263 1.192-.033 1.288.015.079.04.308.15.517.425a27.335 27.335 0 00-.224-1.044c-.185-.741-.289-1.336-.17-2.184zM24.148 5.38c-.758.673-2.198 1.856-3.649 2.944-5.896 4.33-9.738 7.716-11.4 9.978-.594.803-.97 1.278-1.177 1.801-.316.802-.217 1.685-.143 3.852.132 4.065 1.762 14.092 3.157 20.466.555 2.534 1.023 4.459 1.383 5.059.528.9.771 1.5.842 1.889.088.484.016.86-.118 1.167a1.86 1.86 0 01-.27.446l2.688-.021c1.824-.029 3.22.008 4.348-.039.897-.037 1.587-.11 2.187-.395.71-.336 1.26-.968 1.948-2.018 1.313-2.003 2.904-5.315 5.722-10.783 3.784-7.285 7.617-14.95 8.562-16.934l1.23-2.593-1.311-.984c-1.258-.967-5.182-4.782-8.717-8.51-2.604-2.769-4.52-4.608-5.282-5.325zm-11.86 47.18l-.001-.002-.026-.064.027.067zm-1.503-1.763l.059-.024a1.07 1.07 0 00-.059.024zm42.106-24.884l-.002.022.001-.009.001-.013zm.003-.035l.002-.071-.002.071zM20.773 13.917c-1.241.896-1.713 1.74-1.713 4.014 0 1.664.252 2.445.728 3.003.333.391.821.714 1.63 1.043.742.303 1.274.437 1.77.44.735.005 1.457-.254 2.72-1.109 1.495-1.02 2.072-1.825 2.19-2.615.111-.744-.188-1.715-1.214-3.254-.872-1.308-1.805-2.006-2.727-2.266-1.036-.292-2.15-.105-3.356.723l-.028.02zm4.263 4.285c-.128-.242-.375-.69-.648-1.099-.4-.599-.69-1.03-1.123-1.056-.24-.015-.473.122-.744.308-.461.337-.461.721-.461 1.576 0 .418.04.884.058 1.065.1.052.282.142.431.203.283.115.47.216.66.218.084 0 .152-.057.255-.113.215-.115.46-.275.757-.476.311-.213.632-.472.815-.626zM19.293 2.669l-.005.003.005-.003z"})))}var d=a.forwardRef(l);n.p},60623:function(e){e.exports.G="5"},21756:function(e,t,n){"use strict";var r=n(18489),i=n(50678),o=n(47313),a=n(46557),s=n(78613),c=n(46417),u="/default_avatar.jpg",l=o.memo((function(e){var t=e.src,n=e.name,l=e.className,d=void 0===l?"":l,f=e.style,h=e.size,p=(0,o.useState)(null),m=(0,i.Z)(p,2),v=m[0],g=m[1];return n=n||"?",(0,c.jsx)("img",{className:"rounded-full !select-none pointer-events-none object-contain hover:brightness-95 active:brightness-75 ".concat(d),style:(0,r.Z)({width:h||a.IX,height:h||a.IX},f),src:v||t||(n?(0,s.Zd)({name:n}):u),alt:n||"avatar",onError:function(){g(v?u:n?(0,s.Zd)({name:n}):u)},referrerPolicy:"no-referrer"})}));l.displayName="Avatar",t.Z=l},16089:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(83061),i=n(46417);function o(e){var t=e.className,n=e.color,o=e.children;return(0,i.jsx)("span",{className:(0,r.Z)("flex-shrink-0 inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-full",{"text-gray-800 bg-gray-100 dark:bg-gray-700 dark:text-gray-200":"neutral"===n,"text-green-800 bg-green-200 dark:bg-green-700 dark:text-green-100":"green"===n},t),children:o})}},63198:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(18489),i=n(33032),o=n(50678),a=n(84322),s=n.n(a),c=n(47313),u=n(80896),l=n(28303),d=n(9066),f=n(46417),h=function(e){var t=e.onClick,n=e.type,a=void 0===n?"primary":n,h=e.action,p=e.className,m=void 0===p?"":p,v=e.disabled,g=void 0!==v&&v,y=e.spinner,b=void 0===y||y,w=e.size,x=void 0===w?"normal":w,_=e.link,E=e.externalLink,k=e.buttonType,C=void 0===k?"button":k,S=e.style,j=e.children,A=e.autoFocus,T=void 0!==A&&A,I=e.isLoading,O=(0,c.useState)(!1),D=(0,o.Z)(O,2),N=D[0],P=D[1],M=null!=I?I:N,L=(0,c.useRef)(!0),R=function(){var e=(0,i.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t&&t(n))){e.next=15;break}return P(!0),e.prev=3,e.next=6,r;case 6:e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(3),e.t0 instanceof d._L){e.next=12;break}throw e.t0;case 12:return e.prev=12,L.current&&P(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,8,12,15]])})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){return function(){L.current=!1}}),[]);var Z=(0,r.Z)((0,r.Z)({},S),{},{pointerEvents:M?"none":void 0}),F=!(!_&&!E),U=(0,f.jsxs)("button",{type:C,"data-action":h,className:"link"===a?"Button-link ".concat(m):"Button is-".concat(a," size-").concat(x," ").concat(m),onClick:R,disabled:g||M,style:F?void 0:Z,autoFocus:T,tabIndex:F?-1:0,children:[j,M&&b&&(0,f.jsx)(u.Z,{size:"1em"})]}),z=(0,f.jsx)("button",{type:C,className:"Button-icon is-".concat(a," size-").concat(x," ").concat(m," ").concat(g||M?"is-disabled":""),"data-action":h,onClick:R,style:F?void 0:Z,children:M&&b?(0,f.jsx)(u.Z,{size:"1em"}):j});return F?E?(0,f.jsx)("a",{className:"Button-container is-plain",href:E,target:E.includes("mailto:")?"_self":"_blank",rel:"noreferrer",style:Z,tabIndex:0,"data-action":h,children:"icon"===a?z:U}):(0,f.jsx)(l.rU,{className:"is-plain",to:_,style:Z,tabIndex:0,children:"icon"===a?z:U}):"icon"===a?z:U}},23591:function(e,t,n){"use strict";n.d(t,{zx:function(){return f},F6:function(){return h},LE:function(){return p},hU:function(){return m},tv:function(){return v}});var r=n(33032),i=n(50678),o=n(84322),a=n.n(o),s=n(83061),c=n(47313),u=n(79095),l=n(80896),d=n(46417);function f(e){var t=e.className,n=e.children,o=e.onClick,u=e.type,f=void 0===u?"button":u,h=e.color,p=void 0===h?"primary":h,m=e.disabled,v=e.autoFocus,g=void 0!==v&&v,y=(0,c.useState)(!1),b=(0,i.Z)(y,2),w=b[0],x=b[1];function _(){return(_=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||w){e.next=5;break}return x(!0),e.next=4,o(t);case 4:x(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsx)("button",{type:f,onClick:function(e){return _.apply(this,arguments)},disabled:m||w,autoFocus:g,className:(0,s.Z)("flex justify-center items-center py-2.5 px-8\n      text-gray-10 text-base font-bold\n      disabled:bg-gray-40\n      rounded-md active:shadow-none",t,{"bg-primary hover:bg-primary-darker active:bg-primary-darkest":"primary"===p,"bg-[#dc4f4f] hover:bg-red-500 active:bg-red-600 dark:bg-red-400 dark:hover:bg-red-500 dark:active:bg-red-600":"red"===p,"active:scale-[.98]":!m}),children:w?(0,d.jsx)(l.Z,{size:"small",className:"x-spinner-white"}):n})}function h(e){var t=e.className,n=e.children,o=e.onClick,u=e.type,f=void 0===u?"button":u,h=e.disabled,p=(0,c.useState)(!1),m=(0,i.Z)(p,2),v=m[0],g=m[1];function y(){return(y=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||v||h){e.next=11;break}return g(!0),e.prev=2,e.next=5,o(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:g(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return(0,d.jsx)("button",{type:f,disabled:h||v,onClick:function(e){return y.apply(this,arguments)},className:(0,s.Z)("flex justify-center disabled:text-gray-40 items-center text-primary border-[1px] border-transparent hover:text-primary-darker rounded-md text-base font-bold py-2.5 px-6 bg-transparent hover:!bg-gray-20 active:!bg-gray-30 disabled:!bg-gray-20",t,{"active:scale-[.98":!h}),children:v?(0,d.jsx)(l.Z,{size:"small",className:"dark:x-spinner-white"}):n})}function p(e){var t=e.className,n=e.children,o=e.onClick,u=e.type,f=void 0===u?"button":u,h=e.disabled,p=(0,c.useState)(!1),m=(0,i.Z)(p,2),v=m[0],g=m[1];function y(){return(y=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||v){e.next=5;break}return g(!0),e.next=4,o(t);case 4:g(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsx)("button",{type:f,disabled:h||v,onClick:function(e){return y.apply(this,arguments)},className:(0,s.Z)("w-6 h-6 flex justify-center items-center bg-primary text-gray-10 hover:bg-primary-darker active:bg-primary-darkest rounded text-md disabled:bg-gray-50",t,{"active:scale-[.98]":!h}),children:v?(0,d.jsx)(l.Z,{size:"small",className:"x-spinner-white"}):n})}function m(e){var t=e.className,n=e.children,o=e.onClick,s=e.type,u=void 0===s?"button":s,f=e.disabled,h=e.title,p=(0,c.useState)(!1),m=(0,i.Z)(p,2),v=m[0],g=m[1];function y(){return(y=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||v){e.next=5;break}return g(!0),e.next=4,o(t);case 4:g(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsx)("button",{type:u,disabled:f||v,onClick:function(e){return y.apply(this,arguments)},title:h,className:"flex justify-center items-center text-xl p-2 rounded cursor-pointer bg-transparent hover:!bg-gray-20 active:!bg-gray-30 dark:text-white ".concat(t||""),children:v?(0,d.jsx)(l.Z,{size:"small"}):n})}function v(e){var t=e.className,n=e.children,o=e.onClick,f=e.leftIcon,h=e.rightIcon,p=e.type,m=void 0===p?"button":p,v=(0,c.useState)(!1),g=(0,i.Z)(v,2),y=g[0],b=g[1];function w(){return(w=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||y){e.next=5;break}return b(!0),e.next=4,o(t);case 4:b(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsxs)("button",{type:m,onClick:function(e){return w.apply(this,arguments)},className:(0,s.Z)("group select-none bg-color-light\n        flex flex-row justify-between items-center\n        w-full max-w-[350px] sm:max-w-[270px]\n        px-4 py-2\n        rounded-md border-[1px] border-solid border-gray-20\n        hover:shadow-lg hover:bg-color-light\n        active:shadow-none active:bg-transparent active:scale-[.98]",t),children:[(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-primary-light dark:bg-gray-10 flex justify-center items-center text-primary text-base sm:text-2xl",children:f}),(0,d.jsx)("div",{className:"flex justify-center items-center ml-3 text-base text-color-text group-active:text-primary-darkest",children:n})]}),y&&(0,d.jsx)("div",{className:"flex h-full justify-center items-center text-primary group-active:text-primary-darkest",children:(0,d.jsx)(l.Z,{size:"small"})}),!y&&(0,d.jsx)("div",{className:"flex h-full justify-center items-center text-primary group-active:text-primary-darkest text-2xl",children:h||(0,d.jsx)(u.pO,{})})]})}},34649:function(e,t,n){"use strict";n.d(t,{Y:function(){return v}});var r=n(33032),i=n(50678),o=n(18489),a=n(84322),s=n.n(a),c=n(48688),u=n(80896),l=n(23591),d=n(86422),f=n(96729),h=n(46417),p={isDisplayed:!1,title:null,text:null,confirmButtonText:"Confirm",isConfirmLoading:!1,onConfirm:null,isConfirmDisabled:!1,renderCustomContent:null},m=(0,c.cn)(p),v=(0,c.cn)((function(e){return e(m)}),(function(e,t,n){var r,i;"show"===n.type&&t(m,{isDisplayed:!0,title:n.title,text:n.text,modalType:n.modalType||"remove",confirmButtonText:n.confirmButtonText||p.confirmButtonText,isConfirmDisabled:null!==(r=n.isConfirmDisabled)&&void 0!==r?r:p.isConfirmDisabled,renderCustomContent:null!==(i=n.renderCustomContent)&&void 0!==i?i:null,onConfirm:n.onConfirm,onCancel:n.onCancel,onClose:n.onClose});if("confirm"===n.type){var a,s=e(m);if(!s.isConfirmDisabled)s.onConfirm&&t(m,(0,o.Z)((0,o.Z)({},s),{},{isConfirmLoading:!0})),t(m,p),null===(a=s.onClose)||void 0===a||a.call(s)}if("cancel"===n.type){var c,u=e(m);u.onCancel&&!u.isConfirmLoading&&u.onCancel(),null===(c=u.onClose)||void 0===c||c.call(u),t(m,p)}"setIsConfirmDisabled"===n.type&&t(m,(0,o.Z)((0,o.Z)({},e(m)),{},{isConfirmDisabled:n.isConfirmDisabled})),n.type}));t.Z=function(){var e=(0,c.KO)(v),t=(0,i.Z)(e,2),n=t[0],o=t[1];return n.isDisplayed?(0,h.jsxs)(f.u,{title:n.title,onCloseRequest:function(){return o({type:"cancel"})},maxWidth:600,closeButton:!1,autoFocus:!1,children:[(0,h.jsx)("div",{className:"text",children:n.text}),n.renderCustomContent&&n.renderCustomContent(),(0,h.jsxs)(d.p7,{className:"mt-3 justify-end",children:[(0,h.jsx)(l.F6,{onClick:(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({type:"cancel"});case 2:case"end":return e.stop()}}),e)}))),disabled:n.isConfirmLoading,className:"media-xs:order-2",children:"Cancel"}),(0,h.jsxs)(l.zx,{color:"red",disabled:n.isConfirmDisabled||n.isConfirmLoading,onClick:(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.onConfirm){e.next=5;break}return o({type:"setIsConfirmLoading",isConfirmLoading:!0}),e.next=5,n.onConfirm();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error thrown in confirmModal.onConfirm. You should handle errors yourself.",e.t0);case 10:return e.prev=10,o({type:"confirm"}),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])}))),autoFocus:!0,children:[n.confirmButtonText," ",n.isConfirmLoading&&(0,h.jsx)(u.Z,{style:{marginLeft:15},size:15})]})]})]}):null}},56711:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(14696),i=n(46417),o={style:{base:{color:"#000",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:"16px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#000"},"::placeholder":{color:"#000"}}},hidePostalCode:!0};var a=function(e){var t=e.errorMessage,n=e.cardElementOnChange;return(0,i.jsxs)("div",{className:"CreditCardInput",children:[(0,i.jsxs)("div",{className:"CreditCardInput-card-cont",children:[(0,i.jsx)("label",{className:"font-bold",children:"Card details"}),(0,i.jsx)(r.CardElement,{options:o,onChange:n,className:"CreditCard-element ".concat(t?"has-error":"")}),t&&(0,i.jsx)("div",{className:"CreditCardInput-card-error",children:t})]}),(0,i.jsxs)("p",{className:"CreditCardInput-card-info",children:["We do not store any credit card information. The whole transaction is handled securely by Stripe."," "]})]})}},96789:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(18489),i=n(47313),o=n(48688),a=n(64589),s=function(e){var t=(0,o.b9)(a.Y),n=(0,i.useCallback)((function(){t((function(e){return(0,r.Z)((0,r.Z)({},e),{},{theme:"light"===e.theme?"dark":"light"})}))}),[t]);return(0,i.useEffect)((function(){var e=function(e){e.altKey&&e.shiftKey&&"KeyD"===e.code&&(e.preventDefault(),e.stopImmediatePropagation(),n())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n]),null}},84740:function(e,t,n){"use strict";n.d(t,{L:function(){return l},h:function(){return d}});var r=n(27676),i=n(83061),o=n(47313),a=n(46417),s=function(e){return e.preventDefault()},c=function(e){e.stopPropagation(),e.preventDefault()},u=function(){return(0,o.useLayoutEffect)((function(){return document.body.classList.add("pointer-events-none"),function(){document.body.classList.remove("pointer-events-none")}}),[]),null},l=function(e){var t=e.children,n=e.toggleButton,o=e.toggleButtonClassName,l=e.labelClassName,d=e.selectClassName,f=e.modal,h=e.onOpenChange,p=e.className,m=e.label,v=e.portaled,g=e.align,y=(0,a.jsxs)(r.VY,{align:g||"center",className:"bg-white dark:bg-gray-20 rounded p-1 min-w-[160px] shadow-xl mt-2 z-dropdown ".concat(p),loop:!0,onClick:c,onPointerDown:s,children:[f&&(0,a.jsx)(u,{}),t]});return(0,a.jsxs)(r.fC,{modal:!1,onOpenChange:h,children:[(0,a.jsx)(r.xz,{className:"p-0 m-0 pointer-events-auto",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:(0,a.jsxs)("div",{className:(0,i.Z)("flex items-center text-color-text ".concat(d),{"py-1 px-2":m}),children:[m&&(0,a.jsx)("div",{className:"mr-1 ".concat(l),children:m}),(0,a.jsx)("div",{className:"flex w-6 h-6 justify-center items-center ".concat(o),children:n})]})}),v?(0,a.jsx)(r.Uv,{children:(0,a.jsxs)("div",{className:"pointer-events-auto",children:[f&&(0,a.jsx)(u,{}),y]})}):(0,a.jsx)("div",{className:"pointer-events-auto",children:y})]})},d=function(e){var t=e.children,n=e.onConfirm,i=e.title,o=e.shortcut,s=e.className;return(0,a.jsxs)(r.ck,{className:"group flex items-center text-color-text dark:text-gray-100 select-none p-1.5\n      cursor-pointer hover:bg-gray-10 hover:text-primary dark:hover:text-gray-100 active:bg-gray-20\n      dark:active:bg-gray-30 rounded mt-2 sm:mt-1 focus:outline-none text-sm ".concat(s,"\n    "),onSelect:n,children:[(0,a.jsx)("div",{className:"w-1/5 pl-2 flex",children:t}),(0,a.jsx)("div",{className:"w-3/5 flex items-center",children:i}),(0,a.jsx)("div",{className:"w-1/5 !text-gray-40 dark:text-gray-20 flex",children:o})]})}},80543:function(e,t,n){"use strict";n.d(t,{h:function(){return g},s:function(){return v}});var r=n(50678),i=n(47313),o=n(18489),a=n(83738),s=n(35293),c=n(46417),u=["children"];var l=n(83061),d=n(80896),f=n(90615),h=n(50138),p=["onEmojiSelect","className"],m=(0,i.lazy)((function(){return Promise.all([n.e(509),n.e(205)]).then(n.bind(n,88205))}));var v=(0,i.createContext)({isPickerOpen:!1});function g(e){var t=e.children,n=(0,i.useState)(!1),o=(0,r.Z)(n,2),a=o[0],u=o[1];return(0,c.jsx)(v.Provider,{value:{isPickerOpen:a,setIsPickerOpen:u},children:(0,c.jsx)(s.fC,{open:a,onOpenChange:u,children:t})})}v.displayName="EmojiPickerContext",g.Toggle=function(e){var t=e.children,n=(0,a.Z)(e,u);return(0,c.jsx)(s.xz,(0,o.Z)((0,o.Z)({},n),{},{children:t}))},g.Picker=function(e){var t=e.onEmojiSelect,n=e.className,r=(0,a.Z)(e,p);return(0,c.jsx)(s.h_,{children:(0,c.jsx)(s.VY,(0,o.Z)((0,o.Z)({align:"start",className:(0,l.Z)("z-[1000] max-w-[320px] sm:min-w-[22rem] min-h-[20rem] bg-default dark:bg-[rgb(21,22,23)] flex border border-gray-20 border-solid",n)},r),{},{children:(0,c.jsx)(f.Z,{customFallback:(0,c.jsxs)("div",{className:"flex flex-col gap-y-8 justify-center items-center w-full",children:[(0,c.jsx)("img",{className:"w-40",src:"/images/error.svg",alt:"Couldn't load emoji widget."}),(0,c.jsx)(h.Z,{children:"Couldn't load emoji widget."})]}),children:(0,c.jsx)(i.Suspense,{fallback:(0,c.jsx)("div",{className:"flex w-full justify-center items-center",children:(0,c.jsx)(d.Z,{})}),children:(0,c.jsx)(m,{onEmojiSelect:t})})})}))})}},52499:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(46417);function i(e){var t=e.label,n=e.imgSrc,i=e.children,o=e.className;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-60 ".concat(o),children:[(0,r.jsx)("div",{className:"opacity-10 dark:opacity-60 mb-4 pointer-events-none select-none",children:(0,r.jsx)("img",{className:"w-full",src:n,alt:t})}),(0,r.jsx)("span",{className:"font-drawn text-lg",children:t}),i]})}},50138:function(e,t,n){"use strict";var r=n(18489),i=(n(47313),n(46417));t.Z=function(e){return(0,i.jsx)("div",{style:(0,r.Z)((0,r.Z)({color:"normal"===e.color?"inherit":"var(--color-text-error)",fontSize:"1em",textAlign:"center",padding:".6em",overflowWrap:"break-word",minWidth:0},e.style),e.background?{border:"2px solid var(--color-text-error)",background:"#fff6f6"}:null),children:e.children})}},89860:function(e,t,n){"use strict";n.d(t,{Eb:function(){return Q},dM:function(){return Y},Fl:function(){return $},$D:function(){return J}});var r=n(18489),i=n(50678),o=n(89472),a=n(47313),s=function(e){return"[object Object]"===Object.prototype.toString.call(e)},c=n(88880),u=n(2466),l=n(54778),d=n(46956),f=n(78613),h=n(48688),p=n(31303),m=n(83061),v=n(84023),g=n(91976),y=n(82329),b=n(46823),w=n(78401),x=new RegExp("([".concat("\\w\\u00C0-\\u1FFF\\u2C00-\\uD7FF","]+)"),"g");var _=function(e){var t,n=e.searchTerm,r=e.text,i=((t=n.trim(),t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).match(x)||[]).join(".*?");return!!i&&new RegExp(i,"i").test(r)},E=n(52499),k=n(79095),C=n(33032),S=n(84322),j=n.n(S),A=n(63830),T=n(62787),I=n(1229),O=n(70377),D=n(17494),N=n(34649),P=n(84740),M=n(22632),L=n(46372),R=n(7281),Z=n(50424),F=n(83209),U=n(46417),z=function(e){var t=e.children,n=e.sceneComment,r=e.activeThread,o=e.commentItemRef,a=e.className,s=e.resolved,c=e.threadId,u=(0,h.KO)(b.eR),l=(0,i.Z)(u,2)[1],d=(0,m.Z)("flex flex-col px-4 py-2 !text-color-text !no-underline","hover:!bg-gray-10 hover:!no-underline active:!no-underline active:!text-inherit","break-word",a);return s?(0,U.jsx)("div",{className:(0,m.Z)(d),children:t}):(0,U.jsx)(R.z,{url:"?comment=".concat(null===n||void 0===n?void 0:n.id),onCustomClick:function(){return l(null)},ref:o,className:(0,m.Z)(d,{"bg-gray-10":r===c}),children:t})};function B(e){var t=e.sceneComment,n=e.userList,r=e.replies,o=e.resolved,s=e.mappedUsers,c=e.thread,u=e.searchTerm,l=(0,h.KO)(b.tK),d=(0,i.Z)(l,2),f=d[0],p=d[1],v=(0,a.useState)(!1),g=(0,i.Z)(v,2),y=g[0],x=g[1],_=(0,I.Z)().userData,E=(0,a.useRef)(null),S=(0,h.KO)(w.activeWorkspaceAtom),R=(0,i.Z)(S,1)[0],B=n.find((function(e){return e.id===(null===t||void 0===t?void 0:t.creator)}));(0,a.useEffect)((function(){var e;f===t.id&&(null===(e=E.current)||void 0===e||e.scrollIntoView())}),[f,t.id]);var V=_&&t&&(null===t||void 0===t?void 0:t.creator)===_.id||R.isAdmin,W=(0,A.UO)(),H=W.workspace,q=W.scene,G=(0,M.n)({workspace:H,scene:q}).activeScene,Y=(0,h.KO)(N.Y),K=(0,i.Z)(Y,2)[1],Q=(0,h.KO)(b.uC),X=(0,i.Z)(Q,2),$=X[0],J=X[1],ee=(0,T.Z)("".concat(window.location.origin).concat(window.location.pathname,"?comment=").concat(null===t||void 0===t?void 0:t.id),{successDuration:1e3}),te=(0,i.Z)(ee,2),ne=te[0],re=te[1];return(0,U.jsxs)(z,{activeThread:f,resolved:o,commentItemRef:E,threadId:c.id,sceneComment:t,className:"group ".concat(o?"opacity-50":""),children:[(0,U.jsxs)("div",{className:"flex justify-between items-center",children:[(0,U.jsx)(L.Z,{users:s,maxAvatars:5,size:28,offsetDivider:1.6}),ne&&(0,U.jsx)("div",{className:"flex w-16 text-xs text-center text-green-600 animate-bounce",children:"Link copied!"}),(0,U.jsx)("div",{className:"gap-x-4",children:(0,U.jsxs)("div",{className:"flex items-center ".concat(y?"":"invisible group-hover:visible"),children:[(0,U.jsx)("div",{className:"mr-3",children:(0,U.jsxs)(P.L,{toggleButton:(0,U.jsx)(k.xX,{}),toggleButtonClassName:"dark:hover:bg-gray-20 rounded",portaled:!0,modal:!0,onOpenChange:function(e){return x(e)},children:[V&&(0,U.jsx)(P.h,{onConfirm:(0,C.Z)(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K({type:"show",title:"Delete thread",text:"This will delete all the comments in this thread. Are you sure you want to delete?",onConfirm:function(){var e=(0,C.Z)(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J($.filter((function(e){return e.id!==c.id}))),p(null),e.next=4,O.Z.removeThread({threadId:c.id,sceneId:q});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}));case 1:case"end":return e.stop()}}),e)}))),title:"Remove",children:(0,U.jsx)(k.XH,{})}),(0,U.jsx)(P.h,{onConfirm:function(){return re()},title:"Copy link",children:(0,U.jsx)(k.xP,{})})]})}),(0,U.jsx)(F.u,{label:o?"Unresolve":"Resolve conversation",children:(0,U.jsx)(k.nQ,{onClick:function(e){e.stopPropagation(),e.preventDefault(),_&&G&&O.Z.toggleResolveThread({thread:c,activeScene:G,resolved:o,userData:_})},className:(0,m.Z)("rounded-full border border-solid p-0.5 w-5 h-5 hover:bg-primary hover:border-primary hover:text-white cursor-pointer","dark:hover:text-gray-20",{"border-gray-40 text-gray-40":o},{"border-primary bg-primary text-white":o})})})]})})]}),(0,U.jsxs)("div",{className:"flex items-center gap-x-2 mt-2",children:[(0,U.jsx)("span",{className:"text-xs block max-w-[60%] truncate",children:null===B||void 0===B?void 0:B.name}),(0,U.jsx)("span",{className:"text-gray-50",children:"\u2022"}),(0,U.jsx)("span",{className:"text-[10px] text-gray-60",children:(0,D.Z)(t.created)})]}),u?(0,U.jsx)("div",{className:"mt-2 text-xs whitespace-pre-line pointer-events-none",children:(0,U.jsx)(Z.H,{text:t.text,selectedText:u})}):(0,U.jsx)("div",{className:"mt-2 text-xs whitespace-pre-line mb-2 pointer-events-none",children:(0,U.jsx)(Z.H,{text:t.text})}),!!r&&r>0&&(0,U.jsxs)("div",{className:"text-xs text-gray-60",children:[r," ",r>1?"replies":"reply"]})]},t.id)}function V(){var e=(0,h.KO)(b.uC),t=(0,i.Z)(e,1)[0],n=(0,v.Z)(t,"created","desc"),r=(0,a.useState)(""),o=(0,i.Z)(r,2),s=o[0],c=o[1],u=(0,h.KO)(w.workspaceMembersAtom),l=(0,i.Z)(u,1)[0].userList,d=[];return s&&(d=t.reduce((function(e,t){var n=t.comments.filter((function(e){var t,n=e.text,r=e.creator;return _({text:n,searchTerm:s})||_({text:(null===(t=l.find((function(e){return e.id===r})))||void 0===t?void 0:t.name)||"",searchTerm:s})}));return[].concat((0,p.Z)(e),(0,p.Z)(n))}),[])),(0,U.jsxs)("div",{className:"overflow-y-auto overflow-x-hidden",children:[(0,U.jsx)("div",{className:"border-0 border-b border-solid border-gray-20 sticky top-0 z-10",children:(0,U.jsxs)("div",{className:"relative flex items-center !bg-default",children:[(0,U.jsx)(k.ol,{className:"absolute left-4 text-gray-50"}),(0,U.jsx)("input",{value:s,onChange:function(e){return c(e.target.value)},className:(0,m.Z)("comments-search","w-full","!border-0 focus:!shadow-none","box-border !pl-10","outline-none rounded-none text-sm","placeholder:text-gray-50 placeholder:text-xs placeholder:tracking-wide"),type:"text",placeholder:"Search comments"}),s&&(0,U.jsx)(k.X1,{className:"absolute right-4 text-gray-50 cursor-pointer hover:text-primary",onClick:function(){return c("")}})]})}),(0,U.jsxs)("div",{className:"divide-x-0 divide-y divide-solid divide-gray-20",children:[!n.length&&!s.length&&(0,U.jsx)("div",{className:"flex justify-center items-center mt-16 p-4 text-center dark:opacity-20 opacity-80",children:(0,U.jsx)(E.Z,{className:"w-4/5",label:"This scene has no comments yet.",imgSrc:"/images/no_comments.svg"})}),!(null!==s&&void 0!==s&&s.length)&&!!n.length&&n.map((function(e){return e&&e.comments&&(0,g.Z)(e.comments)?(0,U.jsx)(B,{sceneComment:(0,g.Z)(e.comments),replies:e.comments.length-1,resolved:e.resolved||!1,mappedUsers:(0,y.Z)((e.comments||[]).map((function(e){var t=l.find((function(t){return t.id===e.creator}));return t&&t.deleted?void 0:t})),"id")||[],thread:e,userList:l},e.id):null})),s&&!!d.length&&d.map((function(e){var n=t.find((function(t){return t.id===e.parentId}));return n?(0,U.jsx)(B,{sceneComment:e,replies:0,resolved:(null===n||void 0===n?void 0:n.resolved)||!1,mappedUsers:[l.find((function(t){return t.id===e.creator}))],thread:n,userList:l,searchTerm:s},e.id):null})),!!s.length&&!d.length&&(0,U.jsx)("div",{className:"flex justify-center items-center mt-16 p-4 text-center dark:opacity-20 opacity-80",children:(0,U.jsx)(E.Z,{className:"w-4/5",label:"Nothing to find :(",imgSrc:"/images/no_comments.svg"})})]})]})}var W=n(64589),H={onChange:!0,onLibraryChange:!0,onPointerUpdate:!0,id:!0,initialData:!1,onHomeButtonClick:!0,onCollabButtonClick:!1,viewModeOnly:!0,renderFooter:!0,theme:!0,name:!0,generateIdForFile:!0,onLinkOpen:!0},q=null,G=function(e,t){var n,r=(0,o.Z)(Object.keys(H));try{for(r.s();!(n=r.n()).done;){var a=n.value,c=e[a],u=t[a];if(!!c!==!!u)return!1;var l=H[a];if(!1!==l)if(u&&("keys"===l||s(u)))for(var d=0,f=Object.entries(u);d<f.length;d++){var h=(0,i.Z)(f[d],2),p=h[0],m=h[1];if(c[p]!==m)return!1}else if(c!==u)return!1}}catch(v){r.e(v)}finally{r.f()}return!0},Y=(0,h.cn)(null),K=(0,f.hR)((function(e){u.jotaiStore.set(d.I,e)})),Q=a.memo((function(e){var t=e.onChange,n=e.onPointerUpdate,o=e.onLibraryChange,s=e.id,d=e.initialData,f=e.onHomeButtonClick,p=e.onCollabButtonClick,m=e.viewModeOnly,v=void 0!==m&&m,g=e.renderFooter,y=e.theme,b=e.name,w=e.generateIdForFile,x=e.onLinkOpen,_=(0,h.b9)(W.Y),E=function(){var e=(0,a.useState)(null),t=(0,i.Z)(e,2),n=t[0],r=t[1];return[n,(0,a.useCallback)((function(e){return r(e)}),[])]}(),C=(0,i.Z)(E,2),S=C[0],j=C[1],A=(0,h.b9)(Y);return(0,a.useEffect)((function(){return S&&A(S),function(){A(null),K(null),q=null}}),[S,A]),(0,U.jsx)(u.Excalidraw,{id:s,theme:y,name:b,onChange:function(e,n,r){c.T.setVersionCache("change",s,{elements:e,appState:n})&&t({id:s,elements:e,appState:n,files:r});var i={scrollX:n.scrollX,scrollY:n.scrollY,offsetTop:n.offsetTop,offsetLeft:n.offsetLeft,width:n.width,height:n.height};(0,l.Z)(q,i)||(q=i,K(i))},onLibraryChange:o,onPointerUpdate:n,initialData:d,onHomeButtonClick:f,onCollabButtonClick:p,ref:j,viewModeEnabled:!!v||void 0,detectScroll:!1,handleKeyboardGlobally:!0,UIOptions:{canvasActions:{clearCanvas:!1,export:{}},dockedSidebarBreakpoint:1118},generateIdForFile:w,onLinkOpen:x,renderSidebar:function(){return(0,U.jsx)("div",{className:"max-w-[290px] overflow-x-hidden",children:(0,U.jsx)(u.Sidebar,{onClose:function(){return null===S||void 0===S?void 0:S.setActiveTool({type:"selection"})},children:(0,U.jsxs)("div",{className:"flex flex-col h-full",children:[(0,U.jsx)(u.Sidebar.Header,{className:"p-2 pl-4 box-border text-primary",children:(0,U.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,U.jsx)(k.Ln,{}),(0,U.jsx)("span",{className:"font-bold text-sm ",children:"All threads"})]})}),(0,U.jsx)(V,{})]})})})},onThemeToggle:function(){_((function(e){return(0,r.Z)((0,r.Z)({},e),{},{theme:"light"===e.theme?"dark":"light"})}))},children:(0,U.jsx)(u.Footer,{children:null===g||void 0===g?void 0:g()})})}),G),X=function(e){return function(t){return e((0,r.Z)((0,r.Z)({},t),{},{getDimensions:function(e,n){var r,i,o,a=t.maxWidth,s=t.maxHeight,c=t.scale;if("number"==typeof c&&("number"==typeof a||"number"==typeof s))throw new Error('"scale" cannot be specified alongside "maxWidth"/"maxHeight"');if("number"==typeof c)r=e*c,i=n*c,o=c;else if(i=n*(o=(r=Math.min(e,a||e))/e),s){var u=Math.min(i,s);o*=u/i,r*=u/i,i=u}return{width:r,height:i,scale:o}}}))}},$=(X(u.exportToCanvas),X(u.exportToBlob)),J=X(u.exportToSvg)},22632:function(e,t,n){"use strict";n.d(t,{O:function(){return K},n:function(){return Y}});var r=n(50678),i=n(18489),o=n(31303),a=n(33032),s=n(84322),c=n.n(s),u=n(89860),l=n(47313),d=n(66151),f=n(41155),h=n(88880),p=n(48688),m=n(50638),v=n(24691),g=n(77955);var y=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,g.Z)(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),(0,v.Z)(e,t,{leading:r,maxWait:t,trailing:i})},b=n(84023),w=n(65836),x=n(78613),_=n(64589),E=n(96789),k=function(e){var t=(0,l.useState)(e.value),n=(0,r.Z)(t,2),i=n[0],o=n[1];return(0,l.useEffect)((function(){return e.on((function(e){return o(e)}))}),[e]),i},C=n(1265),S=n(69563),j=n(50138),A=n(90455),T=n(1229),I=n(78401),O=n(65451),D=n(95576),N=n(2466),P=n(63830),M=n(14965),L=n(46417);window.name="_excalidrawplus";var R=new D.pW,Z=y(function(){var e=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.saveFiles(t);case 2:t.onFilesSaved();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),500),F=y((function(e,t){R.getFiles(e).then((function(e){var n=e.loadedFiles,r=e.erroredFiles;t({loadedFiles:n,erroredFiles:r})}))}),500),U=new Map,z=y((function(e,t){var n=t.data.elements.filter((function(e,t,n){var r,i=!U.has(e.id)||e.version>U.get(e.id);i&&(e.parent=0===t?"^":null===(r=n[t-1])||void 0===r?void 0:r.id,U.set(e.id,e.version));return i}));t.data.elements=n,t.data.appState=(0,f.eS)(t.data.appState),null!==e&&void 0!==e&&e.connected&&e.emit(w.e.update,t)}),50),B=y((function(e,t){null!==e&&void 0!==e&&e.connected&&e.emit(w.e.update,t)}),30),V=function(e){var t=e.id;return"/s/".concat(t)},W=new Map(JSON.parse(localStorage.getItem(S.Pd.SCROLL_POSITION)||"[]")),H=(0,v.Z)((function(e){if(e.length){var t=JSON.stringify(e);localStorage.setItem(S.Pd.LIBRARY,t)}else localStorage.removeItem(S.Pd.LIBRARY)}),1e3),q=(0,v.Z)((function(e){try{localStorage.setItem(S.Pd.APP_STATE,JSON.stringify((0,f.fx)(e))),localStorage.setItem(S.Pd.SCROLL_POSITION,JSON.stringify((0,o.Z)(W.entries())))}catch(t){console.error(t)}}),300),G=function(){var e=null;try{e=localStorage.getItem(S.Pd.APP_STATE)}catch(n){console.error(n)}var t=null;if(e)try{t=(0,i.Z)((0,i.Z)({},(0,f.im)()),(0,f.fx)((0,f.lY)(JSON.parse(e))))}catch(n){console.error(n)}return t},Y=function(e){var t=e.workspace,n=e.scene,o=(0,l.useState)(null),a=(0,r.Z)(o,2),s=a[0],c=a[1],u=(0,l.useState)(!(!t||!n)),d=(0,r.Z)(u,2),m=d[0],v=d[1],g=(0,l.useState)(null),y=(0,r.Z)(g,2),b=y[0],w=y[1],x=(0,p.KO)(I.selectedCollectionAtom),_=(0,r.Z)(x,2)[1];return(0,l.useEffect)((function(){return t&&n?(v(!0),c(null),w(null),(0,f.ei)(t,n).then((function(e){_(e.collection),c((0,i.Z)({id:e.id,name:e.name,creator:e.creator,updater:e.updater,linkSharing:e.linkSharing,workspace:e.workspace,isPrivate:e.isPrivate},e.contents)),v(!1)})).catch((function(e){"CancelError"!==e.name&&(w(e),v(!1))})),function(){f.Pp.cancelPromise(n),f.aq.flush(),f.oF.flush()}):(v(!1),void c(null))}),[t,n,_]),(0,l.useEffect)((function(){if(n)return h.T.onUpdate(n,(function(e){e&&c((function(t){return t?(0,i.Z)((0,i.Z)((0,i.Z)({},t),e),e.contents):t}))}))}),[n]),{isLoadingScene:m,sceneError:b,activeScene:s,setActiveScene:c}},K=function(e){var t=(0,p.KO)(m.C),n=(0,r.Z)(t,1)[0],s=(0,T.Z)().userData,v=(0,p.KO)(u.dM),g=(0,r.Z)(v,1)[0],y=(0,l.useRef)({elements:e.initialData.elements,appState:e.initialData.appState||(0,f.im)()}),I=(0,l.useState)(!1),U=(0,r.Z)(I,2),Y=U[0],K=U[1];(0,l.useEffect)((function(){var e=function(e){f.aq.flush(),f.oF.flush(),H.flush(),("saving"===f.ge.value||R.shouldPreventUnload())&&(e.preventDefault(),e.returnValue="",K(!0))};return window.addEventListener("beforeunload",e),function(){document.documentElement.style.cursor="",f.aq.flush(),f.oF.flush(),H.flush(),window.removeEventListener("beforeunload",e)}}),[]);var Q=(0,p.KO)(_.Y),X=(0,r.Z)(Q,1)[0].theme;(0,l.useEffect)((function(){if(g&&n.socket){var t={scene:e.id,workspace:e.workspace};n.socket.emit(w.e.roomJoin,t),n.socket.on(w.e.update,(function(t){if("SCENE_UPDATE"===t.type){var n=t.data;if(e.id!==n.id)return;var r=(0,C.V)(g.getSceneElementsIncludingDeleted(),n.elements,g.getAppState());h.T.setVersionCache("ws",e.id,{elements:r,appState:n.appState||y.current.appState}),g.updateScene({elements:r}),F({workspace:e.workspace,scene:e.id,elements:r},(function(e){var t=e.loadedFiles,n=e.erroredFiles;t.length&&(g.addFiles(t),(0,D.I)({excalidrawAPI:g,erroredFiles:n,elements:g.getSceneElementsIncludingDeleted()}))}))}else if("MOUSE_UPDATE"===t.type){var o=g.getAppState();if(o.collaborators.has(t.from)){var a,s=new Map(o.collaborators),c=s.get(t.from);c.button=t.data.button,c.selectedElementIds=t.data.selectedElementIds,s.set(t.from,(0,i.Z)((0,i.Z)({},c),{},{pointer:t.data.pointer})),null===(a=g.updateScene)||void 0===a||a.call(g,{appState:{collaborators:s}})}}}));var r=function(t){var r,i;r=n.socket,i={type:"SCENE_UPDATE",to:t.socketId,volatile:!1,data:{id:e.id,elements:y.current.elements,appState:y.current.appState}},null!==r&&void 0!==r&&r.connected&&r.emit(w.e.update,i)},o=function(e){g.updateScene({appState:{collaborators:new Map(e.length<2?[]:e.map((function(e){var t={username:e.name,avatarUrl:e.picture||(0,x.Zd)({name:e.name}),id:e.id||void 0};return[e.socketId,t]})))}})};return n.socket.on(w.e.roomUserJoin,r),n.socket.on(w.e.roomUsersChange,o),function(){z.flush(),n.socket.off(w.e.update),n.socket.off(w.e.roomUserJoin,r),n.socket.off(w.e.roomUsersChange,o);var t={scene:e.id};n.socket.emit(w.e.roomLeave,t)}}}),[g,e.workspace,e.id,n.socket]),(0,N.useHandleLibrary)({excalidrawAPI:g});var $=(0,d.R)(function(){var t=(0,a.Z)(c().mark((function t(i){var a,u,l,d;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.id,u=i.elements,l=i.appState,d=i.files,y.current.elements=u,y.current.appState=l,W.set(e.id,{scrollX:l.scrollX,scrollY:l.scrollY,zoom:l.zoom,created:Date.now()}),W.size>30&&(0,b.Z)((0,o.Z)(W.entries()),(function(e){return e[1].created}),"desc").slice(30).forEach((function(e){var t=(0,r.Z)(e,1)[0];W.delete(t)})),!e.viewModeOnly){t.next=7;break}return t.abrupt("return");case 7:q(l),h.T.isChanged(a,{elements:u,appState:l})&&(f.ge.trigger("saving"),(0,f.aq)({workspace:e.workspace,id:a,elements:u,appState:l,user:(null===s||void 0===s?void 0:s.id)||null}),(0,f.oF)({workspace:e.workspace,id:a,elements:u,appState:l,files:d}),Z({workspace:e.workspace,scene:a,elements:u,files:d,onFilesSaved:function(){if(g){var e=!1,t=g.getSceneElementsIncludingDeleted().map((function(t){return R.shouldUpdateImageElementStatus(t)?(e=!0,(0,N.mutateElement)(t,{status:"saved"},!1)):t}));e&&g.updateScene({elements:t})}}}),!e.isPublic&&s&&M.Z.setLastEditedScene({userData:s,scene:a})),n.socket&&l.collaborators.size>1&&h.T.setVersionCache("ws",a,{elements:u,appState:l})&&z(n.socket,{type:"SCENE_UPDATE",to:V({id:a}),volatile:!1,data:{id:a,elements:u,appState:l}});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),J=(0,l.useCallback)((function(t){if(g&&n.socket){var r=g.getAppState();r.collaborators.size>1&&B(n.socket,{type:"MOUSE_UPDATE",to:V({id:e.id}),from:n.socket.id,volatile:!0,data:{pointer:t.pointer,button:t.button||"up",selectedElementIds:r.selectedElementIds}})}}),[g,n.socket,e.id]),ee=k(f.ge);(0,l.useEffect)((function(){Y&&"saved"===ee&&K(!1)}),[Y,ee]);var te=(0,l.useState)(null),ne=(0,r.Z)(te,2),re=ne[0],ie=ne[1],oe=(0,l.useRef)({promise:null});oe.current.promise||(oe.current.promise=(0,x.PI)());var ae=(0,l.useRef)(null);ae.current=e.initialData;var se=(0,l.useState)(null),ce=(0,r.Z)(se,2),ue=ce[0],le=ce[1];(0,l.useEffect)((function(){g&&ue&&oe.current.promise.then((function(){g.addFiles(ue.loadedFiles),(0,D.I)({excalidrawAPI:g,erroredFiles:ue.erroredFiles,elements:g.getSceneElementsIncludingDeleted()})}))}),[g,ue]),(0,l.useEffect)((function(){var t;try{t=JSON.parse(localStorage.getItem(S.Pd.LIBRARY))||[]}catch(re){t=[],console.error(re)}try{var n=W.get(e.id),r={elements:ae.current.elements,appState:(0,i.Z)((0,i.Z)((0,i.Z)({},G()),(0,f.eS)(ae.current.appState||y.current.appState)),n),scrollToContent:!n,libraryItems:t};h.T.setVersionCache("change",e.id,r,{allowPartialAppState:!0}),oe.current.promise.resolve(r),R.getFiles({workspace:e.workspace,scene:e.id,elements:r.elements}).then((function(e){var t=e.loadedFiles,n=e.erroredFiles;le({loadedFiles:t,erroredFiles:n})}))}catch(re){console.error(re),ie(new Error("Couldn't load scene"))}return function(){q.flush(),Z.flush(),R.reset()}}),[e.id,e.workspace]);var de=(0,p.KO)(O.b),fe=(0,r.Z)(de,1)[0],he=(0,l.useCallback)((function(e){return(0,D.tW)(e)}),[]),pe=(0,P.k6)(),me=(0,l.useCallback)((function(e,t){if(e.link){var n=function(e){return(e=e.trim())&&(e.includes("://")||/^[[\\/]/.test(e)||(e="https://".concat(e))),e}(e.link),r=t.detail.nativeEvent,i=r.ctrlKey||r.metaKey,o=r.shiftKey;!(n.startsWith("/")||n.includes(window.location.origin))||i||o||(pe.push(n.replace(window.location.origin,"")),t.preventDefault())}}),[pe]);return(0,l.useEffect)((function(){if(g){var e=function(e){if(e.ctrlKey&&e.preventDefault(),e.target instanceof HTMLElement&&e.target.closest(".comment-thread")){var t,n=new WheelEvent(e.type,e);null===(t=g.app.canvas)||void 0===t||t.dispatchEvent(n)}};return document.addEventListener("wheel",e,{passive:!1}),function(){document.removeEventListener("wheel",e)}}}),[g]),(0,L.jsxs)(L.Fragment,{children:[re?(0,L.jsx)(A.Z,{children:(0,L.jsx)(j.Z,{children:re.message})}):(0,L.jsx)(u.Eb,{id:e.id,name:e.name,onHomeButtonClick:e.onHomeButtonClick,onCollabButtonClick:e.onShareButtonClick,onChange:$,onLibraryChange:H,onPointerUpdate:J,initialData:oe.current.promise,viewModeOnly:e.viewModeOnly||fe,theme:X,generateIdForFile:he,onLinkOpen:me,renderFooter:e.renderFooter},e.id),(0,L.jsx)(E.J,{})]})}},86422:function(e,t,n){"use strict";n.d(t,{XZ:function(){return ar},l0:function(){return ur},p7:function(){return dr},II:function(){return or},Y8:function(){return cr},Ph:function(){return sr},Mm:function(){return lr}});var r=n(83738),i=n(18489),o=n(91871),a=n(57114),s=n(47733),c=n(83061),u=n(82751),l=n(43270),d=n(87462),f=n(47313);var h=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),p=Math.abs,m=String.fromCharCode;function v(e){return e.trim()}function g(e,t,n){return e.replace(t,n)}function y(e,t){return e.indexOf(t)}function b(e,t){return 0|e.charCodeAt(t)}function w(e,t,n){return e.slice(t,n)}function x(e){return e.length}function _(e){return e.length}function E(e,t){return t.push(e),e}var k=1,C=1,S=0,j=0,A=0,T="";function I(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:k,column:C,length:a,return:""}}function O(e,t,n){return I(e,t.root,t.parent,n,t.props,t.children,0)}function D(){return A=j>0?b(T,--j):0,C--,10===A&&(C=1,k--),A}function N(){return A=j<S?b(T,j++):0,C++,10===A&&(C=1,k++),A}function P(){return b(T,j)}function M(){return j}function L(e,t){return w(T,e,t)}function R(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Z(e){return k=C=1,S=x(T=e),j=0,[]}function F(e){return T="",e}function U(e){return v(L(j-1,V(91===e?e+2:40===e?e+1:e)))}function z(e){for(;(A=P())&&A<33;)N();return R(e)>2||R(A)>3?"":" "}function B(e,t){for(;--t&&N()&&!(A<48||A>102||A>57&&A<65||A>70&&A<97););return L(e,M()+(t<6&&32==P()&&32==N()))}function V(e){for(;N();)switch(A){case e:return j;case 34:case 39:return V(34===e||39===e?e:A);case 40:41===e&&V(e);break;case 92:N()}return j}function W(e,t){for(;N()&&e+A!==57&&(e+A!==84||47!==P()););return"/*"+L(t,j-1)+"*"+m(47===e?e:N())}function H(e){for(;!R(P());)N();return L(e,j)}var q="-ms-",G="-moz-",Y="-webkit-",K="comm",Q="rule",X="decl";function $(e,t){for(var n="",r=_(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function J(e,t,n,r){switch(e.type){case"@import":case X:return e.return=e.return||e.value;case K:return"";case Q:e.value=e.props.join(",")}return x(n=$(e.children,r))?e.return=e.value+"{"+n+"}":""}function ee(e,t){switch(function(e,t){return(((t<<2^b(e,0))<<2^b(e,1))<<2^b(e,2))<<2^b(e,3)}(e,t)){case 5103:return Y+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Y+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Y+e+G+e+q+e+e;case 6828:case 4268:return Y+e+q+e+e;case 6165:return Y+e+q+"flex-"+e+e;case 5187:return Y+e+g(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Y+e+q+"flex-item-"+g(e,/flex-|-self/,"")+e;case 4675:return Y+e+q+"flex-line-pack"+g(e,/align-content|flex-|-self/,"")+e;case 5548:return Y+e+q+g(e,"shrink","negative")+e;case 5292:return Y+e+q+g(e,"basis","preferred-size")+e;case 6060:return Y+"box-"+g(e,"-grow","")+Y+e+q+g(e,"grow","positive")+e;case 4554:return Y+g(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return g(g(g(e,/(zoom-|grab)/,Y+"$1"),/(image-set)/,Y+"$1"),e,"")+e;case 5495:case 3959:return g(e,/(image-set\([^]*)/,Y+"$1$`$1");case 4968:return g(g(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Y+e+e;case 4095:case 3583:case 4068:case 2532:return g(e,/(.+)-inline(.+)/,Y+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(x(e)-1-t>6)switch(b(e,t+1)){case 109:if(45!==b(e,t+4))break;case 102:return g(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+G+(108==b(e,t+3)?"$3":"$2-$3"))+e;case 115:return~y(e,"stretch")?ee(g(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==b(e,t+1))break;case 6444:switch(b(e,x(e)-3-(~y(e,"!important")&&10))){case 107:return g(e,":",":"+Y)+e;case 101:return g(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Y+(45===b(e,14)?"inline-":"")+"box$3$1"+Y+"$2$3$1"+q+"$2box$3")+e}break;case 5936:switch(b(e,t+11)){case 114:return Y+e+q+g(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Y+e+q+g(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Y+e+q+g(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Y+e+q+e+e}return e}function te(e){return F(ne("",null,null,null,[""],e=Z(e),0,[0],e))}function ne(e,t,n,r,i,o,a,s,c){for(var u=0,l=0,d=a,f=0,h=0,p=0,v=1,y=1,b=1,w=0,_="",k=i,C=o,S=r,j=_;y;)switch(p=w,w=N()){case 34:case 39:case 91:case 40:j+=U(w);break;case 9:case 10:case 13:case 32:j+=z(p);break;case 92:j+=B(M()-1,7);continue;case 47:switch(P()){case 42:case 47:E(ie(W(N(),M()),t,n),c);break;default:j+="/"}break;case 123*v:s[u++]=x(j)*b;case 125*v:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+l:h>0&&x(j)-d&&E(h>32?oe(j+";",r,n,d-1):oe(g(j," ","")+";",r,n,d-2),c);break;case 59:j+=";";default:if(E(S=re(j,t,n,u,l,i,s,_,k=[],C=[],d),o),123===w)if(0===l)ne(j,t,S,S,k,o,d,s,C);else switch(f){case 100:case 109:case 115:ne(e,S,S,r&&E(re(e,S,S,0,0,i,s,_,i,k=[],d),C),i,C,d,s,r?k:C);break;default:ne(j,S,S,S,[""],C,d,s,C)}}u=l=h=0,v=b=1,_=j="",d=a;break;case 58:d=1+x(j),h=p;default:if(v<1)if(123==w)--v;else if(125==w&&0==v++&&125==D())continue;switch(j+=m(w),w*v){case 38:b=l>0?1:(j+="\f",-1);break;case 44:s[u++]=(x(j)-1)*b,b=1;break;case 64:45===P()&&(j+=U(N())),f=P(),l=x(_=j+=H(M())),w++;break;case 45:45===p&&2==x(j)&&(v=0)}}return o}function re(e,t,n,r,i,o,a,s,c,u,l){for(var d=i-1,f=0===i?o:[""],h=_(f),m=0,y=0,b=0;m<r;++m)for(var x=0,E=w(e,d+1,d=p(y=a[m])),k=e;x<h;++x)(k=v(y>0?f[x]+" "+E:g(E,/&\f/g,f[x])))&&(c[b++]=k);return I(e,t,n,0===i?Q:s,c,u,l)}function ie(e,t,n){return I(e,t,n,K,m(A),w(e,2,-2),0)}function oe(e,t,n,r){return I(e,t,n,X,w(e,0,r),w(e,r+1,-1),r)}var ae=function(e,t,n){for(var r=0,i=0;r=i,i=P(),38===r&&12===i&&(t[n]=1),!R(i);)N();return L(e,j)},se=function(e,t){return F(function(e,t){var n=-1,r=44;do{switch(R(r)){case 0:38===r&&12===P()&&(t[n]=1),e[n]+=ae(j-1,t,n);break;case 2:e[n]+=U(r);break;case 4:if(44===r){e[++n]=58===P()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=m(r)}}while(r=N());return e}(Z(e),t))},ce=new WeakMap,ue=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ce.get(n))&&!r){ce.set(e,!0);for(var i=[],o=se(t,i),a=n.props,s=0,c=0;s<o.length;s++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},le=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},de=[function(e,t,n,r){if(!e.return)switch(e.type){case X:e.return=ee(e.value,e.length);break;case"@keyframes":return $([O(g(e.value,"@","@"+Y),e,"")],r);case Q:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $([O(g(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return $([O(g(t,/:(plac\w+)/,":-webkit-input-$1"),e,""),O(g(t,/:(plac\w+)/,":-moz-$1"),e,""),O(g(t,/:(plac\w+)/,q+"input-$1"),e,"")],r)}return""}))}}],fe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||de;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var c,u,l=[J,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=_(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([ue,le].concat(r,l));o=function(e,t,n,r){c=n,$(te(e?e+"{"+t.styles+"}":t.styles),d),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new h({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f};function he(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var pe=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};var me=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},ve={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ge=/[A-Z]|^ms/g,ye=/_EMO_([^_]+?)_([^]*?)_EMO_/g,be=function(e){return 45===e.charCodeAt(1)},we=function(e){return null!=e&&"boolean"!==typeof e},xe=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return be(e)?e:e.replace(ge,"-$&").toLowerCase()})),_e=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ye,(function(e,t,n){return ke={name:t,styles:n,next:ke},t}))}return 1===ve[e]||be(e)||"number"!==typeof t||0===t?t:t+"px"};function Ee(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ke={name:n.name,styles:n.styles,next:ke},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ke={name:r.name,styles:r.styles,next:ke},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ee(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":we(a)&&(r+=xe(o)+":"+_e(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Ee(e,t,a);switch(o){case"animation":case"animationName":r+=xe(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var c=0;c<a.length;c++)we(a[c])&&(r+=xe(o)+":"+_e(o,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=ke,o=n(e);return ke=i,Ee(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var ke,Ce=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Se=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ke=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Ee(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Ee(n,t,e[a]),r&&(i+=o[a]);Ce.lastIndex=0;for(var s,c="";null!==(s=Ce.exec(i));)c+="-"+s[1];return{name:me(i)+c,styles:i,next:ke}},je=Object.prototype.hasOwnProperty,Ae=(0,f.createContext)("undefined"!==typeof HTMLElement?fe({key:"css"}):null);var Te=Ae.Provider,Ie=function(e){return(0,f.forwardRef)((function(t,n){var r=(0,f.useContext)(Ae);return e(t,r,n)}))},Oe=(0,f.createContext)({});var De="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ne=function(e,t){var n={};for(var r in t)je.call(t,r)&&(n[r]=t[r]);return n[De]=e,n},Pe=Ie((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[De],o=[r],a="";"string"===typeof e.className?a=he(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var s=Se(o,void 0,(0,f.useContext)(Oe));pe(t,s,"string"===typeof i);a+=t.key+"-"+s.name;var c={};for(var u in e)je.call(e,u)&&"css"!==u&&u!==De&&(c[u]=e[u]);return c.ref=n,c.className=a,(0,f.createElement)(i,c)}));n(67861);var Me=function(e,t){var n=arguments;if(null==t||!je.call(t,"css"))return f.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=Pe,i[1]=Ne(e,t);for(var o=2;o<r;o++)i[o]=n[o];return f.createElement.apply(null,i)};function Le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Se(t)}var Re=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function Ze(e,t,n){var r=[],i=he(e,r,n);return r.length<2?n:i+t(r)}var Fe=Ie((function(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Se(n,t.registered);return pe(t,i,!1),t.key+"-"+i.name},r={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Ze(t.registered,n,Re(r))},theme:(0,f.useContext)(Oe)},i=e.children(r);return!0,i}));var Ue=n(63366);function ze(e,t){if(null==e)return{};var n,r,i=(0,Ue.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Be(e){return Be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t&&We(e.prototype,t),n&&We(e,n),e}var qe=n(89611);function Ge(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,qe.Z)(e,t)}var Ye=n(4942),Ke=n(1168);function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}function et(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var i=Je(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return et(this,n)}}var nt=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],rt=function(){};function it(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function ot(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(it(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var at=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===Be(e)&&null!==e?[e]:[];var t},st=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,$e({},ze(e,nt))};function ct(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function ut(e){return ct(e)?window.pageYOffset:e.scrollTop}function lt(e,t){ct(e)?window.scrollTo(0,t):e.scrollTop=t}function dt(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rt,i=ut(e),o=t-i,a=10,s=0;function c(){var t=dt(s+=a,i,o,n);lt(e,t),s<n?window.requestAnimationFrame(c):r(e)}c()}function ht(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var pt=!1,mt={get passive(){return pt=!0}},vt="undefined"!==typeof window?window:{};vt.addEventListener&&vt.removeEventListener&&(vt.addEventListener("p",rt,mt),vt.removeEventListener("p",rt,!1));var gt=pt;function yt(e){return null!=e}function bt(e,t,n){return e?t:n}function wt(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var l=c.getBoundingClientRect().height,d=n.getBoundingClientRect(),f=d.bottom,h=d.height,p=d.top,m=n.offsetParent.getBoundingClientRect().top,v=window.innerHeight,g=ut(c),y=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),w=m-b,x=v-p,_=w+g,E=l-g-p,k=f-v+g+y,C=g+p-b,S=160;switch(i){case"auto":case"bottom":if(x>=h)return{placement:"bottom",maxHeight:t};if(E>=h&&!a)return o&&ft(c,k,S),{placement:"bottom",maxHeight:t};if(!a&&E>=r||a&&x>=r)return o&&ft(c,k,S),{placement:"bottom",maxHeight:a?x-y:E-y};if("auto"===i||a){var j=t,A=a?w:_;return A>=r&&(j=Math.min(A-y-s.controlHeight,t)),{placement:"top",maxHeight:j}}if("bottom"===i)return o&&lt(c,k),{placement:"bottom",maxHeight:t};break;case"top":if(w>=h)return{placement:"top",maxHeight:t};if(_>=h&&!a)return o&&ft(c,C,S),{placement:"top",maxHeight:t};if(!a&&_>=r||a&&w>=r){var T=t;return(!a&&_>=r||a&&w>=r)&&(T=a?w-b:_-b),o&&ft(c,C,S),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}var xt=function(e){return"auto"===e?"bottom":e},_t=(0,f.createContext)({getPortalPlacement:null}),Et=function(e){Ge(n,e);var t=tt(n);function n(){var e;Ve(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.context=void 0,e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,o=n.menuPlacement,a=n.menuPosition,s=n.menuShouldScrollIntoView,c=n.theme;if(t){var u="fixed"===a,l=wt({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!u,isFixedPosition:u,theme:c}),d=e.context.getPortalPlacement;d&&d(l),e.setState(l)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||xt(t);return $e($e({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return He(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(f.Component);Et.contextType=_t;var kt=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},Ct=kt,St=kt,jt=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Me("div",(0,d.Z)({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},o),t)};jt.defaultProps={children:"No options"};var At=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Me("div",(0,d.Z)({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},o),t)};At.defaultProps={children:"Loading..."};var Tt,It=function(e){Ge(n,e);var t=tt(n);function n(){var e;Ve(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==xt(e.props.menuPlacement)&&e.setState({placement:n})},e}return He(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.className,i=e.controlElement,o=e.cx,a=e.innerProps,s=e.menuPlacement,c=e.menuPosition,u=e.getStyles,l="fixed"===c;if(!t&&!l||!i)return null;var f=this.state.placement||xt(s),h=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),p=l?0:window.pageYOffset,m={offset:h[f]+p,position:c,rect:h},v=Me("div",(0,d.Z)({css:u("menuPortal",m),className:o({"menu-portal":!0},r)},a),n);return Me(_t.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,Ke.createPortal)(v,t):v)}}]),n}(f.Component),Ot=["size"];var Dt,Nt,Pt={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Mt=function(e){var t=e.size,n=ze(e,Ot);return Me("svg",(0,d.Z)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Pt},n))},Lt=function(e){return Me(Mt,(0,d.Z)({size:20},e),Me("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Rt=function(e){return Me(Mt,(0,d.Z)({size:20},e),Me("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Zt=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},Ft=Zt,Ut=Zt,zt=function(){var e=Le.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Tt||(Dt=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Nt||(Nt=Dt.slice(0)),Tt=Object.freeze(Object.defineProperties(Dt,{raw:{value:Object.freeze(Nt)}})))),Bt=function(e){var t=e.delay,n=e.offset;return Me("span",{css:Le({animation:"".concat(zt," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Vt=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,o=e.isRtl;return Me("div",(0,d.Z)({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),Me(Bt,{delay:0,offset:o}),Me(Bt,{delay:160,offset:!0}),Me(Bt,{delay:320,offset:!o}))};Vt.defaultProps={size:4};var Wt=["data"],Ht=["innerRef","isDisabled","isHidden","inputClassName"],qt={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Gt={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":$e({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},qt)},Yt=function(e){return $e({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},qt)},Kt=function(e){var t=e.children,n=e.innerProps;return Me("div",n,t)};var Qt={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Me("div",(0,d.Z)({css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},o),t||Me(Lt,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,o=e.isDisabled,a=e.isFocused,s=e.innerRef,c=e.innerProps,u=e.menuIsOpen;return Me("div",(0,d.Z)({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":u},i)},c),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Me("div",(0,d.Z)({css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},o),t||Me(Rt,null))},DownChevron:Rt,CrossIcon:Lt,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.Heading,a=e.headingProps,s=e.innerProps,c=e.label,u=e.theme,l=e.selectProps;return Me("div",(0,d.Z)({css:i("group",e),className:r({group:!0},n)},s),Me(o,(0,d.Z)({},a,{selectProps:l,theme:u,getStyles:i,cx:r}),c),Me("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,r=e.className,i=st(e);i.data;var o=ze(i,Wt);return Me("div",(0,d.Z)({css:t("groupHeading",e),className:n({"group-heading":!0},r)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,o=e.getStyles;return Me("div",(0,d.Z)({css:o("indicatorsContainer",e),className:r({indicators:!0},n)},i),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return Me("span",(0,d.Z)({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.value,o=st(e),a=o.innerRef,s=o.isDisabled,c=o.isHidden,u=o.inputClassName,l=ze(o,Ht);return Me("div",{className:n({"input-container":!0},t),css:r("input",e),"data-value":i||""},Me("input",(0,d.Z)({className:n({input:!0},u),ref:a,style:Yt(c),disabled:s},l)))},LoadingIndicator:Vt,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerRef,a=e.innerProps;return Me("div",(0,d.Z)({css:i("menu",e),className:r({menu:!0},n),ref:o},a),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.innerRef,s=e.isMulti;return Me("div",(0,d.Z)({css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":s},n),ref:a},o),t)},MenuPortal:It,LoadingMessage:At,NoOptionsMessage:jt,MultiValue:function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,o=e.data,a=e.getStyles,s=e.innerProps,c=e.isDisabled,u=e.removeProps,l=e.selectProps,d=r.Container,f=r.Label,h=r.Remove;return Me(Fe,null,(function(r){var p=r.css,m=r.cx;return Me(d,{data:o,innerProps:$e({className:m(p(a("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":c},n))},s),selectProps:l},Me(f,{data:o,innerProps:{className:m(p(a("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:l},t),Me(h,{data:o,innerProps:$e({className:m(p(a("multiValueRemove",e)),i({"multi-value__remove":!0},n)),"aria-label":"Remove ".concat(t||"option")},u),selectProps:l}))}))},MultiValueContainer:Kt,MultiValueLabel:Kt,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Me("div",(0,d.Z)({role:"button"},n),t||Me(Lt,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.isFocused,s=e.isSelected,c=e.innerRef,u=e.innerProps;return Me("div",(0,d.Z)({css:i("option",e),className:r({option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":s},n),ref:c,"aria-disabled":o},u),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Me("div",(0,d.Z)({css:i("placeholder",e),className:r({placeholder:!0},n)},o),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.isDisabled,s=e.isRtl;return Me("div",(0,d.Z)({css:i("container",e),className:r({"--is-disabled":a,"--is-rtl":s},n)},o),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.innerProps;return Me("div",(0,d.Z)({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":o},n)},a),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,o=e.isMulti,a=e.getStyles,s=e.hasValue;return Me("div",(0,d.Z)({css:a("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":s},n)},i),t)}};var Xt=n(40181);function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,Xt.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jt=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var en=n(42982),tn=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function nn(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||tn(r)&&tn(i)))return!1;var r,i;return!0}var rn=function(e,t){var n;void 0===t&&(t=nn);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};for(var on={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},an=function(e){return Me("span",(0,d.Z)({css:on},e))},sn={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,o=void 0===i?"":i,a=e.selectValue,s=e.isDisabled,c=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(u(a,n),".");if("menu"===t){var l=s?" disabled":"",d="".concat(c?"selected":"focused").concat(l);return"option ".concat(o," ").concat(d,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},cn=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,i=e.focusableOptions,o=e.isFocused,a=e.selectValue,s=e.selectProps,c=e.id,u=s.ariaLiveMessages,l=s.getOptionLabel,d=s.inputValue,h=s.isMulti,p=s.isOptionDisabled,m=s.isSearchable,v=s.menuIsOpen,g=s.options,y=s.screenReaderStatus,b=s.tabSelectsValue,w=s["aria-label"],x=s["aria-live"],_=(0,f.useMemo)((function(){return $e($e({},sn),u||{})}),[u]),E=(0,f.useMemo)((function(){var e,n="";if(t&&_.onChange){var r=t.option,i=t.options,o=t.removedValue,s=t.removedValues,c=t.value,u=o||r||(e=c,Array.isArray(e)?null:e),d=u?l(u):"",f=i||s||void 0,h=f?f.map(l):[],m=$e({isDisabled:u&&p(u,a),label:d,labels:h},t);n=_.onChange(m)}return n}),[t,_,p,a,l]),k=(0,f.useMemo)((function(){var e="",t=n||r,i=!!(n&&a&&a.includes(n));if(t&&_.onFocus){var o={focused:t,label:l(t),isDisabled:p(t,a),isSelected:i,options:g,context:t===n?"menu":"value",selectValue:a};e=_.onFocus(o)}return e}),[n,r,l,p,_,g,a]),C=(0,f.useMemo)((function(){var e="";if(v&&g.length&&_.onFilter){var t=y({count:i.length});e=_.onFilter({inputValue:d,resultsMessage:t})}return e}),[i,d,v,_,g,y]),S=(0,f.useMemo)((function(){var e="";if(_.guidance){var t=r?"value":v?"menu":"input";e=_.guidance({"aria-label":w,context:t,isDisabled:n&&p(n,a),isMulti:h,isSearchable:m,tabSelectsValue:b})}return e}),[w,n,r,h,p,m,v,_,a,b]),j="".concat(k," ").concat(C," ").concat(S),A=Me(f.Fragment,null,Me("span",{id:"aria-selection"},E),Me("span",{id:"aria-context"},j)),T="initial-input-focus"===(null===t||void 0===t?void 0:t.action);return Me(f.Fragment,null,Me(an,{id:c},T&&A),Me(an,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text"},o&&!T&&A))},un=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],ln=new RegExp("["+un.map((function(e){return e.letters})).join("")+"]","g"),dn={},fn=0;fn<un.length;fn++)for(var hn=un[fn],pn=0;pn<hn.letters.length;pn++)dn[hn.letters[pn]]=hn.base;var mn=function(e){return e.replace(ln,(function(e){return dn[e]}))},vn=rn(mn),gn=function(e){return e.replace(/^\s+|\s+$/g,"")},yn=function(e){return"".concat(e.label," ").concat(e.value)},bn=["innerRef"];function wn(e){var t=e.innerRef,n=ze(e,bn);return Me("input",(0,d.Z)({ref:t},n,{css:Le({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var xn=["boxSizing","height","overflow","paddingRight","position"],_n={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function En(e){e.preventDefault()}function kn(e){e.stopPropagation()}function Cn(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Sn(){return"ontouchstart"in window||navigator.maxTouchPoints}var jn=!("undefined"===typeof window||!window.document||!window.document.createElement),An=0,Tn={capture:!1,passive:!1};var In=function(){return document.activeElement&&document.activeElement.blur()},On={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Dn(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=(0,f.useRef)(!1),s=(0,f.useRef)(!1),c=(0,f.useRef)(0),u=(0,f.useRef)(null),l=(0,f.useCallback)((function(e,t){if(null!==u.current){var c=u.current,l=c.scrollTop,d=c.scrollHeight,f=c.clientHeight,h=u.current,p=t>0,m=d-f-l,v=!1;m>t&&a.current&&(r&&r(e),a.current=!1),p&&s.current&&(o&&o(e),s.current=!1),p&&t>m?(n&&!a.current&&n(e),h.scrollTop=d,v=!0,a.current=!0):!p&&-t>l&&(i&&!s.current&&i(e),h.scrollTop=0,v=!0,s.current=!0),v&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,r,i,o]),d=(0,f.useCallback)((function(e){l(e,e.deltaY)}),[l]),h=(0,f.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,f.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;l(e,t)}),[l]),m=(0,f.useCallback)((function(e){if(e){var t=!!gt&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",p,t)}}),[p,h,d]),v=(0,f.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",p,!1))}),[p,h,d]);return(0,f.useEffect)((function(){if(t){var e=u.current;return m(e),function(){v(e)}}}),[t,m,v]),function(e){u.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,i=(0,f.useRef)({}),o=(0,f.useRef)(null),a=(0,f.useCallback)((function(e){if(jn){var t=document.body,n=t&&t.style;if(r&&xn.forEach((function(e){var t=n&&n[e];i.current[e]=t})),r&&An<1){var o=parseInt(i.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+o||0;Object.keys(_n).forEach((function(e){var t=_n[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&Sn()&&(t.addEventListener("touchmove",En,Tn),e&&(e.addEventListener("touchstart",Cn,Tn),e.addEventListener("touchmove",kn,Tn))),An+=1}}),[r]),s=(0,f.useCallback)((function(e){if(jn){var t=document.body,n=t&&t.style;An=Math.max(An-1,0),r&&An<1&&xn.forEach((function(e){var t=i.current[e];n&&(n[e]=t)})),t&&Sn()&&(t.removeEventListener("touchmove",En,Tn),e&&(e.removeEventListener("touchstart",Cn,Tn),e.removeEventListener("touchmove",kn,Tn)))}}),[r]);return(0,f.useEffect)((function(){if(t){var e=o.current;return a(e),function(){s(e)}}}),[t,a,s]),function(e){o.current=e}}({isEnabled:n});return Me(f.Fragment,null,n&&Me("div",{onClick:In,css:On}),t((function(e){i(e),o(e)})))}var Nn={clearIndicator:Ut,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:Ft,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.value,r=e.theme,i=r.spacing,o=r.colors;return $e({margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:t?"hidden":"visible",color:o.neutral80,transform:n?"translateZ(0)":""},Gt)},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:St,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return t={label:"menu"},(0,Ye.Z)(t,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),(0,Ye.Z)(t,"backgroundColor",a.neutral0),(0,Ye.Z)(t,"borderRadius",i),(0,Ye.Z)(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),(0,Ye.Z)(t,"marginBottom",o.menuGutter),(0,Ye.Z)(t,"marginTop",o.menuGutter),(0,Ye.Z)(t,"position","absolute"),(0,Ye.Z)(t,"width","100%"),(0,Ye.Z)(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused?i.dangerLight:void 0,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:Ct,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:t?void 0:r?a.primary:a.primary50}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},valueContainer:function(e){var t=e.theme.spacing,n=e.isMulti,r=e.hasValue,i=e.selectProps.controlShouldRenderValue;return{alignItems:"center",display:n&&r&&i?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var Pn,Mn={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Ln={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ht(),captureMenuScroll:!ht(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=$e({ignoreCase:!0,ignoreAccents:!0,stringify:yn,trim:!0,matchFrom:"any"},Pn),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,c=a?gn(t):t,u=a?gn(o(e)):o(e);return r&&(c=c.toLowerCase(),u=u.toLowerCase()),i&&(c=vn(c),u=mn(u)),"start"===s?u.substr(0,c.length)===c:u.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function Rn(e,t,n,r){return{type:"option",data:t,isDisabled:Vn(e,t,n),isSelected:Wn(e,t,n),label:zn(e,t),value:Bn(e,t),index:r}}function Zn(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return Rn(e,n,t,r)})).filter((function(t){return Un(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=Rn(e,n,t,r);return Un(e,o)?o:void 0})).filter(yt)}function Fn(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,(0,en.Z)(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Un(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!qn(e)||!o)&&Hn(e,{label:a,value:s,data:i},r)}var zn=function(e,t){return e.getOptionLabel(t)},Bn=function(e,t){return e.getOptionValue(t)};function Vn(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Wn(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Bn(e,t);return n.some((function(t){return Bn(e,t)===r}))}function Hn(e,t,n){return!e.filterOption||e.filterOption(t,n)}var qn=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Gn=1,Yn=function(e){Ge(n,e);var t=tt(n);function n(e){var r;return Ve(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,o=n.name;t.name=o,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e,t,n){var i=r.props,o=i.closeMenuOnSelect,a=i.isMulti,s=i.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(r.setState({inputIsHiddenAfterUpdate:!a}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,o=t.name,a=r.state.selectValue,s=i&&r.isOptionSelected(e,a),c=r.isOptionDisabled(e,a);if(s){var u=r.getOptionValue(e);r.setValue(a.filter((function(e){return r.getOptionValue(e)!==u})),"deselect-option",e)}else{if(c)return void r.ariaOnChange(e,{action:"select-option",option:e,name:o});i?r.setValue([].concat((0,en.Z)(a),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),o=n.filter((function(e){return r.getOptionValue(e)!==i})),a=bt(t,o,o[0]||null);r.onChange(a,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(bt(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),o=bt(e,i,i[0]||null);r.onChange(o,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ot.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return zn(r.props,e)},r.getOptionValue=function(e){return Bn(r.props,e)},r.getStyles=function(e,t){var n=Nn[e](t);n.boxSizing="border-box";var i=r.props.styles[e];return i?i(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,$e($e({},Qt),e.components);var e},r.buildCategorizedOptions=function(){return Zn(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Fn(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:$e({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},r.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!r.props.isDisabled){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault(),e.stopPropagation()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),e.stopPropagation(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"===typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&ct(e.target)&&r.props.onMenuClose():"function"===typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),o=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||o>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return qn(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,c=t.isDisabled,u=t.menuIsOpen,l=t.onKeyDown,d=t.tabSelectsValue,f=t.openMenuOnFocus,h=r.state,p=h.focusedOption,m=h.focusedValue,v=h.selectValue;if(!c&&("function"!==typeof l||(l(e),!e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;r.focusValue("previous");break;case"ArrowRight":if(!n||a)return;r.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)r.removeValue(m);else{if(!i)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!u||!d||!p||f&&r.isOptionSelected(p,v))return;r.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(u){if(!p)return;if(r.isComposing)return;r.selectOption(p);break}return;case"Escape":u?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:a}),r.onMenuClose()):s&&o&&r.clearValue();break;case" ":if(a)return;if(!u){r.openMenu("first");break}if(!p)return;r.selectOption(p);break;case"ArrowUp":u?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":u?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!u)return;r.focusOption("pageup");break;case"PageDown":if(!u)return;r.focusOption("pagedown");break;case"Home":if(!u)return;r.focusOption("first");break;case"End":if(!u)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++Gn),r.state.selectValue=at(e.value),r}return He(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?lt(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&lt(e,Math.max(t.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Mn):$e($e({},Mn),this.props.theme):Mn}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,i=this.selectOption,o=this.setValue,a=this.props,s=a.isMulti,c=a.isRtl,u=a.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:u,selectOption:i,selectProps:a,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Vn(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Wn(this.props,e,t)}},{key:"filterOption",value:function(e,t){return Hn(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,o=e.tabIndex,a=e.form,s=e.menuIsOpen,c=this.getComponents().Input,u=this.state,l=u.inputIsHidden,h=u.ariaSelection,p=this.commonProps,m=r||this.getElementId("input"),v=$e($e({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox"),"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],role:"combobox"},!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===h||void 0===h?void 0:h.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?f.createElement(c,(0,d.Z)({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:a,type:"text",value:i},v)):f.createElement(wn,(0,d.Z)({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:rt,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:a,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,o=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,c=this.commonProps,u=this.props,l=u.controlShouldRenderValue,h=u.isDisabled,p=u.isMulti,m=u.inputValue,v=u.placeholder,g=this.state,y=g.selectValue,b=g.focusedValue,w=g.isFocused;if(!this.hasValue()||!l)return m?null:f.createElement(s,(0,d.Z)({},c,{key:"placeholder",isDisabled:h,isFocused:w,innerProps:{id:this.getElementId("placeholder")}}),v);if(p)return y.map((function(t,a){var s=t===b,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return f.createElement(n,(0,d.Z)({},c,{components:{Container:r,Label:i,Remove:o},isFocused:s,isDisabled:h,key:u,index:a,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(m)return null;var x=y[0];return f.createElement(a,(0,d.Z)({},c,{data:x,isDisabled:h}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return f.createElement(e,(0,d.Z)({},t,{innerProps:a,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!e||!i)return null;return f.createElement(e,(0,d.Z)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return f.createElement(n,(0,d.Z)({},r,{isDisabled:i,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return f.createElement(e,(0,d.Z)({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,i=t.Menu,o=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,l=this.commonProps,h=this.state.focusedOption,p=this.props,m=p.captureMenuScroll,v=p.inputValue,g=p.isLoading,y=p.loadingMessage,b=p.minMenuHeight,w=p.maxMenuHeight,x=p.menuIsOpen,_=p.menuPlacement,E=p.menuPosition,k=p.menuPortalTarget,C=p.menuShouldBlockScroll,S=p.menuShouldScrollIntoView,j=p.noOptionsMessage,A=p.onMenuScrollToTop,T=p.onMenuScrollToBottom;if(!x)return null;var I,O=function(t,n){var r=t.type,i=t.data,o=t.isDisabled,a=t.isSelected,s=t.label,c=t.value,p=h===i,m=o?void 0:function(){return e.onOptionHover(i)},v=o?void 0:function(){return e.selectOption(i)},g="".concat(e.getElementId("option"),"-").concat(n),y={id:g,onClick:v,onMouseMove:m,onMouseOver:m,tabIndex:-1};return f.createElement(u,(0,d.Z)({},l,{innerProps:y,data:i,isDisabled:o,isSelected:a,key:g,label:s,type:r,value:c,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())I=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,o=t.options,a=t.index,s="".concat(e.getElementId("group"),"-").concat(a),c="".concat(s,"-heading");return f.createElement(n,(0,d.Z)({},l,{key:s,data:i,options:o,Heading:r,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return O(e,"".concat(a,"-").concat(e.index))})))}if("option"===t.type)return O(t,"".concat(t.index))}));else if(g){var D=y({inputValue:v});if(null===D)return null;I=f.createElement(s,l,D)}else{var N=j({inputValue:v});if(null===N)return null;I=f.createElement(c,l,N)}var P={minMenuHeight:b,maxMenuHeight:w,menuPlacement:_,menuPosition:E,menuShouldScrollIntoView:S},M=f.createElement(Et,(0,d.Z)({},l,P),(function(t){var n=t.ref,r=t.placerProps,a=r.placement,s=r.maxHeight;return f.createElement(i,(0,d.Z)({},l,P,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:g,placement:a}),f.createElement(Dn,{captureEnabled:m,onTopArrive:A,onBottomArrive:T,lockEnabled:C},(function(t){return f.createElement(o,(0,d.Z)({},l,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:g,maxHeight:s,focusedOption:h}),I)})))}));return k||"fixed"===E?f.createElement(a,(0,d.Z)({},l,{appendTo:k,controlElement:this.controlRef,menuPlacement:_,menuPosition:E}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,o=t.name,a=this.state.selectValue;if(o&&!r){if(i){if(n){var s=a.map((function(t){return e.getOptionValue(t)})).join(n);return f.createElement("input",{name:o,type:"hidden",value:s})}var c=a.length>0?a.map((function(t,n){return f.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):f.createElement("input",{name:o,type:"hidden"});return f.createElement("div",null,c)}var u=a[0]?this.getOptionValue(a[0]):"";return f.createElement("input",{name:o,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.isFocused,a=t.selectValue,s=this.getFocusableOptions();return f.createElement(cn,(0,d.Z)({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:o,selectValue:a,focusableOptions:s}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,o=this.props,a=o.className,s=o.id,c=o.isDisabled,u=o.menuIsOpen,l=this.state.isFocused,h=this.commonProps=this.getCommonProps();return f.createElement(r,(0,d.Z)({},h,{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:l}),this.renderLiveRegion(),f.createElement(t,(0,d.Z)({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:l,menuIsOpen:u}),f.createElement(i,(0,d.Z)({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),f.createElement(n,(0,d.Z)({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,s=t.prevWasFocused,c=e.options,u=e.value,l=e.menuIsOpen,d=e.inputValue,f=e.isMulti,h=at(u),p={};if(n&&(u!==n.value||c!==n.options||l!==n.menuIsOpen||d!==n.inputValue)){var m=l?function(e,t){return Fn(Zn(e,t))}(e,h):[],v=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,h):null,g=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,m);p={selectValue:h,focusedOption:g,focusedValue:v,clearFocusValueOnUpdate:!1}}var y=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},b=o,w=a&&s;return a&&!w&&(b={value:bt(f,h,h[0]||null),options:h,action:"initial-input-focus"},w=!s),"initial-input-focus"===(null===o||void 0===o?void 0:o.action)&&(b=null),$e($e($e({},p),y),{},{prevProps:e,ariaSelection:b,prevWasFocused:w})}}]),n}(f.Component);Yn.defaultProps=Ln;var Kn=f.forwardRef((function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,i=void 0!==r&&r,o=e.defaultValue,a=void 0===o?null:o,s=e.inputValue,c=e.menuIsOpen,u=e.onChange,l=e.onInputChange,d=e.onMenuClose,h=e.onMenuOpen,p=e.value,m=ze(e,Jt),v=$t((0,f.useState)(void 0!==s?s:n),2),g=v[0],y=v[1],b=$t((0,f.useState)(void 0!==c?c:i),2),w=b[0],x=b[1],_=$t((0,f.useState)(void 0!==p?p:a),2),E=_[0],k=_[1],C=(0,f.useCallback)((function(e,t){"function"===typeof u&&u(e,t),k(e)}),[u]),S=(0,f.useCallback)((function(e,t){var n;"function"===typeof l&&(n=l(e,t)),y(void 0!==n?n:e)}),[l]),j=(0,f.useCallback)((function(){"function"===typeof h&&h(),x(!0)}),[h]),A=(0,f.useCallback)((function(){"function"===typeof d&&d(),x(!1)}),[d]),T=void 0!==s?s:g,I=void 0!==c?c:w,O=void 0!==p?p:E;return $e($e({},m),{},{inputValue:T,menuIsOpen:I,onChange:C,onInputChange:S,onMenuClose:A,onMenuOpen:j,value:O})}(e);return f.createElement(Yn,(0,d.Z)({ref:t},n))})),Qn=(f.Component,Kn),Xn=(n(37984),n(80896)),$n=n(23591),Jn=n(46417),er=["ref"],tr=function(e){var t=e.data;return(0,Jn.jsx)(Qt.Option,(0,i.Z)((0,i.Z)({},e),{},{children:(0,Jn.jsxs)("div",{className:"flex items-center",children:[t.src&&(0,Jn.jsx)("img",{className:"rounded-full w-8 h-8 mr-4",alt:t.label,src:t.src}),t.label]})}))},nr=function(e){var t=e.data;return(0,Jn.jsx)(Qt.SingleValue,(0,i.Z)((0,i.Z)({},e),{},{children:(0,Jn.jsxs)("div",{className:"flex items-center",children:[t.src&&(0,Jn.jsx)("img",{className:"rounded-full w-8 h-8 mr-4",alt:t.label,src:t.src}),t.label]})}))};function rr(e){var t=e.children;return(0,Jn.jsx)("p",{className:"FormComponent-error-message",children:t})}function ir(e){var t=e.children;return(0,Jn.jsx)("div",{className:"FormComponent-subtitle",children:t})}function or(e){var t=e.type,n=void 0===t?"text":t,a=e.label,s=e.subtitle,d=e.name,h=e.children,p=e.className,m=e.inputClassName,v=e.placeholder,g=e.isLoading,y=e.optional,b=e.onChange,w=e.onBlur,x=e.autocomplete,_=e.reserveSpaceForError,E=e.autoFocus,k=e.selectContent,C=(0,u.x0)(3),S=(0,l.Gc)(),j=S.register,A=S.formState.errors,T=(0,f.useRef)(null),I=j(d,{onChange:b||o.Z,onBlur:w||o.Z}),O=I.ref,D=(0,r.Z)(I,er);return(0,f.useEffect)((function(){setTimeout((function(){E&&T.current&&T.current.focus(),k&&T.current&&T.current.select()}),0)}),[E,k]),(0,Jn.jsxs)("div",{className:"FormComponent-item ".concat(p||""),children:[a&&(0,Jn.jsxs)("label",{htmlFor:C,className:(0,c.Z)({"font-bold":!y,"color-text-subtitle":y}),children:[a,y&&" (Optional)"]}),(0,Jn.jsx)("input",(0,i.Z)((0,i.Z)({className:(0,c.Z)("h-full x-text-size-inherit shadow-sm border-0 ",m,{"is-invalid":!!A[d]}),ref:function(e){O(e),T.current=e}},D),{},{id:C,type:n,placeholder:v,autoComplete:x,autoFocus:E})),g&&(0,Jn.jsx)("div",{className:"FormComponent-loading",children:(0,Jn.jsx)(Xn.Z,{size:20})}),s&&(0,Jn.jsx)(ir,{children:s}),(A[d]||_)&&(0,Jn.jsx)(rr,{children:A[d]?A[d].message:"\xa0"}),h]})}function ar(e){var t=e.label,n=e.subtitle,r=e.name,o=e.children,a=e.className,s=e.placeholder,c=(0,u.x0)(3),d=(0,l.Gc)(),f=d.register,h=d.formState.errors;return(0,Jn.jsxs)("div",{className:"FormComponent-item checkbox  ".concat(a||""),children:[(0,Jn.jsxs)("label",{className:"container-checkbox",htmlFor:c,children:[t||"",(0,Jn.jsx)("input",(0,i.Z)((0,i.Z)({},f(r)),{},{id:c,type:"checkbox",placeholder:s,className:"checkbox-input"})),(0,Jn.jsx)("span",{className:"checkmark"})]}),n&&(0,Jn.jsx)(ir,{children:n}),h[r]&&(0,Jn.jsx)(rr,{children:h[r].message}),o]})}function sr(e){var t=e.options,n=e.defaultOption,r=void 0===n?null:n,i=e.label,o=e.subtitle,s=e.children,d=e.name,f=e.optional,h=e.className,p=e.inputClassName,m=e.isClearable,v=void 0===m||m,g=(0,u.x0)(3),y=(0,l.Gc)(),b=y.control,w=y.formState.errors;return(0,Jn.jsxs)("div",{className:"FormComponent-item ".concat(h||""),children:[i&&(0,Jn.jsxs)("label",{htmlFor:g,className:(0,c.Z)({"font-bold":!f,"color-text-subtitle":f}),children:[i,f&&" (Optional)"]}),(0,Jn.jsx)(l.Qr,{control:b,name:d,defaultValue:(null===r||void 0===r?void 0:r.value)||"",render:function(e){var n=e.field,i=n.onChange,s=n.value,u=s&&(0,a.Z)(t,{value:s})||r;return(0,Jn.jsxs)(Jn.Fragment,{children:[(0,Jn.jsx)(Qn,{classNamePrefix:"react-select",className:(0,c.Z)("FormComponent-select ".concat(p||""),{"is-invalid":!!w[d]}),isClearable:v,components:{Option:tr,SingleValue:nr},id:g,value:u,name:d,defaultValue:r,onChange:function(e){return i((null===e||void 0===e?void 0:e.value)||"")},options:t}),o&&(0,Jn.jsx)(ir,{children:o})]})}}),w[d]&&(0,Jn.jsx)(rr,{children:w[d].message}),s]})}function cr(e){var t=e.label,n=e.value,r=e.subtitle,o=e.name,a=e.children,s=e.className,c=e.inputClassName,d=(0,u.x0)(3),f=(0,l.Gc)(),h=f.register,p=f.formState.errors;return(0,Jn.jsxs)("div",{className:"FormComponent-item FormComponent-radio ".concat(s||""),children:[(0,Jn.jsxs)("label",{htmlFor:d,className:"grid",style:{gridTemplateColumns:"24px 1fr"},children:[(0,Jn.jsx)("input",(0,i.Z)((0,i.Z)({},h(o)),{},{id:d,type:"radio",className:"".concat(c||""," col-span-1 ml-0 mr-auto"),value:n})),(0,Jn.jsx)("span",{className:"col-span-1",children:t||""}),(0,Jn.jsx)("div",{className:"col-span-2 col-start-2",children:r&&(0,Jn.jsx)(ir,{children:r})})]}),p[o]&&(0,Jn.jsx)(rr,{children:p[o].message}),a]})}function ur(e){var t=e.formHook,n=e.onSubmit,r=e.className,o=e.children;return(0,f.useEffect)((function(){var e=t.getValues();if(e&&Object.keys(e).length){var n=document.getElementsByName(Object.keys(e)[0])[0];"INPUT"===n.tagName&&"hidden"!==(null===n||void 0===n?void 0:n.type)&&setTimeout((function(){t.setFocus(Object.keys(e)[0])}),0)}}),[t]),(0,Jn.jsx)(l.RV,(0,i.Z)((0,i.Z)({},t),{},{children:(0,Jn.jsx)("form",{className:"FormComponent-form ".concat(r||""),onSubmit:t.handleSubmit((function(e){return t.clearErrors(),n(e)})),children:o})}))}function lr(e){var t=e.disabled,n=e.children,r=e.className,i=(0,l.Gc)().formState,o=i.isSubmitting,a=i.errors,c=(0,s.Z)(a);return(0,Jn.jsxs)($n.zx,{type:"submit",disabled:null!==t&&void 0!==t?t:!c||o,className:"relative ".concat(r||""),children:[n,o&&(0,Jn.jsx)(Xn.Z,{size:15,className:"absolute right-3 x-spinner-white"})]})}function dr(e){var t=e.children,n=e.className;return(0,Jn.jsx)("div",{className:"FormComponent-row ".concat(n||""),children:t})}},60754:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(51886),i=n(80896),o=n(46417);var a=function(){return(0,o.jsx)("div",{className:"FullscreenSpinner",children:(0,o.jsxs)("div",{className:"cont",children:[(0,o.jsx)(i.Z,{size:"large",synchronized:!0}),(0,o.jsx)(r.Z,{size:"normal",style:{position:"absolute",marginLeft:8,pointerEvents:"none"}})]})})}},46372:function(e,t,n){"use strict";var r=n(21756),i=n(46417);t.Z=function(e){var t=e.users,n=e.maxAvatars,o=void 0===n?4:n,a=e.size,s=void 0===a?32:a,c=e.offsetDivider,u=void 0===c?1.7:c,l=e.className;return t?(0,i.jsxs)("div",{className:"relative w-full",style:{height:s},children:[null===t||void 0===t?void 0:t.slice(0,o).map((function(e,t){return(0,i.jsx)(r.Z,{src:null===e||void 0===e?void 0:e.picture,name:null===e||void 0===e?void 0:e.name,className:"border-gray-20 border-solid border-[1px] flex ".concat(l),size:s,style:{position:"absolute",left:t*s/u}},null===e||void 0===e?void 0:e.id)})),(null===t||void 0===t?void 0:t.length)>o&&(0,i.jsxs)("div",{className:"flex relative items-center text-sm justify-center bg-gray-30 text-gray-70 border border-solid border-gray-20 rounded-full ".concat(l),style:{width:s,height:s,left:o*s/u},children:["+",(null===t||void 0===t?void 0:t.length)-o]})]}):null}},68185:function(e,t,n){"use strict";n.d(t,{ds:function(){return i}});var r=n(46417);function i(e){var t=e.children,n=e.className,i=e.color,o=void 0===i?"primary":i;return(0,r.jsxs)("span",{className:"relative",children:[t,(0,r.jsx)("span",{className:"underline-highlight w-full select-none absolute -bottom-3 left-0 ".concat(n||""),children:"primary"===o?(0,r.jsx)("img",{className:"w-full max-h-2",src:"/images/underline_primary.svg",alt:"underline"}):(0,r.jsx)("img",{className:"w-full max-h-2",src:"/images/underline_red.svg",alt:"underline"})})]})}},30568:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},d:function(){return u}});var r=n(47313),i=n(50678),o=n(69563),a=n(46417),s=r.createContext(!1),c=function(e){var t=e.children,n=function(e){var t,n=(0,r.useRef)(null);(null===(t=n.current)||void 0===t?void 0:t.query)!==e&&(n.current={mediaQueryList:window.matchMedia(e),query:e});var o=(0,r.useState)(n.current.mediaQueryList.matches),a=(0,i.Z)(o,2),s=a[0],c=a[1];return(0,r.useLayoutEffect)((function(){var e=n.current.mediaQueryList;c(e.matches);var t=function(){return c(e.matches)};return e.addListener(t),function(){return e.removeListener(t)}}),[e]),s}(o.qk.mobile);return(0,a.jsx)(s.Provider,{value:n,children:t})},u=function(){return(0,r.useContext)(s)}},7281:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(18489),i=n(83738),o=n(63830),a=n(46417),s=["url"],c=function(e){var t=e.url,n=(0,i.Z)(e,s),c=(0,o.k6)(),u=function(e,t){if(t){var n=window.open(void 0,"_blank");n&&(n.opener=null,n.location=e)}else c.push(e)},l=n.onCustomClick;return delete n.onCustomClick,(0,a.jsx)("div",(0,r.Z)((0,r.Z)({},n),{},{onPointerUp:function(e){1===e.button&&u(t,!0)},onClick:function(e){if(1!==e.button){var n=e.ctrlKey||e.metaKey,r=e.shiftKey;l&&l(),u(t,n||r)}}}))}},51886:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r,i,o,a,s=n(47313),c=n(1501),u=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){var n=e.title,c=e.titleId,f=d(e,u);return s.createElement("svg",l({viewBox:"0 0 89 131",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2,ref:t,"aria-labelledby":c},f),n?s.createElement("title",{id:c},n):null,r||(r=s.createElement("path",{fill:"none",d:"M0 0h88.386v130.964H0z"})),i||(i=s.createElement("path",{d:"M72.652 63.598c-1.368.91-1.191 2.833-.953 4.572.702 5.104.47 5.323 1.073 7.016.649 1.826.433 2.553-.08 3.292-.406.588-1.207 1.371-1.906 1.516-.98.204-2.967.01-3.922-.246-.643-.174-1.292-.94-1.598-1.53-.389-.751-1.256-1.951-.694-3.593.56-1.64 1.325-5.374 1.363-6.108.098-1.904.02-3.934-1.085-5.014-1.104-1.082-3.941-1.055-5.739-1.038-1.723.017-3.583 1.207-5.045 1.141-1.343-.061-2.939-.686-3.728-1.536-.79-.852-1.082-2.469-1.007-3.57.074-1.1.726-2.398 1.454-3.033.727-.635 1.91-.867 2.909-.777 1.472.13 4.1 1.342 5.928 1.564 1.67.203 4.016.501 5.04-.227 1.021-.73 1.048-2.717 1.094-4.145.07-2.063-1.021-6.528-.683-8.23.22-1.098 1.709-1.696 2.717-1.979 1.007-.282 2.521-.125 3.328.285.788.398 1.499 1.29 1.516 2.173.031 1.68-1.209 5.66-1.322 7.905-.058 1.133-.61 3.124.482 3.764 1.264.74 2.95 1.778 7.1.673 1.765-.47 3.157-.689 4.62-.622 1.342.06 2.939.685 3.728 1.536.787.85 1.08 2.468 1.006 3.568-.074 1.101-.726 2.4-1.454 3.035-.727.634-1.908.866-2.908.777-1.473-.13-3.164-.68-4.88-1.248-2.526-.835-5.176-.708-6.354.079z",fillRule:"nonzero"})),o||(o=s.createElement("path",{d:"M51.396 25.807c0 .237-.285.474-.617.474-.284 0-1.09 1.328-1.708 2.941-1.897 4.934-20.873 42.46-20.92 41.273 0-.616-.285-1.043-.76-1.043-.664 0-.759.38-.474 2.23.284 2.134.095 2.609-6.642 15.702-3.795 7.448-7.875 15.228-9.06 17.316-1.234 2.182-2.183 4.554-2.278 5.55-.142 1.708.047 1.945 4.175 5.503 2.372 2.088 5.408 4.697 6.736 5.883 5.978 5.456 8.777 7.638 9.536 7.496 1.138-.19 18.739-18.644 18.786-19.688 0-.475-.854-7.685-1.898-16.035-1.802-14.232-3.51-30.884-3.32-32.497.142-.996-.57-6.024-1.092-8.207-.426-1.708-.237-2.42 3.179-10.2 1.992-4.601 4.602-10.247 5.74-12.524 1.091-2.277 2.04-4.27 2.04-4.412 0-.142-.332-.237-.711-.237-.38 0-.712.19-.712.475zM40.485 61.245c.522 3.32 1.565 11.29 2.324 17.695 1.47 11.765 3.179 24.811 3.653 28.132.285 1.66.095 1.992-2.989 5.408-5.36 6.025-11.053 11.955-12.998 13.473l-1.803 1.423-9.25-8.634c-8.54-7.875-9.252-8.681-8.73-9.63.285-.522 2.704-4.934 5.361-9.773 2.657-4.839 6.167-11.29 7.78-14.327 1.66-3.084 3.179-5.74 3.463-5.882.332-.19.427 4.601.332 14.8-.19 15.23-.142 15.277 1.376 14.945.19 0 .332-7.686.332-17.031V74.86l4.981-9.963c2.752-5.503 5.03-9.915 5.124-9.867.095.047.57 2.846 1.044 6.215zM20.228 3.842c-3.51 2.799-8.919 7.543-13.189 11.623l-3.368 3.178.617 4.175c.332 2.277.949 6.736 1.328 9.867.427 3.132.854 6.073.996 6.5.19.57 0 .854-.521.854-.902 0-.95-.237 1.518 7.59.901 2.989 1.755 5.74 1.85 6.025.095.332.474.474.901.332.427-.19.664-.57.522-.901-.142-.38.095-.76.474-.902.522-.19.475-.569-.332-1.945-1.28-2.134-4.554-20.352-4.744-26.234-.142-4.175-.142-4.222 1.613-6.594 1.708-2.325 5.646-5.835 11.718-10.295 1.708-1.28 3.416-2.704 3.89-3.178.712-.854 1.044-.617 7.021 5.74 3.463 3.653 7.306 7.4 8.54 8.35l2.277 1.707-1.756 3.7c-.948 1.993-4.791 9.678-8.586 16.984-7.923 15.37-6.31 13.9-15.513 14.043l-5.978.047-1.992 2.277c-2.088 2.42-2.372 3.32-1.376 4.839.38.522.664 1.376.664 1.898 0 .854.332.996 2.23 1.09 1.186.048 2.277.19 2.42.333.142.142.331 3.083.474 6.547l.19 6.262-3.179 6.831c-5.266 11.386-7.353 16.604-7.353 18.312 0 .901.19 1.66.38 1.66.474 0 .474-.047 19.782-40.324 8.966-18.691 17.458-36.292 18.881-39.185 1.423-2.894 2.704-5.55 2.799-5.93.095-.427-3.178-3.7-8.397-8.303-4.696-4.174-8.824-7.97-9.203-8.396-1.091-1.329-2.704-.902-5.598 1.423zm-2.372 62.147c-.38.996-1.376 3.083-2.183 4.649-1.328 2.656-1.47 2.751-1.802 1.66-.19-.664-.332-2.61-.38-4.364-.047-3.464-.142-3.416 3.843-3.653l1.28-.048-.758 1.756zm3.985-7.59c-2.183 4.221-2.277 4.269-8.255 4.553-5.266.285-5.36.238-5.36-.759 0-.569-.19-1.328-.428-1.708-.284-.426-.094-1.186.57-2.23l1.043-1.612h4.744c2.61-.048 5.598-.237 6.642-.427 1.044-.19 1.945-.285 2.04-.237.095.047-.38 1.138-.996 2.42zm-.19-43.266c-.854.616-1.091 1.233-1.091 2.799 0 1.85.142 2.134 1.423 2.656 1.28.522 1.613.475 3.084-.522 1.945-1.328 1.992-1.66.569-3.795-1.234-1.85-2.467-2.182-3.985-1.138z",fillRule:"nonzero"})),a||(a=s.createElement("path",{d:"M50.141 24.917c.352-.615 1.06-1.085 1.967-1.085.804 0 1.477.34 1.734.597.342.342.477.74.477 1.14 0 .089-.006.305-.119.612-.168.461-1.056 2.337-2.08 4.471-1.131 2.264-3.724 7.875-5.708 12.457-1.671 3.806-2.558 5.881-2.97 7.216-.301.975-.279 1.406-.123 2.032.558 2.33 1.27 7.704 1.122 8.73-.187 1.596 1.537 18.06 3.32 32.136 1.056 8.446 1.91 15.74 1.91 16.22l-.002.07c-.009.184-.087.607-.447 1.14-.506.747-1.932 2.414-3.805 4.476-4.242 4.672-10.806 11.46-13.673 14.059-.682.617-1.199 1.023-1.472 1.182a1.872 1.872 0 01-.612.236c-.41.077-1.225-.015-2.35-.737-1.495-.959-4.19-3.217-8.46-7.114-1.327-1.184-4.36-3.79-6.718-5.865-1.712-1.476-2.767-2.405-3.411-3.096-.677-.727-.994-1.291-1.16-1.839-.165-.544-.18-1.09-.117-1.847.104-1.1 1.103-3.737 2.466-6.15 1.182-2.08 5.247-9.833 9.031-17.26 3.34-6.491 5.06-9.853 5.906-11.859.677-1.603.696-2.113.587-2.93-.18-1.168-.195-1.884-.111-2.308.1-.511.321-.851.58-1.1.346-.331.813-.55 1.488-.55.199 0 .391.024.574.07 4.068-7.268 18.093-35.143 19.705-39.334.585-1.53 1.353-2.823 1.794-3.288.228-.24.462-.39.677-.482zM38.72 59.573a448.835 448.835 0 00-3.06 5.995l-4.823 9.646v16.63c0 8.501-.124 15.643-.287 16.987-.142 1.166-1.002 1.462-1.384 1.526l.16-.017c-.671.147-1.214.135-1.647-.047-.495-.209-1.058-.629-1.33-1.813-.332-1.439-.336-5.202-.22-14.563.04-4.272.047-7.59.016-9.984-.33.582-.666 1.188-.986 1.783-1.615 3.04-5.13 9.5-7.79 14.345-2.383 4.34-4.576 8.338-5.207 9.493.131.186.356.489.61.77 1.165 1.287 3.451 3.428 7.667 7.316l8.316 7.76.798-.63c1.917-1.495 7.517-7.35 12.808-13.295.898-.995 1.544-1.72 2-2.29.37-.464.594-.76.675-1.06.067-.247.004-.478-.051-.8l-.007-.041c-.475-3.324-2.184-16.382-3.657-28.168-.757-6.384-1.797-14.328-2.317-17.639l-.004-.023c-.089-.635-.185-1.272-.28-1.881zM19.289 2.67c1.673-1.343 3-2.096 4.04-2.364 1.537-.394 2.687.004 3.621 1.119.396.44 4.46 4.165 9.071 8.264 4.274 3.769 7.265 6.676 8.244 7.909.69.868.68 1.598.625 1.844-.002.013-.006.026-.009.038-.1.398-1.416 3.195-2.908 6.228-1.423 2.893-9.912 20.488-18.875 39.173C7.581 97.252 4.465 103.75 3.6 105.058c-.497.751-.885.854-1.111.924a1.729 1.729 0 01-.526.076c-.42 0-.964-.148-1.368-.767-.223-.342-.511-1.288-.511-2.394 0-.606.19-1.592.67-3.03.955-2.866 3.1-7.864 6.821-15.911l3.03-6.513-.178-5.89a153.908 153.908 0 00-.33-5.346c-.352-.041-.773-.081-1.14-.096-.98-.049-1.616-.131-2.03-.261-.645-.204-1.016-.535-1.267-.928-.221-.348-.358-.79-.358-1.4 0-.282-.173-.735-.377-1.016l-.04-.059c-.621-.945-.859-1.757-.79-2.608.085-1.023.72-2.222 2.283-4.034l1.607-1.836c-.218-.687-.996-3.199-1.807-5.89-1.558-4.942-2.122-6.841-2.152-7.56-.034-.83.282-1.245.57-1.51a1.53 1.53 0 01.406-.265c-.217-1.235-.55-3.498-.875-5.878a488.89 488.89 0 00-1.323-9.829l-.617-4.175a1.5 1.5 0 01.455-1.31l3.361-3.172c4.301-4.11 9.749-8.888 13.287-11.709zm-3.879 71.31c-.31.283-.612.394-.858.441a1.547 1.547 0 01-1.04-.132l.103 3.418v.018l1.795-3.746zm12.426 1.473a23.55 23.55 0 01-.225.553 43.912 43.912 0 01-.763 1.686c.328-.11.65-.094.966.015l.022.008v-2.262zm1.524-3.996l-.032.037a1.575 1.575 0 01-.862.5c.042.411.057.798 0 1.25l.894-1.787zM16.286 65.87c-.566.056-1.034.117-1.267.149-.014.118-.03.275-.035.408-.012.4-.001.889.007 1.466.006.237.014.477.024.716.49-.997.97-2.02 1.271-2.739zm4.486-3.076a4.31 4.31 0 01-.88.654c.136.22.21.469.22.721l.281-.585.38-.79zm-.299-5.017c-1.381.168-3.98.324-6.29.365h-3.956l-.594.92c-.19.298-.36.7-.429.874.215.444.399 1.073.478 1.666h.014c.771.012 1.964-.048 3.819-.148 2.63-.125 3.979-.11 4.898-.616.326-.18.561-.453.817-.83.374-.551.75-1.276 1.243-2.23zm4.52-3.77a6.345 6.345 0 01-1.098.892c.156.141.3.333.383.595l.714-1.487zm15.241-3.122c-.47.934-.941 1.866-1.41 2.789.6-.264 1.192-.034 1.288.014.079.04.308.15.517.425a27.335 27.335 0 00-.224-1.044c-.185-.74-.289-1.336-.17-2.184zM24.148 5.38c-.758.673-2.198 1.856-3.649 2.944-5.896 4.33-9.738 7.717-11.4 9.978-.594.803-.97 1.279-1.177 1.801-.316.802-.217 1.685-.143 3.852.132 4.065 1.762 14.092 3.157 20.466.555 2.535 1.023 4.46 1.383 5.059.528.9.771 1.5.842 1.889.088.484.016.86-.118 1.167a1.86 1.86 0 01-.27.446l2.687-.021c1.825-.028 3.22.008 4.349-.038.897-.038 1.587-.111 2.187-.396.71-.336 1.26-.968 1.948-2.018 1.313-2.003 2.904-5.314 5.721-10.782 3.785-7.286 7.618-14.95 8.563-16.935l1.23-2.593-1.311-.984c-1.258-.967-5.182-4.782-8.717-8.51-2.604-2.769-4.52-4.608-5.282-5.325zm-11.86 47.181l-.001-.003-.026-.064.027.067zm-1.503-1.764l.059-.024a1.07 1.07 0 00-.059.024zm42.106-24.884l-.002.022.001-.009.001-.013zm.003-.035l.002-.071-.002.071zM20.773 13.917c-1.241.896-1.713 1.74-1.713 4.015 0 1.663.252 2.444.727 3.002.334.391.822.714 1.63 1.043.743.303 1.275.437 1.771.44.735.005 1.457-.254 2.72-1.109 1.495-1.02 2.072-1.825 2.19-2.615.111-.744-.188-1.715-1.214-3.254-.872-1.307-1.805-2.006-2.727-2.266-1.036-.292-2.15-.105-3.356.723l-.028.02zm4.263 4.285c-.128-.242-.375-.69-.648-1.099-.4-.598-.691-1.03-1.123-1.056-.24-.015-.473.123-.744.308-.461.337-.461.721-.461 1.577 0 .417.04.883.058 1.064.1.052.282.142.431.203.283.115.47.216.66.218.084 0 .152-.057.255-.113.215-.115.46-.275.757-.476.311-.213.632-.472.815-.626zM19.293 2.669l-.005.003.005-.003z"})))}var h,p,m=s.forwardRef(f),v=(n.p,["title","titleId"]);function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b(e,t){var n=e.title,r=e.titleId,i=y(e,v);return s.createElement("svg",g({viewBox:"0 0 40 39",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2,fill:"currentColor",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,h||(h=s.createElement("path",{fill:"none",d:"M0 0h39.274v38.92H0z"})),p||(p=s.createElement("path",{d:"M23.54 22.21c-1.368.91-1.19 2.833-.952 4.572.701 5.105.47 5.324 1.073 7.017.648 1.826.432 2.552-.08 3.292-.406.588-1.207 1.37-1.907 1.516-.98.203-2.967.01-3.922-.247-.643-.174-1.292-.939-1.598-1.53-.389-.75-1.256-1.95-.694-3.593.561-1.639 1.325-5.374 1.363-6.107.098-1.905.02-3.934-1.084-5.015-1.105-1.081-3.942-1.054-5.74-1.037-1.723.016-3.583 1.206-5.045 1.14-1.343-.06-2.939-.686-3.727-1.536-.79-.851-1.083-2.468-1.008-3.57.075-1.099.726-2.397 1.455-3.032.726-.636 1.908-.868 2.908-.778 1.472.131 4.101 1.342 5.928 1.564 1.67.204 4.016.502 5.04-.227 1.021-.73 1.048-2.717 1.094-4.145.07-2.062-1.021-6.528-.682-8.23C16.18 1.166 17.67.57 18.679.286c1.006-.283 2.52-.125 3.327.284.788.4 1.5 1.291 1.517 2.174.03 1.68-1.21 5.66-1.323 7.905-.057 1.133-.609 3.124.483 3.763 1.263.74 2.95 1.778 7.1.673 1.764-.47 3.156-.688 4.619-.622 1.342.06 2.94.686 3.728 1.537.788.849 1.081 2.467 1.006 3.568-.073 1.1-.726 2.399-1.453 3.034-.728.634-1.91.867-2.909.778-1.473-.131-3.164-.68-4.88-1.248-2.526-.835-5.176-.708-6.354.078z",fillRule:"nonzero"})))}var w=s.forwardRef(b),x=(n.p,n(28303)),_=n(69563),E=n(30568),k=n(46417);function C(e){var t=e.link,n=e.size,r=e.style,i=e.children,o=(0,E.d)();return null!==t&&void 0!==t&&t.startsWith("http")?(0,k.jsx)("a",{className:"Logo is-".concat(n," is-plain ").concat(o?"is-mobile":""),style:r,href:t,children:i}):(0,k.jsx)(x.rU,{to:t||_.Z6.root,className:"Logo is-".concat(n," is-plain ").concat(o?"is-mobile":""),style:r,children:i})}function S(e){var t=e.size,n=void 0===t?"small":t,r=e.style,i=e.withText,o=e.shortenOnMobile,a=void 0===o||o,s=e.link,u=(0,E.d)();return(0,k.jsxs)(C,{link:s,size:n,style:r,children:[!i||u&&a?(0,k.jsx)(m,{className:"Logo-icon"}):(0,k.jsx)(c.r,{className:"Logo-icon"}),i&&(0,k.jsxs)("div",{className:"Logo-text",style:u&&a?{display:"none"}:void 0,children:["Excalidraw",(0,k.jsx)(w,{className:"Logo-plus",style:{marginLeft:".6em",fontSize:".6em"}})]})]})}},96729:function(e,t,n){"use strict";n.d(t,{u:function(){return j}});var r=n(50678),i=n(27853),o=n(84531),a=n(81020),s=n(18334),c=n(47313),u=n(1168),l=n(79095),d=n(63198),f=n(82829),h=n(78613),p=n(50138),m=n(9066),v=n(83061),g=n(48688);var y=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)},b=(0,n(35210).Z)((function(e,t){return y(e,1,t)})),w=n(65767),x=n(9491),_=n(46417),E=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={error:null},e}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e){e instanceof m._L||this.setState({error:e})}},{key:"render",value:function(){return this.props.children({error:this.state.error})}}]),n}(c.Component),k=(0,g.cn)(!1),C=function(e){var t=(0,c.useRef)(null),n=(0,g.KO)(k),i=(0,r.Z)(n,2)[1];return(0,c.useLayoutEffect)((function(){var e=t.current;if(e){var n=function(){var t=e.scrollHeight,n=e.scrollTop,r=e.clientHeight;i(n+r<t)};return n(),e.addEventListener("scroll",n),function(){e.removeEventListener("scroll",n),i(!1)}}}),[i]),(0,_.jsx)("div",{className:"ModalDialog-content-inner pb-4 scrollbar-sm",ref:t,children:e.children})},S=function(e){var t=(0,g.KO)(k),n=(0,r.Z)(t,1)[0];return(0,_.jsx)("div",{className:(0,v.Z)("ModalDialog-content-buttons flex items-center",e.className),style:{boxShadow:n?"0 0 0 1px var(--color-border)":void 0},children:e.children})},j=function(e){var t,n;if(e.container&&e.fullScreen)throw new Error('"props.container" cannot be set alongside "props.fullScreen"');var i=A(),o=(0,c.useRef)(null),a=(0,c.useRef)(null),s=(0,c.useState)(null),g=(0,r.Z)(s,2),y=g[0],k=g[1];!function(e){var t=e.onCloseRequest,n=e.contentRef,r=e.modalContainerRef,i=e.autoFocus,o=e.priority,a=e.requireExplicitCancel;(0,c.useEffect)((function(){if(i){var e=(0,h.xp)(n.current);e.length>0&&(e[1]||e[0]).focus()}}),[i,n]),(0,c.useEffect)((function(){var e=r.current;if(e){var i=function(e){var r,i=e.target;if((null===(r=n.current)||void 0===r||!r.contains(i))&&!e.target.closest(".ConfirmModal-bg")){var o,s=i.closest(".ModalDialog");if(s&&s!==(null===(o=n.current)||void 0===o?void 0:o.closest(".ModalDialog")))return;if(a){var c;null===(c=n.current)||void 0===c||c.classList.add("is-animating-callout")}else{t();var u=document.body.style.pointerEvents;document.body.style.pointerEvents="none",document.addEventListener("pointerup",(function(){b((function(){document.body.style.pointerEvents=u}))}),{once:!0})}}};e.addEventListener("pointerdown",i);var s=function(e){var t=(0,h.xp)(n.current),r=document.activeElement,i=t.findIndex((function(e){return e===r}));"Tab"===e.key&&e.shiftKey||"ArrowLeft"===e.key&&!(0,x.s)(r)?(e.preventDefault(),(t[i-1]||t[t.length-1]).focus()):("Tab"===e.key&&!e.shiftKey||"ArrowRight"===e.key&&!(0,x.s)(r))&&(e.preventDefault(),(t[i+1]||t[0]).focus())},c=(0,f.d)({Escape:function(){if(a){var e,r;null===(e=n.current)||void 0===e||e.classList.add("is-animating-callout");var i=(0,w.Z)(null===(r=n.current)||void 0===r?void 0:r.querySelectorAll("[data-action=close]:not(:disabled)"));i&&(i.scrollIntoView(),i.focus())}else t()},"Shift+Tab":s,Tab:s,ArrowLeft:s,ArrowRight:s},{priority:"high"===o?2:0});return function(){c(),e.removeEventListener("pointerdown",i)}}}),[r,n,t,o,a])}({priority:e.priority,onCloseRequest:e.onCloseRequest,contentRef:o,modalContainerRef:a,autoFocus:null===(t=e.autoFocus)||void 0===t||t,requireExplicitCancel:null!==(n=!y&&e.requireExplicitCancel)&&void 0!==n&&n});var j=(0,c.useCallback)((function(e){e instanceof m._L||k(e)}),[]),T=(0,_.jsx)(E,{children:function(t){var n,r=t.error||y;return(0,_.jsxs)("div",{className:(0,v.Z)("ModalDialog scrollbar-sm",e.className,{"priority-high":"high"===e.priority,"sticky-buttons":e.stickyButtons}),style:e.style,role:"dialog","aria-modal":"true","aria-labelledby":e.title,onClick:function(e){e.stopPropagation()},ref:a,children:[(0,_.jsx)("div",{className:"ModalDialog-background"}),(0,_.jsxs)("div",{onAnimationEnd:function(e){var t,n;"ModalDialogFadeInAnim"===e.animationName&&(null===(t=o.current)||void 0===t||t.classList.remove("is-animating-init"));"ModalCalloutAnim"===e.animationName&&(null===(n=o.current)||void 0===n||n.classList.remove("is-animating-callout"))},ref:o,className:"ModalDialog-content is-animating-init",style:{"--max-width":"".concat(null!==(n=e.maxWidth)&&void 0!==n?n:450,"px")},children:[!1!==e.closeButton&&(r||!e.requireExplicitCancel)&&(0,_.jsx)("div",{className:"absolute top-5 right-5 cursor-pointer p-2 flex",onClick:e.onCloseRequest,"aria-label":"Close dialog",children:(0,_.jsx)(l.X1,{})}),(0,_.jsx)("h2",{className:"ModalDialog-title mb-3",children:(0,_.jsx)("span",{className:"text-color-text sm:text-xl text-lg font-bold",children:e.title})}),r?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(p.Z,{children:r.message}),(0,_.jsx)(S,{className:"justify-end",children:(0,_.jsx)(d.Z,{type:"plain",onClick:e.onCloseRequest,children:"Close"})})]}):"function"===typeof e.children?e.children({throwError:j,Content:C,Buttons:S}):e.children]})]})}});return e.container?e.container.current?(0,u.createPortal)(T,e.container.current):null:!1!==e.fullScreen?(0,u.createPortal)(T,i):T},A=function(){var e=(0,c.useState)((function(){var e=document.createElement("div");return document.body.appendChild(e),e})),t=(0,r.Z)(e,1)[0];return(0,c.useEffect)((function(){return function(){document.body.removeChild(t)}}),[t]),t}},7347:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(14965),i=n(28303),o=n(63830),a=n(79095),s=n(69563),c=n(1229),u=n(46417);function l(e){var t,n=e.workspaces,l=e.isAdmin,d=e.dropdownRef,f=e.onSupportClick,h=!!(n&&n.length>1),p=(0,c.Z)().userData;return(0,u.jsxs)("div",{className:"navbar-user-dropdown min-w-[180px]",ref:d,children:[h&&(0,u.jsxs)(i.rU,{className:"item",to:(0,o.Gn)(s.Z6.userMyWorkspaces),children:[(0,u.jsx)(a.wZ,{})," My workspaces"]}),(0,u.jsxs)(i.rU,{className:"item",to:(0,o.Gn)(s.Z6.createWorkspaceNameWorkspace),children:[(0,u.jsx)(a.pO,{})," New workspace"]}),l&&!h&&n&&(0,u.jsxs)(i.rU,{className:"item",to:(0,o.Gn)(s.Z6.workspaceBilling,{workspace:null===(t=n[0])||void 0===t?void 0:t.id}),children:[(0,u.jsx)(a.wZ,{}),"Workspace billing"]}),(0,u.jsx)("div",{className:"separator"}),(0,u.jsxs)(i.rU,{className:"item",to:(0,o.Gn)(s.Z6.userAccount),children:[(0,u.jsx)(a.tB,{}),"My Profile"]}),(0,u.jsxs)(i.rU,{className:"item",to:(0,o.Gn)(s.Z6.userPreferences),children:[(0,u.jsx)(a.ew,{}),"Preferences"]}),(0,u.jsxs)("a",{className:"item",href:"https://discord.gg/e5nJxZBZxz",target:"_blank",rel:"noreferrer",children:[(0,u.jsx)(a.D7,{style:{strokeWidth:2}})," Discord"]}),(0,u.jsxs)("div",{className:"item",onClick:f,children:[(0,u.jsx)(a.P$,{})," Support"]}),(0,u.jsx)("div",{className:"separator"}),(0,u.jsxs)("span",{className:"item red",onClick:function(){return r.Z.signOut()},children:[(0,u.jsx)(a.E2,{})," Sign-out"]}),(0,u.jsx)("div",{className:"flex justify-center",children:p&&(0,u.jsx)("span",{className:"text-[10px] text-gray-50 block truncate",title:"".concat(p.email),children:p&&"".concat(p.email)})})]})}},65451:function(e,t,n){"use strict";n.d(t,{A:function(){return u},b:function(){return c}});var r=n(50678),i=n(48688),o=n(47313),a=n(79095),s=n(46417),c=(0,i.cn)(!1),u=function(){var e=(0,i.KO)(c),t=(0,r.Z)(e,2),n=t[0],u=t[1];return(0,o.useEffect)((function(){var e=function(e){u("offline"===e.type)};return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[u]),n?(0,s.jsx)("div",{className:"OfflineIndicator w-full pointer-events-none flex-center",children:(0,s.jsxs)("div",{className:"OfflineIndicator-inner flex-center mx-auto rounded-md mt-1 bg-yellow",children:[(0,s.jsx)(a._J,{className:"mr-4"}),"You appear to be offline. Please reconnect to be able to use the app."]})}):null}},50424:function(e,t,n){"use strict";n.d(t,{H:function(){return ze}});var r=n(50678),i=n(83061),o=n(1229),a=n(21756),s=n(48688),c=n(78401),u=n(77560),l=n.n(u),d=n(35293),f=n(70907),h=n(16089),p=n(47313),m="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kids kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum music mutual mv mw mx my mz na nab nagoya name natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest racing radio re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign verm\xf6gensberater verm\xf6gensberatung versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw".split(" "),v="\u03b5\u03bb \u03b5\u03c5 \u0431\u0433 \u0431\u0435\u043b \u0434\u0435\u0442\u0438 \u0435\u044e \u043a\u0430\u0442\u043e\u043b\u0438\u043a \u043a\u043e\u043c \u043c\u043a\u0434 \u043c\u043e\u043d \u043c\u043e\u0441\u043a\u0432\u0430 \u043e\u043d\u043b\u0430\u0439\u043d \u043e\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043a\u0440 \u049b\u0430\u0437 \u0570\u0561\u0575 \u05d9\u05e9\u05e8\u05d0\u05dc \u05e7\u05d5\u05dd \u0627\u0628\u0648\u0638\u0628\u064a \u0627\u062a\u0635\u0627\u0644\u0627\u062a \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062f\u0646 \u0627\u0644\u0628\u062d\u0631\u064a\u0646 \u0627\u0644\u062c\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629 \u0627\u0644\u0639\u0644\u064a\u0627\u0646 \u0627\u0644\u0645\u063a\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062a \u0627\u06cc\u0631\u0627\u0646 \u0628\u0627\u0631\u062a \u0628\u0627\u0632\u0627\u0631 \u0628\u064a\u062a\u0643 \u0628\u06be\u0627\u0631\u062a \u062a\u0648\u0646\u0633 \u0633\u0648\u062f\u0627\u0646 \u0633\u0648\u0631\u064a\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064a\u0646 \u0642\u0637\u0631 \u0643\u0627\u062b\u0648\u0644\u064a\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064a\u0633\u064a\u0627 \u0645\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u067e\u0627\u06a9\u0633\u062a\u0627\u0646 \u0680\u0627\u0631\u062a \u0915\u0949\u092e \u0928\u0947\u091f \u092d\u093e\u0930\u0924 \u092d\u093e\u0930\u0924\u092e\u094d \u092d\u093e\u0930\u094b\u0924 \u0938\u0902\u0917\u0920\u0928 \u09ac\u09be\u0982\u09b2\u09be \u09ad\u09be\u09b0\u09a4 \u09ad\u09be\u09f0\u09a4 \u0a2d\u0a3e\u0a30\u0a24 \u0aad\u0abe\u0ab0\u0aa4 \u0b2d\u0b3e\u0b30\u0b24 \u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe \u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8 \u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd \u0c2d\u0c3e\u0c30\u0c24\u0c4d \u0cad\u0cbe\u0cb0\u0ca4 \u0d2d\u0d3e\u0d30\u0d24\u0d02 \u0dbd\u0d82\u0d9a\u0dcf \u0e04\u0e2d\u0e21 \u0e44\u0e17\u0e22 \u0ea5\u0eb2\u0ea7 \u10d2\u10d4 \u307f\u3093\u306a \u30a2\u30de\u30be\u30f3 \u30af\u30e9\u30a6\u30c9 \u30b0\u30fc\u30b0\u30eb \u30b3\u30e0 \u30b9\u30c8\u30a2 \u30bb\u30fc\u30eb \u30d5\u30a1\u30c3\u30b7\u30e7\u30f3 \u30dd\u30a4\u30f3\u30c8 \u4e16\u754c \u4e2d\u4fe1 \u4e2d\u56fd \u4e2d\u570b \u4e2d\u6587\u7f51 \u4e9a\u9a6c\u900a \u4f01\u4e1a \u4f5b\u5c71 \u4fe1\u606f \u5065\u5eb7 \u516b\u5366 \u516c\u53f8 \u516c\u76ca \u53f0\u6e7e \u53f0\u7063 \u5546\u57ce \u5546\u5e97 \u5546\u6807 \u5609\u91cc \u5609\u91cc\u5927\u9152\u5e97 \u5728\u7ebf \u5927\u62ff \u5929\u4e3b\u6559 \u5a31\u4e50 \u5bb6\u96fb \u5e7f\u4e1c \u5fae\u535a \u6148\u5584 \u6211\u7231\u4f60 \u624b\u673a \u62db\u8058 \u653f\u52a1 \u653f\u5e9c \u65b0\u52a0\u5761 \u65b0\u95fb \u65f6\u5c1a \u66f8\u7c4d \u673a\u6784 \u6de1\u9a6c\u9521 \u6e38\u620f \u6fb3\u9580 \u70b9\u770b \u79fb\u52a8 \u7ec4\u7ec7\u673a\u6784 \u7f51\u5740 \u7f51\u5e97 \u7f51\u7ad9 \u7f51\u7edc \u8054\u901a \u8bfa\u57fa\u4e9a \u8c37\u6b4c \u8d2d\u7269 \u901a\u8ca9 \u96c6\u56e2 \u96fb\u8a0a\u76c8\u79d1 \u98de\u5229\u6d66 \u98df\u54c1 \u9910\u5385 \u9999\u683c\u91cc\u62c9 \u9999\u6e2f \ub2f7\ub137 \ub2f7\ucef4 \uc0bc\uc131 \ud55c\uad6d".split(" "),g=function(e,t){for(var n in t)e[n]=t[n];return e};function y(e,t){return e in t||(t[e]=[]),t[e]}function b(e,t,n){for(var r in t.numeric&&(t.asciinumeric=!0,t.alphanumeric=!0),t.ascii&&(t.asciinumeric=!0,t.alpha=!0),t.asciinumeric&&(t.alphanumeric=!0),t.alpha&&(t.alphanumeric=!0),t.alphanumeric&&(t.domain=!0),t.emoji&&(t.domain=!0),t){var i=y(r,n);i.indexOf(e)<0&&i.push(e)}}function w(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}w.groups={},w.prototype={accepts:function(){return!!this.t},go:function(e){var t=this,n=t.j[e];if(n)return n;for(var r=0;r<t.jr.length;r++){var i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has:function(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta:function(e,t,n,r){for(var i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr:function(e,t,n,r){var i;return r=r||w.groups,t&&t.j?i=t:(i=new w(t),n&&r&&b(t,n,r)),this.jr.push([e,i]),i},ts:function(e,t,n,r){var i=this,o=e.length;if(!o)return i;for(var a=0;a<o-1;a++)i=i.tt(e[a]);return i.tt(e[o-1],t,n,r)},tt:function(e,t,n,r){r=r||w.groups;var i=this;if(t&&t.j)return i.j[e]=t,t;var o,a=t,s=i.go(e);if(s?(o=new w,g(o.j,s.j),o.jr.push.apply(o.jr,s.jr),o.jd=s.jd,o.t=s.t):o=new w,a){if(r)if(o.t&&"string"===typeof o.t){var c=g(function(e,t){var n={};for(var r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(o.t,r),n);b(a,c,r)}else n&&b(a,n,r);o.t=a}return i.j[e]=o,o}};var x=function(e,t,n,r,i){return e.ta(t,n,r,i)},_=function(e,t,n,r,i){return e.tr(t,n,r,i)},E=function(e,t,n,r,i){return e.ts(t,n,r,i)},k=function(e,t,n,r,i){return e.tt(t,n,r,i)},C="WORD",S="UWORD",j="LOCALHOST",A="TLD",T="UTLD",I="SCHEME",O="SLASH_SCHEME",D="NUM",N="NL",P="OPENBRACE",M="OPENBRACKET",L="OPENANGLEBRACKET",R="OPENPAREN",Z="CLOSEBRACE",F="CLOSEBRACKET",U="CLOSEANGLEBRACKET",z="CLOSEPAREN",B="AMPERSAND",V="APOSTROPHE",W="ASTERISK",H="AT",q="BACKSLASH",G="BACKTICK",Y="CARET",K="COLON",Q="COMMA",X="DOLLAR",$="DOT",J="EQUALS",ee="EXCLAMATION",te="HYPHEN",ne="PERCENT",re="PIPE",ie="PLUS",oe="POUND",ae="QUERY",se="QUOTE",ce="SEMI",ue="SLASH",le="TILDE",de="UNDERSCORE",fe="EMOJI",he="SYM",pe=Object.freeze({__proto__:null,WORD:C,UWORD:S,LOCALHOST:j,TLD:A,UTLD:T,SCHEME:I,SLASH_SCHEME:O,NUM:D,WS:"WS",NL:N,OPENBRACE:P,OPENBRACKET:M,OPENANGLEBRACKET:L,OPENPAREN:R,CLOSEBRACE:Z,CLOSEBRACKET:F,CLOSEANGLEBRACKET:U,CLOSEPAREN:z,AMPERSAND:B,APOSTROPHE:V,ASTERISK:W,AT:H,BACKSLASH:q,BACKTICK:G,CARET:Y,COLON:K,COMMA:Q,DOLLAR:X,DOT:$,EQUALS:J,EXCLAMATION:ee,HYPHEN:te,PERCENT:ne,PIPE:re,PLUS:ie,POUND:oe,QUERY:ae,QUOTE:se,SEMI:ce,SLASH:ue,TILDE:le,UNDERSCORE:de,EMOJI:fe,SYM:he}),me=/[a-z]/,ve=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,ge=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,ye=/\d/,be=/\s/;function we(e,t,n,r,i){for(var o,a=t.length,s=0;s<a-1;s++){var c=t[s];e.j[c]?o=e.j[c]:((o=new w(r)).jr=i.slice(),e.j[c]=o),e=o}return(o=new w(n)).jr=i.slice(),e.j[t[a-1]]=o,o}function xe(e,t){return xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xe(e,t)}var _e={defaultProtocol:"http",events:null,format:ke,formatHref:ke,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ee(e,t){void 0===t&&(t=null);var n=g({},_e);e&&(n=g(n,e instanceof Ee?e.o:e));for(var r=n.ignoreTags,i=[],o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}function ke(e){return e}Ee.prototype={o:_e,ignoreTags:[],defaultRender:function(e){return e},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,t,n){var r=null!=t,i=this.o[e];return i?("object"===typeof i?"function"===typeof(i=n.t in i?i[n.t]:_e[e])&&r&&(i=i(t,n)):"function"===typeof i&&r&&(i=i(t,n.t,n)),i):i},getObj:function(e,t,n){var r=this.o[e];return"function"===typeof r&&null!=t&&(r=r(t,n.t,n)),r},render:function(e){var t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};var Ce=Object.freeze({__proto__:null,defaults:_e,Options:Ee,assign:g});function Se(e,t){this.t="token",this.v=e,this.tk=t}function je(e,t){var n=function(t){var n,r;function i(n,r){var i;return(i=t.call(this,n,r)||this).t=e,i}return r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,xe(n,r),i}(Se);for(var r in t)n.prototype[r]=t[r];return n.t=e,n}Se.prototype={isLink:!1,toString:function(){return this.v},toHref:function(e){return this.toString()},toFormattedString:function(e){var t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref:function(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(e){return void 0===e&&(e=_e.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject:function(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate:function(e){return e.get("validate",this.toString(),this)},render:function(e){var t=this,n=this.toFormattedHref(e),r=e.get("tagName",n,t),i=this.toFormattedString(e),o={},a=e.get("className",n,t),s=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),l=e.getObj("events",n,t);return o.href=n,a&&(o.class=a),s&&(o.target=s),c&&(o.rel=c),u&&g(o,u),{tagName:r,attributes:o,content:i,eventListeners:l}}};var Ae=je("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Te=je("text"),Ie=je("nl"),Oe=je("url",{isLink:!0,toHref:function(e){return void 0===e&&(e=_e.defaultProtocol),this.hasProtocol()?this.v:e+"://"+this.v},hasProtocol:function(){var e=this.tk;return e.length>=2&&e[0].t!==j&&e[1].t===K}}),De=function(e){return new w(e)};function Ne(e,t,n){var r=n[0].s,i=n[n.length-1].e;return new e(t.slice(r,i),n)}"undefined"!==typeof console&&console&&console.warn;var Pe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Me(){Pe.scanner=function(e){var t,n,r,i,o,a;void 0===e&&(e=[]);var s={};w.groups=s;var c=new w;k(c,"'",V),k(c,"{",P),k(c,"[",M),k(c,"<",L),k(c,"(",R),k(c,"}",Z),k(c,"]",F),k(c,">",U),k(c,")",z),k(c,"&",B),k(c,"*",W),k(c,"@",H),k(c,"`",G),k(c,"^",Y),k(c,":",K),k(c,",",Q),k(c,"$",X),k(c,".",$),k(c,"=",J),k(c,"!",ee),k(c,"-",te),k(c,"%",ne),k(c,"|",re),k(c,"+",ie),k(c,"#",oe),k(c,"?",ae),k(c,'"',se),k(c,"/",ue),k(c,";",ce),k(c,"~",le),k(c,"_",de),k(c,"\\",q);var u=_(c,ye,D,((t={}).numeric=!0,t));_(u,ye,u);var l=_(c,me,C,((n={}).ascii=!0,n));_(l,me,l);var d=_(c,ve,S,((r={}).alpha=!0,r));_(d,me),_(d,ve,d);var f=_(c,be,"WS",((i={}).whitespace=!0,i));k(c,"\n",N,((o={}).whitespace=!0,o)),k(f,"\n"),_(f,be,f);var h=_(c,ge,fe,((a={}).emoji=!0,a));_(h,ge,h),k(h,"\ufe0f",h);var p=k(h,"\u200d");_(p,ge,h);for(var y=[[me,l]],x=[[me,null],[ve,d]],xe=0;xe<m.length;xe++)we(c,m[xe],A,C,y);for(var _e=0;_e<v.length;_e++)we(c,v[_e],T,S,x);b(A,{tld:!0,ascii:!0},s),b(T,{utld:!0,alpha:!0},s),we(c,"file",I,C,y),we(c,"mailto",I,C,y),we(c,"http",O,C,y),we(c,"https",O,C,y),we(c,"ftp",O,C,y),we(c,"ftps",O,C,y),b(I,{scheme:!0,ascii:!0},s),b(O,{slashscheme:!0,ascii:!0},s),e=e.sort((function(e,t){return e[0]>t[0]?1:-1}));for(var Ee=0;Ee<e.length;Ee++){var ke,Ce,Se=e[Ee][0],je=e[Ee][1]?((ke={}).scheme=!0,ke):((Ce={}).slashscheme=!0,Ce);Se.indexOf("-")>=0?je.domain=!0:me.test(Se)?ye.test(Se)?je.asciinumeric=!0:je.ascii=!0:je.numeric=!0,E(c,Se,Se,je)}return E(c,"localhost",j,{ascii:!0}),c.jd=new w(he),{start:c,tokens:g({groups:s},pe)}}(Pe.customSchemes);for(var e=0;e<Pe.tokenQueue.length;e++)Pe.tokenQueue[e][1]({scanner:Pe.scanner});Pe.parser=function(e){var t=e.groups,n=t.domain.concat([B,W,H,q,G,Y,X,J,te,D,ne,re,ie,oe,ue,he,le,de]),r=[V,U,Z,F,z,K,Q,$,ee,L,P,M,R,ae,se,ce],i=[B,V,W,q,G,Y,Z,X,J,te,D,P,ne,re,ie,oe,ae,ue,he,le,de],o=De(),a=k(o,le);x(a,i,a),x(a,t.domain,a);var s=De(),c=De(),u=De();x(o,t.domain,s),x(o,t.scheme,c),x(o,t.slashscheme,u),x(s,i,a),x(s,t.domain,s);var l=k(s,H);k(a,H,l);var d=k(a,$);x(d,i,a),x(d,t.domain,a);var f=De();x(l,t.domain,f),x(f,t.domain,f);var h=k(f,$);x(h,t.domain,f);var p=De(Ae);x(h,t.tld,p),x(h,t.utld,p),k(l,j,p);var m=k(f,te);x(m,t.domain,f),x(p,t.domain,f),k(p,$,h),k(p,te,m);var v=k(p,K);x(v,t.numeric,Ae);var g=k(s,te),y=k(s,$);x(g,t.domain,s),x(y,i,a),x(y,t.domain,s);var b=De(Oe);x(y,t.tld,b),x(y,t.utld,b),x(b,t.domain,s),x(b,i,a),k(b,$,y),k(b,te,g),k(b,H,l);var w=k(b,K),_=De(Oe);x(w,t.numeric,_);var E=De(Oe),C=De();x(E,n,E),x(E,r,C),x(C,n,E),x(C,r,C),k(b,ue,E),k(_,ue,E);var S=k(c,K),A=k(u,K),T=k(A,ue);k(T,ue,S),x(c,t.domain,s),k(c,$,y),k(c,te,g),x(u,t.domain,s),k(u,$,y),k(u,te,g),x(S,t.domain,E),k(S,ue,E);var I=k(E,P),O=k(E,M),fe=k(E,L),me=k(E,R);k(C,P,I),k(C,M,O),k(C,L,fe),k(C,R,me),k(I,Z,E),k(O,F,E),k(fe,U,E),k(me,z,E),k(I,Z,E);var ve=De(Oe),ge=De(Oe),ye=De(Oe),be=De(Oe);x(I,n,ve),x(O,n,ge),x(fe,n,ye),x(me,n,be);var we=De(),xe=De(),_e=De(),Ee=De();return x(I,r),x(O,r),x(fe,r),x(me,r),x(ve,n,ve),x(ge,n,ge),x(ye,n,ye),x(be,n,be),x(ve,r,ve),x(ge,r,ge),x(ye,r,ye),x(be,r,be),x(we,n,we),x(xe,n,ge),x(_e,n,ye),x(Ee,n,be),x(we,r,we),x(xe,r,xe),x(_e,r,_e),x(Ee,r,Ee),k(ge,F,E),k(ye,U,E),k(be,z,E),k(ve,Z,E),k(xe,F,E),k(_e,U,E),k(Ee,z,E),k(we,z,E),k(o,j,b),k(o,N,Ie),{start:o,tokens:pe}}(Pe.scanner.tokens);for(var t=0;t<Pe.pluginQueue.length;t++)Pe.pluginQueue[t][1]({scanner:Pe.scanner,parser:Pe.parser});Pe.initialized=!0}function Le(e){return Pe.initialized||Me(),function(e,t,n){for(var r=n.length,i=0,o=[],a=[];i<r;){for(var s=e,c=null,u=null,l=0,d=null,f=-1;i<r&&!(c=s.go(n[i].t));)a.push(n[i++]);for(;i<r&&(u=c||s.go(n[i].t));)c=null,(s=u).accepts()?(f=0,d=s):f>=0&&f++,i++,l++;if(f<0)(i-=l)<r&&(a.push(n[i]),i++);else{a.length>0&&(o.push(Ne(Te,t,a)),a=[]),i-=f,l-=f;var h=d.t,p=n.slice(i-l,i);o.push(Ne(h,t,p))}}return a.length>0&&o.push(Ne(Te,t,a)),o}(Pe.parser.start,e,function(e,t){for(var n=function(e){for(var t=[],n=e.length,r=0;r<n;){var i=e.charCodeAt(r),o=void 0,a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}(t.replace(/[A-Z]/g,(function(e){return e.toLowerCase()}))),r=n.length,i=[],o=0,a=0;a<r;){for(var s=e,c=null,u=0,l=null,d=-1,f=-1;a<r&&(c=s.go(n[a]));)(s=c).accepts()?(d=0,f=0,l=s):d>=0&&(d+=n[a].length,f++),u+=n[a].length,o+=n[a].length,a++;o-=d,a-=f,u-=d,i.push({t:l.t,v:t.slice(o-u,o),s:o-u,e:o})}return i}(Pe.scanner.start,e))}function Re(e,t,n){if(0===p.Children.count(e.props.children))return e;var r=[];p.Children.forEach(e.props.children,(function(e){"string"===typeof e?r.push.apply(r,function(e,t,n){for(var r=Le(e),i=[],o=0;o<r.length;o++){var a=r[o];if("nl"===a.t&&t.get("nl2br")){var s="__linkify-el-"+n.elementId++;i.push(p.createElement("br",{key:s}))}else if(a.isLink&&t.check(a)){var c=t.render(a);if(!("key"in c.props)){var u="__linkify-el-"+n.elementId++,l=Ce.assign({key:u},c.props);c=p.cloneElement(c,l)}i.push(c)}else i.push(a.toString())}return i}(e,t,n)):p.isValidElement(e)?"string"===typeof e.type&&t.ignoreTags.indexOf(e.type.toUpperCase())>=0?r.push(e):r.push(Re(e,t,n)):r.push(e)}));var i="__linkify-el-"+n.elementId++,o=Ce.assign({key:i},e.props);return p.cloneElement(e,o,r)}var Ze=function(e){var t=0,n={key:"__linkify-wrapper"};for(var r in e)"options"!==r&&"as"!==r&&"tagName"!==r&&"children"!==r&&(n[r]=e[r]);var i=new Ee(e.options,(function(e){var n=e.tagName,r=e.attributes,i=e.content;return r.key="__linkify-lnk-"+t++,r.class&&(r.className=r.class,delete r.class),p.createElement(n,r,i)})),o=e.as||e.tagName||p.Fragment||"span",a=e.children;return Re(p.createElement(o,n,a),i,{elementId:0})},Fe=n(21349),Ue=n(46417),ze=function(e){var t=e.text,n=e.selectedText,u=(0,s.KO)(c.workspaceMembersAtom),p=(0,r.Z)(u,1)[0].userList,m=(0,o.Z)().userData,v=(0,f.Z)(p,"id"),g=t;return g=l()(g,Fe.PP,(function(e,t){var n=Fe.E7.exec(e);if(null===n||void 0===n||!n.groups)return e;var r=n.groups,o=r.name,s=r.id,c=v[s];if(!c)return e;var u=(null===m||void 0===m?void 0:m.id)===(null===c||void 0===c?void 0:c.id);return(0,Ue.jsxs)(d.fC,{children:[(0,Ue.jsx)(d.xz,{className:"hover:bg-transparent active:bg-transparent focus-visible:!outline-none",children:(0,Ue.jsxs)("span",{className:(0,i.Z)("font-semibold px-1 py-px rounded-md box-border inline-flex",{"text-indigo-800 bg-indigo-50 dark:bg-indigo-900 dark:text-indigo-100":!u,"text-yellow-800 bg-yellow-50 dark:bg-yellow-900 dark:text-yellow-100":u}),children:["@",o]})}),(0,Ue.jsx)(d.VY,{className:"z-[9999]",children:(0,Ue.jsx)("div",{className:"bg-default max-w-md p-2 border border-gray-20 rounded-md shadow-sm text-gray-800 mt-2",children:(0,Ue.jsxs)("div",{className:"flex items-start justify-between p-4 space-x-6 box-border text-sm",children:[(0,Ue.jsx)(a.Z,{name:c.name,src:c.picture}),(0,Ue.jsxs)("div",{className:"flex-1 truncate",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ue.jsx)("div",{className:"text-color-text text-sm font-medium truncate",children:c.name}),(0,Ue.jsx)(h.Z,{color:"admin"===c.role?"green":"neutral",children:c.role})]}),(0,Ue.jsx)("div",{className:"mt-1",children:(0,Ue.jsx)("div",{className:"text-color-text text-sm font-medium truncate",children:c.email})})]})]})})})]},"popover_".concat(t))})),n&&(g=l()(g,n,(function(e,t){return(0,Ue.jsx)("span",{className:"bg-yellow-400 dark:text-gray-30",children:e},"selection_".concat(t))}))),(0,Ue.jsx)(Ze,{options:{target:"_blank",rel:"noopener noreferrer",className:"link"},children:g})}},31904:function(e,t,n){"use strict";n(47313);var r=n(46417);t.Z=function(e){return(0,r.jsx)("select",{value:e.value,onChange:function(t){var n=t.currentTarget.selectedIndex,r=e.options[n];e.onChange(r.value)},style:e.style,children:e.options.map((function(e){return(0,r.jsx)("option",{value:e.value,children:e.label},e.value)}))})}},6062:function(e,t,n){"use strict";n.d(t,{A:function(){return _}});var r=n(33032),i=n(50678),o=n(84322),a=n.n(o),s=n(47313),c=n(86645),u=n(21756),l=n(23591),d=n(50138),f=n(86422),h=n(79095),p=n(18489),m=n(18434),v=n(78613),g=n(46417),y=function(e){var t=(0,s.useState)(null),n=(0,i.Z)(t,2),o=n[0],c=n[1],u=(0,s.useState)(null),l=(0,i.Z)(u,2),f=l[0],y=l[1],b=(0,s.useState)(null),w=(0,i.Z)(b,2),x=w[0],_=w[1],E=e.onFileChange;return(0,s.useEffect)((function(){if(o)if((0,v.no)(null===o||void 0===o?void 0:o.type)){var e=new window.FileReader;e.onload=function(e){y(e.target.result)},e.readAsDataURL(o),E(o)}else E(null),_(new Error("Unsupported file type :("));else E(null)}),[o,E]),(0,s.useEffect)((function(){var e=function(e){return e.preventDefault()};return document.addEventListener("dragover",e),document.addEventListener("drop",e),function(){document.removeEventListener("dragover",e),document.removeEventListener("drop",e)}}),[]),(0,g.jsx)("div",{className:"ImageDropzone-dropzone",style:(0,p.Z)((0,p.Z)({},e.style),{},{pointerEvents:e.disabled?"none":void 0}),onDragEnter:function(e){e.target.classList.add("is-over")},onDragLeave:function(e){e.target.classList.remove("is-over")},onDrop:function(e){e.target.classList.remove("is-over");var t=function(e){var t,n=e.dataTransfer,r=null===(t=n.items)||void 0===t?void 0:t[0];return r.getAsFile?r.getAsFile():n.files&&n.files[0]?n.files[0]:void 0}(e);t?(_(null),c(t)):(c(null),_(new Error("The dropped file doesn't seem valid.")))},onClick:(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.I$)({description:"Profile photo",extensions:[".png",".gif",".jpg",".jpeg"],mimeTypes:["image/png","image/gif","image/jpg","image/jpeg"]});case 3:t=e.sent,_(null),c(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),"AbortError"!==e.t0.name&&(c(null),_(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),children:x?(0,g.jsx)(d.Z,{children:x.message}):f?(0,g.jsx)("img",{src:f,alt:"Profile preview",style:{maxWidth:"80%",maxHeight:"80%",margin:"auto"}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(h.XB,{}),(0,g.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:e.text||"Click or drop a file"})]})})},b=n(96729),w=function(e){var t=(0,s.useState)(null),n=(0,i.Z)(t,2),o=n[0],c=n[1],u=(0,s.useState)(null),f=(0,i.Z)(u,2),h=f[0],p=f[1],m=(0,s.useState)(!1),v=(0,i.Z)(m,2),w=v[0],x=v[1],_=function(){var t=(0,r.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,x(!0),t.next=6,e.onUpdateAvatar(h);case 6:e.onClose(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),c(t.t0),x(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();return(0,g.jsx)(b.u,{title:"Upload profile photo",onCloseRequest:e.onClose,children:o?(0,g.jsx)(d.Z,{children:o.message}):(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)(y,{style:{width:"60%",minHeight:200,margin:"auto"},onFileChange:function(e){return p(e)},disabled:w,text:"Click or drop an image file\n(jpg or png)"}),(0,g.jsx)(l.zx,{onClick:_,disabled:!h,children:"Upload"})]})})},x=function(e){var t=(0,c.Z)({validationSchema:{name:e.schema},defaultValues:{name:e.name||""}});return(0,g.jsx)(b.u,{title:e.title,onCloseRequest:e.onClose,closeButton:!1,children:(0,g.jsxs)(f.l0,{formHook:t,onSubmit:function(){var n=(0,r.Z)(a().mark((function n(r){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((i=r.name)===e.name){n.next=11;break}return n.prev=2,n.next=5,e.onUpdateName(i);case 5:e.onClose(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),t.setError("name",n.t0);case 11:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}(),children:[(0,g.jsx)(f.II,{name:"name",label:"Name",selectContent:!0}),(0,g.jsxs)(f.p7,{className:"mt-3 justify-end",children:[(0,g.jsx)(l.F6,{onClick:e.onClose,className:"media-xs:order-2",children:"Cancel"}),(0,g.jsx)(f.Mm,{children:"Update"})]})]})})},_=function(e){var t=(0,s.useState)(!1),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=(0,s.useState)(!1),c=(0,i.Z)(a,2),d=c[0],f=c[1];return(0,g.jsxs)("div",{className:"SettingsProfile",children:[r&&(0,g.jsx)(w,{onClose:function(){return o(!1)},onUpdateAvatar:e.onUpdateAvatar}),d&&(0,g.jsx)(x,{title:"Change name",name:e.name,schema:e.schemas.name,onClose:function(){return f(!1)},onUpdateName:e.onUpdateName}),(0,g.jsxs)("div",{className:"SettingsProfile-avatar",onClick:function(){return o(!0)},children:[(0,g.jsx)(u.Z,{src:e.avatar,name:e.name,size:150}),(0,g.jsx)(h.rG,{className:"upload-icon"}),(0,g.jsx)("div",{className:"absolute right-4 bottom-1",children:(0,g.jsx)(h.xm,{className:"!static !transform-none"})})]}),(0,g.jsx)("h1",{className:"break-all my-3 text-3xl font-bold",children:e.name}),(0,g.jsxs)(l.zx,{className:"mt-4",onClick:function(){return f(!0)},children:[(0,g.jsx)(h.dY,{className:"!w-8 !h-8 py-1 px-2",onClick:function(){return f(!0)}}),(0,g.jsx)("span",{className:"py-1 pr-2",children:e.renameButtonTitle})]})]})}},80896:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(36222),i=n(18489),o=n(50678),a=n(47313),s=n(46417),c=function(e){var t=e.size,n=void 0===t?"medium":t,c=e.className,u=void 0===c?"":c,l=e.wait,d=void 0===l?0:l,f=e.circleWidth,h=void 0===f?8:f,p=e.synchronized,m=void 0!==p&&p,v=e.style,g=(0,a.useState)(!!d),y=(0,o.Z)(g,2),b=y[0],w=y[1],x=-a.useRef(Date.now()).current%1600,_="number"===typeof n?n||16:"medium"===n?40:"small"===n?16:"large"===n?80:"1em";return(0,a.useEffect)((function(){if(d){var e=setTimeout((function(){w(!1)}),d);return function(){return clearTimeout(e)}}}),[d]),b?null:(0,s.jsx)("div",{className:"Spinner ".concat(u),style:(0,i.Z)((0,i.Z)({},v),{},(0,r.Z)({},"--spinner-delay",m?"".concat(x,"ms"):0)),children:(0,s.jsx)("svg",{viewBox:"0 0 100 100",style:{width:_,height:_},children:(0,s.jsx)("circle",{cx:"50",cy:"50",r:50-h/2,strokeWidth:h,fill:"none",strokeMiterlimit:"10"})})})}},90455:function(e,t,n){"use strict";var r=n(18489),i=(n(47313),n(46417));t.Z=function(e){var t=e.children,n=e.style,o=e.className,a=e.padding,s=void 0===a?"2em":a;return(0,i.jsx)("div",{className:o,style:(0,r.Z)({margin:"auto",padding:"string"===typeof s?s:void 0,display:"flex",flexDirection:"column",alignItems:"center",height:"100%",justifyContent:"center",boxSizing:"border-box"},n),children:t})}},57320:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(46417),i=function(){return(0,r.jsx)("b",{onClick:function(e){return function(e){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t&&(t.removeAllRanges(),t.addRange(n))}(e.currentTarget)},children:"support@excalidraw.com"})}},69828:function(e,t,n){"use strict";n.d(t,{B:function(){return l}});n(47313);var r=n(36222),i=n(79495),o=n(46417),a=function(e){var t,n=e.children,a=e.color;return(0,o.jsx)("div",{className:"Card",style:(t={},(0,r.Z)(t,"--color-primary",i[a][7]),(0,r.Z)(t,"--color-primary-darker",i[a][8]),(0,r.Z)(t,"--color-primary-darkest",i[a][9]),t),children:n})},s=n(23591),c=n(79095),u=n(96729),l=function(e){var t=e.onClose;return(0,o.jsx)(u.u,{className:"SupportDialog",title:"Support",onCloseRequest:t,maxWidth:840,children:(0,o.jsxs)("div",{className:"SupportDialog-content",children:[(0,o.jsxs)(a,{color:"lime",children:[(0,o.jsx)("div",{className:"Card-icon",children:(0,o.jsx)(c.LQ,{})}),(0,o.jsx)("h2",{className:"text-2xl font-bold my-3",children:"Email"}),(0,o.jsxs)("p",{className:"my-2",children:["Reach out to us via email.",(0,o.jsx)("br",{}),(0,o.jsx)("input",{readOnly:!0,value:"support@excalidraw.com",className:"text-sm",onClick:function(e){e.target.select()}})]}),(0,o.jsx)(s.zx,{className:"mt-4",children:(0,o.jsx)("a",{target:"_blank",rel:"noreferrer",href:"mailto:support@excalidraw.com",className:"x-reset-link",children:"Email Support"})})]}),(0,o.jsxs)(a,{color:"indigo",children:[(0,o.jsx)("div",{className:"Card-icon",children:(0,o.jsx)(c.D7,{})}),(0,o.jsx)("h2",{className:"text-2xl font-bold my-3",children:"Chat"}),(0,o.jsxs)("p",{className:"my-2",children:["Chat with us on our"," ",(0,o.jsx)("span",{style:{whiteSpace:"nowrap"},children:"Excalidraw+"})," Discord channel."]}),(0,o.jsx)(s.zx,{className:"mt-4",children:(0,o.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://discord.gg/9wx7DKCss2",className:"x-reset-link",children:"Visit Discord"})})]}),(0,o.jsxs)(a,{color:"gray",children:[(0,o.jsx)("div",{className:"Card-icon",children:(0,o.jsx)(c.ET,{})}),(0,o.jsx)("h2",{className:"text-2xl font-bold my-3",children:"GitHub"}),(0,o.jsx)("p",{className:"my-2",children:"Visit the GitHub repository of the Excalidraw editor."}),(0,o.jsx)(s.zx,{className:"mt-4",children:(0,o.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/excalidraw/excalidraw",className:"x-reset-link",children:"Visit Discord"})})]})]})})}},95408:function(e,t,n){"use strict";n.d(t,{C:function(){return c}});var r=n(18489),i=n(50678),o=n(47313),a=n(46417),s=0,c=function(e){var t=(0,o.useState)((function(){return"input-checkbox-".concat(++s)})),n=(0,i.Z)(t,1)[0];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{className:"ToggleButton",type:"checkbox",id:n,disabled:e.disabled,checked:e.checked,onChange:function(t){return e.onChange(t.target.checked)},tabIndex:-1}),(0,a.jsx)("label",{style:(0,r.Z)({transform:"translateY(1px)"},e.style),htmlFor:n,children:e.label?(0,a.jsx)("div",{style:{transform:"translateY(-1px)"},children:e.label}):null})]})}},83209:function(e,t,n){"use strict";n.d(t,{u:function(){return u}});var r=n(47313),i=n(83061),o=n(46417),a=0,s=0,c=function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t},u=function(e){var t=e.children,n=e.label,u=e.className,l=e.delay,d=void 0===l?400:l,f=e.size,h=void 0===f?"auto":f;return(0,r.useEffect)((function(){return function(){return c().classList.remove("excalidraw-tooltip--visible")}}),[]),(0,o.jsx)("div",{className:(0,i.Z)("excalidraw-tooltip-wrapper",u),onPointerEnter:function(e){var t=e.currentTarget,r=Date.now()-a<300?0:d;s=window.setTimeout((function(){!function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),"auto"===r?t.style.maxWidth="50ch":(t.style.minWidth="large"===r?"50ch":"10ch",t.style.maxWidth="large"===r?"50ch":"15ch"),t.textContent=n;var i=e.getBoundingClientRect(),o=i.x,a=i.bottom,s=i.top,c=i.width,u=t.getBoundingClientRect(),l=u.width,d=u.height,f=window.innerWidth,h=o+c/2-l/2,p=h+l>=f?h+l-f:0,m=a+5,v=m+d>=window.innerHeight?a-s+d+10:0;Object.assign(t.style,{top:"".concat(m-v,"px"),left:"".concat(h-p,"px")})}(t,c(),n,h)}),r)},onPointerLeave:function(){clearTimeout(s),a=Date.now(),c().classList.remove("excalidraw-tooltip--visible")},children:t})}},79095:function(e,t,n){"use strict";n.d(t,{XH:function(){return a},_Q:function(){return s},s$:function(){return c},Kh:function(){return u},_M:function(){return l},X1:function(){return d},dY:function(){return f},ol:function(){return h},pO:function(){return p},nQ:function(){return m},tB:function(){return v},LQ:function(){return g},lM:function(){return y},bV:function(){return b},ew:function(){return w},dK:function(){return x},mB:function(){return _},rG:function(){return E},aA:function(){return k},xP:function(){return C},Uq:function(){return S},Q3:function(){return j},ET:function(){return A},D7:function(){return T},E2:function(){return I},sz:function(){return O},sh:function(){return D},XB:function(){return N},wZ:function(){return P},QG:function(){return M},P$:function(){return L},Ww:function(){return R},Ln:function(){return Z},_J:function(){return F},by:function(){return U},xX:function(){return z},TI:function(){return B},qQ:function(){return V},_c:function(){return W},xm:function(){return H},ci:function(){return q},Sw:function(){return G},sW:function(){return Y},Uw:function(){return K},fz:function(){return Q},tH:function(){return X},Ou:function(){return $}});var r=n(18489),i=(n(47313),n(46417)),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,o=t.height,a=t.mirror,s=t.name,c=t.strokeWidth,u=t.useFill,l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=t.className,d=void 0===l?"":l,f=t.onClick,h=t.style;return(0,i.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",className:"".concat(d).concat(a?"rtl-mirror":""," Icon ").concat(s?"Icon-".concat(s):""),style:(0,r.Z)({width:n,height:o,flex:"0 0 auto"},h),viewBox:"0 0 24 24",fill:"none",strokeWidth:u?void 0:c||"2",stroke:u?void 0:"currentColor",strokeLinecap:u?void 0:"round",onClick:f?function(e){e.stopPropagation(),e.preventDefault(),f(e)}:void 0,children:"string"===typeof e?(0,i.jsx)("path",{d:e}):e})};return l},a=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M12 1.75a3.25 3.25 0 0 1 3.245 3.066L15.25 5h5.25a.75.75 0 0 1 .102 1.493L20.5 6.5h-.796l-1.28 13.02a2.75 2.75 0 0 1-2.561 2.474l-.176.006H8.313a2.75 2.75 0 0 1-2.714-2.307l-.023-.174L4.295 6.5H3.5a.75.75 0 0 1-.743-.648L2.75 5.75a.75.75 0 0 1 .648-.743L3.5 5h5.25A3.25 3.25 0 0 1 12 1.75Zm6.197 4.75H5.802l1.267 12.872a1.25 1.25 0 0 0 1.117 1.122l.127.006h7.374c.6 0 1.109-.425 1.225-1.002l.02-.126L18.196 6.5ZM13.75 9.25a.75.75 0 0 1 .743.648L14.5 10v7a.75.75 0 0 1-1.493.102L13 17v-7a.75.75 0 0 1 .75-.75Zm-3.5 0a.75.75 0 0 1 .743.648L11 10v7a.75.75 0 0 1-1.493.102L9.5 17v-7a.75.75 0 0 1 .75-.75Zm1.75-6a1.75 1.75 0 0 0-1.744 1.606L10.25 5h3.5A1.75 1.75 0 0 0 12 3.25Z",fill:"currentColor"})}),{useFill:!0}),s=o((0,i.jsx)("path",{d:"M8.293 4.293a1 1 0 0 0 0 1.414L14.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414l7-7a1 1 0 0 0 0-1.414l-7-7a1 1 0 0 0-1.414 0Z",fill:"currentColor"}),{useFill:!0}),c=o((0,i.jsx)("path",{d:"M15.707 4.293a1 1 0 0 1 0 1.414L9.414 12l6.293 6.293a1 1 0 0 1-1.414 1.414l-7-7a1 1 0 0 1 0-1.414l7-7a1 1 0 0 1 1.414 0Z",fill:"currentColor"}),{useFill:!0}),u=o((0,i.jsx)("path",{fill:"currentColor",d:"M4.22 15.53a.75.75 0 0 0 1.06 0L12 8.81l6.72 6.72a.75.75 0 1 0 1.06-1.06l-7.25-7.25a.75.75 0 0 0-1.06 0l-7.25 7.25a.75.75 0 0 0 0 1.06Z"}),{useFill:!0}),l=o((0,i.jsx)("path",{fill:"currentColor",d:"M4.22 8.47a.75.75 0 0 1 1.06 0L12 15.19l6.72-6.72a.75.75 0 1 1 1.06 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L4.22 9.53a.75.75 0 0 1 0-1.06Z"}),{useFill:!0}),d=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"m4.397 4.554.073-.084a.75.75 0 0 1 .976-.073l.084.073L12 10.939l6.47-6.47a.75.75 0 1 1 1.06 1.061L13.061 12l6.47 6.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L12 13.061l-6.47 6.47a.75.75 0 0 1-1.06-1.061L10.939 12l-6.47-6.47a.75.75 0 0 1-.072-.976l.073-.084-.073.084Z",fill:"currentColor"})})}),{useFill:!0}),f=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M21.03 2.97a3.578 3.578 0 0 1 0 5.06L9.062 20a2.25 2.25 0 0 1-.999.58l-5.116 1.395a.75.75 0 0 1-.92-.921l1.395-5.116a2.25 2.25 0 0 1 .58-.999L15.97 2.97a3.578 3.578 0 0 1 5.06 0ZM15 6.06 5.062 16a.75.75 0 0 0-.193.333l-1.05 3.85 3.85-1.05A.75.75 0 0 0 8 18.938L17.94 9 15 6.06Zm2.03-2.03-.97.97L19 7.94l.97-.97a2.079 2.079 0 0 0-2.94-2.94Z",fill:"currentColor"})}),{useFill:!0}),h=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{fill:"currentColor",d:"M10 2.75a7.25 7.25 0 0 1 5.63 11.819l4.9 4.9a.75.75 0 0 1-.976 1.134l-.084-.073-4.901-4.9A7.25 7.25 0 1 1 10 2.75Zm0 1.5a5.75 5.75 0 1 0 0 11.5 5.75 5.75 0 0 0 0-11.5Z"})}),{useFill:!0}),p=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M11.75 3a.75.75 0 0 1 .743.648l.007.102.001 7.25h7.253a.75.75 0 0 1 .102 1.493l-.102.007h-7.253l.002 7.25a.75.75 0 0 1-1.493.101l-.007-.102-.002-7.249H3.752a.75.75 0 0 1-.102-1.493L3.752 11h7.25L11 3.75a.75.75 0 0 1 .75-.75Z",fill:"currentColor"})}),{useFill:!0}),m=(o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,i.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]})),o((0,i.jsx)("polyline",{points:"20 6 9 17 4 12"}),{name:"check"})),v=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,i.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})),g=(o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,i.jsx)("circle",{cx:"8.5",cy:"7",r:"4"}),(0,i.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),(0,i.jsx)("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]})),o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,i.jsx)("polyline",{points:"22,6 12,13 2,6"})]}))),y=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,i.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,i.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})),b=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,i.jsx)("polyline",{points:"22,6 12,13 2,6"})]})),w=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{fill:"currentColor",d:"M12.012 2.25c.734.008 1.465.093 2.182.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.927 1.116l1.401-.615a.75.75 0 0 1 .85.174 9.792 9.792 0 0 1 2.204 3.792.75.75 0 0 1-.271.825l-1.242.916a1.381 1.381 0 0 0 0 2.226l1.243.915a.75.75 0 0 1 .272.826 9.797 9.797 0 0 1-2.204 3.792.75.75 0 0 1-.848.175l-1.407-.617a1.38 1.38 0 0 0-1.926 1.114l-.169 1.526a.75.75 0 0 1-.572.647 9.518 9.518 0 0 1-4.406 0 .75.75 0 0 1-.572-.647l-.168-1.524a1.382 1.382 0 0 0-1.926-1.11l-1.406.616a.75.75 0 0 1-.849-.175 9.798 9.798 0 0 1-2.204-3.796.75.75 0 0 1 .272-.826l1.243-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.271-.826 9.793 9.793 0 0 1 2.204-3.792.75.75 0 0 1 .85-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.717-.159 1.45-.243 2.201-.252Zm0 1.5a9.135 9.135 0 0 0-1.354.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.799.588c.32.842.776 1.626 1.348 2.322l.905-.397a2.882 2.882 0 0 1 4.017 2.318l.11.984c.889.15 1.798.15 2.687 0l.11-.984a2.881 2.881 0 0 1 4.018-2.322l.905.396a8.296 8.296 0 0 0 1.347-2.318l-.798-.588a2.881 2.881 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.988 8.988 0 0 0-1.333-.117ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"})}),{useFill:!0}),x=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),(0,i.jsx)("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})),_=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M12 2a4 4 0 0 1 4 4v2h1.75A2.25 2.25 0 0 1 20 10.25v9.5A2.25 2.25 0 0 1 17.75 22H6.25A2.25 2.25 0 0 1 4 19.75v-9.5A2.25 2.25 0 0 1 6.25 8H8V6a4 4 0 0 1 4-4Zm5.75 7.5H6.25a.75.75 0 0 0-.75.75v9.5c0 .414.336.75.75.75h11.5a.75.75 0 0 0 .75-.75v-9.5a.75.75 0 0 0-.75-.75Zm-5.75 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm0-10A2.5 2.5 0 0 0 9.5 6v2h5V6A2.5 2.5 0 0 0 12 3.5Z",fill:"currentColor"})}),{useFill:!0}),E=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,i.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,i.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})),k=(o((0,i.jsx)("path",{d:"M11.996 19.01a.75.75 0 0 1 .743.649l.007.102v1.5a.75.75 0 0 1-1.493.101l-.007-.101v-1.5a.75.75 0 0 1 .75-.75Zm6.022-2.072 1.06 1.06a.75.75 0 1 1-1.06 1.061l-1.06-1.06a.75.75 0 0 1 1.06-1.061Zm-10.983 0a.75.75 0 0 1 0 1.06L5.974 19.06a.75.75 0 0 1-1.06-1.06l1.06-1.061a.75.75 0 0 1 1.06 0ZM12 6.475a5.525 5.525 0 1 1 0 11.05 5.525 5.525 0 0 1 0-11.05Zm0 1.5a4.025 4.025 0 1 0 0 8.05 4.025 4.025 0 0 0 0-8.05Zm9.25 3.293a.75.75 0 0 1 .102 1.493l-.102.007h-1.5a.75.75 0 0 1-.102-1.493l.102-.007h1.5Zm-17-.029a.75.75 0 0 1 .102 1.494l-.102.006h-1.5a.75.75 0 0 1-.102-1.493l.102-.007h1.5Zm1.64-6.37.084.072 1.06 1.06a.75.75 0 0 1-.976 1.134l-.084-.073-1.06-1.06a.75.75 0 0 1 .976-1.134Zm13.188.072a.75.75 0 0 1 .073.977l-.073.084-1.06 1.06a.75.75 0 0 1-1.133-.976l.072-.084 1.06-1.061a.75.75 0 0 1 1.061 0ZM12 1.99a.75.75 0 0 1 .743.648l.007.102v1.5a.75.75 0 0 1-1.493.101l-.007-.102v-1.5a.75.75 0 0 1 .75-.75Z",fill:"currentColor"}),{useFill:!0}),o((0,i.jsx)("path",{d:"M20.026 17.001c-2.762 4.784-8.879 6.423-13.663 3.661a9.964 9.964 0 0 1-3.234-2.983.75.75 0 0 1 .365-1.131c3.767-1.348 5.785-2.911 6.956-5.146 1.232-2.353 1.551-4.93.689-8.464a.75.75 0 0 1 .769-.926 9.961 9.961 0 0 1 4.457 1.327C21.149 6.1 22.788 12.217 20.025 17Zm-8.248-4.903c-1.25 2.388-3.31 4.099-6.817 5.499a8.492 8.492 0 0 0 2.152 1.766 8.501 8.501 0 1 0 8.502-14.725 8.485 8.485 0 0 0-2.792-1.016c.647 3.384.23 6.044-1.045 8.476Z",fill:"currentColor"}),{useFill:!0}),o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"18",cy:"5",r:"3"}),(0,i.jsx)("circle",{cx:"6",cy:"12",r:"3"}),(0,i.jsx)("circle",{cx:"18",cy:"19",r:"3"}),(0,i.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),(0,i.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]}))),C=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M9.25 7a.75.75 0 0 1 .11 1.492l-.11.008H7a3.5 3.5 0 0 0-.206 6.994L7 15.5h2.25a.75.75 0 0 1 .11 1.492L9.25 17H7a5 5 0 0 1-.25-9.994L7 7h2.25ZM17 7a5 5 0 0 1 .25 9.994L17 17h-2.25a.75.75 0 0 1-.11-1.492l.11-.008H17a3.5 3.5 0 0 0 .206-6.994L17 8.5h-2.25a.75.75 0 0 1-.11-1.492L14.75 7H17ZM7 11.25h10a.75.75 0 0 1 .102 1.493L17 12.75H7a.75.75 0 0 1-.102-1.493L7 11.25h10H7Z",fill:"currentColor"})}),{useFill:!0}),S=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M2.753 18h18.5a.75.75 0 0 1 .102 1.493l-.102.007h-18.5a.75.75 0 0 1-.102-1.493L2.753 18h18.5-18.5Zm0-6.497h18.5a.75.75 0 0 1 .102 1.493l-.102.007h-18.5a.75.75 0 0 1-.102-1.493l.102-.007h18.5-18.5Zm-.001-6.5h18.5a.75.75 0 0 1 .102 1.493l-.102.007h-18.5A.75.75 0 0 1 2.65 5.01l.102-.007h18.5-18.5Z",fill:"currentColor"})}),{useFill:!0}),j=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M14.807 9.249a.75.75 0 0 0-1.059-.056l-2.5 2.25a.75.75 0 0 0 0 1.114l2.5 2.25a.75.75 0 0 0 1.004-1.115l-1.048-.942h3.546a.75.75 0 1 0 0-1.5h-3.546l1.048-.942a.75.75 0 0 0 .055-1.059ZM2 17.251A2.75 2.75 0 0 0 4.75 20h14.5A2.75 2.75 0 0 0 22 17.25V6.75A2.75 2.75 0 0 0 19.25 4H4.75A2.75 2.75 0 0 0 2 6.75v10.5Zm2.75 1.25c-.69 0-1.25-.56-1.25-1.25V6.749c0-.69.56-1.25 1.25-1.25h3.254V18.5H4.75Zm4.754 0V5.5h9.746c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H9.504Z",fill:"currentColor"})}),{useFill:!0}),A=(o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})),o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})}))),T=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("circle",{cx:"9",cy:"12",r:"1"}),(0,i.jsx)("circle",{cx:"15",cy:"12",r:"1"}),(0,i.jsx)("path",{d:"M7.5 7.5c3.5 -1 5.5 -1 9 0"}),(0,i.jsx)("path",{d:"M7 16.5c3.5 1 6.5 1 10 0"}),(0,i.jsx)("path",{d:"M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833 -1.667 3.5 -3c.667 -1.667 .5 -5.833 -1.5 -11.5c-1.457 -1.015 -3 -1.34 -4.5 -1.5l-1 2.5"}),(0,i.jsx)("path",{d:"M8.5 17c0 1 -1.356 3 -1.832 3c-1.429 0 -2.698 -1.667 -3.333 -3c-.635 -1.667 -.476 -5.833 1.428 -11.5c1.388 -1.015 2.782 -1.34 4.237 -1.5l1 2.5"})]})),I=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,i.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,i.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})),O=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,i.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})),D=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M12 1.996a7.49 7.49 0 0 1 7.496 7.25l.004.25v4.097l1.38 3.156a1.25 1.25 0 0 1-1.145 1.75L15 18.502a3 3 0 0 1-5.995.177L9 18.499H4.275a1.251 1.251 0 0 1-1.147-1.747L4.5 13.594V9.496c0-4.155 3.352-7.5 7.5-7.5ZM13.5 18.5l-3 .002a1.5 1.5 0 0 0 2.993.145l.006-.147ZM12 3.496c-3.32 0-6 2.674-6 6v4.41L4.656 17h14.697L18 13.907V9.509l-.004-.225A5.988 5.988 0 0 0 12 3.496Z",fill:"currentColor"})}),{useFill:!0}),N=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,i.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,i.jsx)("polyline",{points:"21 15 16 10 5 21"})]})),P=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M20.496 5.627A2.25 2.25 0 0 1 22 7.75v10A4.25 4.25 0 0 1 17.75 22h-10a2.25 2.25 0 0 1-2.123-1.504l2.097.004H17.75a2.75 2.75 0 0 0 2.75-2.75v-10l-.004-.051V5.627ZM17.246 2a2.25 2.25 0 0 1 2.25 2.25v12.997a2.25 2.25 0 0 1-2.25 2.25H4.25A2.25 2.25 0 0 1 2 17.247V4.25A2.25 2.25 0 0 1 4.25 2h12.997Zm0 1.5H4.25a.75.75 0 0 0-.75.75v12.997c0 .414.336.75.75.75h12.997a.75.75 0 0 0 .75-.75V4.25a.75.75 0 0 0-.75-.75Z",fill:"currentColor"})}),{useFill:!0}),M=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M18.251 2.498a3.25 3.25 0 0 1 3.245 3.066l.005.184v12.004a3.25 3.25 0 0 1-3.25 3.25h-12a3.25 3.25 0 0 1-3.246-3.066L3 17.752V5.748a3.25 3.25 0 0 1 3.25-3.25h12.001Zm-6.751 7-7 .001v8.253l.007.16a1.75 1.75 0 0 0 1.743 1.59l5.25-.001V9.498Zm8.5 6-7 .001v4.002h5.25a1.75 1.75 0 0 0 1.75-1.75v-2.253Zm-1.749-11.5L13 3.997V14l7-.001.001-8.25-.007-.16a1.75 1.75 0 0 0-1.743-1.59ZM11.5 3.997l-5.25.001-.143.006a1.75 1.75 0 0 0-1.606 1.744L4.5 8h7V3.996Z",fill:"currentColor"})}),{useFill:!0}),L=o((0,i.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),R=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{fill:"currentColor",d:"M14.75 15c.966 0 1.75.784 1.75 1.75l-.001.962c.117 2.19-1.511 3.297-4.432 3.297-2.91 0-4.567-1.09-4.567-3.259v-1c0-.966.784-1.75 1.75-1.75h5.5Zm0 1.5h-5.5a.25.25 0 0 0-.25.25v1c0 1.176.887 1.759 3.067 1.759 2.168 0 2.995-.564 2.933-1.757V16.75a.25.25 0 0 0-.25-.25Zm-11-6.5h4.376a4.007 4.007 0 0 0-.095 1.5H3.75a.25.25 0 0 0-.25.25v1c0 1.176.887 1.759 3.067 1.759.462 0 .863-.026 1.207-.077a2.743 2.743 0 0 0-1.173 1.576l-.034.001C3.657 16.009 2 14.919 2 12.75v-1c0-.966.784-1.75 1.75-1.75Zm16.5 0c.966 0 1.75.784 1.75 1.75l-.001.962c.117 2.19-1.511 3.297-4.432 3.297l-.169-.002a2.755 2.755 0 0 0-1.218-1.606c.387.072.847.108 1.387.108 2.168 0 2.995-.564 2.933-1.757V11.75a.25.25 0 0 0-.25-.25h-4.28a4.05 4.05 0 0 0-.096-1.5h4.376ZM12 8a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM6.5 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm11 0a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm-11 1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm11 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"})}),{useFill:!0}),Z=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M5.009 5.009A3.25 3.25 0 0 1 8.25 2h9A4.75 4.75 0 0 1 22 6.75v6a3.25 3.25 0 0 1-3.009 3.241A3.25 3.25 0 0 1 15.75 19h-5.083L7 21.75c-.824.618-2 .03-2-1v-1.76a3.25 3.25 0 0 1-3-3.24v-7.5a3.25 3.25 0 0 1 3.009-3.241ZM6.518 5h9.232A3.25 3.25 0 0 1 19 8.25v6.232a1.75 1.75 0 0 0 1.5-1.732v-6a3.25 3.25 0 0 0-3.25-3.25h-9A1.75 1.75 0 0 0 6.518 5ZM5.25 17.5H6.5v2.75l3.667-2.75h5.583a1.75 1.75 0 0 0 1.75-1.75v-7.5a1.75 1.75 0 0 0-1.75-1.75H5.25A1.75 1.75 0 0 0 3.5 8.25v7.5c0 .966.784 1.75 1.75 1.75Z",fill:"currentColor"})}),{useFill:!0}),F=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("line",{x1:"1",y1:"1",x2:"23",y2:"23"}),(0,i.jsx)("path",{d:"M16.72 11.06A10.94 10.94 0 0 1 19 12.55"}),(0,i.jsx)("path",{d:"M5 12.55a10.94 10.94 0 0 1 5.17-2.39"}),(0,i.jsx)("path",{d:"M10.71 5.05A16 16 0 0 1 22.58 9"}),(0,i.jsx)("path",{d:"M1.42 9a15.91 15.91 0 0 1 4.7-2.88"}),(0,i.jsx)("path",{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}),(0,i.jsx)("line",{x1:"12",y1:"20",x2:"12.01",y2:"20"})]})),U=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,i.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})),z=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M7.75 12a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0ZM13.75 12a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0ZM18 13.75a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5Z",fill:"currentColor"})}),{useFill:!0}),B=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,i.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})),V=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"m16.242 2.932 4.826 4.826a2.75 2.75 0 0 1-.715 4.404l-4.87 2.435a.75.75 0 0 0-.374.426l-1.44 4.166a1.25 1.25 0 0 1-2.065.476L8.5 16.561 4.06 21H3v-1.06l4.44-4.44-3.105-3.104a1.25 1.25 0 0 1 .476-2.066l4.166-1.44a.75.75 0 0 0 .426-.373l2.435-4.87a2.75 2.75 0 0 1 4.405-.715Zm3.766 5.886-4.826-4.826a1.25 1.25 0 0 0-2.002.325l-2.435 4.871a2.25 2.25 0 0 1-1.278 1.12l-3.789 1.31 6.705 6.704 1.308-3.789a2.25 2.25 0 0 1 1.12-1.277l4.872-2.436a1.25 1.25 0 0 0 .325-2.002Z",fill:"currentColor"})}),{useFill:!0}),W=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M21.25 4.5a.75.75 0 0 1 .743.648L22 5.25v13.004a.75.75 0 0 1-1.493.102l-.007-.102V5.25a.75.75 0 0 1 .75-.75Zm-8.603 1.804.073-.084a.75.75 0 0 1 .977-.073l.084.073 4.996 4.997a.75.75 0 0 1 .073.976l-.072.085-4.997 5.003a.75.75 0 0 1-1.134-.976l.073-.084 3.71-3.717H2.75a.75.75 0 0 1-.743-.647L2 11.755a.75.75 0 0 1 .649-.743l.101-.007 13.694-.001L12.72 7.28a.75.75 0 0 1-.073-.976l.073-.084-.073.084Z",fill:"currentColor"})}),{useFill:!0}),H=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M17.5 12a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11Zm0 2-.09.007a.5.5 0 0 0-.402.402L17 14.5V17h-2.502l-.09.009a.5.5 0 0 0-.402.402l-.008.09.008.09a.5.5 0 0 0 .402.402l.09.008H17v2.503l.008.09a.5.5 0 0 0 .402.402l.09.008.09-.008a.5.5 0 0 0 .402-.402l.008-.09V18h2.504l.09-.007a.5.5 0 0 0 .402-.402l.008-.09-.008-.09a.5.5 0 0 0-.403-.402l-.09-.008H18v-2.5l-.008-.09a.5.5 0 0 0-.402-.403L17.5 14ZM13.925 2.502a2.25 2.25 0 0 1 1.94 1.11L16.679 5h2.071A3.25 3.25 0 0 1 22 8.25v4.56a6.517 6.517 0 0 0-1.499-1.077L20.5 8.25a1.75 1.75 0 0 0-1.75-1.75h-2.5a.75.75 0 0 1-.647-.37l-1.032-1.757a.75.75 0 0 0-.646-.37h-3.803a.75.75 0 0 0-.574.268l-.065.09L8.39 6.141a.75.75 0 0 1-.639.358h-2.5A1.75 1.75 0 0 0 3.5 8.25v9.5c0 .966.784 1.75 1.75 1.75h6.063c.173.533.412 1.037.709 1.5H5.25A3.25 3.25 0 0 1 2 17.75v-9.5A3.25 3.25 0 0 1 5.25 5h2.08l.875-1.424a2.25 2.25 0 0 1 1.917-1.073h3.803ZM12 8a4.502 4.502 0 0 1 4.283 3.114c-.5.095-.98.247-1.433.449A2.999 2.999 0 0 0 9 12.5c0 1.43 1 2.625 2.338 2.927a6.446 6.446 0 0 0-.31 1.468A4.501 4.501 0 0 1 12 8Z",fill:"currentColor"})}),{useFill:!0}),q=o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M2 7.25A3.25 3.25 0 0 1 5.25 4h13.5A3.25 3.25 0 0 1 22 7.25V10h-.258A3.74 3.74 0 0 0 20.5 7.455V7.25a1.75 1.75 0 0 0-1.75-1.75H5.25A1.75 1.75 0 0 0 3.5 7.25v.25h11.95c-.44.409-.782.922-.987 1.5H3.5v5.75c0 .966.784 1.75 1.75 1.75h6.78c.06.522.217 1.028.458 1.5H5.25A3.25 3.25 0 0 1 2 14.75v-7.5Zm21 8.25a1.5 1.5 0 0 0-1.5-1.5h-7a1.5 1.5 0 0 0-1.5 1.5v.5c0 1.971 1.86 4 5 4 3.14 0 5-2.029 5-4v-.5Zm-2.25-5.25a2.75 2.75 0 1 0-5.5 0 2.75 2.75 0 0 0 5.5 0Z",fill:"currentColor"})}),{useFill:!0}),G=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M18.5 20a.5.5 0 0 1-.5.5h-5.732A6.518 6.518 0 0 1 11.19 22H18a2 2 0 0 0 2-2V9.828a2 2 0 0 0-.586-1.414l-5.829-5.828a.491.491 0 0 0-.049-.04.63.63 0 0 1-.036-.03 2.072 2.072 0 0 0-.219-.18.652.652 0 0 0-.08-.044l-.048-.024-.05-.029c-.054-.031-.109-.063-.166-.087a1.977 1.977 0 0 0-.624-.138c-.02-.001-.04-.004-.059-.007A.605.605 0 0 0 12.172 2H6a2 2 0 0 0-2 2v7.498a6.451 6.451 0 0 1 1.5-.422V4a.5.5 0 0 1 .5-.5h6V8a2 2 0 0 0 2 2h4.5v10Zm-5-15.379L17.378 8.5H14a.5.5 0 0 1-.5-.5V4.621Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M12 17.5a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0ZM7 18l.001 2.503a.5.5 0 1 1-1 0V18H3.496a.5.5 0 0 1 0-1H6v-2.5a.5.5 0 1 1 1 0V17h2.497a.5.5 0 0 1 0 1H7Z",fill:"currentColor"})]}),{useFill:!0}),Y=o((0,i.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("circle",{cx:"12",cy:"12",r:"4"}),(0,i.jsx)("path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"})]})),K=o((0,i.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M3 20l1.3 -3.9a9 8 0 1 1 3.4 2.9l-4.7 1"}),(0,i.jsx)("line",{x1:"12",y1:"12",x2:"12",y2:"12.01"}),(0,i.jsx)("line",{x1:"8",y1:"12",x2:"8",y2:"12.01"}),(0,i.jsx)("line",{x1:"16",y1:"12",x2:"16",y2:"12.01"})]})),Q=(o((0,i.jsx)(i.Fragment,{children:(0,i.jsx)("path",{d:"M12.023 2.999a6.47 6.47 0 0 0-.71 1.5L5.25 4.5A1.75 1.75 0 0 0 3.5 6.25v8.5c0 .966.784 1.75 1.75 1.75h2.249v3.75l5.015-3.75h6.236a1.75 1.75 0 0 0 1.75-1.75l.001-2.483a6.517 6.517 0 0 0 1.5-1.077L22 14.75A3.25 3.25 0 0 1 18.75 18h-5.738L8 21.75a1.25 1.25 0 0 1-1.999-1V18h-.75A3.25 3.25 0 0 1 2 14.75v-8.5A3.25 3.25 0 0 1 5.25 3l6.773-.001ZM17.5 1a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11Zm2.646 3.146L16.055 8.24 14.9 6.7a.5.5 0 0 0-.8.6l1.5 2a.5.5 0 0 0 .754.054l4.5-4.5a.5.5 0 0 0-.707-.708Z",fill:"currentColor"})}),{useFill:!0}),o((0,i.jsx)("path",{d:"m17.25 4-.1.007a.75.75 0 0 0-.65.743v12.692l-3.22-3.218-.084-.072a.75.75 0 0 0-.976 1.134l4.504 4.5.084.072a.75.75 0 0 0 .976-.073l4.497-4.5.072-.084a.75.75 0 0 0-.073-.977l-.084-.072a.75.75 0 0 0-.977.073L18 17.446V4.75l-.006-.102A.75.75 0 0 0 17.251 4Zm-11.036.22L1.72 8.715l-.073.084a.75.75 0 0 0 .073.976l.084.073a.75.75 0 0 0 .976-.073l3.217-3.218v12.698l.008.102a.75.75 0 0 0 .743.648l.101-.007a.75.75 0 0 0 .649-.743L7.497 6.559l3.223 3.217.084.072a.75.75 0 0 0 .975-1.134L7.275 4.22l-.085-.072a.75.75 0 0 0-.976.073Z",fill:"currentColor"}),{useFill:!0})),X=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M11.11 4.049a1 1 0 1 0-.22-1.988C5.888 2.614 2 6.852 2 12c0 5.523 4.477 10 10 10 5.146 0 9.383-3.887 9.939-8.886a1 1 0 0 0-1.988-.22A8.001 8.001 0 0 1 4 12a8.001 8.001 0 0 1 7.11-7.951ZM14.767 2.39a1 1 0 0 0-.54 1.926c.287.081.569.178.842.29a1 1 0 0 0 .757-1.852 9.818 9.818 0 0 0-1.059-.363ZM17.35 4.692a1 1 0 0 1 1.412-.061c.212.194.415.397.609.608a1 1 0 0 1-1.474 1.352 7.94 7.94 0 0 0-.486-.486 1 1 0 0 1-.062-1.413Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M11 6a1 1 0 0 1 1 1v5h3a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1ZM19.94 7.623a1 1 0 0 1 1.304.547 9.856 9.856 0 0 1 .365 1.063 1 1 0 1 1-1.925.54 7.896 7.896 0 0 0-.291-.846 1 1 0 0 1 .546-1.304Z",fill:"currentColor"})]}),{useFill:!0}),$=o((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,i.jsx)("path",{d:"M16 7h4"}),(0,i.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}))},46557:function(e,t,n){"use strict";n.d(t,{ZR:function(){return r},Eo:function(){return i},Ju:function(){return o},te:function(){return a},nK:function(){return s},IX:function(){return c}});var r=260,i=58,o=r-i,a=16,s=a/2+6,c=40},69563:function(e,t,n){"use strict";n.d(t,{Z6:function(){return i},ah:function(){return o},rK:function(){return a},qk:function(){return s},yP:function(){return c},Pd:function(){return u},C1:function(){return l},OZ:function(){return d},gP:function(){return f}});var r=n(71188),i={root:"/",lpRoot:"".concat("https://plus.excalidraw.com","#noredirect"),termsOfService:"".concat("https://plus.excalidraw.com","/terms-of-service"),privacyPolicy:"".concat("https://plus.excalidraw.com","/privacy-policy"),signIn:"/sign-in",signUp:"/sign-up",signInWithEmail:"/sign-in/with-email",signInWithEmailFinish:"/sign-in/finish-email-sign-in",signUpWithEmail:"/sign-up/with-email",signUpWithEmailFinish:"/sign-up/finish-email-sign-up",userAccount:"/account/my-profile",userPreferences:"/account/preferences",userDeleteAccount:"/account/delete",userMyWorkspaces:"/account/my-workspaces",productInvites:"/invites",createWorkspaceNameWorkspace:"/workspace/create/name",createWorkspaceCheckout:"/workspace/create/checkout",createWorkspace:"/workspace/create/*",workspaceCanceled:"/w/:workspace/canceled-subscription",workspaceBlocked:"/w/:workspace/blocked",workspaceCanceledDelete:"/w/:workspace/canceled-subscription/delete",workspaceCanceledInvoices:"/w/:workspace/canceled-subscription/invoices",workspaceCanceledRenew:"/w/:workspace/canceled-subscription/renew",noWorkspace:"/no-workspace",workspaceSettings:"/o/:workspace/settings",workspacePaymentMethods:"/o/:workspace/settings/payment-methods",workspaceInvoices:"/o/:workspace/settings/invoices",workspaceBilling:"/o/:workspace/settings/billing",workspaceDelete:"/o/:workspace/settings/delete",workspaceChangePlan:"/o/:workspace/settings/change-plan",workspaceSettingsMembers:"/o/:workspace/settings/members",workspaceSettingsCancelSubscription:"/o/:workspace/settings/cancel-subscription",workspaceSettingsDevelopment:"/o/:workspace/settings/development",workspaceTeams:"/o/:workspace/settings/teams",workspaceUsers:"/o/:workspace/users",workspacePrivateCollection:"/o/:workspace/private",workspaceCollection:"/o/:workspace/:collection?",workspaceDashboard:"/w/:workspace/dashboard",workspaceScene:"/s/:workspace/:scene",workspaceNotifications:"/w/:workspace/notifications",linkSharedScene:"/l/:workspace/:scene",redeemWorkspaceInvite:"/redeem/:workspace/:inviteId",redeemProductInvite:"/redeem/:inviteId",importScene:"/import",fallthrough:"/**"},o={ossRedirect:"excalidraw-redirect"},a={supportEmail:"mailto:support@excalidraw.com"},s={mobile:"(max-width: 800px), (max-height: 500px) and (max-width: 1000px)"},c={type:"excalidraw",version:2,source:"https://plus.excalidraw.com"},u={LIBRARY:"excplus-personal-library",APP_STATE:"excplus-personal-appState",SCROLL_POSITION:"excplus-personal-scrollPosition"},l="Untitled scene",d="https://firebasestorage.googleapis.com/v0/b/".concat(r.q.storageBucket,"/o"),f=32},12512:function(e,t,n){"use strict";n.d(t,{gX:function(){return N},ZP:function(){return R},ah:function(){return L}});var r=n(50678),i=n(33032),o=n(18489),a=n(84322),s=n.n(a),c=n(54778),u=n(47313),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},d=function(e){return{loading:void 0===e||null===e,value:e}},f=function(e){var t=e?e():void 0,n=(0,u.useReducer)((function(e,t){switch(t.type){case"error":return l({},e,{error:t.error,loading:!1,value:void 0});case"reset":return d(t.defaultValue);case"value":return l({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),d(t)),r=n[0],i=n[1];return{error:r.error,loading:r.loading,reset:function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})},setError:function(e){i({type:"error",error:e})},setValue:function(e){i({type:"value",value:e})},value:r.value}},h=n(73679),p=n(51386),m=n(7269),v=n(54146),g=n(60754),y=n(71150),b=n(98090),w=n(19045),x=n(14965),_=n(63590),E=n(72184),k=n.n(E),C=n(75586),S=n.n(C),j=n(55343),A=n(2466),T=n(6046),I=n(46417),O=function(e){return(0,m.xj)(e.claims)},D={claims:null,token:null,status:"initializing"},N=u.createContext((0,o.Z)({user:null,userData:null,noMembership:null,refreshToken:function(){var e=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},D)),P=function(e){return h.Z.get("/user/refreshClaims").then((function(t){t.refresh&&(console.warn("force getIdTokenResult (refreshClaims)"),T.Z.trackEvent("force-getIdTokenResult (refreshClaims)"),e.getIdTokenResult(!0))}))},M=new _.Q,L=function(e){var t=function(t){var n;return"toBeInitialized"in e&&t.isInitialized||"toIncludeWorkspace"in e&&(null===(n=t.orgs)||void 0===n?void 0:n.includes(e.toIncludeWorkspace))||"toNotIncludeWorkspace"in e&&t.orgs&&!t.orgs.includes(e.toNotIncludeWorkspace)};return new(S())((function(e,n,r){try{var i=M.on((function(n){n&&t(n)&&(i(),e(n))}));r((function(){i()})),setTimeout((function(){var n=M.value;n&&t(n)&&(i(),e(n))}))}catch(o){n(o)}}))},R=function(e){var t,n,a,l=e.children,d=function(e){var t=f((function(){return e.currentUser})),n=t.error,r=t.loading,i=t.setError,o=t.setValue,a=t.value;return(0,u.useEffect)((function(){var t=e.onAuthStateChanged(o,i);return function(){t()}}),[e]),[a,r,n]}(p.ZP.auth()),h=(0,r.Z)(d,2),_=h[0],E=h[1],C=(0,u.useState)(D),S=(0,r.Z)(C,2),L=S[0],R=S[1],Z=(0,v.b)(null===(t=L.claims)||void 0===t?void 0:t.id),F=(0,r.Z)(Z,2)[1],U=(0,u.useState)(null),z=(0,r.Z)(U,2),B=z[0],V=z[1];(0,u.useEffect)((function(){B&&x.Z.refreshAutoRedirectCookie({userData:B})}),[B]);var W=(0,u.useState)(null),H=(0,r.Z)(W,2),q=H[0],G=H[1],Y=(0,u.useState)(null),K=(0,r.Z)(Y,2),Q=K[0],X=K[1];(0,u.useEffect)((function(){L.claims&&X(k()((0,m.LK)(L.claims))),B&&G(k()((0,m.LK)((0,m.t8)(B))))}),[_,L.claims,B]),(0,u.useEffect)((function(){_&&q&&Q&&q!==Q&&P(_)}),[_,q,Q]),(0,u.useEffect)((function(){M.trigger(L.claims)}),[L.claims]),(0,u.useEffect)((function(){y.av(B?{username:B.name||"?",id:B.id}:{username:"<guest>",id:"<guest>"})}),[B]),(0,u.useEffect)((function(){if(!E)return _?p.ZP.auth().onIdTokenChanged(function(){var e=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",R({token:null,claims:null,status:"loaded"}));case 2:return e.t0=O,e.next=5,t.getIdTokenResult();case 5:if(e.t1=e.sent,(n=(0,e.t0)(e.t1)).isInitialized){e.next=11;break}return e.abrupt("return",R({token:null,claims:null,status:"loaded"}));case 11:if(n.id){e.next=14;break}return P(t),e.abrupt("return");case 14:return e.next=16,t.getIdToken();case 16:e.t2=e.sent,e.t3=n,r={token:e.t2,claims:e.t3,status:"loaded"},R((function(e){var t=(0,o.Z)((0,o.Z)({},e),{},{status:"loaded"});return(0,c.Z)(t,r)?t:r.claims.isInitialized?(0,o.Z)((0,o.Z)({},r),{},{claims:r.claims,status:"loaded"}):{token:null,claims:null,status:"loaded"}}));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):void R({token:null,claims:null,status:"loaded"})}),[_,E]),(0,u.useRef)(L).current=L;var $=null===(n=L.claims)||void 0===n?void 0:n.id;(0,u.useEffect)((function(){if(_&&$)return p.ZP.firestore().collection("users").doc($).onSnapshot(function(){var e=(0,i.Z)(s().mark((function e(t){var n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.exists?(i=t.data(),A.jotaiStore.set(j.W,null!==(n=null===(r=i.preferences)||void 0===r?void 0:r.sceneOrder)&&void 0!==n?n:"created"),V((0,o.Z)((0,o.Z)({},i),{},{workspaceTeams:i.workspaceTeams||{},name:i.name||"?",id:i.id})),F({userData:i})):P(_);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[$,_,F]);var J=(0,u.useState)([]),ee=(0,r.Z)(J,2),te=ee[0],ne=ee[1];(0,u.useEffect)((function(){"loaded"===L.status&&te.length&&(te.forEach((function(e){return e()})),ne([]))}),[L.status,te]);var re=(0,u.useCallback)(function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return R((function(e){return(0,o.Z)((0,o.Z)({},e),{},{status:"refreshing"})})),e.abrupt("return",new Promise(function(){var e=(0,i.Z)(s().mark((function e(n,r){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.warn("force getIdTokenResult (refreshToken)"),T.Z.trackEvent("force-getIdTokenResult (refreshToken)"),e.t0=O,e.next=6,t.getIdTokenResult(!0);case 6:e.t1=e.sent,i=(0,e.t0)(e.t1),ne((function(e){return e.concat((function(){return n(i)}))})),e.next=15;break;case 11:e.prev=11,e.t2=e.catch(0),R((function(e){return(0,o.Z)((0,o.Z)({},e),{},{status:"loaded"})})),r(e.t2);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[R]);if((0,u.useEffect)((function(){if(!E)if(_){if(!b.V.has(b.V.AUTH_STATE_COOKIE)){var e=window.location.origin;b.V.set(b.V.AUTH_STATE_COOKIE,[1,e],30)}w.m.has(w.m.LAST_AUTH_PROVIDER)||w.m.set(w.m.LAST_AUTH_PROVIDER,{version:1,lastSignInTimeSec:Math.floor(new Date(_.metadata.lastSignInTime||Date.now()).getTime()/1e3),providers:_.providerData.reduce((function(e,t){return t?e.concat({id:t.providerId}):e}),[])})}else b.V.delete(b.V.AUTH_STATE_COOKIE)}),[_,E]),"initializing"===L.status)return(0,I.jsx)(g.Z,{});var ie=_&&L.token?{user:_,userData:B,claims:L.claims,token:L.token,status:L.status,noMembership:!(null!==(a=L.claims)&&void 0!==a&&a.orgs.length),refreshToken:re}:{user:null,userData:null,claims:null,token:null,status:L.status,noMembership:null,refreshToken:re};return(0,I.jsx)(N.Provider,{value:ie,children:l(ie)})}},42404:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(18489),i=n(83738),o=(n(47313),n(80896)),a=n(30568),s=n(46557),c=n(46417),u=["children","withSidebar","isLoading","className","style"];function l(e){var t=e.children,n=e.withSidebar,l=e.isLoading,d=e.className,f=e.style,h=(0,i.Z)(e,u),p=(0,a.d)();return(0,c.jsxs)("div",(0,r.Z)((0,r.Z)({className:"Content ".concat(d||""),style:(0,r.Z)({marginLeft:n&&p?s.nK:void 0},f)},h),{},{children:[l&&(0,c.jsx)(o.Z,{synchronized:!0}),!l&&(0,c.jsx)("div",{className:"Content-container",children:t})]}))}},53683:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(46417);function i(e){var t=e.children;return(0,r.jsx)("div",{className:"flex flex-col x-around-bg w-full h-full z-0",children:(0,r.jsx)("div",{className:"p-4 box-border relative z-10 m-auto max-w-[500px] w-full max-h-[500px] h-full shadow-lg bg-card rounded-xl flex flex-col justify-center items-center",children:t})})}},90615:function(e,t,n){"use strict";var r=n(27853),i=n(84531),o=n(81020),a=n(18334),s=n(47313),c=n(28303),u=n(23591),l=n(57320),d=n(69563),f=n(42404),h=n(95593),p=n(46417),m=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={hasError:!1},e}return(0,i.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){return this.state.hasError?this.props.customFallback?this.props.customFallback:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h.Z,{transparent:!0}),(0,p.jsx)(f.Z,{className:"pt-0",children:(0,p.jsx)("div",{className:"flex flex-col w-full h-full x-around-bg z-0",children:(0,p.jsxs)("div",{className:"flex flex-col justify-center items-center p-4 box-border relative z-10 m-auto max-w-[500px] w-full max-h-[500px] ",children:[(0,p.jsx)("div",{className:"max-w-[320px] ",children:(0,p.jsx)("img",{src:"/images/error.svg",className:"w-full select-none pointer-events-none",alt:"Error"})}),(0,p.jsx)("h1",{className:"text-2xl font-bold my-4",children:"Something went wrong :("}),(0,p.jsxs)("div",{className:"text-base text-center",children:["If problems persist, you can contact us on ",(0,p.jsx)(l.x,{})," or chat with us on"," ",(0,p.jsx)("a",{className:"item",href:"https://discord.gg/e5nJxZBZxz",target:"_blank",rel:"noreferrer",children:"Discord"}),"."]}),(0,p.jsxs)("div",{className:"text-center mt-7",children:[(0,p.jsx)(c.rU,{to:d.Z6.root,className:"x-reset-link",children:(0,p.jsx)(u.zx,{className:"min-w-[300px] font-bold text-base py-4",children:"Go back"})}),(0,p.jsx)("div",{className:"relative mt-9 bg-gray-40 h-[2px] w-full",children:(0,p.jsx)("div",{className:"px-5 absolute text-sm text-gray-40 font-bold bg-default top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:"or"})}),(0,p.jsx)(u.F6,{onClick:function(){return window.location.reload()},className:"min-w-[300px] font-bold text-base py-4 mt-9",children:"Reload page"})]})]})})})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(s.Component);t.Z=m},38525:function(e,t,n){"use strict";n.d(t,{jB:function(){return A},$v:function(){return S},zD:function(){return j}});var r=n(18489),i=n(83738),o=n(28303),a=n(69563),s=n(1229),c=n(1501),u=n(68185),l=n(95593),d=n(46417);var f=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return(0,d.jsxs)("div",{className:"w-full md:max-w-[650px] shadow-xl rounded-xl overflow-hidden max-h-[440px] h-full bg-card pb-4 ".concat(r),children:[(0,d.jsxs)("div",{className:"box-border flex p-5 h-14 w-full",children:[(0,d.jsx)("div",{className:"w-3 h-3 rounded-full bg-danger"}),(0,d.jsx)("div",{className:"w-3 h-3 rounded-full bg-warn ml-2"}),(0,d.jsx)("div",{className:"w-3 h-3 rounded-full bg-success ml-2"})]}),(0,d.jsx)("div",{className:"max-h-[350px] w-full h-full",children:t})]})},h=n(89472),p=n(50678),m=n(47313),v=n(89860),g=n(41155),y=n(54778),b=n(1970),w=function(e){var t=e.className,n=e.scene,r=e.files,i=e.onClick,o=(0,m.useRef)(null),a=(0,m.useState)(null),s=(0,p.Z)(a,2),c=s[0],u=s[1],l=(0,b.C)(n,(function(e,t){if(!e||!t)return!1;var n,r=(0,h.Z)(e.elements.entries());try{for(r.s();!(n=r.n()).done;){var i,o=(0,p.Z)(n.value,2),a=o[0],s=o[1];if((null===(i=t.elements[a])||void 0===i?void 0:i.versionNonce)!==s.versionNonce)return!1}}catch(c){r.e(c)}finally{r.f()}return(0,y.Z)(e.appState,t.appState)}));return(0,m.useEffect)((function(){var e;if(!l)return u(new Error("Preview not available"));if(null===(e=l.elements)||void 0===e||!e.length)return u(new Error("Scene is empty"));var t=o.current;t&&(0,v.$D)({elements:l.elements,appState:(0,g.lY)(l.appState),files:r||{}}).then((function(e){e.style.background=l.appState.viewBackgroundColor,t.innerHTML=e.outerHTML})).catch((function(e){console.error(e),u(new Error("Preview not available"))}))}),[l,r]),c?(0,d.jsx)("div",{className:"ScenePreview flex overflow-hidden w-full h-full justify-center items-center ".concat(t),onClick:i,children:(0,d.jsx)("p",{className:"flex font-drawn text-primary text-2xl sm:text-4xl text-center font-normal mt-6",children:"Empty scene"})}):(0,d.jsx)("div",{className:"ScenePreview flex overflow-hidden w-full h-full justify-center items-center ".concat(t),ref:o,onClick:i})},x=n(91871),_=n(46557),E=n(41972),k=n(83061),C=["id","className","children","withPermaSidebar"];function S(e){var t=e.children,n=e.scene,r=e.onSceneClick,i=e.sceneFiles,h=(0,s.Z)().userData;return(0,d.jsxs)("main",{className:"w-full flex h-full text-color-text",children:[h&&(0,d.jsx)(l.Z,{withLogo:!1,withMemberInvite:!1,transparent:!0}),(0,d.jsx)("div",{className:"w-full md:w-2/5 bg-light flex justify-center items-center ",children:(0,d.jsx)("div",{className:"flex w-full h-fit justify-center md:justify-end bg-light",children:(0,d.jsxs)("div",{className:"max-w-[479px] w-full flex flex-col items-center justify-center",children:[(0,d.jsx)("div",{children:(0,d.jsxs)(o.rU,{to:a.Z6.lpRoot,className:"flex flex-row no-underline hover:no-underline text-color-text text-2xl font-drawn justify-center items-center",children:[" ",(0,d.jsx)(c.r,{className:"w-5 mr-3 x-logo-darkmode-svg"})," Excalidraw+"]})}),t]})})}),(0,d.jsxs)("div",{className:"w-3/5 hidden md:flex flex-col justify-center items-center p-6 box-border relative overflow-hidden x-mess-bg",children:[(0,d.jsx)("h1",{className:"m-1 text-2xl font-bold my-4",children:n&&(0,d.jsx)(u.ds,{children:(null===n||void 0===n?void 0:n.name)||""})}),(0,d.jsx)(f,{className:"mt-6 h-full",children:n&&(0,d.jsx)(w,{scene:n,className:"justify-center !border-none x-join-room-svg ".concat(r?"cursor-pointer":"pointer-events-none"),onClick:r||x.Z,files:i||null})})]})]})}function j(e){var t=e.className,n=e.children;return(0,d.jsxs)("div",{className:"flex w-full bg-light h-full sm:h-fit ".concat(t),children:[(0,d.jsx)("div",{className:"flex w-full md:w-4/6 justify-center p-5",children:(0,d.jsx)("div",{className:"max-w-[315px] w-full h-fit",children:n})}),(0,d.jsx)("div",{className:"hidden md:flex w-full min-h-screen h-full md:w-2/6 x-sign-in-bg bg-default"})]})}function A(e){var t=e.id,n=e.className,o=e.children,a=e.withPermaSidebar,s=(0,i.Z)(e,C),c=(0,E.Z)({isSidebarPermanent:!!a}),u=c.isSidebarOpen,l=c.isSidebarToggled,f=c.isSidebarDockable;return(0,d.jsx)("div",(0,r.Z)((0,r.Z)({id:t,className:(0,k.Z)("transition-[margin] flex flex-col w-full h-full p-3 mt-16 box-border overflow-auto",n,{"mt-0 p-12":f}),style:{marginLeft:!u||!f&&l?0:_.ZR}},s),{},{children:o}))}},95593:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(50678),i=n(47313),o=n(21756),a=n(51886),s=n(1229),c=n(30568),u=n(46557),l=n(96789),d=n(69828),f=n(48688),h=n(78401),p=n(54146),m=n(7347),v=n(83061),g=n(46417);function y(e){var t=e.children,n=e.withSidebar,y=e.withLogo,b=void 0===y||y,w=e.withDarkModeToggle,x=void 0===w||w,_=e.className,E=e.renderShadowOnScroll,k=e.transparent,C=(0,s.Z)().userData,S=(0,c.d)(),j=(0,i.useState)(!1),A=(0,r.Z)(j,2),T=A[0],I=A[1],O=(0,i.useRef)(null),D=(0,i.useRef)(null),N=(0,f.KO)(p.l),P=(0,r.Z)(N,1)[0],M=(0,f.KO)(h.activeWorkspaceAtom),L=(0,r.Z)(M,1)[0],R=(0,i.useState)(!1),Z=(0,r.Z)(R,2),F=Z[0],U=Z[1],z=!!(P&&P.length>1)?u.Eo:0;z+=u.Ju;var B=n&&!S,V=S?"0px":"var(--width-scrollbar)";(0,i.useEffect)((function(){if(E){var e=document.querySelector("#root");if(e){var t=function(){U(e.scrollTop>0)};return e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t)}}}}),[E]),(0,i.useEffect)((function(){if(T){var e=function(e){O.current&&!O.current.contains(e.target)&&D.current&&!D.current.contains(e.target)&&I(!1)};return document.addEventListener("pointerdown",e),function(){document.removeEventListener("pointerdown",e)}}}),[T]);var W=0,H="calc(100% - ".concat(V,")");n&&(W=B?z:u.nK,H=B?"calc(100% - ".concat(z,"px - ").concat(V,")"):"calc(100% - ".concat(u.nK,"px - ").concat(V,")"));var q=(0,i.useState)(!1),G=(0,r.Z)(q,2),Y=G[0],K=G[1];return(0,g.jsxs)("nav",{className:(0,v.Z)("Navbar",_,{"Navbar--transparent":k}),style:{left:W,width:H,boxShadow:F?"inset 0 -1px 0 0 var(--color-border)":void 0},children:[Y&&(0,g.jsx)(d.B,{onClose:function(){return K(!1)}}),(0,g.jsxs)("div",{className:"Navbar-left",children:[b&&(0,g.jsx)(a.Z,{size:"small",style:{marginRight:"1em"}}),t]}),(0,g.jsxs)("div",{className:"Navbar-right",children:[x&&(0,g.jsx)(l.J,{}),C&&(0,g.jsxs)("div",{className:"navbar-profile-cont",children:[(0,g.jsx)("div",{ref:D,className:"navbar-avatar",onClick:function(){return I(!T)},children:(0,g.jsx)(o.Z,{src:C.picture,size:36,name:C.name})}),T&&(0,g.jsx)(m.Z,{dropdownRef:O,workspaces:P,isAdmin:L.isAdmin||!1,onSupportClick:function(){K(!0),I(!1)}})]})]})]})}},301:function(e,t,n){"use strict";n.d(t,{T:function(){return y}});var r=n(47313),i=n(28303),o=n(63830),a=n(21756),s=n(79095),c=n(30568),u=n(23591),l=n(82829),d=n(41972),f=n(83061),h=n(46417),p=function(e){var t=e.item;return(0,h.jsx)("div",{className:"mt-7 mb-4 font-semibold",children:t.title})},m=function(e){var t=e.item,n=(0,c.d)(),r=(0,d.Z)({isSidebarPermanent:!1}).toggleSidebar;return(0,h.jsx)(i.OL,{className:(0,f.Z)("box-border","flex items-center w-full","text-color-text text-sm","py-1 px-3 mt-1","!no-underline","rounded","hover:bg-gray-hover","active:bg-gray-active"),activeClassName:"bg-gray-selected",exact:!0,to:t.link,style:t.style,onClick:function(){n&&r(!1)},children:t.title})},v=function(){return(0,h.jsx)("div",{className:"separator"})};function g(e){var t=e.items,n=e.picture,r=e.name,o=e.backLink,c=e.backTitle,u=void 0===c?"Settings":c,l=(0,d.Z)({isSidebarPermanent:!1}).toggleSidebar;return(0,h.jsx)("div",{className:"ml-auto overflow-y-auto h-full x-custom-scrollbar",children:(0,h.jsx)("div",{className:"lg:flex justify-end md-lg:max-w-[16rem] md-lg:ml-auto z-20",children:(0,h.jsxs)("nav",{className:"min-w-[160px] select-none py-7 pl-7 pr-3 x-custom-scrollbar",children:[(0,h.jsx)("div",{className:"absolute right-2 top-2 md-lg:hidden",children:(0,h.jsx)("button",{type:"button",className:"w-10 h-10 p-2 flex items-center justify-center bg-transparent dark:text-white",onClick:function(){l(!1)},children:(0,h.jsx)(s.X1,{})})}),(0,h.jsxs)(i.rU,{to:o,className:"mt-5 sm:mt-10 x-reset-link flex items-center font-bold text-color-text hover:text-primary active:text-primary-chubb",children:[" ",(0,h.jsx)(s.s$,{className:"text-lg"}),(0,h.jsx)("span",{className:"ml-2 text-lg",children:u})]}),(0,h.jsxs)(i.rU,{className:"flex items-center mt-12 mb-4 !no-underline",to:o,children:[(0,h.jsx)(a.Z,{src:n,name:r}),(0,h.jsx)("div",{className:"max-w-[140px]",children:(0,h.jsx)("span",{className:"pl-2 font-bold block text-ellipsis overflow-hidden !no-underline",children:r})})]}),t.map((function(e,t){if(!e)return null;var n="".concat(e.type,"-").concat("title"in e?e.title:t);return"heading"===e.type?(0,h.jsx)(p,{item:e},n):"item"===e.type?(0,h.jsx)(m,{item:e},n):"separator"===e.type?(0,h.jsx)(v,{},n):(0,h.jsx)(m,{item:e},n)}))]})})})}var y=function(e){var t=e.settingsConfig,n=e.headingName,a=e.headingPicture,c=e.backLink,p=e.children,m=e.backTitle,v=void 0===m?"Settings":m,y=(0,o.k6)();(0,r.useEffect)((function(){return(0,l.d)("Escape",(function(e){e.preventDefault(),y.push(c)}))}),[y,c]);var b=(0,d.Z)({isSidebarPermanent:!1}),w=b.isSidebarToggled,x=b.isSidebarOpen,_=b.toggleSidebar;return(0,h.jsxs)("div",{className:"w-full",children:[!x&&(0,h.jsx)("div",{className:"fixed left-2 top-2 z-50 md-lg:hidden",children:(0,h.jsx)("button",{type:"button",className:"w-10 h-10 p-2 flex items-center justify-center bg-gray-10 dark:bg-gray-20 dark:text-white",onClick:function(){_(!0)},children:(0,h.jsx)(s.Uq,{})})}),x&&w&&(0,h.jsx)("div",{className:"fixed z-10 inset-0 bg-slate-900/20 md-lg:hidden",onClick:function(){return _(!1)}}),(0,h.jsx)("div",{className:(0,f.Z)("w-64 md-lg:w-[30%] lg:w-[40%]","-ml-64 md-lg:ml-0","fixed h-full z-20","border-0 border-r border-gray-20 border-solid","bg-dashboard","transition-[margin-left] duration-300",{"!ml-0":w},{"is-closed":!x}),children:(0,h.jsx)(g,{backTitle:v,items:t,name:n,picture:a,backLink:c})}),(0,h.jsx)("div",{className:"md-lg:pl-[30%] lg:pl-[40%] max-w-7xl lg:max-w-[85%] w-full",children:(0,h.jsxs)("main",{className:"box-border px-4 sm:px-12 pt-28 pb-14 relative",children:[(0,h.jsx)(u.LE,{className:"absolute top-4 right-4 sm:top-8 sm:right-8 select-none !rounded-full",children:(0,h.jsxs)(i.rU,{to:c,children:[(0,h.jsx)(s.X1,{}),(0,h.jsx)("div",{className:"shortcut absolute left-0 w-full top-8 text-gray-60 text-xs",children:"esc"})]})}),p]})})]})}},60946:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(47313),i=n(41972),o=n(82829),a=n(46557),s=n(83061),c=n(46417);function u(e){var t=e.children,n=e.permanent,u=(0,i.Z)({isSidebarPermanent:!!n}),l=u.isSidebarOpen,d=u.isSidebarToggled,f=u.isSidebarDockable,h=u.toggleSidebar;return(0,r.useEffect)((function(){return(0,o.d)("`",(function(e){var t;(t=e.target)instanceof HTMLElement&&"wysiwyg"===t.dataset.type||t instanceof HTMLBRElement||t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement||h()}))}),[h]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"fixed z-20 transition-[left] ease-in-out left-0 flex flex-col w-full h-full shadow-border x-custom-scrollbar overscroll-none overflow-x-hidden overflow-y-auto bg-color-light",style:{maxWidth:a.ZR,left:l?0:-a.ZR},children:t}),l&&d&&(0,c.jsx)("div",{className:(0,s.Z)("fixed z-10 top-0 bottom-0 left-0 right-0 blur-sm bg-slate-900/20",{hidden:f}),onClick:function(){return h(!1)}})]})}},61029:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(33032),i=n(84322),o=n.n(i),a=n(47313),s=n(80896),c=n(90455),u=n(58501),l=n(46417),d=(0,u.Z)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(281).then(n.bind(n,81656));case 2:return e.t0=e.sent.StripeElements,e.abrupt("return",{default:e.t0});case 4:case"end":return e.stop()}}),e)}))));function f(e){var t=e.children;return(0,l.jsx)(a.Suspense,{fallback:(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(s.Z,{})," "]}),children:(0,l.jsx)(d,{children:t})})}},50638:function(e,t,n){"use strict";n.d(t,{C:function(){return f},P:function(){return p}});var r=n(50678),i=n(47313),o=n(48688),a=n(1229),s=n(30207),c=n.n(s),u=n(78613),l=n(63830),d=n(69563),f=(0,o.cn)({status:"disconnected",error:null,socket:null}),h=localStorage.getItem("wssid")||"wssid-".concat((0,u.Tr)(12));localStorage.setItem("wssid",h);var p=function(){var e=(0,o.KO)(f),t=(0,r.Z)(e,2)[1],n=(0,a.Z)().token;return(0,i.useEffect)((function(){t({status:"connecting",error:null,socket:null});var e=(0,l.LX)(window.location.pathname,{exact:!0,path:Object.values(d.Z6)}),r={token:n||"",wssid:h,clientVersion:window.VERSION||"",route:(null===e||void 0===e?void 0:e.path)||""};console.info("using socket io",window.localStorage.__test||"https://plus-collab-lb.excalidraw.com");var i=c()("".concat(window.localStorage.__test||"https://plus-collab-lb.excalidraw.com"),{query:r,transports:["websocket"]});return i.on("error",(function(e){t({status:"error",error:new Error(e),socket:null})})),i.on("connect",(function(){setTimeout((function(){t({status:"connected",error:null,socket:i})}))})),i.on("disconnect",(function(){t({status:"disconnected",error:null,socket:null})})),function(){t({status:"disconnected",error:null,socket:null}),i.close()}}),[n,t]),null}},98714:function(e,t,n){"use strict";n.d(t,{z:function(){return c},s:function(){return u}});var r=n(47313),i=n(63830),o=n(69563),a=n(46417),s=r.createContext(null),c=function(e){var t=(0,i.$B)({exact:!0,path:Object.values(o.Z6)})||{params:{},path:""};return(0,a.jsx)(s.Provider,{value:{params:t.params,route:t.path,history:(0,i.k6)()},children:e.children})},u=function(){return(0,r.useContext)(s)}},64589:function(e,t,n){"use strict";n.d(t,{Y:function(){return c},x:function(){return u}});var r=n(50678),i=n(48688),o=n(47313),a=n(46417),s=JSON.parse(localStorage.getItem("userSettings")||"{}"),c=(0,i.cn)({theme:s.theme||"light"}),u=function(e){var t=(0,i.KO)(c),n=(0,r.Z)(t,1)[0],s=(0,o.useRef)(n);return s.current=n,(0,o.useLayoutEffect)((function(){localStorage.setItem("userSettings",JSON.stringify(s.current)),document.body.classList.toggle("dark","dark"===n.theme)}),[n.theme]),(0,a.jsx)(a.Fragment,{children:e.children})}},7269:function(e,t,n){"use strict";n.d(t,{xj:function(){return i},lx:function(){return o},PR:function(){return a},D$:function(){return s},t8:function(){return c},LK:function(){return u}});var r=n(38187),i=function(e){var t,n=e||{};return{id:n.id,orgs:n.orgs||[],isInitialized:null!==(t=n.isInitialized)&&void 0!==t&&t,claimsCreated:n.claimsCreated||0,accountType:n.accountType||r.Dt}},o=function(e){return e.type||r.Dt},a=function(e){return!["lifetime"].includes(e.duration)},s=function(e,t){return(null===e||void 0===e?void 0:e[t])||null},c=function(e){return{id:e.id,isInitialized:!0,orgs:(e.workspaces||[]).map((function(e){return e.id})).sort(),claimsCreated:Date.now(),accountType:o(e)}},u=function(e){return{isInitialized:e.isInitialized,accountType:e.accountType,id:e.id,orgs:(e.orgs||[]).sort()}}},38187:function(e,t,n){"use strict";n.d(t,{f7:function(){return r},rd:function(){return i},mk:function(){return o},KW:function(){return a},qT:function(){return s},V1:function(){return c},x6:function(){return u},Dt:function(){return l},qj:function(){return d},r7:function(){return f},Jn:function(){return h},ND:function(){return p},rC:function(){return m},Ul:function(){return v},cR:function(){return g},y8:function(){return y},gM:function(){return b},GT:function(){return w},T0:function(){return x}});var r=["member","admin"],i={none:0,read:1,write:2,admin:4},o={none:i.none,reader:i.read,editor:i.read|i.write,admin:i.read|i.write|i.admin},a={user:[],staff:[]},s={staff:1/0,user:5},c={beta:"Free subscription during the beta.",month:"Free subscription for one month.",lifetime:"Free subscription."},u=[{label:"1 use",value:1},{label:"2 uses",value:2},{label:"5 uses",value:5},{label:"10 uses",value:10},{label:"25 uses",value:25},{label:"50 uses",value:50},{label:"No limit",value:"unlimited"}],l="user",d={private:"private",legacyDefault:"default"},f=10,h={default:"default"},p=6,m=3,v={workspaceAdministration:"administration"},g={workspacePermissions:"permissions"},y={LAST_ACTIVE:1,YEARLY_BILLING:2},b="0",w={SCENE_COMMENT_ADDED:"SCENE_COMMENT_ADDED",SCENE_COMMENT_RESOLVED:"SCENE_COMMENT_RESOLVED",SCENE_COMMENT_REOPENED:"SCENE_COMMENT_REOPENED",SCENE_COMMENT_REPLIED:"SCENE_COMMENT_REPLIED",SCENE_COMMENT_MENTIONED:"SCENE_COMMENT_MENTIONED"},x={monthly:{name:"Excalidraw+ Monthly",priceId:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",price:700,interval_count:1,billed:"monthly",trialPeriodDays:14,currency:"USD"},yearly:{name:"Excalidraw+ Yearly",priceId:"price_1KTu28DdqaPMsMHtSBIEPSkh",price:600,interval_count:12,billed:"yearly",trialPeriodDays:14,currency:"USD"}}},81171:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var r=[{name:"Afghanistan",cca2:"af",code:93},{name:"Albania",cca2:"al",code:355},{name:"Algeria",cca2:"dz",code:213},{name:"American Samoa",cca2:"as",code:1684},{name:"Andorra",cca2:"ad",code:376},{name:"Angola",cca2:"ao",code:244},{name:"Anguilla",cca2:"ai",code:1264},{name:"Antigua and Barbuda",cca2:"ag",code:1268},{name:"Argentina",cca2:"ar",code:54},{name:"Armenia",cca2:"am",code:374},{name:"Aruba",cca2:"aw",code:297},{name:"Australia",cca2:"au",code:61},{name:"Austria",cca2:"at",code:43},{name:"Azerbaijan",cca2:"az",code:994},{name:"Bahamas",cca2:"bs",code:1242},{name:"Bahrain",cca2:"bh",code:973},{name:"Bangladesh",cca2:"bd",code:880},{name:"Barbados",cca2:"bb",code:1246},{name:"Belarus",cca2:"by",code:375},{name:"Belgium",cca2:"be",code:32},{name:"Belize",cca2:"bz",code:501},{name:"Benin",cca2:"bj",code:229},{name:"Bermuda",cca2:"bm",code:1441},{name:"Bhutan",cca2:"bt",code:975},{name:"Bolivia",cca2:"bo",code:591},{name:"Bosnia and Herzegovina",cca2:"ba",code:387},{name:"Botswana",cca2:"bw",code:267},{name:"Brazil",cca2:"br",code:55},{name:"Brunei Darussalam",cca2:"bn",code:673},{name:"Bulgaria",cca2:"bg",code:359},{name:"Burkina Faso",cca2:"bf",code:226},{name:"Burundi",cca2:"bi",code:257},{name:"Cambodia",cca2:"kh",code:855},{name:"Cameroon",cca2:"cm",code:237},{name:"Canada",cca2:"ca",code:1},{name:"Cape Verde",cca2:"cv",code:238},{name:"Cayman Islands",cca2:"ky",code:1345},{name:"Central African Republic",cca2:"cf",code:236},{name:"Chad",cca2:"td",code:235},{name:"Chile",cca2:"cl",code:56},{name:"China",cca2:"cn",code:86},{name:"Colombia",cca2:"co",code:57},{name:"Comoros",cca2:"km",code:269},{name:"Congo (DRC)",cca2:"cd",code:243},{name:"Congo (Republic)",cca2:"cg",code:242},{name:"Cook Islands",cca2:"ck",code:682},{name:"Costa Rica",cca2:"cr",code:506},{name:"Ivory Coast",cca2:"ci",code:225},{name:"Croatia",cca2:"hr",code:385},{name:"Cuba",cca2:"cu",code:53},{name:"Cyprus",cca2:"cy",code:357},{name:"Czech Republic",cca2:"cz",code:420},{name:"Denmark",cca2:"dk",code:45},{name:"Djibouti",cca2:"dj",code:253},{name:"Dominica",cca2:"dm",code:1767},{name:"Dominican Republic",cca2:"do",code:1809},{name:"Ecuador",cca2:"ec",code:593},{name:"Egypt",cca2:"eg",code:20},{name:"El Salvador",cca2:"sv",code:503},{name:"Equatorial Guinea",cca2:"gq",code:240},{name:"Eritrea",cca2:"er",code:291},{name:"Estonia",cca2:"ee",code:372},{name:"Ethiopia",cca2:"et",code:251},{name:"Faroe Islands",cca2:"fo",code:298},{name:"Fiji",cca2:"fj",code:679},{name:"Finland",cca2:"fi",code:358},{name:"France",cca2:"fr",code:33},{name:"French Polynesia",cca2:"pf",code:689},{name:"Gabon",cca2:"ga",code:241},{name:"Gambia",cca2:"gm",code:220},{name:"Georgia",cca2:"ge",code:995},{name:"Germany",cca2:"de",code:49},{name:"Ghana",cca2:"gh",code:233},{name:"Gibraltar",cca2:"gi",code:350},{name:"Greece",cca2:"gr",code:30},{name:"Greenland",cca2:"gl",code:299},{name:"Grenada",cca2:"gd",code:1473},{name:"Guadeloupe",cca2:"gp",code:590},{name:"Guam",cca2:"gu",code:1671},{name:"Guatemala",cca2:"gt",code:502},{name:"Guernsey",cca2:"gg",code:44},{name:"Guinea",cca2:"gn",code:224},{name:"Guinea-Bissau",cca2:"gw",code:245},{name:"Guyana",cca2:"gy",code:592},{name:"Haiti",cca2:"ht",code:509},{name:"Honduras",cca2:"hn",code:504},{name:"Hong Kong",cca2:"hk",code:852},{name:"Hungary",cca2:"hu",code:36},{name:"Iceland",cca2:"is",code:354},{name:"India",cca2:"in",code:91},{name:"Indonesia",cca2:"id",code:62},{name:"Iran",cca2:"ir",code:98},{name:"Iraq",cca2:"iq",code:964},{name:"Ireland",cca2:"ie",code:353},{name:"Isle of Man",cca2:"im",code:44},{name:"Israel",cca2:"il",code:972},{name:"Italy",cca2:"it",code:39},{name:"Jamaica",cca2:"jm",code:1876},{name:"Japan",cca2:"jp",code:81},{name:"Jersey",cca2:"je",code:44},{name:"Jordan",cca2:"jo",code:962},{name:"Kazakhstan",cca2:"kz",code:7},{name:"Kenya",cca2:"ke",code:254},{name:"Kiribati",cca2:"ki",code:686},{name:"Kuwait",cca2:"kw",code:965},{name:"Kyrgyzstan",cca2:"kg",code:996},{name:"Laos",cca2:"la",code:856},{name:"Latvia",cca2:"lv",code:371},{name:"Lebanon",cca2:"lb",code:961},{name:"Lesotho",cca2:"ls",code:266},{name:"Liberia",cca2:"lr",code:231},{name:"Libya",cca2:"ly",code:218},{name:"Liechtenstein",cca2:"li",code:423},{name:"Lithuania",cca2:"lt",code:370},{name:"Luxembourg",cca2:"lu",code:352},{name:"Macao",cca2:"mo",code:853},{name:"Macedonia",cca2:"mk",code:389},{name:"Madagascar",cca2:"mg",code:261},{name:"Malawi",cca2:"mw",code:265},{name:"Malaysia",cca2:"my",code:60},{name:"Maldives",cca2:"mv",code:960},{name:"Mali",cca2:"ml",code:223},{name:"Malta",cca2:"mt",code:356},{name:"Marshall Islands",cca2:"mh",code:692},{name:"Martinique",cca2:"mq",code:596},{name:"Mauritania",cca2:"mr",code:222},{name:"Mauritius",cca2:"mu",code:230},{name:"Mexico",cca2:"mx",code:52},{name:"Micronesia",cca2:"fm",code:691},{name:"Moldova",cca2:"md",code:373},{name:"Monaco",cca2:"mc",code:377},{name:"Mongolia",cca2:"mn",code:976},{name:"Montenegro",cca2:"me",code:382},{name:"Montserrat",cca2:"ms",code:1664},{name:"Morocco",cca2:"ma",code:212},{name:"Mozambique",cca2:"mz",code:258},{name:"Myanmar (Burma)",cca2:"mm",code:95},{name:"Namibia",cca2:"na",code:264},{name:"Nauru",cca2:"nr",code:674},{name:"Nepal",cca2:"np",code:977},{name:"Netherlands",cca2:"nl",code:31},{name:"New Caledonia",cca2:"nc",code:687},{name:"New Zealand",cca2:"nz",code:64},{name:"Nicaragua",cca2:"ni",code:505},{name:"Niger",cca2:"ne",code:227},{name:"Nigeria",cca2:"ng",code:234},{name:"North Korea",cca2:"kp",code:850},{name:"Norway",cca2:"no",code:47},{name:"Oman",cca2:"om",code:968},{name:"Pakistan",cca2:"pk",code:92},{name:"Palau",cca2:"pw",code:680},{name:"Palestinian Territory",cca2:"ps",code:970},{name:"Panama",cca2:"pa",code:507},{name:"Papua New Guinea",cca2:"pg",code:675},{name:"Paraguay",cca2:"py",code:595},{name:"Peru",cca2:"pe",code:51},{name:"Philippines",cca2:"ph",code:63},{name:"Poland",cca2:"pl",code:48},{name:"Portugal",cca2:"pt",code:351},{name:"Puerto Rico",cca2:"pr",code:1787},{name:"Qatar",cca2:"qa",code:974},{name:"Reunion",cca2:"re",code:262},{name:"Romania",cca2:"ro",code:40},{name:"Russian Federation",cca2:"ru",code:7},{name:"Rwanda",cca2:"rw",code:250},{name:"Saint Kitts and Nevis",cca2:"kn",code:1869},{name:"Saint Lucia",cca2:"lc",code:1758},{name:"Saint Vincent and the Grenadines",cca2:"vc",code:1784},{name:"Samoa",cca2:"ws",code:685},{name:"San Marino",cca2:"sm",code:378},{name:"Sao Tome and Principe",cca2:"st",code:239},{name:"Saudi Arabia",cca2:"sa",code:966},{name:"Senegal",cca2:"sn",code:221},{name:"Serbia",cca2:"rs",code:381},{name:"Seychelles",cca2:"sc",code:248},{name:"Sierra Leone",cca2:"sl",code:232},{name:"Singapore",cca2:"sg",code:65},{name:"Slovakia",cca2:"sk",code:421},{name:"Slovenia",cca2:"si",code:386},{name:"Solomon Islands",cca2:"sb",code:677},{name:"Somalia",cca2:"so",code:252},{name:"South Africa",cca2:"za",code:27},{name:"South Korea",cca2:"kr",code:82},{name:"Spain",cca2:"es",code:34},{name:"Sri Lanka",cca2:"lk",code:94},{name:"Sudan",cca2:"sd",code:249},{name:"Suriname",cca2:"sr",code:597},{name:"Swaziland",cca2:"sz",code:268},{name:"Sweden",cca2:"se",code:46},{name:"Switzerland",cca2:"ch",code:41},{name:"Syrian Arab Republic",cca2:"sy",code:963},{name:"Taiwan",cca2:"tw",code:886},{name:"Tajikistan",cca2:"tj",code:992},{name:"Tanzania",cca2:"tz",code:255},{name:"Thailand",cca2:"th",code:66},{name:"Timor-Leste",cca2:"tl",code:670},{name:"Togo",cca2:"tg",code:228},{name:"Tonga",cca2:"to",code:676},{name:"Trinidad and Tobago",cca2:"tt",code:1868},{name:"Tunisia",cca2:"tn",code:216},{name:"Turkey",cca2:"tr",code:90},{name:"Turkmenistan",cca2:"tm",code:993},{name:"Turks and Caicos Islands",cca2:"tc",code:1649},{name:"Tuvalu",cca2:"tv",code:688},{name:"Uganda",cca2:"ug",code:256},{name:"Ukraine",cca2:"ua",code:380},{name:"United Arab Emirates",cca2:"ae",code:971},{name:"United Kingdom",cca2:"gb",code:44},{name:"United States",cca2:"us",code:1},{name:"Uruguay",cca2:"uy",code:598},{name:"Uzbekistan",cca2:"uz",code:998},{name:"Vanuatu",cca2:"vu",code:678},{name:"Vatican City",cca2:"va",code:379},{name:"Venezuela",cca2:"ve",code:58},{name:"Viet Nam",cca2:"vn",code:84},{name:"Virgin Islands (British)",cca2:"vg",code:1284},{name:"Virgin Islands (U.S.)",cca2:"vi",code:1340},{name:"Western Sahara",cca2:"eh",code:212},{name:"Yemen",cca2:"ye",code:967},{name:"Zambia",cca2:"zm",code:260},{name:"Zimbabwe",cca2:"zw",code:263}]},71188:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var r=null;r="true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"}.REACT_APP_IS_STAGING?{apiKey:"AIzaSyBf2IVvETEcnPpTQORjtbefpIX7GZr4SpE",authDomain:"auth.excalidraw.com",projectId:"excalidraw-plus-dev",storageBucket:"excalidraw-plus-dev.appspot.com",messagingSenderId:"825878046890",appId:"1:825878046890:web:dd110b30e5c207c208c8d3",databaseURL:null,measurementId:null}:{apiKey:"AIzaSyCjoSAqe6M7N3dSdh-uygUgSuBjkYnYhiw",authDomain:"auth.excalidraw.com",databaseURL:"https://quickstart-1595168317408.firebaseio.com",projectId:"quickstart-1595168317408",storageBucket:"quickstart-1595168317408.appspot.com",messagingSenderId:"526311947924",appId:"1:526311947924:web:c96ccf4d40dd25ef96be81",measurementId:"G-K53KC2S09P"}},72917:function(e,t,n){"use strict";n.d(t,{p:function(){return i},w:function(){return o}});var r=n(18489),i=function(e){var t=[];return e.forEach((function(e){t.push((0,r.Z)((0,r.Z)({},e.data()),{},{id:e.id}))})),t},o=function(e){var t=e.data();return t?(0,r.Z)((0,r.Z)({},t),{},{id:e.id}):void 0}},25978:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=n(33032),i=n(84322),o=n.n(i),a=n(3463),s=n(81171),c=n(38187);a.kM(a.Z_,"notMatch",(function(e,t){return this.test((function(n,r){return"string"===typeof n&&!e.test(n)||r.createError({message:t})}))})),a.kM(a.nK,"submitCheck",(function(e,t){return this.test(function(){var n=(0,r.Z)(o().mark((function n(r,i){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!==(a=i.options.context)&&void 0!==a&&a.isSubmit){n.next=2;break}return n.abrupt("return",!0);case 2:return n.prev=2,n.next=5,e(r,i);case 5:if(!1!==n.sent){n.next=9;break}throw new Error(t||"${label} is invalid");case 9:return n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(2),n.abrupt("return",i.createError({path:i.path,message:n.t0.message||t}));case 15:case"end":return n.stop()}}),n,null,[[2,12]])})));return function(e,t){return n.apply(this,arguments)}}())}));var u=a.Z_().required(),l=a.Z_().oneOf(s.o.reduce((function(e,t){return e.push(t.cca2),e}),[]),"Country is not filled"),d=a.Z_().trim().max(255,"Maximum 255 characters are allowed"),f=a.Z_().trim().email("Email should be in the form name@example.com").required("Email is required"),h=a.Z_().trim().notMatch(/\s/,"${label} can't contain spaces").matches(/^[a-z0-9._-]*$/g,'Only a-z, 0-9  characters are allowed and "-", "_", "." as separators').notMatch(/^[-._]/,'${label} can\'t start with "-", "_", "." characters').notMatch(/[-._]$/g,'${label} can\'t end with "-", "_", "." characters').notMatch(/([_]{2,}|[.]{2,}|[-]{2,})/g,'You can\'t use use multiple separators "-", "_", "." next to each other').min(2,"At least 2 characters are required").max(50,"Maximum 50 characters are allowed").required("${label} name is required"),p={country:l.required("Country is required").label("Country"),state:d.nullable().optional().label("State/province"),city:d.nullable().optional().label("City"),line1:d.nullable().optional().label("Address"),line2:d.nullable().optional().label("Address suite/unit"),postal_code:d.nullable().optional().label("Postal code")},m=a.Ry({id:a.Z_().required(),native:a.Z_().required(),unified:a.Z_().required()}),v={DB_ID:u,boolean:a.O7(),VAT_ID:d.label("TAX ID"),companyName:a.Z_().trim().max(255).typeError("must be a string").label("Company name"),workspace:{name:h.label("Workspace")},productInvite:{id:a.Z_().required()},workspaceInvite:{linkType:a.Z_().oneOf(["link"]).required(),nonLinkType:a.Z_().oneOf(["username","email"]).required(),role:a.Z_().oneOf(c.f7).required(),maxUses:a.nK().oneOf(c.x6.map((function(e){return e.value}))).required(),restrictedDomains:a.IX().of(a.Z_().matches(/^[\w.]+$/,"Restricted domain can only contain alphanumeric characters and dots.")).nullable().required()},subscription:{customerId:a.Z_().required(),paymentMethodId:a.Z_().required(),stripeSubscriptionId:a.Z_().required(),priceId:a.Z_().required(),promotionCode:a.Z_().required()},user:{name:a.Z_().trim().transform((function(e){return e.replace(/(\S)\s{2,}(\S)/g,(function(e,t,n){return"".concat(t," ").concat(n)}))})).min(2).max(50).required().label("Name"),email:f},collection:{id:u.optional().defined().nullable(),name:a.Z_().trim().min(2).max(100).required().label("Name"),emoji:m.required().label("Icon")},scene:{name:a.Z_().trim().min(1).max(100).required().label("Name"),workspace:u,contents:a.Ry({type:a.Z_().oneOf(["excalidraw"]).required(),version:a.Rx(),source:a.Z_(),appState:a.Ry({viewBackgroundColor:a.Z_()}),elements:a.IX(),sceneVersion:a.Z_()})},email:f,address:p,team:{id:a.Z_().min(1).max(c.rC).matches(/^[a-zA-Z0-9_-]+$/).required(),name:a.Z_().trim().min(1).max(30).required().label("Name"),color:a.Z_().matches(/^#[a-z0-9]{6}$/i).required().label("Color")},subscriptionCheckout:{companyName:d.optional(),billingEmail:a.Z_().trim().email("Valid billing email is required").required("Valid billing email is required"),promotionCode:d.optional(),priceId:u.required(),country:l.required("Country is required").label("Country"),state:d.nullable().optional().label("State/province"),city:d.nullable().optional().label("City"),line1:d.nullable().optional().label("Address"),line2:d.nullable().optional().label("Address suite/unit"),postal_code:d.nullable().optional().label("Postal code"),vat_id:d.label("TAX ID")},signInWithEmail:{email:f}}},65836:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var r={update:"UPDATE",roomJoin:"ROOM_JOIN",roomLeave:"ROOM_LEAVE",roomUserJoin:"ROOM_USER_JOIN",roomUsersChange:"ROOM_USERS_CHANGE",roomUsersChangeGlobal:"ROOM_USER_JOIN_GLOBAL",workspaceJoin:"WORKSPACE_JOIN",workspaceLeave:"WORKSPACE_LEAVE",updateName:"UPDATE_NAME"}},78613:function(e,t,n){"use strict";n.d(t,{xn:function(){return F},LW:function(){return W},hO:function(){return S},Zd:function(){return L},l9:function(){return R},Um:function(){return V},S1:function(){return P},K9:function(){return D},no:function(){return A},_t:function(){return U},Tr:function(){return O},AG:function(){return Z},eo:function(){return N},xp:function(){return I},PI:function(){return T},Zp:function(){return z},hR:function(){return B}});var r=n(31303),i=n(18489),o=n(50678),a=n(84023),s=n(82751),c=n(38187);var u=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),l=n(69775),d=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,f=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var h=function(e){return(e=(0,l.Z)(e))&&e.replace(d,u).replace(f,"")},p=n(4528),m="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",v="A00000000000000000000000000";function g(e,t,n){if(null!==t&&e>=t)throw new Error(e+" >= "+t);if("0"===e.slice(-1)||t&&"0"===t.slice(-1))throw new Error("trailing zero");if(t){for(var r=0;(e[r]||"0")===t[r];)r++;if(r>0)return t.slice(0,r)+g(e.slice(r),t.slice(r),n)}var i=e?n.indexOf(e[0]):0,o=null!==t?n.indexOf(t[0]):n.length;return o-i>1?n[Math.round(.5*(i+o))]:t&&t.length>1?t.slice(0,1):n[i]+g(e.slice(1),null,n)}function y(e){if(e.length!==b(e[0]))throw new Error("invalid integer part of order key: "+e)}function b(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function w(e){var t=b(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function x(e){if(e===v)throw new Error("invalid order key: "+e);var t=w(e);if("0"===e.slice(t.length).slice(-1))throw new Error("invalid order key: "+e)}function _(e,t){y(e);for(var n=e.split(""),r=(0,p.Z)(n),i=r[0],o=r.slice(1),a=!0,s=o.length-1;a&&s>=0;s--){var c=t.indexOf(o[s])+1;c===t.length?o[s]="0":(o[s]=t[c],a=!1)}if(a){if("Z"===i)return"a0";if("z"===i)return null;var u=String.fromCharCode(i.charCodeAt(0)+1);return u>"a"?o.push("0"):o.pop(),u+o.join("")}return i+o.join("")}function E(e,t){y(e);for(var n=e.split(""),r=(0,p.Z)(n),i=r[0],o=r.slice(1),a=!0,s=o.length-1;a&&s>=0;s--){var c=t.indexOf(o[s])-1;-1===c?o[s]=t.slice(-1):(o[s]=t[c],a=!1)}if(a){if("a"===i)return"Z"+t.slice(-1);if("A"===i)return null;var u=String.fromCharCode(i.charCodeAt(0)-1);return u<"Z"?o.push(t.slice(-1)):o.pop(),u+o.join("")}return i+o.join("")}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;if(null!==e&&x(e),null!==t&&x(t),null!==e&&null!==t&&e>=t)throw new Error(e+" >= "+t);if(null===e){if(null===t)return"a0";var r=w(t),i=t.slice(r.length);if(r===v)return r+g("",i,n);if(r<t)return r;var o=E(r,n);if(null===o)throw new Error("cannot decrement any more");return o}if(null===t){var a=w(e),s=e.slice(a.length),c=_(a,n);return null===c?a+g(s,null,n):c}var u=w(e),l=e.slice(u.length),d=w(t),f=t.slice(d.length);if(u===d)return u+g(l,f,n);var h=_(u,n);if(null===h)throw new Error("cannot increment any more");return h<t?h:u+g(l,null,n)}var C="/letter-avatars",S=function(e){return new Date(null!==e&&void 0!==e?e:Date.now()).toISOString()},j=["image/png","image/jpg","image/jpeg"],A=function(e){return e&&j.includes(e)},T=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},I=function(e){var t=null===e||void 0===e?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return t?Array.from(t).filter((function(e){return e.tabIndex>-1&&!e.disabled})):[]},O=function(e){return(0,s.kP)("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e)()},D=function(e){return"string"===typeof e&&e!==c.qj.private&&e!==c.qj.legacyDefault},N=function(e){for(var t=[],n=0,r=Object.entries(e.teams||{});n<r.length;n++){var s=(0,o.Z)(r[n],2),c=s[0],u=s[1];t.push((0,i.Z)((0,i.Z)({id:c},u),{},{collections:u.collections||{},users:u.users||{}}))}return(0,a.Z)(t,"created","asc")},P=function(e){return e.startsWith("inv_")},M=["red","pink","purple","deeppurple","indigo","blue","teal","deeporange"];var L=function(e){var t=e.includeFullPath?"https://app.excalidraw.com/":"",n="string"===typeof e.name?h(e.name.trim().toLowerCase()):null;if(!n||!/[a-z0-9]/.test(n[0]))return"".concat(t).concat(C,"/unknown.png");var r=n[0],i=function(e){var t=Array.from(e).map((function(e){return e.codePointAt(0)||0})).reduce((function(e,t){return e+t}),e.length);return M[t%M.length]}(n);return"".concat(t).concat(C,"/").concat(r,"_").concat(i,".png")},R=function(e,t){return!!((e||0)&t)},Z=function(e){return e},F=function(e){return e.reduce((function(e,t){return e.set("string"===typeof t?t:t.id,t),e}),new Map)},U=function(e,t){return e.reduce((function(e,n){var r=t.find((function(e){return e.id===n}));return r&&e.push(r),e}),[])},z=function(e,t){try{var n,r;return e&&t&&e>=t&&(t=null),e===c.gM&&(e=null),k(null!==(n=e)&&void 0!==n?n:null,null!==(r=t)&&void 0!==r?r:null)}catch(i){return null}},B=function(e,t){var n=null,i=null,o=null,a=function t(a){n=window.requestAnimationFrame((function(){n=null,e.apply(void 0,(0,r.Z)(a)),i=null,o&&(i=o,o=null,t(i))}))},s=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];i=r,null===n?a(i):!1!==(null===t||void 0===t?void 0:t.trailing)&&(o=r)};return s.flush=function(){null!==n&&(cancelAnimationFrame(n),n=null),i&&(e.apply(void 0,(0,r.Z)(o||i)),i=o=null)},s.cancel=function(){i=o=null,null!==n&&(cancelAnimationFrame(n),n=null)},s},V="object"===typeof navigator&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),W=function(e,t,n,r){var i=n-e,o=r-t;return Math.hypot(i,o)}},1229:function(e,t,n){"use strict";var r=n(12512),i=n(47313);t.Z=function(){return(0,i.useContext)(r.gX)}},66151:function(e,t,n){"use strict";n.d(t,{R:function(){return o},p:function(){return a}});var r=n(47313),i=n(24691),o=function(e){var t=(0,r.useRef)(e);t.current=e;var n=(0,r.useRef)();return n.current||(n.current=function(){return t.current.apply(t,arguments)}),n.current},a=function(e,t,n){var o=(0,r.useRef)(e);o.current=e;var a=(0,r.useRef)();return a.current||(a.current=(0,i.Z)((function(){return o.current.apply(o,arguments)}),t,n)),a.current}},41041:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var r=n(50678),i=n(27853),o=n(84531),a=n(47313),s=function(){function e(){(0,i.Z)(this,e),this.list=[]}return(0,o.Z)(e,[{key:"add",value:function(e){var t=this;return this.list.push(e),e&&"object"===typeof e&&"finally"in e&&e.finally((function(){t.list=t.list.filter((function(t){return t!==e}))})),e}},{key:"cancelAll",value:function(){this.list.forEach((function(e){"number"===typeof e?clearTimeout(e):e&&e.cancel&&e.cancel("Operation was canceled")})),this.list=[]}}]),e}(),c=function(){var e=(0,a.useState)((function(){return new s})),t=(0,r.Z)(e,1)[0];return(0,a.useEffect)((function(){return function(){t.cancelAll()}}),[t]),t}},75847:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(47313),i=function(e){(0,r.useEffect)((function(){return document.title="".concat(e," \u2014 Excalidraw Plus"),function(){document.title="Excalidraw Plus"}}),[e])}},46956:function(e,t,n){"use strict";n.d(t,{I:function(){return a},Z:function(){return s}});var r=n(50678),i=n(2466),o=n(48688),a=(0,o.cn)(null);function s(){var e=(0,o.KO)(a,i.jotaiScope),t=(0,r.Z)(e,2);return[t[0],t[1]]}},86645:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(43270),i=function(e,t){for(var n in t.fields){var i=t.fields[n];if(i&&i.ref&&"reportValidity"in i.ref){var o=(0,r.U2)(e,n);i.ref.setCustomValidity(o&&o.message||""),i.ref.reportValidity()}}},o=function(e,t){t.shouldUseNativeValidation&&i(e,t);var n={};for(var o in e){var a=(0,r.U2)(t.fields,o);(0,r.t8)(n,o,Object.assign(e[o],{ref:a&&a.ref}))}return n},a=n(3463);function s(e){var t,n,s,c=e.defaultValues,u=e.validationSchema,l=(0,r.cI)({resolver:(t=a.Ry().shape(u),void 0===n&&(n={}),void 0===s&&(s={}),function(e,a,c){try{return Promise.resolve(function(r,o){try{var u=(n.context,Promise.resolve(t["sync"===s.mode?"validateSync":"validate"](e,Object.assign({abortEarly:!1},n,{context:a}))).then((function(e){return c.shouldUseNativeValidation&&i({},c),{values:e,errors:{}}})))}catch(l){return o(l)}return u&&u.then?u.then(void 0,o):u}(0,(function(e){return{values:{},errors:o((t=e,n=!c.shouldUseNativeValidation&&"all"===c.criteriaMode,t.inner.reduce((function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var i=e[t.path].types,o=i&&i[t.type];e[t.path]=(0,r.KN)(t.path,n,e,t.type,o?[].concat(o,t.message):t.message)}return e}),{})),c)};var t,n})))}catch(u){return Promise.reject(u)}}),defaultValues:c});return l}},58521:function(e,t,n){"use strict";var r=n(33032),i=n(50678),o=n(84322),a=n.n(o),s=n(47313),c=n(91655),u=n(73679);t.Z=function(e){var t=e.endpoint,n=e.reducer,o=e.payload,l=(0,s.useState)(),d=(0,i.Z)(l,2),f=d[0],h=d[1],p=(0,s.useReducer)((function(e,t){switch(t.type){case"removeById":return e&&e.length?e.reduce((function(e,n){return n.id!==t.id?(e.push(n),e):e}),[]):e;case"replace":return t.data;case"push":var r=(e||[]).slice();return r.push(t.data),r;case"refetch":return h(Date.now()),e;case"prepend":var i=(e||[]).slice();return i.unshift(t.data),i;default:if((0,c.Z)(n))return n(e,t);throw new Error('Action type "'.concat(t.type,'" does not exist'))}}),null),m=(0,i.Z)(p,2),v=m[0],g=m[1],y=(0,s.useState)(!0),b=(0,i.Z)(y,2),w=b[0],x=b[1],_=(0,s.useState)(null),E=(0,i.Z)(_,2),k=E[0],C=E[1];return(0,s.useEffect)((function(){function e(){return(e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,u.Z.get(t,o);case 4:n=e.sent,g({type:"replace",data:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C(e.t0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,o,f]),[v,w,k,{removeById:function(e){g({type:"removeById",id:e})},replace:function(e){g({type:"replace",data:e})},push:function(e){g({type:"push",data:e})},prepend:function(e){g({type:"prepend",data:e})},refetch:function(){g({type:"refetch"})},dispatch:function(e){g(e)}}]}},1970:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(47313),i=n(54778),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Z,n=(0,r.useRef)(null);return n.current===e||t(n.current,e)?n.current:(n.current=e,e)}},6427:function(e,t,n){"use strict";n.d(t,{K:function(){return y},L:function(){return b}});var r=n(33032),i=n(50678),o=n(84322),a=n.n(o),s=n(48688),c=n(7271),u=n(35210),l=n(19466),d=n(71299),f=(0,u.Z)((function(e){return(0,l.Z)((0,c.Z)(e,1,d.Z,!0))})),h=n(70907),p=n(47313),m=n(78401),v=n(21349),g=n(1229),y=(0,s.cn)([]),b=function(){var e=(0,s.KO)(y),t=(0,i.Z)(e,2),n=t[0],o=t[1],c=(0,g.Z)().userData,u=(0,s.KO)(m.workspaceMembersAtom),l=(0,i.Z)(u,1)[0].userList,d=(0,s.KO)(m.activeWorkspaceAtom),b=(0,i.Z)(d,1)[0],w=(0,s.KO)(m.selectedCollectionAtom),x=(0,i.Z)(w,1)[0],_=(0,p.useMemo)((function(){return(0,h.Z)(l,"id")}),[l]);return(0,p.useEffect)((function(){var e=function(){var e=(0,r.Z)(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("private"!==x){e.next=3;break}return o([]),e.abrupt("return");case 3:if(x&&b.id){e.next=6;break}return o([]),e.abrupt("return");case 6:return e.next=8,v.ZP.getUsersInCollection({collection:x,workspace:b.id});case 8:t=e.sent,n=Object.entries(b.roles||{}).flatMap((function(e){var t=(0,i.Z)(e,2),n=t[0];return"admin"===t[1]?[n]:[]})),r=f(t,n),s=r.flatMap((function(e){return e!==c.id&&_[e]?[_[e]]:[]})),o(s);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[b.id,b.roles,x,o,c,_]),n}},74014:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(47313),i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.useLayoutEffect)((function(){return e&&document.querySelector("#root").classList.add("no-overflow"),function(){document.querySelector("#root").classList.remove("no-overflow")}}),[e])}},30498:function(e,t,n){"use strict";n.d(t,{R:function(){return o},O:function(){return a}});var r=n(47313),i="pointerup",o=function(e,t){function n(n){e.current&&!e.current.contains(n.target)&&document.documentElement.contains(n.target)&&(n.target.closest("[data-radix-portal]")||n.target===document.documentElement&&"none"===document.body.style.pointerEvents||n.target.closest("#mentions-dropdown-container")||t(n))}return e.current&&document.addEventListener(i,n),function(){document.removeEventListener(i,n)}};function a(e,t){(0,r.useEffect)((function(){return o(e,t)}),[e,t])}},92946:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(31303),i=n(63830),o=function(){return Object.fromEntries((0,r.Z)(new URLSearchParams((0,i.TH)().search)))}},55343:function(e,t,n){"use strict";n.d(t,{W:function(){return l},_:function(){return d}});var r=n(50678),i=n(2466),o=n(48688),a=n(84023),s=n(47313),c=n(38187),u=n(78401),l=(0,o.cn)(null),d=function(e){var t=(0,o.KO)(u.sceneListAtom),n=(0,r.Z)(t,1)[0],d=(0,o.KO)(l,i.jotaiScope),f=(0,r.Z)(d,1)[0],h=(0,s.useState)([]),p=(0,r.Z)(h,2),m=p[0],v=p[1];return(0,s.useEffect)((function(){var t=e===c.qj.private,r=["pinned"];f&&"manual"!==f?"name"===f?r.push((function(e){return e.name.toLocaleLowerCase()})):r.push(f):r.push("created"),v((0,a.Z)(n.scenes.filter((function(n){return t?n.isPrivate:n.collection===e&&!n.isPrivate})),r,["desc","name"===f?"asc":"desc"]))}),[e,n.scenes,f]),n.error?{error:n.error,status:n.status,sceneList:[]}:{error:null,status:n.status,sceneList:m}}},41972:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(50678),i=n(30568),o=n(48688),a=n(4528),s=(n(84322),n(47313));Symbol();var c=function(){var e=new WeakMap;return function(t,n){var r=function(e,t){do{var n=t,r=(0,a.Z)(n),i=r[0],o=r.slice(1),s=e.get(i);if(!s)return;if(!o.length)return s[1];e=s[0],t=o}while(t.length)}(e,n);if(r)return r;var i=t();return function(e,t,n){do{var r=t,i=(0,a.Z)(r),o=i[0],s=i.slice(1),c=e.get(o);if(c||(c=[new WeakMap],e.set(o,c)),!s.length)return void(c[1]=n);e=c[0],t=s}while(t.length)}(e,n,i),i}};c();c();c();Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,c();Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var u=function(e){var t,n;return{getItem:function(r){var i=function(e){return t!==(e=e||"")&&(n=JSON.parse(e),t=e),n},o=e().getItem(r);return o instanceof Promise?o.then(i):i(o)},setItem:function(t,n){return e().setItem(t,JSON.stringify(n))},removeItem:function(t){return e().removeItem(t)}}}((function(){return localStorage}));u.subscribe=function(e,t){var n=function(n){n.key===e&&n.newValue&&t(JSON.parse(n.newValue))};return window.addEventListener("storage",n),function(){window.removeEventListener("storage",n)}};c();var l=n(69563),d=function(e,t){var n=(0,o.cn)(e,(function(e,r,i){return r(n,t(e(n),i))}));return n}(!window.matchMedia(l.qk.mobile).matches&&JSON.parse(window.localStorage.getItem("sidebarVisibility")||"true"),(function(e,t){return t="function"===typeof t?t(e):null==t?!e:t,window.localStorage.setItem("sidebarVisibility",String(t)),t})),f=function(e){var t=e.isSidebarPermanent,n=(0,o.KO)(d),a=(0,r.Z)(n,2),c=a[0],u=a[1],l=(0,s.useCallback)((function(e){u(e)}),[u]),f=(0,i.d)(),h=(0,s.useRef)(f);return(0,s.useEffect)((function(){h.current!==f&&(h.current=f,l(!f))}),[f,l]),{isSidebarToggled:c,isSidebarOpen:c||!f&&t,isSidebarDockable:!f,toggleSidebar:l}}},84416:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(47313),i=function(e){var t=(0,r.useRef)(e);return Object.assign(t.current,e),t.current}},452:function(e,t,n){"use strict";n.d(t,{I:function(){return p},l:function(){return v}});var r=n(18489),i=n(50678),o=n(48688),a=n(54778),s=n(84023),c=n(47313),u=n(63590),l=n(51386),d=n(38187),f=n(1229),h=n(7269),p=(0,o.cn)({workspace:null,collections:[],status:"loading",error:null,onCreateEmitter:new u.Q}),m=function(e){return{workspace:e.workspace,id:e.id,name:e.name,created:new Date(0).toISOString(),updated:null,creator:null,updater:null,teams:[],sortOrder:d.gM}},v=function(e){var t,n=e.workspace,u=(0,o.KO)(p),v=(0,i.Z)(u,2),g=v[0],y=v[1],b=g.onCreateEmitter,w=(0,f.Z)(),x=w.claims,_=w.userData,E=function(e,t){var n=(0,c.useState)(null),r=(0,i.Z)(n,2),o=r[0],s=r[1];return(0,c.useEffect)((function(){if(e&&t)return l.ZP.firestore().collection("workspaces").doc(e).onSnapshot((function(e){if(e.exists){var n=e.data();n&&s((function(e){var r={workspaceApiVersion:parseInt(n.apiVersion||"2"),isAdmin:"admin"===(0,h.D$)(n.roles,t)};return(0,a.Z)(e,r)?e:r}))}}))}),[e,t]),o}(n,null===x||void 0===x?void 0:x.id),k=!_,C=(n&&!k&&(null===(t=_.workspaceTeams)||void 0===t?void 0:t[n])||[]).join(",")||"";(0,c.useEffect)((function(){if(n&&E&&!k){var e=l.ZP.firestore().collection("collections").where("workspace","==",n);E.isAdmin||(e=e.where("teams","array-contains-any",C.split(",").concat(d.Jn.default).filter((function(e){return e}))));var t=e.onSnapshot((function(e){var t=[];if(e.forEach((function(e){var n,i,o=e.data(),a=(0,r.Z)((0,r.Z)({},o),{},{isDeleted:null!==(n=o.isDeleted)&&void 0!==n&&n,isDefault:null!==(i=o.isDefault)&&void 0!==i&&i,id:e.id});t.push(a)})),E.workspaceApiVersion<3&&t.unshift(m({workspace:n,id:d.qj.legacyDefault,name:"Main"})),t.unshift(m({workspace:n,id:d.qj.private,name:"Private"})),y((function(e){return{workspace:n,collections:(0,s.Z)(t,["sortOrder","created"],["asc","asc"]),status:"loaded",error:null,onCreateEmitter:e.onCreateEmitter}})),b.subscribers.length){var i=new Map;e.docChanges().forEach((function(e){"added"===e.type&&i.set(e.doc.id,!0)})),b.trigger(t.filter((function(e){return i.has(e.id)})))}}),(function(e){console.error(e),y((function(t){return{workspace:n,collections:[],status:"error",error:e,onCreateEmitter:t.onCreateEmitter}}))}));return function(){t(),y((function(e){return{workspace:null,collections:[],status:"loading",error:null,onCreateEmitter:e.onCreateEmitter}}))}}}),[n,E,y,b,k,C])}},57099:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(50678),i=n(48688),o=n(78401);function a(){var e=(0,i.KO)(o.workspaceMembersAtom);return(0,r.Z)(e,1)[0]}},46823:function(e,t,n){"use strict";n.d(t,{tK:function(){return an},E7:function(){return rn},ZP:function(){return cn},eR:function(){return sn},uC:function(){return on}});var r=n(18489),i=n(31303),o=n(50678),a=n(51386),s=n(48688),c=n(47313),u=n(63830),l=n(33032),d=n(84322),f=n.n(d),h=n(57099),p=n(70377),m=n(33376),v=n(10658),g=n.n(v),y=n(59694),b=n.n(y),w=n(83061),x=n(21756),_=n(80896),E=n(69563),k=n(46417);function C(e){var t=e.userData,n=e.className,r=e.isLoading;return(0,k.jsx)("div",{tabIndex:-1,className:(0,w.Z)("comments-pin self-start flex flex-row bg-default dark:bg-gray-40 rounded-tl-[66px] rounded-tr-[67px] rounded-br-[67px] rounded-bl-[0px] z-[1] ".concat(n," shadow-button-md")),children:r?(0,k.jsx)(_.Z,{size:E.gP-8,style:{padding:4}}):(0,k.jsx)(x.Z,{src:null===t||void 0===t?void 0:t.picture,name:(null===t||void 0===t?void 0:t.name)||"Anonymous",size:E.gP,className:"p-1 select-none touch-none pointer-events-none box-border"})})}var S=n(78613),j=n(66151),A=n(91976),T=n(50424);g().extend(b());var I=null,O=null,D=!1,N=!1;function P(e){var t=e.commentX,n=e.commentY,i=e.excalidrawAPI,a=e.pinRef,u=e.thread,l=e.isActive,d=e.onClick,f=e.onMove,v=e.isLoading,y=e.activeScene,b=(0,h.Z)().userList,x=(0,c.useRef)(null),_=(0,s.KO)(on),P=(0,o.Z)(_,2),M=P[0],L=P[1],R=(0,c.useState)(!1),Z=(0,o.Z)(R,2),F=Z[0],U=Z[1],z=b.find((function(e){return e.id===u.creator})),B=(0,j.p)((function(){N||l||U(!0)}),400),V=(0,c.useRef)(0),W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B.cancel(),e?V.current=window.setTimeout((function(){U(!1)}),400):U(!1)};(0,c.useLayoutEffect)((function(){if(a.current&&x.current){var e=p.Z.calculatePopupCoords({popupContainer:x.current,pin:a.current,excalidrawAPI:i,viewportMargin:10,pinMargin:10}),t=e.x,n=e.y;x.current.style.top==="".concat(n,"px")&&x.current.style.left==="".concat(t,"px")||(x.current.style.top="".concat(n,"px"),x.current.style.left="".concat(t,"px"))}}),[F,i,a]),(0,c.useEffect)((function(){return function(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",O),D=!1,N=!1}}),[]);var H=(0,A.Z)(u.comments);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{ref:a,id:u.id,className:(0,w.Z)("comment-thread flex self-start touch-none select-none absolute hover:z-10",{"z-10":F}),style:{top:t,left:n},onMouseEnter:function(){B(),clearTimeout(V.current)},onMouseLeave:function(){W(!0),D||(N=!1)},onClick:function(){D||d()},onPointerDown:function(e){var t=m.Z.getItemDragOffsetCoords(e);W(),N=!0,D=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",O);var n=e.clientX,o=e.clientY;I=(0,S.hR)((function(e){if(e.stopPropagation(),!D){if(!((0,S.LW)(e.clientX,e.clientY,n,o)>=5))return;D=!0}var r=i.getAppState(),s=e.clientX-t.x-r.offsetLeft,c=e.clientY-t.y-r.offsetTop;a.current&&(a.current.style.top="".concat(c,"px"),a.current.style.left="".concat(s,"px")),f(s,c)})),O=function(e){var t;if(e.stopPropagation(),document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",O),D){requestAnimationFrame((function(){D=!1,i.setActiveTool({type:"selection"})}));var n=null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect();if(n){var o=m.Z.viewportCoordsToSceneCoords({clientX:n.x,clientY:n.y+E.gP},i.getAppState()),s=o.x,c=o.y;L(M.map((function(e){return e.id===u.id?(0,r.Z)((0,r.Z)({},e),{},{x:s,y:c}):e}))),p.Z.updateCoords({sceneId:y.id,threadId:u.id,x:s,y:c})}}},document.addEventListener("pointermove",I),document.addEventListener("pointerup",O)},children:(0,k.jsx)(C,{userData:z,isLoading:v,className:"hover:scale-[103%] hover:shadow-button-lg transition-all duration-200"})}),!l&&F&&(0,k.jsx)("div",{className:"absolute flex cursor-pointer",ref:x,onPointerUp:function(){N=!1,W(!1),d()},onPointerLeave:function(){N=!1,W(!1)},onPointerEnter:function(){clearTimeout(V.current)},children:(0,k.jsx)("div",{className:"flex-col z-10 bg-default rounded-lg min-w-[160px] max-w-[220px] overflow-hidden shadow-lg",children:(0,k.jsxs)("div",{className:"py-2 px-3 shadow-border dark:shadow-none rounded-lg",children:[(0,k.jsxs)("div",{className:"flex text-xs justify-between",children:[(0,k.jsx)("div",{className:"text-left font-bold",children:(null===z||void 0===z?void 0:z.name)||"Anonymous"}),(0,k.jsx)("div",{className:"text-right ml-2 text-[11px] text-gray-60",children:H&&g()(H.created).fromNow()})]}),(0,k.jsx)("div",{className:"text-xs mt-1",children:(0,k.jsx)(T.H,{text:(null===H||void 0===H?void 0:H.text)||""})}),(0,k.jsxs)("div",{className:"text-[11px] text-right mt-1 text-gray-40",children:[u.comments.length," ",u.comments.length>1?"comments":"comment"]})]})})})]})}var M=n(30498),L=n(1229),R=n(34649),Z=n(79095),F=n(78401),U=n(62787),z=n(89860),B=function(e){var t=e.thread,n=e.activeScene,r=e.className,i=(0,s.KO)(R.Y),a=(0,o.Z)(i,2)[1],u=(0,s.KO)(F.activeWorkspaceAtom),d=(0,o.Z)(u,1)[0],h=(0,s.KO)(on),m=(0,o.Z)(h,2),v=m[0],g=m[1],y=(0,s.b9)(an),b=(0,L.Z)().userData,w=(0,s.KO)(z.dM),x=(0,o.Z)(w,1)[0],_=(0,A.Z)(t.comments),E=(0,U.Z)(_?p.Z.getCommentLink({commentId:_.id}):"",{successDuration:1e3}),C=(0,o.Z)(E,2),S=C[0],j=C[1],T=b&&_&&_.creator===b.id||d.isAdmin,I=(0,c.useMemo)((function(){return v.filter((function(e){return!e.resolved}))}),[v]);return(0,k.jsxs)("div",{className:"flex justify-between h-11 w-full ".concat(r||""),children:[(0,k.jsxs)("div",{className:"flex items-center ml-4 text-base font-bold",children:[(0,k.jsx)(Z.Ln,{className:"mr-2 text-primary"})," ",(0,k.jsx)("span",{className:"text-xs text-primary",children:"Comments"}),I.length>1&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"flex",title:"Previous comment",children:(0,k.jsx)(Z.s$,{className:"p-1 h-6 w-6 ml-1.5 mr-2 hover:bg-gray-300 cursor-pointer hover:dark:text-black rounded",onClick:function(){if(x){var e=I.findIndex((function(e){return e.id===t.id}))-1;e<0?(y(I[I.length-1].id),p.Z.scrollThreadToCenter({thread:I[I.length-1],excalidrawAPI:x})):(y(I[e].id),p.Z.scrollThreadToCenter({thread:I[e],excalidrawAPI:x}))}}})}),(0,k.jsx)("div",{className:"flex",title:"Next comment",children:(0,k.jsx)(Z._Q,{className:"p-1 h-6 w-6 hover:bg-gray-300 cursor-pointer hover:dark:text-black rounded",onClick:function(){if(x){var e=I.findIndex((function(e){return e.id===t.id}))+1;e<I.length?(y(I[e].id),p.Z.scrollThreadToCenter({thread:I[e],excalidrawAPI:x})):(y(I[0].id),p.Z.scrollThreadToCenter({thread:I[0],excalidrawAPI:x}))}}})})]})]}),(0,k.jsxs)("div",{className:"flex items-center",children:[S&&(0,k.jsx)("div",{className:"flex w-16 text-xs text-center -left-16 top-1 text-green-600 animate-bounce",children:"Link copied!"}),(0,k.jsx)("div",{className:"flex mr-2",title:"Resolve conversation",children:(0,k.jsx)(Z.nQ,{className:"mr-1.5 hover:bg-primary cursor-pointer hover:text-white hover:dark:text-black rounded-full border border-solid hover:border-0 p-0.5 w-5 h-5",onClick:function(){b&&p.Z.toggleResolveThread({thread:t,activeScene:n,resolved:!!t.resolved,userData:b})}})}),(0,k.jsx)("div",{className:"flex",title:"Copy link",children:(0,k.jsx)(Z.xP,{className:"p-1 mr-1.5 h-6 w-6 hover:bg-gray-300 cursor-pointer hover:dark:text-black rounded",onClick:j})}),T&&(0,k.jsx)("div",{className:"flex",title:"Delete Thread",children:(0,k.jsx)(Z.XH,{className:"p-1 mr-1.5 h-6 w-6 hover:bg-gray-300 cursor-pointer hover:dark:text-black rounded",onClick:function(){return a({type:"show",title:"Delete thread",text:"This will delete all the comments in this thread. Are you sure you want to delete ?",onConfirm:function(){var e=(0,l.Z)(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(v.filter((function(e){return e.id!==t.id}))),y(null),e.next=4,p.Z.removeThread({threadId:t.id,sceneId:n.id});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}})}),(0,k.jsx)("div",{className:"flex",title:"Close",children:(0,k.jsx)(Z.X1,{className:"p-1 mx-1.5 h-6 w-6 hover:bg-gray-300 dark:text-white cursor-pointer hover:dark:text-black rounded",onClick:function(){var e=null===x||void 0===x?void 0:x.getAppState();(null===e||void 0===e?void 0:e.isSidebarDocked)||null===x||void 0===x||x.toggleMenu("customSidebar",!1),y(null)}})})]})]})},V=n(84740);function W(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function X(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}function $(e){return $="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(e){return J="function"===typeof Symbol&&"symbol"===$(Symbol.iterator)?function(e){return $(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$(e)},J(e)}function ee(e,t){return!t||"object"!==J(t)&&"function"!==typeof t?K(e):t}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=n(36993),ie=n.n(re);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var se=n(4942),ce=n(42982),ue=function(e){return e===Object(e)?Object.keys(e):[]},le=function(e){return e===Object(e)?Object.values(e):[]};function de(e,t){var n=Object.assign({},e);return pe(e)&&pe(t)&&ue(t).forEach((function(r){pe(t[r])&&r in e?n[r]=de(e[r],t[r]):Object.assign(n,(0,se.Z)({},r,t[r]))})),n}var fe=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return de(e,t)}),e)},he=function(e,t){var n=Object.assign({},e);if(t)for(var r=0;r<t.length;r++)delete n[t[r]];return n},pe=function(e){return e===Object(e)&&!(e instanceof Date)&&!Array.isArray(e)},me=function(e){return(e||[]).filter(Boolean)},ve=function(e){return"&"===e[0]},ge=function(e){return!ve(e)},ye=function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},be=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=ue(e),r={},i=0,o=n.length;i<o;i+=1){var a=n[i],s="[object Object]"!==Object.prototype.toString.call(e[a])||":"===a[0]||"@"===a[0]||t.indexOf(a)>=0;s&&(r[a]=e[a])}return r},we=function(e,t){for(var n=t.map(ye),r=ue(e),i={},o=0,a=r.length;o<a;o+=1){var s=r[o];(t.indexOf(s)>=0||n.indexOf(ye(s))>=0)&&(i[s]=e[s])}return i},xe=function e(t,n){for(var r=fe.apply(void 0,[{},he(t,n)].concat((0,ce.Z)(le(we(t,n))))),i=ue(r).filter(ve),o=0,a=i.length;o<a;o+=1){var s=i[o],c=e(r[s],n);n.indexOf(s)>=0?(delete r[s],r=fe({},r,c)):r[s]=c}return r};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=["animationName"],Ce=function(e){var t=e.style,n=e.className;return Ee(Ee({},t?{style:be(t,ke)}:{}),n?{className:n}:{})},Se=(0,c.createContext)(Ce),je=(Se.Provider,function(e){if(!e)return[];if("string"===typeof e)return[e];if(!Array.isArray(e)){var t=e;return ue(e).reduce((function(e,n){return e.concat(t[n]?[n]:[])}),[])}return e}),Ae={},Te=function(e){return function(t,n){var r,i=n||Ae;e.memoize=e.memoize||new WeakMap,e.memoize.has(i)?r=e.memoize.get(i):(r={},e.memoize.set(i,r));var o=je(t).join(" ");return o in r?r[o]:r[o]=e(t||[],n)}};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=function(e){var t=e&&ue(e)[0];return t&&t.split("__")[0].split("--")[0]},Ne=function(e,t,n){if(e){var r=e.split(" ")[0],i=[].concat((0,ce.Z)(0===t.length?n.map((function(e){return"".concat(r,"--").concat(e.substring(1))})):[]),(0,ce.Z)(t.map((function(e){return"".concat(r,"__").concat(e)}))));return 0===t.length?[e].concat((0,ce.Z)(i)):i}};var Pe=function e(t){var n=t.style,r=t.className,i=t.classNames,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce,a=r||De(i)||(null===n||void 0===n?void 0:n.className),s="function"===typeof n?n:Te((function(t,r){var s=je(t);ie()(Array.isArray(s),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),ie()(!r||pe(r),"Optional second parameter must be a plain object.");var c=s.filter(ve),u=s.filter(ge),l=u.length>0?function(e){return le(we(e,u))}:function(e){return[e]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(xe(e,c))},f=Ne(a,u,c);return e(Oe(Oe(Oe({},(n||r)&&{style:fe.apply(void 0,[{}].concat((0,ce.Z)(d(r)),(0,ce.Z)(d(n))))}),f&&{className:f.join(" ")}),i&&{classNames:i}),o)})),c=Oe({},"function"===typeof n?n:{style:n}),u=(0,ce.Z)(new Set([].concat((0,ce.Z)(c.className?c.className.split(" "):[]),(0,ce.Z)(a?a.split(" "):[])))),l=i?me(u.map((function(e){return i[e]}))):u,d=o(Oe(Oe({},c),l.length>0?{className:l.join(" ")}:{}));return Object.assign(s,d),s},Me=function(e,t,n){var r=t.style,i=t.className,o=t.classNames,a=(0,c.useContext)(Se);return(0,c.useMemo)((function(){return Pe({style:r,className:i,classNames:o},a)}),[r,i,o,a])(n,e)},Le=Me;function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Ze(Ze(Ze({},e),"function"===typeof t?t:{}),{},{style:Ze(Ze({},e.style),"function"===typeof t?t.style:t)})}),{})},Ue=n(75192),ze=n.n(Ue),Be=n(1168),Ve=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},We="__id__",He="__display__",qe=function(e,t){ie()("id"===t||"display"===t,'Second arg must be either "id" or "display", got: "'.concat(t,'"'));var n=e.indexOf(He),r=e.indexOf(We);return n<0&&(n=null),r<0&&(r=null),ie()(null!==n||null!==r,"The markup '".concat(e,"' does not contain either of the placeholders '__id__' or '__display__'")),null!==n&&null!==r?"id"===t&&r<=n||"display"===t&&n<=r?0:1:0},Ge=function(e){var t=/^\/(.+)\/(\w+)?$/;return new RegExp(e.map((function(e){var n=oe(t.exec(e.toString()),3),r=n[1],i=n[2];return ie()(!i,"RegExp flags are not supported. Change /".concat(r,"/").concat(i," into /").concat(r,"/")),"(".concat(r,")")})).join("|"),"g")},Ye=function(e){var t=0;return e.indexOf("__id__")>=0&&t++,e.indexOf("__display__")>=0&&t++,t},Ke=function(){},Qe=function(e,t,n){for(var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ke,o=Ge(t.map((function(e){return e.regex}))),a=2,s=t.map((function(e){var t=e.markup,n=a;return a+=Ye(t)+1,n})),c=0,u=0;null!==(r=o.exec(e));){var l=s.find((function(e){return!!r[e]})),d=s.indexOf(l),f=t[d],h=f.markup,p=f.displayTransform,m=l+qe(h,"id"),v=l+qe(h,"display"),g=r[m],y=p(g,r[v]),b=e.substring(c,r.index);i(b,c,u),u+=b.length,n(r[0],r.index,u,g,y,d,c),u+=y.length,c=o.lastIndex}c<e.length&&i(e.substring(c),c,u)},Xe=function(e,t){var n="";return Qe(e,t,(function(e,t,r,i,o){n+=o}),(function(e){n+=e})),n},$e=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"START";if("number"!==typeof n)return n;var o=function(e,t,i){void 0===r&&i+e.length>=n&&(r=t+n-i)},a=function(e,t,o,a,s,c,u){void 0===r&&o+s.length>n&&(r="NULL"===i?null:t+("END"===i?e.length:0))};return Qe(e,t,a,o),void 0===r?e.length:r},Je=function(e,t,n,r){return e.substring(0,t)+r+e.substring(n)},et=function(e,t,n){var r=n,i=!1;if(Qe(e,t,(function(e,t,o,a,s,c,u){o<=n&&o+s.length>n&&(r=o,i=!0)})),i)return r},tt=function(e,t){var n=[];return Qe(e,t,(function(e,t,r,i,o,a,s){n.push({id:i,display:o,childIndex:a,index:t,plainTextIndex:r})})),n},nt=function(e,t){return"".concat(e,"-").concat(t)},rt=function(e){return Object.values(e).reduce((function(e,t){return e+t.results.length}),0)},it=function(e){var t=Ve(e),n=e[e.indexOf(He)+He.length],r=e[e.indexOf(We)+We.length];return new RegExp(t.replace(He,"([^".concat(Ve(n||""),"]+?)")).replace(We,"([^".concat(Ve(r||""),"]+?)")))},ot=function(e){return c.Children.toArray(e).map((function(e){var t=e.props,n=t.markup,r=t.regex,i=t.displayTransform;return{markup:n,regex:r?at(r,n):it(n),displayTransform:i||function(e,t){return t||e}}}))},at=function(e,t){var n=new RegExp(e.toString()+"|").exec("").length-1,r=Ye(t);return ie()(n===r,"Number of capturing groups in RegExp ".concat(e.toString()," (").concat(n,") does not match the number of placeholders in the markup '").concat(t,"' (").concat(r,")")),e},st=[{base:"A",letters:/(&#65;|&#9398;|&#65313;|&#192;|&#193;|&#194;|&#7846;|&#7844;|&#7850;|&#7848;|&#195;|&#256;|&#258;|&#7856;|&#7854;|&#7860;|&#7858;|&#550;|&#480;|&#196;|&#478;|&#7842;|&#197;|&#506;|&#461;|&#512;|&#514;|&#7840;|&#7852;|&#7862;|&#7680;|&#260;|&#570;|&#11375;|[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F])/g},{base:"AA",letters:/(&#42802;|[\uA732])/g},{base:"AE",letters:/(&#198;|&#508;|&#482;|[\u00C6\u01FC\u01E2])/g},{base:"AO",letters:/(&#42804;|[\uA734])/g},{base:"AU",letters:/(&#42806;|[\uA736])/g},{base:"AV",letters:/(&#42808;|&#42810;|[\uA738\uA73A])/g},{base:"AY",letters:/(&#42812;|[\uA73C])/g},{base:"B",letters:/(&#66;|&#9399;|&#65314;|&#7682;|&#7684;|&#7686;|&#579;|&#386;|&#385;|[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181])/g},{base:"C",letters:/(&#67;|&#9400;|&#65315;|&#262;|&#264;|&#266;|&#268;|&#199;|&#7688;|&#391;|&#571;|&#42814;|[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E])/g},{base:"D",letters:/(&#68;|&#9401;|&#65316;|&#7690;|&#270;|&#7692;|&#7696;|&#7698;|&#7694;|&#272;|&#395;|&#394;|&#393;|&#42873;|&#208;|[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779\u00D0])/g},{base:"DZ",letters:/(&#497;|&#452;|[\u01F1\u01C4])/g},{base:"Dz",letters:/(&#498;|&#453;|[\u01F2\u01C5])/g},{base:"E",letters:/(&#69;|&#9402;|&#65317;|&#200;|&#201;|&#202;|&#7872;|&#7870;|&#7876;|&#7874;|&#7868;|&#274;|&#7700;|&#7702;|&#276;|&#278;|&#203;|&#7866;|&#282;|&#516;|&#518;|&#7864;|&#7878;|&#552;|&#7708;|&#280;|&#7704;|&#7706;|&#400;|&#398;|[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E])/g},{base:"F",letters:/(&#70;|&#9403;|&#65318;|&#7710;|&#401;|&#42875;|[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B])/g},{base:"G",letters:/(&#71;|&#9404;|&#65319;|&#500;|&#284;|&#7712;|&#286;|&#288;|&#486;|&#290;|&#484;|&#403;|&#42912;|&#42877;|&#42878;|[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E])/g},{base:"H",letters:/(&#72;|&#9405;|&#65320;|&#292;|&#7714;|&#7718;|&#542;|&#7716;|&#7720;|&#7722;|&#294;|&#11367;|&#11381;|&#42893;|[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D])/g},{base:"I",letters:/(&#73;|&#9406;|&#65321;|&#204;|&#205;|&#206;|&#296;|&#298;|&#300;|&#304;|&#207;|&#7726;|&#7880;|&#463;|&#520;|&#522;|&#7882;|&#302;|&#7724;|&#407;|[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197])/g},{base:"J",letters:/(&#74;|&#9407;|&#65322;|&#308;|&#584;|[\u004A\u24BF\uFF2A\u0134\u0248])/g},{base:"K",letters:/(&#75;|&#9408;|&#65323;|&#7728;|&#488;|&#7730;|&#310;|&#7732;|&#408;|&#11369;|&#42816;|&#42818;|&#42820;|&#42914;|[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2])/g},{base:"L",letters:/(&#76;|&#9409;|&#65324;|&#319;|&#313;|&#317;|&#7734;|&#7736;|&#315;|&#7740;|&#7738;|&#321;|&#573;|&#11362;|&#11360;|&#42824;|&#42822;|&#42880;|[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780])/g},{base:"LJ",letters:/(&#455;|[\u01C7])/g},{base:"Lj",letters:/(&#456;|[\u01C8])/g},{base:"M",letters:/(&#77;|&#9410;|&#65325;|&#7742;|&#7744;|&#7746;|&#11374;|&#412;|[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C])/g},{base:"N",letters:/(&#78;|&#9411;|&#65326;|&#504;|&#323;|&#209;|&#7748;|&#327;|&#7750;|&#325;|&#7754;|&#7752;|&#544;|&#413;|&#42896;|&#42916;|&#330;|[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4\u014A])/g},{base:"NJ",letters:/(&#458;|[\u01CA])/g},{base:"Nj",letters:/(&#459;|[\u01CB])/g},{base:"O",letters:/(&#79;|&#9412;|&#65327;|&#210;|&#211;|&#212;|&#7890;|&#7888;|&#7894;|&#7892;|&#213;|&#7756;|&#556;|&#7758;|&#332;|&#7760;|&#7762;|&#334;|&#558;|&#560;|&#214;|&#554;|&#7886;|&#336;|&#465;|&#524;|&#526;|&#416;|&#7900;|&#7898;|&#7904;|&#7902;|&#7906;|&#7884;|&#7896;|&#490;|&#492;|&#216;|&#510;|&#390;|&#415;|&#42826;|&#42828;|[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C])/g},{base:"OE",letters:/(&#338;|[\u0152])/g},{base:"OI",letters:/(&#418;|[\u01A2])/g},{base:"OO",letters:/(&#42830;|[\uA74E])/g},{base:"OU",letters:/(&#546;|[\u0222])/g},{base:"P",letters:/(&#80;|&#9413;|&#65328;|&#7764;|&#7766;|&#420;|&#11363;|&#42832;|&#42834;|&#42836;|[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754])/g},{base:"Q",letters:/(&#81;|&#9414;|&#65329;|&#42838;|&#42840;|&#586;|[\u0051\u24C6\uFF31\uA756\uA758\u024A])/g},{base:"R",letters:/(&#82;|&#9415;|&#65330;|&#340;|&#7768;|&#344;|&#528;|&#530;|&#7770;|&#7772;|&#342;|&#7774;|&#588;|&#11364;|&#42842;|&#42918;|&#42882;|[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782])/g},{base:"S",letters:/(&#83;|&#9416;|&#65331;|&#7838;|&#346;|&#7780;|&#348;|&#7776;|&#352;|&#7782;|&#7778;|&#7784;|&#536;|&#350;|&#11390;|&#42920;|&#42884;|[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784])/g},{base:"T",letters:/(&#84;|&#9417;|&#65332;|&#7786;|&#356;|&#7788;|&#538;|&#354;|&#7792;|&#7790;|&#358;|&#428;|&#430;|&#574;|&#42886;|[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786])/g},{base:"TH",letters:/(&#222;|[\u00DE])/g},{base:"TZ",letters:/(&#42792;|[\uA728])/g},{base:"U",letters:/(&#85;|&#9418;|&#65333;|&#217;|&#218;|&#219;|&#360;|&#7800;|&#362;|&#7802;|&#364;|&#220;|&#475;|&#471;|&#469;|&#473;|&#7910;|&#366;|&#368;|&#467;|&#532;|&#534;|&#431;|&#7914;|&#7912;|&#7918;|&#7916;|&#7920;|&#7908;|&#7794;|&#370;|&#7798;|&#7796;|&#580;|[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244])/g},{base:"V",letters:/(&#86;|&#9419;|&#65334;|&#7804;|&#7806;|&#434;|&#42846;|&#581;|[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245])/g},{base:"VY",letters:/(&#42848;|[\uA760])/g},{base:"W",letters:/(&#87;|&#9420;|&#65335;|&#7808;|&#7810;|&#372;|&#7814;|&#7812;|&#7816;|&#11378;|[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72])/g},{base:"X",letters:/(&#88;|&#9421;|&#65336;|&#7818;|&#7820;|[\u0058\u24CD\uFF38\u1E8A\u1E8C])/g},{base:"Y",letters:/(&#89;|&#9422;|&#65337;|&#7922;|&#221;|&#374;|&#7928;|&#562;|&#7822;|&#376;|&#7926;|&#7924;|&#435;|&#590;|&#7934;|[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE])/g},{base:"Z",letters:/(&#90;|&#9423;|&#65338;|&#377;|&#7824;|&#379;|&#381;|&#7826;|&#7828;|&#437;|&#548;|&#11391;|&#11371;|&#42850;|[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762])/g},{base:"a",letters:/(&#97;|&#9424;|&#65345;|&#7834;|&#224;|&#225;|&#226;|&#7847;|&#7845;|&#7851;|&#7849;|&#227;|&#257;|&#259;|&#7857;|&#7855;|&#7861;|&#7859;|&#551;|&#481;|&#228;|&#479;|&#7843;|&#229;|&#507;|&#462;|&#513;|&#515;|&#7841;|&#7853;|&#7863;|&#7681;|&#261;|&#11365;|&#592;|[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250])/g},{base:"aa",letters:/(&#42803;|[\uA733])/g},{base:"ae",letters:/(&#230;|&#509;|&#483;|[\u00E6\u01FD\u01E3])/g},{base:"ao",letters:/(&#42805;|[\uA735])/g},{base:"au",letters:/(&#42807;|[\uA737])/g},{base:"av",letters:/(&#42809;|&#42811;|[\uA739\uA73B])/g},{base:"ay",letters:/(&#42813;|[\uA73D])/g},{base:"b",letters:/(&#98;|&#9425;|&#65346;|&#7683;|&#7685;|&#7687;|&#384;|&#387;|&#595;|[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253])/g},{base:"c",letters:/(&#99;|&#9426;|&#65347;|&#263;|&#265;|&#267;|&#269;|&#231;|&#7689;|&#392;|&#572;|&#42815;|&#8580;|[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184])/g},{base:"d",letters:/(&#100;|&#9427;|&#65348;|&#7691;|&#271;|&#7693;|&#7697;|&#7699;|&#7695;|&#273;|&#396;|&#598;|&#599;|&#42874;|&#240;|[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u00F0])/g},{base:"dz",letters:/(&#499;|&#454;|[\u01F3\u01C6])/g},{base:"e",letters:/(&#101;|&#9428;|&#65349;|&#232;|&#233;|&#234;|&#7873;|&#7871;|&#7877;|&#7875;|&#7869;|&#275;|&#7701;|&#7703;|&#277;|&#279;|&#235;|&#7867;|&#283;|&#517;|&#519;|&#7865;|&#7879;|&#553;|&#7709;|&#281;|&#7705;|&#7707;|&#583;|&#603;|&#477;|[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD])/g},{base:"f",letters:/(&#102;|&#9429;|&#65350;|&#7711;|&#402;|&#42876;|[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C])/g},{base:"g",letters:/(&#103;|&#9430;|&#65351;|&#501;|&#285;|&#7713;|&#287;|&#289;|&#487;|&#291;|&#485;|&#608;|&#42913;|&#7545;|&#42879;|[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F])/g},{base:"h",letters:/(&#104;|&#9431;|&#65352;|&#293;|&#7715;|&#7719;|&#543;|&#7717;|&#7721;|&#7723;|&#7830;|&#295;|&#11368;|&#11382;|&#613;|[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265])/g},{base:"hv",letters:/(&#405;|[\u0195])/g},{base:"i",letters:/(&#105;|&#9432;|&#65353;|&#236;|&#237;|&#238;|&#297;|&#299;|&#301;|&#239;|&#7727;|&#7881;|&#464;|&#521;|&#523;|&#7883;|&#303;|&#7725;|&#616;|&#305;|[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131])/g},{base:"ij",letters:/(&#307;|[\u0133])/g},{base:"j",letters:/(&#106;|&#9433;|&#65354;|&#309;|&#496;|&#585;|[\u006A\u24D9\uFF4A\u0135\u01F0\u0249])/g},{base:"k",letters:/(&#107;|&#9434;|&#65355;|&#7729;|&#489;|&#7731;|&#311;|&#7733;|&#409;|&#11370;|&#42817;|&#42819;|&#42821;|&#42915;|[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3])/g},{base:"l",letters:/(&#108;|&#9435;|&#65356;|&#320;|&#314;|&#318;|&#7735;|&#7737;|&#316;|&#7741;|&#7739;|&#322;|&#410;|&#619;|&#11361;|&#42825;|&#42881;|&#42823;|[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747])/g},{base:"lj",letters:/(&#457;|[\u01C9])/g},{base:"m",letters:/(&#109;|&#9436;|&#65357;|&#7743;|&#7745;|&#7747;|&#625;|&#623;|[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F])/g},{base:"n",letters:/(&#110;|&#9437;|&#65358;|&#505;|&#324;|&#241;|&#7749;|&#328;|&#7751;|&#326;|&#7755;|&#7753;|&#414;|&#626;|&#329;|&#42897;|&#42917;|&#331;|[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u014B])/g},{base:"nj",letters:/(&#460;|[\u01CC])/g},{base:"o",letters:/(&#111;|&#9438;|&#65359;|&#242;|&#243;|&#244;|&#7891;|&#7889;|&#7895;|&#7893;|&#245;|&#7757;|&#557;|&#7759;|&#333;|&#7761;|&#7763;|&#335;|&#559;|&#561;|&#246;|&#555;|&#7887;|&#337;|&#466;|&#525;|&#527;|&#417;|&#7901;|&#7899;|&#7905;|&#7903;|&#7907;|&#7885;|&#7897;|&#491;|&#493;|&#248;|&#511;|&#596;|&#42827;|&#42829;|&#629;|[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275])/g},{base:"oe",letters:/(&#339;|[\u0153])/g},{base:"oi",letters:/(&#419;|[\u01A3])/g},{base:"ou",letters:/(&#547;|[\u0223])/g},{base:"oo",letters:/(&#42831;|[\uA74F])/g},{base:"p",letters:/(&#112;|&#9439;|&#65360;|&#7765;|&#7767;|&#421;|&#7549;|&#42833;|&#42835;|&#42837;|[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755])/g},{base:"q",letters:/(&#113;|&#9440;|&#65361;|&#587;|&#42839;|&#42841;|[\u0071\u24E0\uFF51\u024B\uA757\uA759])/g},{base:"r",letters:/(&#114;|&#9441;|&#65362;|&#341;|&#7769;|&#345;|&#529;|&#531;|&#7771;|&#7773;|&#343;|&#7775;|&#589;|&#637;|&#42843;|&#42919;|&#42883;|[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783])/g},{base:"s",letters:/(&#115;|&#9442;|&#65363;|&#347;|&#7781;|&#349;|&#7777;|&#353;|&#7783;|&#7779;|&#7785;|&#537;|&#351;|&#575;|&#42921;|&#42885;|&#7835;|&#383;|[\u0073\u24E2\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F])/g},{base:"ss",letters:/(&#223;|[\u00DF])/g},{base:"t",letters:/(&#116;|&#9443;|&#65364;|&#7787;|&#7831;|&#357;|&#7789;|&#539;|&#355;|&#7793;|&#7791;|&#359;|&#429;|&#648;|&#11366;|&#42887;|[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787])/g},{base:"th",letters:/(&#254;|[\u00FE])/g},{base:"tz",letters:/(&#42793;|[\uA729])/g},{base:"u",letters:/(&#117;|&#9444;|&#65365;|&#249;|&#250;|&#251;|&#361;|&#7801;|&#363;|&#7803;|&#365;|&#252;|&#476;|&#472;|&#470;|&#474;|&#7911;|&#367;|&#369;|&#468;|&#533;|&#535;|&#432;|&#7915;|&#7913;|&#7919;|&#7917;|&#7921;|&#7909;|&#7795;|&#371;|&#7799;|&#7797;|&#649;|[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289])/g},{base:"v",letters:/(&#118;|&#9445;|&#65366;|&#7805;|&#7807;|&#651;|&#42847;|&#652;|[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C])/g},{base:"vy",letters:/(&#42849;|[\uA761])/g},{base:"w",letters:/(&#119;|&#9446;|&#65367;|&#7809;|&#7811;|&#373;|&#7815;|&#7813;|&#7832;|&#7817;|&#11379;|[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73])/g},{base:"x",letters:/(&#120;|&#9447;|&#65368;|&#7819;|&#7821;|[\u0078\u24E7\uFF58\u1E8B\u1E8D])/g},{base:"y",letters:/(&#121;|&#9448;|&#65369;|&#7923;|&#253;|&#375;|&#7929;|&#563;|&#7823;|&#255;|&#7927;|&#7833;|&#7925;|&#436;|&#591;|&#7935;|[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF])/g},{base:"z",letters:/(&#122;|&#9449;|&#65370;|&#378;|&#7825;|&#380;|&#382;|&#7827;|&#7829;|&#438;|&#549;|&#576;|&#11372;|&#42851;|[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763])/g}],ct=function(e){return function(e){var t=e;return st.forEach((function(e){t=t.replace(e.letters,e.base)})),t}(e).toLowerCase()},ut=function(e,t,n){return n?ct(e).indexOf(ct(t)):e.toLowerCase().indexOf(t.toLowerCase())},lt=function(e){return"number"===typeof e},dt=["style","className","classNames"];function ft(e,t){return function(n){var r=function(r){var i=r.style,o=r.className,a=r.classNames,s=ae(r,dt),u=t?t(s):void 0,l=Le(e,{style:i,className:o,classNames:a},u);return c.createElement(n,H({},s,{style:l}))},i=n.displayName||n.name||"Component";return r.displayName="defaultStyle(".concat(i,")"),r}}function ht(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee(this,n)}}var pt=function(e){X(n,e);var t=ht(n);function n(){var e;return q(this,n),ne(K(e=t.apply(this,arguments)),"setCaretElement",(function(t){e.caretElement=t})),e.state={left:void 0,top:void 0},e}return Y(n,[{key:"componentDidMount",value:function(){this.notifyCaretPosition()}},{key:"componentDidUpdate",value:function(){this.notifyCaretPosition()}},{key:"notifyCaretPosition",value:function(){if(this.caretElement){var e=this.caretElement,t=e.offsetLeft,n=e.offsetTop;if(this.state.left!==t||this.state.top!==n){var r={left:t,top:n};this.setState(r),this.props.onCaretPositionChange(r)}}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.selectionStart,i=n.selectionEnd,o=n.value,a=n.style,s=n.children,u=n.containerRef,l=ot(s);r===i&&(e=$e(o,l,r,"START"));var d=[],f={},h=d,p=0;return Qe(o,l,(function(e,n,r,i,o,a,s){var c=function(e,t){return e.hasOwnProperty(t)?e[t]++:e[t]=0,t+"_"+e[t]}(f,i);h.push(t.getMentionComponentForMatch(i,o,a,c))}),(function(n,r,i){if(lt(e)&&e>=r&&e<=r+n.length){var o=e-r;h.push(t.renderSubstring(n.substring(0,o),p)),h=[t.renderSubstring(n.substring(o),p)]}else h.push(t.renderSubstring(n,p));p++})),h.push(" "),h!==d&&d.push(this.renderHighlighterCaret(h)),c.createElement("div",H({},a,{ref:u}),d)}},{key:"renderSubstring",value:function(e,t){return c.createElement("span",H({},this.props.style("substring"),{key:t}),e)}},{key:"getMentionComponentForMatch",value:function(e,t,n,r){var i={id:e,display:t,key:r},o=c.Children.toArray(this.props.children)[n];return c.cloneElement(o,i)}},{key:"renderHighlighterCaret",value:function(e){return c.createElement("span",H({},this.props.style("caret"),{ref:this.setCaretElement,key:"caret"}),e)}}]),n}(c.Component);ne(pt,"propTypes",{selectionStart:ze().number,selectionEnd:ze().number,value:ze().string.isRequired,onCaretPositionChange:ze().func.isRequired,containerRef:ze().oneOfType([ze().func,ze().shape({current:"undefined"===typeof Element?ze().any:ze().instanceOf(Element)})]),children:ze().oneOfType([ze().element,ze().arrayOf(ze().element)]).isRequired}),ne(pt,"defaultProps",{value:""});var mt=ft({position:"relative",boxSizing:"border-box",width:"100%",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word",border:"1px solid transparent",textAlign:"start","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},(function(e){return{"&singleLine":e.singleLine}}))(pt);function vt(e){var t=e.id,n=e.focused,r=e.ignoreAccents,i=e.index,o=e.onClick,a=e.onMouseEnter,s=e.query,u=e.renderSuggestion,l=e.suggestion,d=e.style,f=(e.className,e.classNames,{onClick:o,onMouseEnter:a}),h=function(){if("string"===typeof l)return l;var e=l.id,t=l.display;return void 0!==e&&t?t:e},p=function(e){var t=ut(e,s,r);return-1===t?c.createElement("span",d("display"),e):c.createElement("span",d("display"),e.substring(0,t),c.createElement("b",d("highlight"),e.substring(t,t+s.length)),e.substring(t+s.length))};return c.createElement("li",H({id:t,role:"option","aria-selected":n},f,d),function(){var e=h(),t=p(e);return u?u(l,s,t,i,n):t}())}vt.propTypes={id:ze().string.isRequired,query:ze().string.isRequired,index:ze().number.isRequired,ignoreAccents:ze().bool,suggestion:ze().oneOfType([ze().string,ze().shape({id:ze().oneOfType([ze().string,ze().number]).isRequired,display:ze().string})]).isRequired,renderSuggestion:ze().func,focused:ze().bool};var gt=ft({cursor:"pointer"},(function(e){return{"&focused":e.focused}}))(vt);function yt(e){var t=e.style,n=e.className,r=e.classNames,i=Le(bt,{style:t,className:n,classNames:r}),o=i("spinner");return c.createElement("div",i,c.createElement("div",o,c.createElement("div",o(["element","element1"])),c.createElement("div",o(["element","element2"])),c.createElement("div",o(["element","element3"])),c.createElement("div",o(["element","element4"])),c.createElement("div",o(["element","element5"]))))}var bt={};function wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee(this,n)}}var xt=function(e){X(n,e);var t=wt(n);function n(){var e;q(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ne(K(e=t.call.apply(t,[this].concat(i))),"handleMouseEnter",(function(t,n){e.props.onMouseEnter&&e.props.onMouseEnter(t)})),ne(K(e),"select",(function(t,n){e.props.onSelect(t,n)})),ne(K(e),"setUlElement",(function(t){e.ulElement=t})),e}return Y(n,[{key:"componentDidUpdate",value:function(){if(this.ulElement&&!(this.ulElement.offsetHeight>=this.ulElement.scrollHeight)&&this.props.scrollFocusedIntoView){var e=this.ulElement.scrollTop,t=this.ulElement.children[this.props.focusIndex].getBoundingClientRect(),n=t.top,r=t.bottom,i=this.ulElement.getBoundingClientRect().top;r=r-i+e,(n=n-i+e)<e?this.ulElement.scrollTop=n:r>this.ulElement.offsetHeight&&(this.ulElement.scrollTop=r-this.ulElement.offsetHeight)}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.a11ySuggestionsListLabel,r=e.isOpened,i=e.style,o=e.onMouseDown,a=e.containerRef,s=e.position,u=e.left,l=e.right,d=e.top;return r?c.createElement("div",H({},Fe({position:s||"absolute",left:u,right:l,top:d},i),{onMouseDown:o,ref:a}),c.createElement("ul",H({ref:this.setUlElement,id:t,role:"listbox","aria-label":n},i("list")),this.renderSuggestions()),this.renderLoadingIndicator()):null}},{key:"renderSuggestions",value:function(){var e=this,t=this.props.customSuggestionsContainer,n=Object.values(this.props.suggestions).reduce((function(t,n){var r=n.results,i=n.queryInfo;return[].concat(W(t),W(r.map((function(n,r){return e.renderSuggestion(n,i,t.length+r)}))))}),[]);return t?t(n):n}},{key:"renderSuggestion",value:function(e,t,n){var r=this,i=n===this.props.focusIndex,o=t.childIndex,a=t.query,s=c.Children.toArray(this.props.children)[o].props.renderSuggestion,u=this.props.ignoreAccents;return c.createElement(gt,{style:this.props.style("item"),key:"".concat(o,"-").concat(_t(e)),id:nt(this.props.id,n),query:a,index:n,ignoreAccents:u,renderSuggestion:s,suggestion:e,focused:i,onClick:function(){return r.select(e,t)},onMouseEnter:function(){return r.handleMouseEnter(n)}})}},{key:"renderLoadingIndicator",value:function(){if(this.props.isLoading)return c.createElement(yt,{style:this.props.style("loadingIndicator")})}}]),n}(c.Component);ne(xt,"propTypes",{id:ze().string.isRequired,suggestions:ze().object.isRequired,a11ySuggestionsListLabel:ze().string,focusIndex:ze().number,position:ze().string,left:ze().number,right:ze().number,top:ze().number,scrollFocusedIntoView:ze().bool,isLoading:ze().bool,isOpened:ze().bool.isRequired,onSelect:ze().func,ignoreAccents:ze().bool,containerRef:ze().oneOfType([ze().func,ze().shape({current:"undefined"===typeof Element?ze().any:ze().instanceOf(Element)})]),children:ze().oneOfType([ze().element,ze().arrayOf(ze().element)]).isRequired}),ne(xt,"defaultProps",{suggestions:{},onSelect:function(){return null}});var _t=function(e){return"string"===typeof e?e:e.id},Et=ft({zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100,list:{margin:0,padding:0,listStyleType:"none"}})(xt);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee(this,n)}}var jt={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},At=!1,Tt={singleLine:ze().bool,allowSpaceInQuery:ze().bool,allowSuggestionsAboveCursor:ze().bool,forceSuggestionsAboveCursor:ze().bool,ignoreAccents:ze().bool,a11ySuggestionsListLabel:ze().string,value:ze().string,onKeyDown:ze().func,customSuggestionsContainer:ze().func,onSelect:ze().func,onBlur:ze().func,onChange:ze().func,suggestionsPortalHost:"undefined"===typeof Element?ze().any:ze().PropTypes.instanceOf(Element),inputRef:ze().oneOfType([ze().func,ze().shape({current:"undefined"===typeof Element?ze().any:ze().instanceOf(Element)})]),children:ze().oneOfType([ze().element,ze().arrayOf(ze().element)]).isRequired},It=function(e){X(n,e);var t=St(n);function n(e){var r;return q(this,n),ne(K(r=t.call(this,e)),"setContainerElement",(function(e){r.containerElement=e})),ne(K(r),"getInputProps",(function(){var e,t=r.props,n=t.readOnly,i=t.disabled,o=t.style,a=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=(t=[]).concat.apply(t,r);return Object.keys(e).reduce((function(t,n){return e.hasOwnProperty(n)&&!o.includes(n)&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}(r.props,["style","classNames","className"],(e=Tt)===Object(e)?Object.keys(e):[]);return Ct(Ct(Ct(Ct({},a),o("input")),{},{value:r.getPlainText(),onScroll:r.updateHighlighterScroll},!n&&!i&&{onChange:r.handleChange,onSelect:r.handleSelect,onKeyDown:r.handleKeyDown,onBlur:r.handleBlur,onCompositionStart:r.handleCompositionStart,onCompositionEnd:r.handleCompositionEnd}),r.isOpened()&&{role:"combobox","aria-controls":r.uuidSuggestionsOverlay,"aria-expanded":!0,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":nt(r.uuidSuggestionsOverlay,r.state.focusIndex)})})),ne(K(r),"renderControl",(function(){var e=r.props,t=e.singleLine,n=e.style,i=r.getInputProps();return c.createElement("div",n("control"),r.renderHighlighter(),t?r.renderInput(i):r.renderTextarea(i))})),ne(K(r),"renderInput",(function(e){return c.createElement("input",H({type:"text",ref:r.setInputRef},e))})),ne(K(r),"renderTextarea",(function(e){return c.createElement("textarea",H({ref:r.setInputRef},e))})),ne(K(r),"setInputRef",(function(e){r.inputElement=e;var t=r.props.inputRef;"function"===typeof t?t(e):t&&(t.current=e)})),ne(K(r),"setSuggestionsElement",(function(e){r.suggestionsElement=e})),ne(K(r),"renderSuggestionsOverlay",(function(){if(!lt(r.state.selectionStart))return null;var e=r.state.suggestionsPosition,t=e.position,n=e.left,i=e.top,o=e.right,a=c.createElement(Et,{id:r.uuidSuggestionsOverlay,style:r.props.style("suggestions"),position:t,left:n,top:i,right:o,focusIndex:r.state.focusIndex,scrollFocusedIntoView:r.state.scrollFocusedIntoView,containerRef:r.setSuggestionsElement,suggestions:r.state.suggestions,customSuggestionsContainer:r.props.customSuggestionsContainer,onSelect:r.addMention,onMouseDown:r.handleSuggestionsMouseDown,onMouseEnter:r.handleSuggestionsMouseEnter,isLoading:r.isLoading(),isOpened:r.isOpened(),ignoreAccents:r.props.ignoreAccents,a11ySuggestionsListLabel:r.props.a11ySuggestionsListLabel},r.props.children);return r.props.suggestionsPortalHost?Be.createPortal(a,r.props.suggestionsPortalHost):a})),ne(K(r),"renderHighlighter",(function(){var e=r.state,t=e.selectionStart,n=e.selectionEnd,i=r.props,o=i.singleLine,a=i.children,s=i.value,u=i.style;return c.createElement(mt,{containerRef:r.setHighlighterElement,style:u("highlighter"),value:s,singleLine:o,selectionStart:t,selectionEnd:n,onCaretPositionChange:r.handleCaretPositionChange},a)})),ne(K(r),"setHighlighterElement",(function(e){r.highlighterElement=e})),ne(K(r),"handleCaretPositionChange",(function(e){r.setState({caretPosition:e})})),ne(K(r),"getPlainText",(function(){return Xe(r.props.value||"",ot(r.props.children))})),ne(K(r),"executeOnChange",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o,a;return r.props.onChange?(o=r.props).onChange.apply(o,[e].concat(n)):r.props.valueLink?(a=r.props.valueLink).requestChange.apply(a,[e.target.value].concat(n)):void 0})),ne(K(r),"handleChange",(function(e){if((At=!1,document.documentMode)&&(document.activeElement&&document.activeElement.contentDocument||document).activeElement!==e.target)return;var t=r.props.value||"",n=ot(r.props.children),i=e.target.value,o=function(e,t,n,r){var i=n.selectionStartBefore,o=n.selectionEndBefore,a=n.selectionEndAfter,s=Xe(e,r),c=s.length-t.length;"undefined"===i&&(i=a+c),"undefined"===o&&(o=i),i===o&&o===a&&s.length===t.length&&(i-=1);var u=t.slice(i,a),l=Math.min(i,a),d=o;i===a&&(d=Math.max(o,i+c));var f=$e(e,r,l,"START"),h=$e(e,r,d,"END"),p=$e(e,r,l,"NULL"),m=$e(e,r,d,"NULL"),v=null===p||null===m,g=Je(e,f,h,u);if(!v){var y=Xe(g,r);if(y!==t){for(l=0;t[l]===y[l];)l++;u=t.slice(l,a),d=s.lastIndexOf(t.substring(a)),f=$e(e,r,l,"START"),h=$e(e,r,d,"END"),g=Je(e,f,h,u)}}return g}(t,i,{selectionStartBefore:r.state.selectionStart,selectionEndBefore:r.state.selectionEnd,selectionEndAfter:e.target.selectionEnd},n);i=Xe(o,n);var a=e.target.selectionStart,s=e.target.selectionEnd,c=!1,u=et(t,n,a);void 0!==u&&r.state.selectionEnd>u&&(s=a=u+(e.nativeEvent.data?e.nativeEvent.data.length:0),c=!0),r.setState({selectionStart:a,selectionEnd:s,setSelectionAfterMentionChange:c});var l=tt(o,n),d={target:{value:o}};r.executeOnChange(d,o,i,l)})),ne(K(r),"handleSelect",(function(e){if(r.setState({selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd}),!At){var t=r.inputElement;e.target.selectionStart===e.target.selectionEnd?r.updateMentionsQueries(t.value,e.target.selectionStart):r.clearSuggestions(),r.updateHighlighterScroll(),r.props.onSelect(e)}})),ne(K(r),"handleKeyDown",(function(e){if(0!==rt(r.state.suggestions)&&r.suggestionsElement)switch(Object.values(jt).indexOf(e.keyCode)>=0&&(e.preventDefault(),e.stopPropagation()),e.keyCode){case jt.ESC:return void r.clearSuggestions();case jt.DOWN:return void r.shiftFocus(1);case jt.UP:return void r.shiftFocus(-1);case jt.RETURN:case jt.TAB:return void r.selectFocused();default:return}else r.props.onKeyDown(e)})),ne(K(r),"shiftFocus",(function(e){var t=rt(r.state.suggestions);r.setState({focusIndex:(t+r.state.focusIndex+e)%t,scrollFocusedIntoView:!0})})),ne(K(r),"selectFocused",(function(){var e=r.state,t=e.suggestions,n=e.focusIndex,i=Object.values(t).reduce((function(e,t){var n=t.results,r=t.queryInfo;return[].concat(W(e),W(n.map((function(e){return{result:e,queryInfo:r}}))))}),[])[n],o=i.result,a=i.queryInfo;r.addMention(o,a),r.setState({focusIndex:0})})),ne(K(r),"handleBlur",(function(e){var t=r._suggestionsMouseDown;r._suggestionsMouseDown=!1,t||r.setState({selectionStart:null,selectionEnd:null}),window.setTimeout((function(){r.updateHighlighterScroll()}),1),r.props.onBlur(e,t)})),ne(K(r),"handleSuggestionsMouseDown",(function(e){r._suggestionsMouseDown=!0})),ne(K(r),"handleSuggestionsMouseEnter",(function(e){r.setState({focusIndex:e,scrollFocusedIntoView:!1})})),ne(K(r),"updateSuggestionsPosition",(function(){var e=r.state.caretPosition,t=r.props,n=t.suggestionsPortalHost,i=t.allowSuggestionsAboveCursor,o=t.forceSuggestionsAboveCursor;if(e&&r.suggestionsElement){var a=r.suggestionsElement,s=r.highlighterElement,c=s.getBoundingClientRect(),u=Ot(s,"font-size"),l={left:c.left+e.left,top:c.top+e.top+u},d=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(a){var f={};if(n){f.position="fixed";var h=l.left,p=l.top;h-=Ot(a,"margin-left"),p-=Ot(a,"margin-top"),h-=s.scrollLeft,p-=s.scrollTop;var m=Math.max(document.documentElement.clientWidth,window.innerWidth||0);h+a.offsetWidth>m?f.left=Math.max(0,m-a.offsetWidth):f.left=h,i&&p+a.offsetHeight>d&&a.offsetHeight<p-u||o?f.top=Math.max(0,p-a.offsetHeight-u):f.top=p}else{var v=e.left-s.scrollLeft,g=e.top-s.scrollTop;v+a.offsetWidth>r.containerElement.offsetWidth?f.right=0:f.left=v,i&&l.top-s.scrollTop+a.offsetHeight>d&&a.offsetHeight<c.top-u-s.scrollTop||o?f.top=g-a.offsetHeight-u:f.top=g}f.left===r.state.suggestionsPosition.left&&f.top===r.state.suggestionsPosition.top&&f.position===r.state.suggestionsPosition.position||r.setState({suggestionsPosition:f})}}})),ne(K(r),"updateHighlighterScroll",(function(){var e=r.inputElement,t=r.highlighterElement;e&&t&&(t.scrollLeft=e.scrollLeft,t.scrollTop=e.scrollTop,t.height=e.height)})),ne(K(r),"handleCompositionStart",(function(){At=!0})),ne(K(r),"handleCompositionEnd",(function(){At=!1})),ne(K(r),"setSelection",(function(e,t){if(null!==e&&null!==t){var n=r.inputElement;if(n.setSelectionRange)n.setSelectionRange(e,t);else if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}})),ne(K(r),"updateMentionsQueries",(function(e,t){r._queryId++,r.suggestions={},r.setState({suggestions:{}});var n=r.props.value||"",i=r.props.children,o=ot(i),a=$e(n,o,t,"NULL");if(null!==a){var s=function(e,t){var n=tt(e,t),r=n[n.length-1];return r?r.plainTextIndex+r.display.length:0}(n.substring(0,a),o),u=e.substring(s,t);c.Children.forEach(i,(function(t,n){if(t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof RegExp)return e;var n=t.allowSpaceInQuery,r=Ve(e);return new RegExp("(?:^|\\s)(".concat(r,"([^").concat(n?"":"\\s").concat(r,"]*))$"))}(t.props.trigger,r.props),o=u.match(i);if(o){var a=s+u.indexOf(o[1],o.index);r.queryData(o[2],n,a,a+o[1].length,e)}}}))}})),ne(K(r),"clearSuggestions",(function(){r._queryId++,r.suggestions={},r.setState({suggestions:{},focusIndex:0})})),ne(K(r),"queryData",(function(e,t,n,i,o){var a=r.props,s=a.children,u=a.ignoreAccents,l=function(e,t){return e instanceof Array?function(n,r){for(var i=[],o=0,a=e.length;o<a;++o){var s=e[o].display||e[o].id;ut(s,n,t)>=0&&i.push(e[o])}return i}:e}(c.Children.toArray(s)[t].props.data,u),d=l(e,r.updateSuggestions.bind(null,r._queryId,t,e,n,i,o));d instanceof Array&&r.updateSuggestions(r._queryId,t,e,n,i,o,d)})),ne(K(r),"updateSuggestions",(function(e,t,n,i,o,a,s){if(e===r._queryId){r.suggestions=Ct(Ct({},r.suggestions),{},ne({},t,{queryInfo:{childIndex:t,query:n,querySequenceStart:i,querySequenceEnd:o,plainTextValue:a},results:s}));var c=r.state.focusIndex,u=rt(r.suggestions);r.setState({suggestions:r.suggestions,focusIndex:c>=u?Math.max(u-1,0):c})}})),ne(K(r),"addMention",(function(e,t){var n=e.id,i=e.display,o=t.childIndex,a=t.querySequenceStart,s=t.querySequenceEnd,u=t.plainTextValue,l=r.props.value||"",d=ot(r.props.children),f=c.Children.toArray(r.props.children)[o].props,h=f.markup,p=f.displayTransform,m=f.appendSpaceOnAdd,v=f.onAdd,g=$e(l,d,a,"START"),y=g+s-a,b=function(e,t,n){return e.replace(We,t).replace(He,n)}(h,n,i);m&&(b+=" ");var w=Je(l,g,y,b);r.inputElement.focus();var x=p(n,i);m&&(x+=" ");var _=a+x.length;r.setState({selectionStart:_,selectionEnd:_,setSelectionAfterMentionChange:!0});var E={target:{value:w}},k=tt(w,d),C=Je(u,a,s,x);r.executeOnChange(E,w,C,k),v&&v(n,i,g,y),r.clearSuggestions()})),ne(K(r),"isLoading",(function(){var e=!1;return c.Children.forEach(r.props.children,(function(t){e=e||t&&t.props.isLoading})),e})),ne(K(r),"isOpened",(function(){return lt(r.state.selectionStart)&&(0!==rt(r.state.suggestions)||r.isLoading())})),ne(K(r),"_queryId",0),r.suggestions={},r.uuidSuggestionsOverlay=Math.random().toString(16).substring(2),r.handleCopy=r.handleCopy.bind(K(r)),r.handleCut=r.handleCut.bind(K(r)),r.handlePaste=r.handlePaste.bind(K(r)),r.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:{}},r}return Y(n,[{key:"componentDidMount",value:function(){document.addEventListener("copy",this.handleCopy),document.addEventListener("cut",this.handleCut),document.addEventListener("paste",this.handlePaste),this.updateSuggestionsPosition()}},{key:"componentDidUpdate",value:function(e,t){t.suggestionsPosition===this.state.suggestionsPosition&&this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("copy",this.handleCopy),document.removeEventListener("cut",this.handleCut),document.removeEventListener("paste",this.handlePaste)}},{key:"render",value:function(){return c.createElement("div",H({ref:this.setContainerElement},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())}},{key:"handlePaste",value:function(e){if(e.target===this.inputElement&&this.supportsClipboardActions(e)){e.preventDefault();var t=this.state,n=t.selectionStart,r=t.selectionEnd,i=this.props,o=i.value,a=i.children,s=ot(a),c=$e(o,s,n,"START"),u=$e(o,s,r,"END"),l=e.clipboardData.getData("text/react-mentions"),d=e.clipboardData.getData("text/plain"),f=Je(o,c,u,l||d).replace(/\r/g,""),h=Xe(f,s),p={target:Ct(Ct({},e.target),{},{value:f})};this.executeOnChange(p,f,h,tt(f,s));var m=(et(o,s,n)||n)+Xe(l||d,s).length;this.setSelection(m,m)}}},{key:"saveSelectionToClipboard",value:function(e){var t=this.inputElement.selectionStart,n=this.inputElement.selectionEnd,r=this.props,i=r.children,o=r.value,a=ot(i),s=$e(o,a,t,"START"),c=$e(o,a,n,"END");e.clipboardData.setData("text/plain",e.target.value.slice(t,n)),e.clipboardData.setData("text/react-mentions",o.slice(s,c))}},{key:"supportsClipboardActions",value:function(e){return!!e.clipboardData}},{key:"handleCopy",value:function(e){e.target===this.inputElement&&this.supportsClipboardActions(e)&&(e.preventDefault(),this.saveSelectionToClipboard(e))}},{key:"handleCut",value:function(e){if(e.target===this.inputElement&&this.supportsClipboardActions(e)){e.preventDefault(),this.saveSelectionToClipboard(e);var t=this.state,n=t.selectionStart,r=t.selectionEnd,i=this.props,o=i.children,a=i.value,s=ot(o),c=$e(a,s,n,"START"),u=$e(a,s,r,"END"),l=[a.slice(0,c),a.slice(u)].join(""),d=Xe(l,s),f={target:Ct(Ct({},e.target),{},{value:d})};this.executeOnChange(f,l,d,tt(a,s))}}}]),n}(c.Component);ne(It,"propTypes",Tt),ne(It,"defaultProps",{ignoreAccents:!1,singleLine:!1,allowSuggestionsAboveCursor:!1,onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}});var Ot=function(e,t){var n=parseFloat(window.getComputedStyle(e,null).getPropertyValue(t));return isFinite(n)?n:0},Dt=ft({position:"relative",overflowY:"visible",input:{display:"block",width:"100%",position:"absolute",margin:0,top:0,left:0,boxSizing:"border-box",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",letterSpacing:"inherit"},"&multiLine":{input:Ct({height:"100%",bottom:0,overflow:"hidden",resize:"none"},"undefined"!==typeof navigator&&/iPhone|iPad|iPod/i.test(navigator.userAgent)?{marginTop:1,marginLeft:-3}:null)}},(function(e){var t=e.singleLine;return{"&singleLine":t,"&multiLine":!t}}))(It),Nt={fontWeight:"inherit"},Pt=function(e){var t=e.display,n=e.style,r=e.className,i=e.classNames,o=Le(Nt,{style:n,className:r,classNames:i});return c.createElement("strong",o,t)};Pt.propTypes={onAdd:ze().func,onRemove:ze().func,renderSuggestion:ze().func,trigger:ze().oneOfType([ze().string,ze().instanceOf(RegExp)]),markup:ze().string,displayTransform:ze().func,allowSpaceInQuery:ze().bool,isLoading:ze().bool},Pt.defaultProps={trigger:"@",markup:"@[__display__](__id__)",displayTransform:function(e,t){return t||e},onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1};var Mt=n(6427),Lt=n(452),Rt=n(70907),Zt=(0,s.cn)([]);function Ft(e){var t=e.onSave,n=e.val,i=e.onChange,a=e.className,u=e.placeholder,l=e.disabled,d=(0,c.useRef)(null);(0,c.useEffect)((function(){requestAnimationFrame((function(){var e;null===(e=d.current)||void 0===e||e.select()}))}),[]);var f=(0,s.KO)(Mt.K),h=(0,o.Z)(f,1)[0],p=(0,c.useMemo)((function(){return h.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{display:e.name})}))}),[h]),m=(0,s.KO)(Zt),v=(0,o.Z)(m,2)[1],g=(0,s.KO)(F.selectedCollectionAtom),y=(0,o.Z)(g,1)[0],b=(0,s.KO)(Lt.I),_=(0,o.Z)(b,1)[0],E=(0,c.useMemo)((function(){return(0,Rt.Z)(_.collections,"id")}),[_.collections]);return(0,k.jsx)(Dt,{inputRef:d,placeholder:u||"Reply",disabled:l,autoFocus:!0,value:n,onChange:function(e,t,n,r){i(e.target.value),v(r.map((function(e){return e.id})))},className:(0,w.Z)("mentions","overflow-x-hidden resize-none x-custom-scrollbar rounded","border-none outline-none","mx-2 p-2 box-border","bg-gray-10 text-color-text font-primary text-sm",{"opacity-50":l},a),onKeyDown:function(e){e.shiftKey||"Enter"!==e.key||(e.preventDefault(),n.trim()&&t(n))},suggestionsPortalHost:document.body,customSuggestionsContainer:function(e){return(0,k.jsxs)("div",{id:"mentions-dropdown-container",className:"rounded overflow-y-auto x-custom-scrollbar max-h-52 min-w-[180px] max-w-[240px] border border-gray-20 shadow p-1",children:[y&&(0,k.jsxs)("div",{className:"text-xs p-2 text-gray-60",children:[(0,k.jsxs)("div",{className:"flex gap-x-2",children:[(0,k.jsx)(Z.sW,{className:"text-gray-60 mt-0.5"}),(0,k.jsxs)("div",{children:["You can tag anyone with access to the"," ",(0,k.jsx)("span",{className:"text-gray-70 font-semibold italic",children:E[y].name})," ","collection:"]})]}),(0,k.jsx)("hr",{className:"mt-2 border-gray-20"})]}),e]})},allowSuggestionsAboveCursor:!0,children:(0,k.jsx)(Pt,{className:" bg-indigo-100 dark:bg-indigo-900",trigger:"@",data:p,renderSuggestion:function(e,t,n,r,i){var o=e;return(0,k.jsxs)("div",{className:(0,w.Z)("flex gap-x-2 items-center px-2 py-1.5 rounded text-sm",{"bg-gray-10":i}),children:[(0,k.jsx)(x.Z,{name:o.display,src:o.picture,size:24}),(0,k.jsx)("span",{className:"truncate",children:n})]},r)}})})}var Ut=n(23591);g().extend(b());var zt=function(e){var t=e.comment,n=e.onSave,r=e.onCancel,i=e.initialVal,a=e.user,u=(0,c.useState)(i),l=(0,o.Z)(u,2),d=l[0],f=l[1],h=(0,c.useState)(!1),p=(0,o.Z)(h,2),m=p[0],v=p[1];(0,c.useEffect)((function(){var e;null===(e=document.getElementById(t.id))||void 0===e||e.scrollIntoView({block:"nearest"})}),[t.id]);var g=(0,s.KO)(Kt),y=(0,o.Z)(g,2)[1];return(0,k.jsxs)("div",{className:"flex",children:[(0,k.jsx)(x.Z,{src:(null===a||void 0===a?void 0:a.picture)||"Anonymous",name:(null===a||void 0===a?void 0:a.name)||"Anonymous",size:28,className:"pointer-events-none"}),(0,k.jsxs)("div",{className:"flex flex-col w-full",children:[(0,k.jsx)(Ft,{val:d,onSave:function(e){v(!0),f(e),n(e),v(!1),y({commentId:t.id,highlighted:!1})},onChange:function(e){return f(e)},disabled:m}),(0,k.jsxs)("div",{className:"flex flex-row justify-end mt-2",children:[(0,k.jsx)(Ut.F6,{onClick:r,className:"text-sm py-1.5 px-3 mr-3",children:"Cancel"}),(0,k.jsxs)(Ut.F6,{disabled:m||!d.trim(),onClick:function(e){v(!0),e.stopPropagation(),n(d),v(!1)},className:"text-sm py-1.5 px-3 ",children:["Save ",m&&(0,k.jsx)(_.Z,{})]})]})]})]})},Bt=function(e){var t=e.comment,n=e.isRootComment,r=e.setIsEditing,i=e.user,a=e.activeScene,c=e.focusCommentIdOnDelete,u=t.created,d=t.text,h=t.id,m=t.creator,v=(0,s.KO)(F.activeWorkspaceAtom),y=(0,o.Z)(v,1)[0],b=(0,L.Z)().userData,_=(0,U.Z)(p.Z.getCommentLink({commentId:h}),{successDuration:1e3}),E=(0,o.Z)(_,2),C=E[0],S=E[1],j=b&&b.id===m,A=(0,s.KO)(Kt),I=(0,o.Z)(A,2)[1];return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:(0,w.Z)("flex items-start w-full justify-between"),children:[(0,k.jsxs)("div",{className:"flex flex-row items-start text-xs min-w-0",children:[(0,k.jsx)(x.Z,{src:(null===i||void 0===i?void 0:i.picture)||"Anonymous",name:(null===i||void 0===i?void 0:i.name)||"Anonymous",size:28,className:" pointer-events-none"}),(0,k.jsxs)("div",{className:"flex flex-col ml-2 min-w-0",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"font-bold text-xs text-gray-90",children:(null===i||void 0===i?void 0:i.name)||"Anonymous"}),(0,k.jsx)("span",{className:"text-xs ml-2 text-gray-40",children:g()(u).fromNow()})]}),(0,k.jsx)("div",{className:"overflow-ellipsis overflow-hidden break-words pr-2 whitespace-pre-line",children:(0,k.jsx)(T.H,{text:d})})]})]}),(0,k.jsxs)("div",{className:"flex mt-1 relative",children:[C&&(0,k.jsx)("div",{className:"absolute flex w-16 text-xs text-center -left-16 top-1 text-green-600 animate-bounce",children:"Link copied!"}),(0,k.jsxs)(V.L,{toggleButtonClassName:"flex-center dark:text-color-text rounded bg-default hover:!bg-gray-20 active:!bg-gray-30",toggleButton:(0,k.jsx)(Z.xX,{}),children:[j&&(0,k.jsx)(V.h,{onConfirm:function(e){e.stopPropagation(),r(!0)},title:"Edit",children:(0,k.jsx)(Z.dY,{})}),(j||y.isAdmin)&&!n&&(0,k.jsx)(V.h,{onConfirm:function(){var e=(0,l.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,p.Z.removeComment({sceneId:a.id,commentId:h});case 3:I({commentId:c,highlighted:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),title:"Remove",children:(0,k.jsx)(Z.XH,{})}),(0,k.jsx)(V.h,{onConfirm:function(e){e.stopPropagation(),S()},title:"Copy link",children:(0,k.jsx)(Z.xP,{})})]})]})]})})},Vt=function(e){var t=e.comment,n=e.isRootComment,r=e.activeScene,i=e.focusCommentIdOnDelete,a=t,u=a.text,d=a.id,m=a.creator,v=(0,h.Z)().userList,g=(0,c.useState)(!1),y=(0,o.Z)(g,2),b=y[0],x=y[1],_=(0,L.Z)().userData,E=v.find((function(e){return e.id===m}))||null,C=_&&_.id===m,S=(0,s.KO)(Kt),j=(0,o.Z)(S,1)[0],A=j.commentId===d&&j.highlighted;return(0,k.jsxs)("div",{id:d,className:(0,w.Z)("flex flex-col w-full py-2 box-border px-1",{"bg-yellow-100/75 dark:bg-gray-10 rounded-lg":A}),children:[!b&&(0,k.jsx)(Bt,{comment:t,isRootComment:n,user:E||null,setIsEditing:x,activeScene:r,focusCommentIdOnDelete:i}),C&&b&&(0,k.jsx)("div",{children:(0,k.jsx)(zt,{comment:t,onSave:function(){var e=(0,l.Z)(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.trim()!==u&&p.Z.updateComment({commentId:d,text:t.trim(),sceneId:r.id}),x(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(e){e.stopPropagation(),x(!1)},initialVal:u,user:E})})]})},Wt=n(83209),Ht=function(e){var t=e.onSave,n=e.onChange,r=e.className,i=e.withAvatar,a=e.placeholder,s=(0,c.useState)(""),u=(0,o.Z)(s,2),l=u[0],d=u[1],f=(0,L.Z)().userData;return(0,k.jsxs)("div",{className:"flex items-center p-2 ".concat(r),children:[i&&(0,k.jsx)(x.Z,{src:null===f||void 0===f?void 0:f.picture,name:null===f||void 0===f?void 0:f.name,size:32,className:"pointer-events-none"}),(0,k.jsx)(Ft,{onSave:function(e){null===t||void 0===t||t(e.trim()),d("")},onChange:function(e){d(e),null===n||void 0===n||n(e)},val:l,placeholder:a,className:"w-full"}),(0,k.jsx)(Wt.u,{label:"Submit",children:(0,k.jsx)(Ut.LE,{disabled:!l.trim(),onClick:function(e){e.stopPropagation(),null===t||void 0===t||t(l.trim()),d("")},children:(0,k.jsx)(Z.nQ,{className:"text-gray-0 p-0.5 cursor-pointer"})})})]})},qt=n(92946),Gt=n(65767),Yt=n(38187),Kt=(0,s.cn)({commentId:"",highlighted:!1}),Qt=function(e){var t=e.thread,n=e.excalidrawAPI,r=e.commentX,i=e.commentY,a=e.renderPopupFullscreen,d=e.activeScene,h=(0,L.Z)().userData,m=(0,s.KO)(an),v=(0,o.Z)(m,2),g=v[0],y=v[1],b=(0,u.k6)(),x=(0,qt.a)(),_=g===t.id,E=!t.comments.length,C=(0,c.useRef)(null),S=(0,c.useRef)(null),j=(0,c.useRef)(null),A=(0,c.useCallback)((function(){if(j.current&&S.current){var e=p.Z.calculatePopupCoords({popupContainer:S.current,pin:j.current,excalidrawAPI:n,viewportMargin:20,pinMargin:20}),t=e.x,r=e.y;S.current.style.top==="".concat(r,"px")&&S.current.style.left==="".concat(t,"px")||(a?(S.current.style.top="".concat(0,"px"),S.current.style.left="".concat(0,"px")):(S.current.style.top="".concat(r,"px"),S.current.style.left="".concat(t,"px")))}}),[n,a]);(0,c.useEffect)((function(){if(_)return(0,M.R)(C,(function(){y(null)}))}),[n,y,_]),(0,c.useLayoutEffect)((function(){if(_&&(A(),S.current&&"ResizeObserver"in window)){var e=new ResizeObserver((function(){A()}));e.observe(S.current);var t=new ResizeObserver((function(){A()}));return n.app.canvas&&e.observe(n.app.canvas),function(){e.disconnect(),t.disconnect()}}}),[_,A,n]);var T=(0,s.KO)(Kt),I=(0,o.Z)(T,2),O=I[0],D=I[1];(0,c.useEffect)((function(){x.comment&&(D({commentId:x.comment,highlighted:!0}),b.push({search:""}))}),[b,x.comment,D]),(0,c.useEffect)((function(){if(_){var e,n,r=O.commentId||(null===(e=(0,Gt.Z)(t.comments))||void 0===e?void 0:e.id)||"";null===(n=document.getElementById(r))||void 0===n||n.scrollIntoView({block:"nearest"})}}),[O.commentId,t.comments,_]),(0,c.useEffect)((function(){return function(){_&&D({commentId:"",highlighted:!1})}}),[_,D]),(0,c.useEffect)((function(){_&&A()}),[A,_,r,i]);var N=(0,s.KO)(Zt),R=(0,o.Z)(N,1)[0];return(0,k.jsxs)("div",{ref:C,className:"w-0 h-0",children:[(0,k.jsx)(P,{activeScene:d,commentX:r,commentY:i,thread:t,pinRef:j,excalidrawAPI:n,isActive:_,onClick:function(){y(_?null:t.id);var e=n.getAppState(),r=e.isSidebarDocked,i="customSidebar"===e.openSidebar;(!r||r&&!i)&&n.toggleMenu("customSidebar",!_)},isLoading:E,onMove:function(){_&&A()}}),_&&(0,k.jsxs)("div",{ref:S,className:(0,w.Z)("z-10 left-[20px] bg-default overflow-hidden",{"fixed w-full h-full top-0 right-0 left-0 bottom-0":a,"h-auto w-[320px] absolute rounded-lg shadow-lg":!a}),children:[(0,k.jsx)(B,{thread:t,activeScene:d,className:(0,w.Z)({"px-2 py-1 mt-2":a})}),(0,k.jsx)("div",{className:(0,w.Z)("flex flex-col box-border w-full bg-default",{"max-h-[230px]":!a}),children:(0,k.jsx)("div",{className:"flex flex-col p-2 overflow-x-hidden overflow-auto x-custom-scrollbar",children:t.comments.map((function(e,n){var r;return(0,k.jsx)(Vt,{comment:e,isRootComment:0===n,activeScene:d,focusCommentIdOnDelete:null===(r=t.comments[n-1])||void 0===r?void 0:r.id},e.id)}))})}),h&&(0,k.jsx)(Ht,{withAvatar:!0,placeholder:"Reply, @mention someone...",onSave:function(){var e=(0,l.Z)(f().mark((function e(n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.addComment({sceneId:d.id,threadId:t.id,userData:h,text:n});case 3:r=e.sent;try{p.Z.notifyUsers({thread:t,scene:d,notificationType:Yt.GT.SCENE_COMMENT_REPLIED,userData:h,commentId:r,mentionedUsers:R})}catch(i){console.error(i)}D({commentId:r,highlighted:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),className:"rounded-lg mt-3"})]})]})},Xt=n(46956),$t=n(82829),Jt=260,en=16;var tn=function(e){var t=e.excalidrawAPI,n=e.addingThreadCoords,r=e.threads,i=e.activeScene,a=(0,s.b9)(rn),u=(0,L.Z)().userData,d=(0,c.useRef)(null),h=(0,c.useState)(""),v=(0,o.Z)(h,2),g=v[0],y=v[1],b=(0,s.KO)(Zt),x=(0,o.Z)(b,1)[0],_=(0,c.useCallback)(function(){var e=(0,l.Z)(f().mark((function e(t){var o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u){e.next=3;break}return e.abrupt("return");case 3:return a(null),e.next=6,p.Z.addThread({sceneId:i.id,userData:u,x:n.x,y:n.y,workspaceId:i.workspace,isFirstThread:!r.length});case 6:return o=e.sent,e.next=9,p.Z.addComment({sceneId:i.id,threadId:o,userData:u,text:t});case 9:s=e.sent;try{p.Z.notifyUsers({thread:null,scene:i,notificationType:Yt.GT.SCENE_COMMENT_ADDED,userData:u,commentId:s,mentionedUsers:x})}catch(c){console.error(c)}e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),[a,n,i,r.length,u,x]);(0,c.useEffect)((function(){var e=(0,M.R)(d,(function(){g.trim()?_(g.trim()):a(null)})),t=(0,$t.d)("Escape",(function(){a(null)}));return function(){e(),t()}}),[g,a,_]);var S=null===t||void 0===t?void 0:t.getAppState(),j=m.Z.sceneCoordsToExcalidrawViewportCoords({sceneX:n.x,sceneY:n.y,offsetY:-E.gP,excalidrawState:S}),A=j.x,T=j.y,I=S.width,O=S.height,D=I<A+E.gP+32+Jt,N=O<T+(D?76+E.gP:60),P=T<0,R=en+E.gP,Z=I-A-E.gP-Jt+en,F=en+E.gP,U=D?{width:Jt,top:N?-60:R,left:Z}:{width:Jt,top:N?-60:P?R:0,left:N||P?0:F};return(0,k.jsx)("div",{className:"absolute z-10 flex",style:{left:A,top:T},children:(0,k.jsxs)("div",{className:"flex",ref:d,children:[(0,k.jsx)(C,{userData:u}),(0,k.jsx)("div",{className:"absolute",style:U,children:(0,k.jsx)(Ht,{className:(0,w.Z)("bg-default rounded-lg shadow-lg !pl-0 !py-1",{"-mt-1":!N&&!D}),placeholder:"Comment, @mention someone...",onChange:function(e){return y(e)},onSave:_})})]})})},nn=n(72917),rn=((0,s.cn)(null),(0,s.cn)(null)),on=(0,s.cn)([]),an=(0,s.cn)(null),sn=(0,s.cn)(null),cn=function(e){var t=e.activeScene,n=e.excalidrawAPI,l=(0,s.KO)(on),d=(0,o.Z)(l,2),f=d[0],h=d[1],v=(0,u.k6)(),g=(0,s.b9)(an),y=(0,s.KO)(rn),b=(0,o.Z)(y,1)[0],w=(0,Xt.Z)(),x=(0,o.Z)(w,1)[0],_=(0,qt.a)(),C=(0,c.useState)(!1),S=(0,o.Z)(C,2),j=S[0],A=S[1],T=n.getAppState(),I=(0,c.useState)(T.zenModeEnabled),O=(0,o.Z)(I,2),D=O[0],N=O[1];(0,c.useEffect)((function(){return n.onChange((function(e,t){N(t.zenModeEnabled)}))}),[n,N]),(0,c.useEffect)((function(){if(n&&"ResizeObserver"in window){var e=new ResizeObserver((function(){if(n.app.canvas){var e=n.app.canvas.getBoundingClientRect().width;A(e<450)}}));return n.app.canvas&&e.observe(n.app.canvas),function(){e.disconnect()}}}),[n]);var P=(0,s.KO)(sn),M=(0,o.Z)(P,2),L=M[0],R=M[1];return(0,c.useEffect)((function(){if(_.comment&&L!==_.comment){var e=f.reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t.comments))}),[]).filter((function(e){return e.id===_.comment}));if(e.length){var t=e[0],r=f.filter((function(e){return e.id===t.parentId}))[0];p.Z.scrollThreadToCenter({thread:r,excalidrawAPI:n}),g(t.parentId),R(_.comment)}}}),[n,v,_.comment,f,g,L,R]),(0,c.useEffect)((function(){if(t.id){var e=a.ZP.firestore().collection("scene_comments").doc(t.id).onSnapshot((function(e){var t=(0,nn.w)(e);t&&h(Object.values(t.threads).reduce((function(e,n){return e.push((0,r.Z)((0,r.Z)({},n),{},{comments:Object.values(t.comments).filter((function(e){return e.parentId===n.id})).sort((function(e,t){return new Date(e.created).getTime()-new Date(t.created).getTime()}))})),e}),[]))}),(function(e){console.error(e)}));return function(){e(),h([]),g(null)}}}),[t.id,h,g]),(0,k.jsx)(k.Fragment,{children:x&&(0,k.jsxs)(k.Fragment,{children:[!!f.length&&!D&&f.map((function(e){var r=m.Z.sceneCoordsToExcalidrawViewportCoords({sceneX:e.x,sceneY:e.y,offsetY:-E.gP,excalidrawState:T}),i=r.y,o=r.x;return m.Z.isOutsideViewport({top:i+2*E.gP,left:o,offset:150,excalidrawAPI:n})||e.resolved?null:e.comments.length?(0,k.jsx)(Qt,{thread:e,excalidrawAPI:n,commentX:i,commentY:o,renderPopupFullscreen:j,activeScene:t},e.id):null})),b&&(0,k.jsx)(tn,{activeScene:t,excalidrawAPI:n,addingThreadCoords:b,threads:f})]})})}},78401:function(e,t,n){"use strict";n.r(t),n.d(t,{activeWorkspaceAtom:function(){return lu},default:function(){return pu},isDraggingSceneAtom:function(){return ou},isImportingSceneAtom:function(){return su},movingSceneIdsAtom:function(){return au},onlineWorkspaceUsersAtom:function(){return cu},sceneListAtom:function(){return fu},selectedCollectionAtom:function(){return uu},workspaceMembersAtom:function(){return du}});var r=n(89472),i=n(33032),o=n(18489),a=n(50678),s=n(84322),c=n.n(s),u=n(47313),l=n(51386),d=n(71150),f=n(63830),h=n(31303),p=n(11824),m=n(71470),v=n(21172),g=n(48426),y=n(77955),b=n(77603),w=n(99154);var x=function(e){return(0,w.Z)(e)&&"[object RegExp]"==(0,b.Z)(e)},_=n(91801),E=n(76018),k=E.Z&&E.Z.isRegExp,C=k?(0,_.Z)(k):x,S=(0,n(70222).Z)("length"),j="[\\ud800-\\udfff]",A="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",T="\\ud83c[\\udffb-\\udfff]",I="[^\\ud800-\\udfff]",O="(?:\\ud83c[\\udde6-\\uddff]){2}",D="[\\ud800-\\udbff][\\udc00-\\udfff]",N="(?:"+A+"|"+T+")"+"?",P="[\\ufe0e\\ufe0f]?",M=P+N+("(?:\\u200d(?:"+[I,O,D].join("|")+")"+P+N+")*"),L="(?:"+[I+A+"?",A,O,D,j].join("|")+")",R=RegExp(T+"(?="+T+")|"+L+M,"g");var Z=function(e){for(var t=R.lastIndex=0;R.test(e);)++t;return t};var F=function(e){return(0,g.Z)(e)?Z(e):S(e)},U=n(27587),z=n(74833),B=n(69775),V=/\w*$/;var W=function(e,t){var n=30,r="...";if((0,y.Z)(t)){var i="separator"in t?t.separator:i;n="length"in t?(0,z.Z)(t.length):n,r="omission"in t?(0,m.Z)(t.omission):r}var o=(e=(0,B.Z)(e)).length;if((0,g.Z)(e)){var a=(0,U.Z)(e);o=a.length}if(n>=o)return e;var s=n-F(r);if(s<1)return r;var c=a?(0,v.Z)(a,0,s).join(""):e.slice(0,s);if(void 0===i)return c+r;if(a&&(s+=c.length-s),C(i)){if(e.slice(s).search(i)){var u,l=c;for(i.global||(i=RegExp(i.source,(0,B.Z)(V.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var d=u.index;c=c.slice(0,void 0===d?s:d)}}else if(e.indexOf((0,m.Z)(i),s)!=s){var f=c.lastIndexOf(i);f>-1&&(c=c.slice(0,f))}return c+r},H=n(28303),q=n(96729),G=n(17494),Y=n(48688),K=n(80896),Q=n(50138),X=n(83061),$=n(69563),J=n(79095),ee=n(46417);function te(e){var t=e.title,n=e.className,r=e.children;return(0,ee.jsx)("span",{title:t,className:"flex justify-center items-center ".concat(n||""),children:r})}function ne(e){var t=e.scene,n=e.className;return(0,ee.jsxs)(ee.Fragment,{children:[!!t.pinned&&(0,ee.jsx)(te,{title:"Scene is pinned",className:n,children:(0,ee.jsx)(J.qQ,{})}),!!t.isPrivate&&(0,ee.jsx)(te,{title:"Scene is private. Team-members can't see it unless shared via link",className:n,children:(0,ee.jsx)(J.mB,{className:"ml-1"})}),!!t.linkSharing&&(0,ee.jsx)(te,{title:"Shared through the link",className:n,children:(0,ee.jsx)(J.xP,{className:"ml-1"})})]})}var re=n(84740),ie=n(41155),oe=n(86422),ae=n(23591),se=n(86645),ce=n(25978),ue=n(34649),le=n(9066),de=n(95576),fe=function(e){var t=e.scene,n=(0,se.Z)({validationSchema:{name:ce.O.scene.name},defaultValues:{name:t.name||""}}),r=(0,f.k6)(),o=function(){var t=(0,i.Z)(c().mark((function t(n){var i,o,a,s,u,l,d,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.name,t.prev=1,t.next=4,(0,ie.ei)(e.scene.workspace,e.scene.id);case 4:return o=t.sent,a=o.contents,s=o.collection,t.next=9,(0,de.uB)({getPath:function(t){var n=encodeURIComponent("files/".concat(e.scene.workspace,"/").concat(e.scene.id,"/").concat(t));return"".concat($.OZ,"/").concat(n)},elements:(0,ie.Lm)(a.elements),decryptionKey:null});case 9:return u=t.sent,l=u.loadedFiles,d=Object.fromEntries(l.entries()),t.next=14,(0,ie.aY)({workspace:e.scene.workspace,collection:s,name:i||"".concat(e.scene.name," (duplicated)"),sceneData:a,files:d,forceCreate:!0});case 14:h=t.sent,(0,ie.oF)({id:h.id,workspace:h.workspace,appState:h.contents.appState,elements:h.contents.elements,files:d}),ie.oF.flush(),e.redirect&&r.push((0,f.Gn)($.Z6.workspaceScene,{workspace:h.workspace,scene:h.id})),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),e.onError(t.t0);case 23:e.onClose();case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}();return(0,ee.jsx)(q.u,{title:"Duplicate scene",onCloseRequest:e.onClose,closeButton:!1,children:(0,ee.jsxs)(oe.l0,{formHook:n,onSubmit:o,children:[(0,ee.jsx)(oe.II,{name:"name",label:"Name of duplicated scene",selectContent:!0}),(0,ee.jsxs)(oe.p7,{className:"mt-3 justify-end",children:[(0,ee.jsx)(ae.F6,{onClick:e.onClose,className:"media-xs:order-2",children:"Cancel"}),(0,ee.jsx)(oe.Mm,{children:"Duplicate scene"})]})]})})},he=n(73679),pe=n(63198),me=n(38187),ve=n(95408),ge=function(e){var t=(0,u.useState)({value:e.scene.linkSharing,status:"loaded"}),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(0,u.useRef)(null);(0,u.useEffect)((function(){o.current&&o.current.select()}),[]);var s,c=function(t){i((function(){return{value:t,status:"loading"}})),he.Z.patch("/scene/".concat(e.scene.id,"/linkSharing"),{linkSharing:t}).then((function(e){i({value:e.linkSharing,status:"loaded"})}))};return(0,ee.jsxs)(q.u,{title:"Share",onCloseRequest:e.onClose,autoFocus:!1,closeButton:!1,children:[(0,ee.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ee.jsx)(ve.C,{disabled:"loading"===r.status,checked:r.value!==me.rd.none,label:(0,ee.jsx)("div",{style:{fontWeight:"bold",fontSize:"1.2em",marginRight:"1em"},children:"Shareable link"}),onChange:function(t){t?c(me.mk.editor):(i((function(){return{value:me.mk.none,status:"loading"}})),he.Z.delete("/scene/".concat(e.scene.id,"/linkSharing")).then((function(e){i({value:e.linkSharing,status:"loaded"})})))}}),"loading"===r.status&&(0,ee.jsx)(K.Z,{size:"1em",style:{marginRight:"auto",marginLeft:"1em"}})]}),(0,ee.jsxs)("div",{style:{minHeight:210},children:[(0,ee.jsx)("p",{style:{fontSize:".9em"},children:r.value!==me.rd.none?r.value&me.rd.write?(0,ee.jsxs)(ee.Fragment,{children:["Link sharing is ",(0,ee.jsx)("b",{children:"enabled"}),". Anyone with this link can view and edit the scene, even if they're not members of Excalidraw."]}):(0,ee.jsxs)(ee.Fragment,{children:["Link sharing is ",(0,ee.jsx)("b",{children:"enabled"}),". Anyone with this link can access the scene, even if they're not members of Excalidraw."]}):(0,ee.jsxs)(ee.Fragment,{children:["Link sharing is ",(0,ee.jsx)("b",{children:"disabled"}),". Only members of this workspace will be able to view and edit the scene."]})}),r.value!==me.rd.none&&(0,ee.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",userSelect:"none"},children:[(0,ee.jsx)("input",{value:(s=e.scene,"".concat(window.location.origin,"/l/").concat(s.workspace,"/").concat(s.id)),onClick:function(e){var t;null!==(t=document.getSelection())&&void 0!==t&&t.toString().length||e.target.select()},readOnly:!0,ref:o}),(0,ee.jsx)(pe.Z,{style:{marginLeft:"1em"},size:"small",onClick:function(){o.current&&(o.current.select(),document.execCommand("copy"))},children:"Copy"}),(0,ee.jsxs)("div",{style:{width:"100%"},children:[(0,ee.jsx)("div",{style:{margin:".6em 0",fontWeight:"bold",fontSize:".9em"},children:"Anyone with this link can:"}),(0,ee.jsxs)("form",{children:[(0,ee.jsx)("div",{children:(0,ee.jsxs)("label",{children:[(0,ee.jsx)("input",{name:"shareLinkPermissions",type:"radio",disabled:"loading"===r.status,checked:!!(r.value&me.rd.write),onChange:function(){return c(me.mk.editor)}})," ","View & edit"]})}),(0,ee.jsx)("div",{children:(0,ee.jsxs)("label",{children:[(0,ee.jsx)("input",{name:"shareLinkPermissions",type:"radio",disabled:"loading"===r.status,checked:!(r.value&me.rd.write),onChange:function(){return c(me.mk.reader)}})," ","View only"]})})]})]})]})]}),(0,ee.jsx)(oe.p7,{className:"mt-3 justify-end",children:(0,ee.jsx)(ae.F6,{onClick:e.onClose,children:"Close"})})]})},ye="ontouchstart"in window||navigator.maxTouchPoints>0,be=function(){return ye||window.matchMedia($.qk.mobile).matches},we=function(e){var t=e.scene,n=(0,se.Z)({validationSchema:{name:ce.O.scene.name},defaultValues:{name:t.id&&t.name||""}}),r=function(){var n=(0,i.Z)(c().mark((function n(r){var i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.name,n.prev=1,!i||t.name===i){n.next=5;break}return n.next=5,l.ZP.firestore().collection("scenes").doc(t.id).update({name:i});case 5:e.onClose(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}();return(0,ee.jsx)(q.u,{title:"Rename scene",onCloseRequest:e.onClose,closeButton:!1,fullScreen:!0,children:(0,ee.jsxs)(oe.l0,{formHook:n,onSubmit:r,children:[(0,ee.jsx)(oe.II,{name:"name",label:"Scene name",selectContent:!0}),(0,ee.jsxs)(oe.p7,{className:"mt-3 justify-end",children:[(0,ee.jsx)(ae.F6,{onClick:e.onClose,className:"media-xs:order-2",children:"Cancel"}),(0,ee.jsx)(oe.Mm,{children:"Rename scene"})]})]})})};function xe(e){var t=e.scene,n=(0,u.useState)(null),r=(0,a.Z)(n,2),o=r[0],s=r[1],l=(0,u.useState)(null),d=(0,a.Z)(l,2),f=d[0],h=d[1],p=(0,u.useState)(null),m=(0,a.Z)(p,2),v=m[0],g=m[1],y=(0,u.useState)(null),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=(0,u.useState)(!1),E=(0,a.Z)(_,2),k=E[0],C=E[1],S=(0,Y.KO)(ue.Y),j=(0,a.Z)(S,2)[1];function A(){return A=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",s(new le.dR("cannot delete scene: not found")));case 2:j({type:"show",title:"Scene remove",text:'Do you want to delete "'.concat(t.name,'" scene? This operation is currently irreversible!'),confirmButtonText:"Delete",onConfirm:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ie.r4)(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),"AbortError"!==e.t0.name&&s(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"absolute right-2 top-2 group-hover:visible invisible",style:{visibility:k||be()?"visible":void 0},children:(0,ee.jsxs)(re.L,{toggleButtonClassName:"Sidebar-item-button flex-center dark:text-color-text",toggleButton:(0,ee.jsx)(J.xX,{}),onOpenChange:function(e){C(e)},modal:!0,portaled:!0,children:[(0,ee.jsx)(re.h,{onConfirm:function(){return h(!0)},title:"Rename",children:(0,ee.jsx)(J.dY,{})}),(0,ee.jsx)(re.h,{onConfirm:function(){x(!0)},title:"Share",children:(0,ee.jsx)(J.aA,{})}),(0,ee.jsx)(re.h,{onConfirm:function(){return(0,ie.zk)(t)},title:null!==t&&void 0!==t&&t.pinned?"Unpin":"Pin",children:(0,ee.jsx)(J.qQ,{})}),(0,ee.jsx)(re.h,{onConfirm:function(){return g(!0)},title:"Duplicate",children:(0,ee.jsx)(J.TI,{})}),(0,ee.jsx)(re.h,{onConfirm:function(){!function(e){A.apply(this,arguments)}(t)},title:"Delete",children:(0,ee.jsx)(J.XH,{})})]})}),o&&(0,ee.jsx)(q.u,{title:"Error",onCloseRequest:function(){s(null)},children:(0,ee.jsx)(Q.Z,{children:null===o||void 0===o?void 0:o.message})}),f&&(0,ee.jsx)(we,{scene:t,onClose:function(){return h(null)}}),v&&(0,ee.jsx)(fe,{scene:t,onClose:function(){return g(null)},onError:function(e){return s(e)},redirect:!1}),w&&(0,ee.jsx)(ge,{scene:t,onClose:function(){return x(null)}})]})}var _e=n(57099),Ee=function(e){var t=e.workspaceMembers,n=e.scene,r=e.separator,i=e.className,o=e.maxWidth,a=void 0===o?100:o;if("loading"===t.status||t.error)return null;var s=t.userList.find((function(e){return e.id===n.creator}));return(0,ee.jsxs)(ee.Fragment,{children:[s&&s.name?(0,ee.jsx)("div",{className:(0,X.Z)("flex",i),title:"Scene created by ".concat(s.name),children:(0,ee.jsxs)("div",{className:"truncate",style:{maxWidth:a},children:["by ",s.name]})}):n.creator?(0,ee.jsx)("div",{className:(0,X.Z)("flex",i),title:"Scene created by a former team member",children:"by former member"}):null,s&&"right"===r&&(0,ee.jsx)("span",{className:i,children:"\u2022"})]})},ke=n(46372),Ce=function(e){var t=e.scene,n=e.users,r=e.isMoving,o=e.className,s=e.draggable,l=e.style,d=W(t.name,{length:58}),h=(0,u.useState)(!1),p=(0,a.Z)(h,2),m=p[0],v=p[1],g=(0,Y.KO)(ou),y=(0,a.Z)(g,2)[1],b=(0,u.useState)(null),w=(0,a.Z)(b,2),x=w[0],_=w[1],E=(0,_e.Z)();return(0,ee.jsxs)(ee.Fragment,{children:[x&&(0,ee.jsx)(q.u,{title:"Error",onCloseRequest:function(){_(null)},children:(0,ee.jsx)(Q.Z,{children:null===x||void 0===x?void 0:x.message})}),(0,ee.jsxs)(H.rU,{className:(0,X.Z)("group\n          w-full max-w-[350px] sm:max-w-[210px]\n          flex sm:flex-col row relative\n          mt-3 sm:mt-6 sm:mr-6\n        bg-color-light x-reset-link overflow-hidden shadow-sm rounded-md\n          border border-solid border-transparent box-border\n          hover:shadow-xl active:shadow-none",{"border-none":m||r},o),style:l,to:(0,f.Gn)($.Z6.workspaceScene,{workspace:t.workspace,scene:t.id}),draggable:!r&&!1!==s,onDragStart:function(e){var n=e.target.getBoundingClientRect().width,r=document.createElement("div");r.classList.add("ScenePreviewItem-dnd-dragImage"),r.style.width="".concat(n,"px"),r.textContent=t.name,document.body.appendChild(r),e.dataTransfer.setDragImage(r,-12,-2),e.dataTransfer.setData("application/json",JSON.stringify({scene:t.id,collection:t.collection})),v(!0),y(!0)},onDragEnd:function(){var e;v(!1),y(!1),null===(e=document.querySelector(".ScenePreviewItem-dnd-dragImage"))||void 0===e||e.remove()},children:[(m||r)&&(0,ee.jsx)("div",{className:"absolute w-full h-full z-50 bg-gray-20",children:r&&(0,ee.jsx)(K.Z,{size:"small"})}),(0,ee.jsxs)("div",{className:"relative w-1/2 sm:w-full flex",children:[(0,ee.jsx)("div",{className:"x-dark-image-preview w-full flex justify-center items-center flex-shrink-0",style:{backgroundColor:t.previewBackground},children:(0,ee.jsx)("img",{className:"flex h-[140px] max-w-[140px] sm:max-w-[192px] sm:h-[145px] object-contain relative w-full pointer-events-none px-3 pt-3 pb-9 sm:pb-2 sm:px-2 sm:pt-2",src:t.previewUrl||"/empty-scene-preview.png",alt:t.name,onError:function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.src="/empty-scene-preview.png";case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),(0,ee.jsx)("div",{className:"text-gray-70 text-[10px] absolute bottom-1 right-2 bg-white/80 rounded p-[2px] px-2 dark:bg-default",title:"Updated ".concat((0,G.Z)(t.updated,{format:"YYYY-MM-DD HH:MI"})),children:(0,G.Z)(t.updated)}),(0,ee.jsx)("div",{className:"absolute top-2 sm:top-auto sm:bottom-0 left-2 w-full",children:(0,ee.jsx)(ke.Z,{users:n,size:20,maxAvatars:6})})]}),(0,ee.jsxs)("div",{className:"w-1/2 p-3 sm:px-2 sm:pt-2 sm:w-full relative sm:pb-8 box-border",children:[(0,ee.jsx)("div",{className:"text-sm text-color-text h-full max-h-[100px] sm:max-h-[40px] sm:h-[40px] mr-6 sm:mr-0 w-full sm:max-w-[200px] text-ellipsis overflow-hidden box-border pr-5",title:d.length!==t.name.length?t.name:void 0,children:d}),(0,ee.jsx)(Se,{scene:t}),(0,ee.jsx)(Ee,{workspaceMembers:E,scene:t,maxWidth:120,className:"absolute bottom-2 right-2 justify-center items-center ml-1 text-xs text-color-text"})]}),(0,ee.jsx)(xe,{scene:t})]})]})},Se=function(e){var t=e.scene;return(0,ee.jsx)("div",{className:"flex text-gray-70 absolute bottom-2 text-sm items-center justify-center",children:(0,ee.jsx)(ne,{scene:t})})},je=n(60946),Ae=n(18434),Te=n(452),Ie=n(75847),Oe=n(55343),De=function(e){var t=e.willCancelAt,n=e.workspace,r=e.isAdmin;return new Date(t).getTime()<Date.now()?null:(0,ee.jsx)(ee.Fragment,{children:(0,ee.jsxs)("div",{className:"text-center py-2 px-2 mb-2 mt-auto rounded-md bg-yellow",children:["Your subscription is scheduled to cancel at"," ",(0,ee.jsxs)("span",{title:(0,G.Z)(t,{format:"YYYY-MM-DD HH:MI"}),style:{cursor:"help"},children:[(0,G.Z)(t,{format:"MM/DD/YYYY"}),".",r&&(0,ee.jsxs)(ee.Fragment,{children:[" ",(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceBilling,{workspace:n}),children:"View more."})]})]})]})})},Ne=n(36222),Pe=n(78613),Me=n(84023),Le=n(83738),Re=n(27853),Ze=n(84531),Fe=n(44474),Ue=n(53538),ze=n(81020),Be=n(18334),Ve=n(52839),We=n(1168);var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function qe(e){var t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Ge(e){return"nodeType"in e}function Ye(e){var t,n;return e?qe(e)?e:Ge(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Ke(e){return e instanceof Ye(e).Document}function Qe(e){return!qe(e)&&e instanceof Ye(e).HTMLElement}function Xe(e){return e?qe(e)?e.document:Ge(e)?Ke(e)?e:Qe(e)?e.ownerDocument:document:document:document}var $e=He?u.useLayoutEffect:u.useEffect;function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e],n=(0,u.useRef)(e);return $e((function(){n.current!==e&&(n.current=e)}),t),n}function et(e,t){var n=(0,u.useRef)();return(0,u.useMemo)((function(){var t=e(n.current);return n.current=t,t}),(0,h.Z)(t))}function tt(e){var t=Je(e),n=(0,u.useRef)(null),r=(0,u.useCallback)((function(e){e!==n.current&&(null==t.current||t.current(e,n.current)),n.current=e}),[]);return[n,r]}var nt={};function rt(e,t){return(0,u.useMemo)((function(){if(t)return t;var n=null==nt[e]?0:nt[e]+1;return nt[e]=n,"".concat(e,"-").concat(n)}),[e,t])}function it(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((function(t,n){for(var r=0,i=Object.entries(n);r<i.length;r++){var o=(0,a.Z)(i[r],2),s=o[0],c=o[1],u=t[s];null!=u&&(t[s]=u+e*c)}return t}),(0,o.Z)({},t))}}var ot=it(1),at=it(-1);function st(e){if(!e)return!1;var t=Ye(e.target).KeyboardEvent;return t&&e instanceof t}function ct(e){if(function(e){if(!e)return!1;var t=Ye(e.target).TouchEvent;return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){var t=e.touches[0];return{x:t.clientX,y:t.clientY}}if(e.changedTouches&&e.changedTouches.length){var n=e.changedTouches[0];return{x:n.clientX,y:n.clientY}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}var ut=Object.freeze({Translate:{toString:function(e){if(e){var t=e.x,n=e.y;return"translate3d(".concat(t?Math.round(t):0,"px, ").concat(n?Math.round(n):0,"px, 0)")}}},Scale:{toString:function(e){if(e){var t=e.scaleX,n=e.scaleY;return"scaleX(".concat(t,") scaleY(").concat(n,")")}}},Transform:{toString:function(e){if(e)return[ut.Translate.toString(e),ut.Scale.toString(e)].join(" ")}},Transition:{toString:function(e){var t=e.property,n=e.duration,r=e.easing;return"".concat(t," ").concat(n,"ms ").concat(r)}}}),lt={display:"none"};function dt(e){var t=e.id,n=e.value;return u.createElement("div",{id:t,style:lt},n)}var ft={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function ht(e){var t=e.id,n=e.announcement;return u.createElement("div",{id:t,style:ft,role:"status","aria-live":"assertive","aria-atomic":!0},n)}var pt,mt=["transform"],vt=["id","autoScroll","announcements","children","sensors","collisionDetection","measuring","modifiers","screenReaderInstructions"],gt=["children","transform"],yt={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},bt={onDragStart:function(e){return"Picked up draggable item ".concat(e,".")},onDragOver:function(e,t){return t?"Draggable item ".concat(e," was moved over droppable area ").concat(t,"."):"Draggable item ".concat(e," is no longer over a droppable area.")},onDragEnd:function(e,t){return t?"Draggable item ".concat(e," was dropped over droppable area ").concat(t):"Draggable item ".concat(e," was dropped.")},onDragCancel:function(e){return"Dragging was cancelled. Draggable item ".concat(e," was dropped.")}};function wt(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(pt||(pt={}));var xt=function(e){(0,ze.Z)(n,e);var t=(0,Be.Z)(n);function n(){return(0,Re.Z)(this,n),t.apply(this,arguments)}return(0,Ze.Z)(n,[{key:"get",value:function(e){var t;return null!=e&&null!=(t=(0,Fe.Z)((0,Ue.Z)(n.prototype),"get",this).call(this,e))?t:void 0}},{key:"toArray",value:function(){return Array.from(this.values())}},{key:"getEnabled",value:function(){return this.toArray().filter((function(e){return!e.disabled}))}},{key:"getNodeFor",value:function(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}]),n}((0,Ve.Z)(Map)),_t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:{},droppableRects:new Map,droppableContainers:new xt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:wt},scrollableAncestors:[],scrollableAncestorRects:[],measureDroppableContainers:wt,windowRect:null,measuringScheduled:!1},Et={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:wt,draggableNodes:{},over:null,measureDroppableContainers:wt},kt=(0,u.createContext)(Et),Ct=(0,u.createContext)(_t);function St(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new xt}}}function jt(e,t){switch(t.type){case pt.DragStart:return(0,o.Z)((0,o.Z)({},e),{},{draggable:(0,o.Z)((0,o.Z)({},e.draggable),{},{initialCoordinates:t.initialCoordinates,active:t.active})});case pt.DragMove:return e.draggable.active?(0,o.Z)((0,o.Z)({},e),{},{draggable:(0,o.Z)((0,o.Z)({},e.draggable),{},{translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}})}):e;case pt.DragEnd:case pt.DragCancel:return(0,o.Z)((0,o.Z)({},e),{},{draggable:(0,o.Z)((0,o.Z)({},e.draggable),{},{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case pt.RegisterDroppable:var n=t.element,r=n.id,i=new xt(e.droppable.containers);return i.set(r,n),(0,o.Z)((0,o.Z)({},e),{},{droppable:(0,o.Z)((0,o.Z)({},e.droppable),{},{containers:i})});case pt.SetDroppableDisabled:var a=t.id,s=t.key,c=t.disabled,u=e.droppable.containers.get(a);if(!u||s!==u.key)return e;var l=new xt(e.droppable.containers);return l.set(a,(0,o.Z)((0,o.Z)({},u),{},{disabled:c})),(0,o.Z)((0,o.Z)({},e),{},{droppable:(0,o.Z)((0,o.Z)({},e.droppable),{},{containers:l})});case pt.UnregisterDroppable:var d=t.id,f=t.key,h=e.droppable.containers.get(d);if(!h||f!==h.key)return e;var p=new xt(e.droppable.containers);return p.delete(d),(0,o.Z)((0,o.Z)({},e),{},{droppable:(0,o.Z)((0,o.Z)({},e.droppable),{},{containers:p})});default:return e}}var At=(0,u.createContext)({type:null,event:null});function Tt(e){var t=e.announcements,n=void 0===t?bt:t,r=e.hiddenTextDescribedById,i=e.screenReaderInstructions,o=function(){var e=(0,u.useState)(""),t=(0,a.Z)(e,2),n=t[0],r=t[1];return{announce:(0,u.useCallback)((function(e){null!=e&&r(e)}),[]),announcement:n}}(),s=o.announce,c=o.announcement,l=rt("DndLiveRegion"),d=(0,u.useState)(!1),f=(0,a.Z)(d,2),h=f[0],p=f[1];return(0,u.useEffect)((function(){p(!0)}),[]),function(e){var t=e.onDragStart,n=e.onDragMove,r=e.onDragOver,i=e.onDragEnd,o=e.onDragCancel,a=(0,u.useContext)(At),s=(0,u.useRef)(a);(0,u.useEffect)((function(){if(a!==s.current){var e=a.type,c=a.event;switch(e){case pt.DragStart:null==t||t(c);break;case pt.DragMove:null==n||n(c);break;case pt.DragOver:null==r||r(c);break;case pt.DragCancel:null==o||o(c);break;case pt.DragEnd:null==i||i(c)}s.current=a}}),[a,t,n,r,i,o])}((0,u.useMemo)((function(){return{onDragStart:function(e){var t=e.active;s(n.onDragStart(t.id))},onDragMove:function(e){var t=e.active,r=e.over;n.onDragMove&&s(n.onDragMove(t.id,null==r?void 0:r.id))},onDragOver:function(e){var t=e.active,r=e.over;s(n.onDragOver(t.id,null==r?void 0:r.id))},onDragEnd:function(e){var t=e.active,r=e.over;s(n.onDragEnd(t.id,null==r?void 0:r.id))},onDragCancel:function(e){var t=e.active;s(n.onDragCancel(t.id))}}}),[s,n])),h?(0,We.createPortal)(u.createElement(u.Fragment,null,u.createElement(dt,{id:r,value:i.draggable}),u.createElement(ht,{id:l,announcement:c})),document.body):null}var It=Object.freeze({x:0,y:0});function Ot(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Dt(e,t){var n=ct(e);if(!n)return"0 0";var r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return"".concat(r.x,"% ").concat(r.y,"%")}function Nt(e,t){return e.data.value-t.data.value}function Pt(e,t){var n=e.data.value;return t.data.value-n}function Mt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.left,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.top;return{x:t+.5*e.width,y:n+.5*e.height}}var Lt=function(e){var t,n=e.collisionRect,i=e.droppableContainers,o=Mt(n,n.left,n.top),a=[],s=(0,r.Z)(i);try{for(s.s();!(t=s.n()).done;){var c=t.value,u=c.id,l=c.rect.current;if(l){var d=Ot(Mt(l),o);a.push({id:u,data:{droppableContainer:c,value:d}})}}}catch(f){s.e(f)}finally{s.f()}return a.sort(Nt)};function Rt(e,t){var n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=i-r,s=o-n;if(r<i&&n<o){var c=t.width*t.height,u=e.width*e.height,l=a*s;return Number((l/(c+u-l)).toFixed(4))}return 0}var Zt=function(e){var t,n=e.collisionRect,i=e.droppableContainers,o=[],a=(0,r.Z)(i);try{for(a.s();!(t=a.n()).done;){var s=t.value,c=s.id,u=s.rect.current;if(u){var l=Rt(u,n);l>0&&o.push({id:c,data:{droppableContainer:s,value:l}})}}}catch(d){a.e(d)}finally{a.f()}return o.sort(Pt)};function Ft(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((function(t,n){return(0,o.Z)((0,o.Z)({},t),{},{top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})}),(0,o.Z)({},t))}}var Ut=Ft(1);function zt(e,t,n){var r,i,o,a,s;if(t.startsWith("matrix3d("))i=+(r=t.slice(9,-1).split(/, /))[0],o=+r[5],a=+r[12],s=+r[13];else{if(!t.startsWith("matrix("))return e;i=+(r=t.slice(7,-1).split(/, /))[0],o=+r[3],a=+r[4],s=+r[5]}var c=e.left-a-(1-i)*parseFloat(n),u=e.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),l=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:l,height:d,top:u,right:c+l,bottom:u+d,left:c}}var Bt,Vt={ignoreTransform:!1};function Wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt,n=e.getBoundingClientRect();if(t.ignoreTransform){var r=Ye(e),i=r.getComputedStyle,o=i(e),a=o.transform,s=o.transformOrigin;a&&(n=zt(n,a,s))}var c=n,u=c.top,l=c.left,d=c.width,f=c.height,h=c.bottom,p=c.right;return{top:u,left:l,width:d,height:f,bottom:h,right:p}}function Ht(e){return Wt(e,{ignoreTransform:!0})}function qt(e){var t=[];return e?function n(r){if(!r)return t;if(Ke(r)&&null!=r.scrollingElement&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!Qe(r)||function(e){return e instanceof Ye(e).SVGElement}(r))return t;if(t.includes(r))return t;var i=(0,Ye(r).getComputedStyle)(r);return r!==e&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye(e).getComputedStyle(e),n=/(auto|scroll|overlay)/;return null!=["overflow","overflowX","overflowY"].find((function(e){var r=t[e];return"string"===typeof r&&n.test(r)}))}(r,i)&&t.push(r),function(e){return"fixed"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye(e).getComputedStyle(e)).position}(r,i)?t:n(r.parentNode)}(e):t}function Gt(e){return He&&e?qe(e)?e:Ge(e)?Ke(e)||e===Xe(e).scrollingElement?window:Qe(e)?e:null:null:null}function Yt(e){return qe(e)?e.scrollX:e.scrollLeft}function Kt(e){return qe(e)?e.scrollY:e.scrollTop}function Qt(e){return{x:Yt(e),y:Kt(e)}}function Xt(e){var t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}function $t(e){return!(!He||!e)&&e===document.scrollingElement}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Bt||(Bt={}));var Jt={x:.2,y:.2};function en(e,t,n){var r=n.top,i=n.left,o=n.right,a=n.bottom,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jt,u=e.clientHeight,l=e.clientWidth,d=$t(e)?{top:0,left:0,right:l,bottom:u,width:l,height:u}:t,f=Xt(e),h=f.isTop,p=f.isBottom,m=f.isLeft,v=f.isRight,g={x:0,y:0},y={x:0,y:0},b={height:d.height*c.y,width:d.width*c.x};return!h&&r<=d.top+b.height?(g.y=Bt.Backward,y.y=s*Math.abs((d.top+b.height-r)/b.height)):!p&&a>=d.bottom-b.height&&(g.y=Bt.Forward,y.y=s*Math.abs((d.bottom-b.height-a)/b.height)),!v&&o>=d.right-b.width?(g.x=Bt.Forward,y.x=s*Math.abs((d.right-b.width-o)/b.width)):!m&&i<=d.left+b.width&&(g.x=Bt.Backward,y.x=s*Math.abs((d.left+b.width-i)/b.width)),{direction:g,speed:y}}function tn(e){if(e===document.scrollingElement){var t=window,n=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}var i=e.getBoundingClientRect();return{top:i.top,left:i.left,right:i.right,bottom:i.bottom,width:e.clientWidth,height:e.clientHeight}}function nn(e){return e.reduce((function(e,t){return ot(e,Qt(t))}),It)}var rn,on,an,sn,cn=[["x",["left","right"],function(e){return e.reduce((function(e,t){return e+Yt(t)}),0)}],["y",["top","bottom"],function(e){return e.reduce((function(e,t){return e+Kt(t)}),0)}]],un=(0,Ze.Z)((function e(t,n){var i=this;(0,Re.Z)(this,e),this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;var s=qt(n),c=nn(s);this.rect=(0,o.Z)({},t),this.width=t.width,this.height=t.height;var u,l=(0,r.Z)(cn);try{var d=function(){var e,t=(0,a.Z)(u.value,3),n=t[0],o=t[1],l=t[2],d=(0,r.Z)(o);try{var f=function(){var t=e.value;Object.defineProperty(i,t,{get:function(){var e=l(s),r=c[n]-e;return i.rect[t]+r},enumerable:!0})};for(d.s();!(e=d.n()).done;)f()}catch(h){d.e(h)}finally{d.f()}};for(l.s();!(u=l.n()).done;)d()}catch(f){l.e(f)}finally{l.f()}Object.defineProperty(this,"rect",{enumerable:!1})}));function ln(e){var t=e.acceleration,n=e.activator,i=void 0===n?rn.Pointer:n,o=e.canScroll,s=e.draggingRect,c=e.enabled,l=e.interval,d=void 0===l?5:l,f=e.order,p=void 0===f?on.TreeOrder:f,m=e.pointerCoordinates,v=e.scrollableAncestors,g=e.scrollableAncestorRects,y=e.threshold,b=function(){var e=(0,u.useRef)(null);return[(0,u.useCallback)((function(t,n){e.current=setInterval(t,n)}),[]),(0,u.useCallback)((function(){null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),w=(0,a.Z)(b,2),x=w[0],_=w[1],E=(0,u.useRef)({x:1,y:1}),k=(0,u.useMemo)((function(){switch(i){case rn.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case rn.DraggableRect:return s}return null}),[i,s,m]),C=(0,u.useRef)(It),S=(0,u.useRef)(null),j=(0,u.useCallback)((function(){var e=S.current;if(e){var t=E.current.x*C.current.x,n=E.current.y*C.current.y;e.scrollBy(t,n)}}),[]),A=(0,u.useMemo)((function(){return p===on.TreeOrder?(0,h.Z)(v).reverse():v}),[p,v]);(0,u.useEffect)((function(){if(c&&v.length&&k){var e,n=(0,r.Z)(A);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(!1!==(null==o?void 0:o(i))){var a=v.indexOf(i),s=g[a];if(s){var u=en(i,s,k,t,y),l=u.direction,f=u.speed;if(f.x>0||f.y>0)return _(),S.current=i,x(j,d),E.current=f,void(C.current=l)}}}}catch(h){n.e(h)}finally{n.f()}E.current={x:0,y:0},C.current={x:0,y:0},_()}else _()}),[t,j,o,_,c,d,JSON.stringify(k),x,v,A,g,JSON.stringify(y)])}!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(rn||(rn={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(on||(on={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(an||(an={})),function(e){e.Optimized="optimized"}(sn||(sn={}));var dn=new Map,fn={measure:Ht,strategy:an.WhileDragging,frequency:sn.Optimized};function hn(e){var t=e.onResize,n=e.disabled,r=(0,u.useMemo)((function(){if(!n&&"undefined"!==typeof window&&"undefined"!==typeof window.ResizeObserver)return new(0,window.ResizeObserver)(t)}),[n,t]);return(0,u.useEffect)((function(){return function(){return null==r?void 0:r.disconnect()}}),[r]),r}var pn=[];var mn=yn(Ht),vn=bn(Ht);function gn(e,t,n){var r=(0,u.useRef)(e);return et((function(i){return e?n||!i&&e||e!==r.current?Qe(e)&&null==e.parentNode?null:new un(t(e),e):null!=i?i:null:null}),[e,n,t])}function yn(e){return function(t,n){return gn(t,e,n)}}function bn(e){var t=[];return function(n,r){var i=(0,u.useRef)(n);return et((function(o){return n.length?r||!o&&n.length||n!==i.current?n.map((function(t){return new un(e(t),t)})):null!=o?o:t:t}),[n,r])}}function wn(e){if(!e)return null;if(e.children.length>1)return e;var t=e.children[0];return Qe(t)?t:e}function xn(e,t){return(0,u.useMemo)((function(){return{sensor:e,options:null!=t?t:{}}}),[e,t])}var _n,En,kn=function(){function e(t){var n=this;(0,Re.Z)(this,e),this.target=void 0,this.listeners=[],this.removeAll=function(){n.listeners.forEach((function(e){var t,r;return null==(r=n.target)?void 0:(t=r).removeEventListener.apply(t,(0,h.Z)(e))}))},this.target=t}return(0,Ze.Z)(e,[{key:"add",value:function(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}]),e}();function Cn(e){return e instanceof Ye(e).EventTarget?e:Xe(e)}function Sn(e,t){var n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(Math.pow(n,2)+Math.pow(r,2))>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}function jn(e){e.preventDefault()}function An(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(_n||(_n={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(En||(En={}));var Tn={start:[En.Space,En.Enter],cancel:[En.Esc],end:[En.Space,En.Enter]},In=function(e,t){var n=t.currentCoordinates;switch(e.code){case En.Right:return(0,o.Z)((0,o.Z)({},n),{},{x:n.x+25});case En.Left:return(0,o.Z)((0,o.Z)({},n),{},{x:n.x-25});case En.Down:return(0,o.Z)((0,o.Z)({},n),{},{y:n.y+25});case En.Up:return(0,o.Z)((0,o.Z)({},n),{},{y:n.y-25})}},On=function(){function e(t){(0,Re.Z)(this,e),this.props=void 0,this.autoScrollEnabled=!1,this.coordinates=It,this.listeners=void 0,this.windowListeners=void 0,this.props=t;var n=t.event.target;this.props=t,this.listeners=new kn(Xe(n)),this.windowListeners=new kn(Ye(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}return(0,Ze.Z)(e,[{key:"attach",value:function(){var e=this;this.handleStart(),this.windowListeners.add(_n.Resize,this.handleCancel),this.windowListeners.add(_n.VisibilityChange,this.handleCancel),setTimeout((function(){return e.listeners.add(_n.Keydown,e.handleKeyDown)}))}},{key:"handleStart",value:function(){var e=this.props,t=e.activeNode,n=e.onStart;if(!t.node.current)throw new Error("Active draggable node is undefined");var r=Ht(t.node.current),i={x:r.left,y:r.top};this.coordinates=i,n(i)}},{key:"handleKeyDown",value:function(e){if(st(e)){var t=this.coordinates,n=this.props,i=n.active,o=n.context,a=n.options,s=a.keyboardCodes,c=void 0===s?Tn:s,u=a.coordinateGetter,l=void 0===u?In:u,d=a.scrollBehavior,f=void 0===d?"smooth":d,h=e.code;if(c.end.includes(h))return void this.handleEnd(e);if(c.cancel.includes(h))return void this.handleCancel(e);var p=l(e,{active:i,context:o.current,currentCoordinates:t});if(p){var m,v={x:0,y:0},g=o.current.scrollableAncestors,y=(0,r.Z)(g);try{for(y.s();!(m=y.n()).done;){var b=m.value,w=e.code,x=at(p,t),_=Xt(b),E=_.isTop,k=_.isRight,C=_.isLeft,S=_.isBottom,j=_.maxScroll,A=_.minScroll,T=tn(b),I={x:Math.min(w===En.Right?T.right-T.width/2:T.right,Math.max(w===En.Right?T.left:T.left+T.width/2,p.x)),y:Math.min(w===En.Down?T.bottom-T.height/2:T.bottom,Math.max(w===En.Down?T.top:T.top+T.height/2,p.y))},O=w===En.Right&&!k||w===En.Left&&!C,D=w===En.Down&&!S||w===En.Up&&!E;if(O&&I.x!==p.x){if(w===En.Right&&b.scrollLeft+x.x<=j.x||w===En.Left&&b.scrollLeft+x.x>=A.x)return void b.scrollBy({left:x.x,behavior:f});v.x=w===En.Right?b.scrollLeft-j.x:b.scrollLeft-A.x,b.scrollBy({left:-v.x,behavior:f});break}if(D&&I.y!==p.y){if(w===En.Down&&b.scrollTop+x.y<=j.y||w===En.Up&&b.scrollTop+x.y>=A.y)return void b.scrollBy({top:x.y,behavior:f});v.y=w===En.Down?b.scrollTop-j.y:b.scrollTop-A.y,b.scrollBy({top:-v.y,behavior:f});break}}}catch(N){y.e(N)}finally{y.f()}this.handleMove(e,ot(p,v))}}}},{key:"handleMove",value:function(e,t){var n=this.props.onMove;e.preventDefault(),n(t),this.coordinates=t}},{key:"handleEnd",value:function(e){var t=this.props.onEnd;e.preventDefault(),this.detach(),t()}},{key:"handleCancel",value:function(e){var t=this.props.onCancel;e.preventDefault(),this.detach(),t()}},{key:"detach",value:function(){this.listeners.removeAll(),this.windowListeners.removeAll()}}]),e}();function Dn(e){return Boolean(e&&"distance"in e)}function Nn(e){return Boolean(e&&"delay"in e)}On.activators=[{eventName:"onKeyDown",handler:function(e,t){var n=t.keyboardCodes,r=void 0===n?Tn:n,i=t.onActivation,o=e.nativeEvent.code;return!!r.start.includes(o)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}}];var Pn=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cn(t.event.target);(0,Re.Z)(this,e),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;var o=t.event,a=o.target;this.props=t,this.events=n,this.document=Xe(a),this.documentListeners=new kn(this.document),this.listeners=new kn(i),this.windowListeners=new kn(Ye(a)),this.initialCoordinates=null!=(r=ct(o))?r:It,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}return(0,Ze.Z)(e,[{key:"attach",value:function(){var e=this.events,t=this.props.options.activationConstraint;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(_n.Resize,this.handleCancel),this.windowListeners.add(_n.DragStart,jn),this.windowListeners.add(_n.VisibilityChange,this.handleCancel),this.windowListeners.add(_n.ContextMenu,jn),this.documentListeners.add(_n.Keydown,this.handleKeydown),t){if(Dn(t))return;if(Nn(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}},{key:"detach",value:function(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"handleStart",value:function(){var e=this.initialCoordinates,t=this.props.onStart;e&&(this.activated=!0,this.documentListeners.add(_n.Click,An,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(_n.SelectionChange,this.removeTextSelection),t(e))}},{key:"handleMove",value:function(e){var t,n=this.activated,r=this.initialCoordinates,i=this.props,o=i.onMove,a=i.options.activationConstraint;if(r){var s=null!=(t=ct(e))?t:It,c=at(r,s);if(!n&&a){if(Nn(a))return Sn(c,a.tolerance)?this.handleCancel():void 0;if(Dn(a))return null!=a.tolerance&&Sn(c,a.tolerance)?this.handleCancel():Sn(c,a.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),o(s)}}},{key:"handleEnd",value:function(){var e=this.props.onEnd;this.detach(),e()}},{key:"handleCancel",value:function(){var e=this.props.onCancel;this.detach(),e()}},{key:"handleKeydown",value:function(e){e.code===En.Esc&&this.handleCancel()}},{key:"removeTextSelection",value:function(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}]),e}(),Mn={move:{name:"pointermove"},end:{name:"pointerup"}},Ln=function(e){(0,ze.Z)(n,e);var t=(0,Be.Z)(n);function n(e){(0,Re.Z)(this,n);var r=Xe(e.event.target);return t.call(this,e,Mn,r)}return(0,Ze.Z)(n)}(Pn);Ln.activators=[{eventName:"onPointerDown",handler:function(e,t){var n=e.nativeEvent,r=t.onActivation;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];var Rn,Zn={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(Rn||(Rn={}));var Fn=function(e){(0,ze.Z)(n,e);var t=(0,Be.Z)(n);function n(e){return(0,Re.Z)(this,n),t.call(this,e,Zn,Xe(e.event.target))}return(0,Ze.Z)(n)}(Pn);Fn.activators=[{eventName:"onMouseDown",handler:function(e,t){var n=e.nativeEvent,r=t.onActivation;return n.button!==Rn.RightClick&&(null==r||r({event:n}),!0)}}];var Un={move:{name:"touchmove"},end:{name:"touchend"}},zn=function(e){(0,ze.Z)(n,e);var t=(0,Be.Z)(n);function n(e){return(0,Re.Z)(this,n),t.call(this,e,Un)}return(0,Ze.Z)(n,null,[{key:"setup",value:function(){return window.addEventListener(Un.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Un.move.name,e)};function e(){}}}]),n}(Pn);function Bn(e,t){var n=t.transform,r=(0,Le.Z)(t,mt);return(null==e?void 0:e.length)?e.reduce((function(e,t){return t((0,o.Z)({transform:e},r))}),n):n}zn.activators=[{eventName:"onTouchStart",handler:function(e,t){var n=e.nativeEvent,r=t.onActivation;return!(n.touches.length>1)&&(null==r||r({event:n}),!0)}}];var Vn=[{sensor:Ln,options:{}},{sensor:On,options:{}}],Wn={current:{}},Hn=(0,u.createContext)((0,o.Z)((0,o.Z)({},It),{},{scaleX:1,scaleY:1})),qn=(0,u.memo)((function(e){var t,n,s,l,d,f,p,m,v,g,y=e.id,b=e.autoScroll,w=void 0===b||b,x=e.announcements,_=e.children,E=e.sensors,k=void 0===E?Vn:E,C=e.collisionDetection,S=void 0===C?Zt:C,j=e.measuring,A=e.modifiers,T=e.screenReaderInstructions,I=void 0===T?yt:T,O=(0,Le.Z)(e,vt),D=(0,u.useReducer)(jt,void 0,St),N=(0,a.Z)(D,2),P=N[0],M=N[1],L=(0,u.useState)((function(){return{type:null,event:null}})),R=(0,a.Z)(L,2),Z=R[0],F=R[1],U=(0,u.useState)(!1),z=(0,a.Z)(U,2),B=z[0],V=z[1],W=P.draggable,H=W.active,q=W.nodes,G=W.translate,Y=P.droppable.containers,K=H?q[H]:null,Q=(0,u.useRef)({initial:null,translated:null}),X=(0,u.useMemo)((function(){var e;return null!=H?{id:H,data:null!=(e=null==K?void 0:K.data)?e:Wn,rect:Q}:null}),[H,K]),$=(0,u.useRef)(null),J=(0,u.useState)(null),ee=(0,a.Z)(J,2),te=ee[0],ne=ee[1],re=(0,u.useState)(null),ie=(0,a.Z)(re,2),oe=ie[0],ae=ie[1],se=Je(O,Object.values(O)),ce=rt("DndDescribedBy",y),ue=(0,u.useMemo)((function(){return Y.getEnabled()}),[Y]),le=function(e,t){var n=t.dragging,i=t.dependencies,s=t.config,c=(0,u.useState)(null),l=(0,a.Z)(c,2),d=l[0],f=l[1],p=null!=d,m=(0,o.Z)((0,o.Z)({},fn),s),v=m.frequency,g=m.measure,y=m.strategy,b=(0,u.useRef)(e),w=(0,u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f((function(t){return t?t.concat(e):e}))}),[]),x=(0,u.useRef)(null),_=function(){switch(y){case an.Always:return!1;case an.BeforeDragging:return n;default:return!n}}(),E=et((function(t){if(_&&!n)return dn;var i=d;if(!t||t===dn||b.current!==e||null!=i){var o,a=new Map,s=(0,r.Z)(e);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c)if(i&&i.length>0&&!i.includes(c.id)&&c.rect.current)a.set(c.id,c.rect.current);else{var u=c.node.current,l=u?new un(g(u),u):null;c.rect.current=l,l&&a.set(c.id,l)}}}catch(f){s.e(f)}finally{s.f()}return a}return t}),[e,d,n,_,g]);return(0,u.useEffect)((function(){b.current=e}),[e]),(0,u.useEffect)((function(){_||requestAnimationFrame((function(){return w()}))}),[n,_]),(0,u.useEffect)((function(){p&&f(null)}),[p]),(0,u.useEffect)((function(){_||"number"!==typeof v||null!==x.current||(x.current=setTimeout((function(){w(),x.current=null}),v))}),[v,_,w].concat((0,h.Z)(i))),{droppableRects:E,measureDroppableContainers:w,measuringScheduled:p}}(ue,{dragging:B,dependencies:[G.x,G.y],config:null==j?void 0:j.droppable}),de=le.droppableRects,fe=le.measureDroppableContainers,he=le.measuringScheduled,pe=function(e,t){var n=null!==t?e[t]:void 0,r=n?n.node.current:null;return et((function(e){var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(q,H),me=oe?ct(oe):null,ve=gn(pe,null!=(t=null==j||null==(n=j.draggable)?void 0:n.measure)?t:Ht),ge=mn(pe?pe.parentElement:null),ye=(0,u.useRef)({active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:de,draggableNodes:q,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),be=Y.getNodeFor(null==(s=ye.current.over)?void 0:s.id),we=function(e){var t=e.measure,n=void 0===t?Wt:t,i=(0,u.useState)(null),s=(0,a.Z)(i,2),c=s[0],l=s[1],d=(0,u.useCallback)((function(e){var t,i=(0,r.Z)(e);try{var a=function(){var e=t.value.target;if(Qe(e))return l((function(t){var r=n(e);return t?(0,o.Z)((0,o.Z)({},t),{},{width:r.width,height:r.height}):r})),"break"};for(i.s();!(t=i.n()).done&&"break"!==a(););}catch(s){i.e(s)}finally{i.f()}}),[n]),f=hn({onResize:d}),h=tt((0,u.useCallback)((function(e){var t=wn(e);null==f||f.disconnect(),t&&(null==f||f.observe(t)),l(t?n(t):null)}),[n,f])),p=(0,a.Z)(h,2),m=p[0],v=p[1];return(0,u.useMemo)((function(){return{nodeRef:m,rect:c,setRef:v}}),[c,m,v])}({measure:null==j||null==(l=j.dragOverlay)?void 0:l.measure}),xe=null!=(d=we.nodeRef.current)?d:pe,_e=null!=(f=we.rect)?f:ve,Ee=(0,u.useRef)(null),ke=Ee.current,Ce=_e===ve?(v=ke,(m=ve)&&v?{x:m.left-v.left,y:m.top-v.top}:It):It,Se=(g=xe?xe.ownerDocument.defaultView:null,(0,u.useMemo)((function(){return g?function(e){var t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(g):null}),[g])),je=function(e){var t=(0,u.useRef)(e),n=et((function(n){return e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:qt(e):pn}),[e]);return(0,u.useEffect)((function(){t.current=e}),[e]),n}(H?null!=be?be:xe:null),Ae=vn(je),Te=Bn(A,{transform:{x:G.x-Ce.x,y:G.y-Ce.y,scaleX:1,scaleY:1},activatorEvent:oe,active:X,activeNodeRect:ve,containerNodeRect:ge,draggingNodeRect:_e,over:ye.current.over,overlayNodeRect:we.rect,scrollableAncestors:je,scrollableAncestorRects:Ae,windowRect:Se}),Ie=me?ot(me,G):null,Oe=function(e){var t=(0,u.useState)(null),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(0,u.useRef)(e),s=(0,u.useCallback)((function(e){var t=Gt(e.target);t&&i((function(e){return e?(e.set(t,Qt(t)),new Map(e)):null}))}),[]);return(0,u.useEffect)((function(){var t=o.current;if(e!==t){r(t);var n=e.map((function(e){var t=Gt(e);return t?(t.addEventListener("scroll",s,{passive:!0}),[t,Qt(t)]):null})).filter((function(e){return null!=e}));i(n.length?new Map(n):null),o.current=e}return function(){r(e),r(t)};function r(e){e.forEach((function(e){var t=Gt(e);null==t||t.removeEventListener("scroll",s)}))}}),[s,e]),(0,u.useMemo)((function(){return e.length?r?Array.from(r.values()).reduce((function(e,t){return ot(e,t)}),It):nn(e):It}),[e,r])}(je),De=ot(Te,Oe),Ne=_e?Ut(_e,Te):null,Pe=X&&Ne?S({active:X,collisionRect:Ne,droppableContainers:ue,pointerCoordinates:Ie}):null,Me=function(e,t){if(!e||0===e.length)return null;var n=(0,a.Z)(e,1)[0];return t?n[t]:n}(Pe,"id"),Re=(0,u.useState)(null),Ze=(0,a.Z)(Re,2),Fe=Ze[0],Ue=Ze[1],ze=function(e,t,n){return(0,o.Z)((0,o.Z)({},e),{},{scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1})}(Te,null!=(p=null==Fe?void 0:Fe.rect)?p:null,ve),Be=(0,u.useCallback)((function(e,t){var n=t.sensor,r=t.options;if($.current){var o=q[$.current];if(o){var a=new n({active:$.current,activeNode:o,event:e.nativeEvent,options:r,context:ye,onStart:function(e){var t=$.current;if(t){var n=q[t];if(n){var r=se.current.onDragStart,i={active:{id:t,data:n.data,rect:Q}};(0,We.unstable_batchedUpdates)((function(){M({type:pt.DragStart,initialCoordinates:e,active:t}),F({type:pt.DragStart,event:i})})),null==r||r(i)}}},onMove:function(e){M({type:pt.DragMove,coordinates:e})},onEnd:s(pt.DragEnd),onCancel:s(pt.DragCancel)});(0,We.unstable_batchedUpdates)((function(){ne(a),ae(e.nativeEvent)}))}}function s(e){return function(){var t=(0,i.Z)(c().mark((function t(){var n,r,i,o,a,s,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=ye.current,r=n.active,i=n.collisions,o=n.over,a=n.scrollAdjustedTranslate,s=null,!r||!a){t.next=10;break}if(u=se.current.cancelDrop,s={active:r,collisions:i,delta:a,over:o},e!==pt.DragEnd||"function"!==typeof u){t.next=10;break}return t.next=8,Promise.resolve(u(s));case 8:t.sent&&(e=pt.DragCancel);case 10:$.current=null,(0,We.unstable_batchedUpdates)((function(){if(M({type:e}),Ue(null),V(!1),ne(null),ae(null),s&&F({type:e,event:s}),s){var t=se.current,n=t.onDragCancel,r=t.onDragEnd,i=e===pt.DragEnd?r:n;null==i||i(s)}}));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}),[q]),Ve=(0,u.useCallback)((function(e,t){return function(n,r){var i=n.nativeEvent;null!==$.current||i.dndKit||i.defaultPrevented||!0===e(n,t.options)&&(i.dndKit={capturedBy:t.sensor},$.current=r,Be(n,t))}}),[Be]),qe=function(e,t){return(0,u.useMemo)((function(){return e.reduce((function(e,n){var r=n.sensor.activators.map((function(e){return{eventName:e.eventName,handler:t(e.handler,n)}}));return[].concat((0,h.Z)(e),(0,h.Z)(r))}),[])}),[e,t])}(k,Ve);!function(e){(0,u.useEffect)((function(){if(He){var t=e.map((function(e){var t=e.sensor;return null==t.setup?void 0:t.setup()}));return function(){var e,n=(0,r.Z)(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;null==i||i()}}catch(o){n.e(o)}finally{n.f()}}}}),e.map((function(e){return e.sensor})))}(k),(0,u.useEffect)((function(){null!=H&&V(!0)}),[H]),(0,u.useEffect)((function(){X||(Ee.current=null),X&&ve&&!Ee.current&&(Ee.current=ve)}),[ve,X]),(0,u.useEffect)((function(){var e=se.current.onDragMove,t=ye.current,n=t.active,r=t.collisions,i=t.over;if(n){var o={active:n,collisions:r,delta:{x:De.x,y:De.y},over:i};F({type:pt.DragMove,event:o}),null==e||e(o)}}),[De.x,De.y]),(0,u.useEffect)((function(){var e=ye.current,t=e.active,n=e.collisions,r=e.droppableContainers,i=e.scrollAdjustedTranslate;if(t&&$.current&&i){var o=se.current.onDragOver,a=r.get(Me),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,c={active:t,collisions:n,delta:{x:i.x,y:i.y},over:s};(0,We.unstable_batchedUpdates)((function(){Ue(s),F({type:pt.DragOver,event:c}),null==o||o(c)}))}}),[Me]),$e((function(){ye.current={active:X,activeNode:pe,collisionRect:Ne,collisions:Pe,droppableRects:de,draggableNodes:q,draggingNode:xe,draggingNodeRect:_e,droppableContainers:Y,over:Fe,scrollableAncestors:je,scrollAdjustedTranslate:De},Q.current={initial:_e,translated:Ne}}),[X,pe,Pe,Ne,q,xe,_e,de,Y,Fe,je,De]),ln((0,o.Z)((0,o.Z)({},function(){var e=!1===(null==te?void 0:te.autoScrollEnabled),t="object"===typeof w?!1===w.enabled:!1===w,n=!e&&!t;if("object"===typeof w)return(0,o.Z)((0,o.Z)({},w),{},{enabled:n});return{enabled:n}}()),{},{draggingRect:Ne,pointerCoordinates:Ie,scrollableAncestors:je,scrollableAncestorRects:Ae}));var Ge=(0,u.useMemo)((function(){return{active:X,activeNode:pe,activeNodeRect:ve,activatorEvent:oe,collisions:Pe,containerNodeRect:ge,dragOverlay:we,draggableNodes:q,droppableContainers:Y,droppableRects:de,over:Fe,measureDroppableContainers:fe,scrollableAncestors:je,scrollableAncestorRects:Ae,measuringScheduled:he,windowRect:Se}}),[X,pe,ve,oe,Pe,ge,we,q,Y,de,Fe,fe,je,Ae,he,Se]),Ye=(0,u.useMemo)((function(){return{activatorEvent:oe,activators:qe,active:X,activeNodeRect:ve,ariaDescribedById:{draggable:ce},dispatch:M,draggableNodes:q,over:Fe,measureDroppableContainers:fe}}),[oe,qe,X,ve,M,ce,q,Fe,fe]);return u.createElement(At.Provider,{value:Z},u.createElement(kt.Provider,{value:Ye},u.createElement(Ct.Provider,{value:Ge},u.createElement(Hn.Provider,{value:ze},_))),u.createElement(Tt,{announcements:x,hiddenTextDescribedById:ce,screenReaderInstructions:I}))})),Gn=(0,u.createContext)(null),Yn="button";function Kn(e){var t=e.id,n=e.data,r=e.disabled,i=void 0!==r&&r,o=e.attributes,s=rt("Droppable"),c=(0,u.useContext)(kt),l=c.activators,d=c.activatorEvent,f=c.active,h=c.activeNodeRect,p=c.ariaDescribedById,m=c.draggableNodes,v=c.over,g=null!=o?o:{},y=g.role,b=void 0===y?Yn:y,w=g.roleDescription,x=void 0===w?"draggable":w,_=g.tabIndex,E=void 0===_?0:_,k=(null==f?void 0:f.id)===t,C=(0,u.useContext)(k?Hn:Gn),S=tt(),j=(0,a.Z)(S,2),A=j[0],T=j[1],I=function(e,t){return(0,u.useMemo)((function(){return e.reduce((function(e,n){var r=n.eventName,i=n.handler;return e[r]=function(e){i(e,t)},e}),{})}),[e,t])}(l,t),O=Je(n);return $e((function(){return m[t]={id:t,key:s,node:A,data:O},function(){var e=m[t];e&&e.key===s&&delete m[t]}}),[m,t]),{active:f,activatorEvent:d,activeNodeRect:h,attributes:(0,u.useMemo)((function(){return{role:b,tabIndex:E,"aria-pressed":!(!k||b!==Yn)||void 0,"aria-roledescription":x,"aria-describedby":p.draggable}}),[b,E,k,x,p.draggable]),isDragging:k,listeners:i?void 0:I,node:A,over:v,setNodeRef:T,transform:C}}function Qn(){return(0,u.useContext)(Ct)}var Xn={timeout:25};var $n={duration:250,easing:"ease",dragSourceOpacity:0};var Jn={x:0,y:0,scaleX:1,scaleY:1},er=function(e){return st(e)?"transform 250ms ease":void 0},tr=u.memo((function(e){var t,n,r=e.adjustScale,i=void 0!==r&&r,s=e.children,c=e.dropAnimation,l=void 0===c?$n:c,d=e.style,f=e.transition,h=void 0===f?er:f,p=e.modifiers,m=e.wrapperElement,v=void 0===m?"div":m,g=e.className,y=e.zIndex,b=void 0===y?999:y,w=Qn(),x=w.active,_=w.activeNodeRect,E=w.containerNodeRect,k=w.draggableNodes,C=w.activatorEvent,S=w.over,j=w.dragOverlay,A=w.scrollableAncestors,T=w.scrollableAncestorRects,I=w.windowRect,O=(0,u.useContext)(Hn),D=Bn(p,{activatorEvent:C,active:x,activeNodeRect:_,containerNodeRect:E,draggingNodeRect:j.rect,over:S,overlayNodeRect:j.rect,scrollableAncestors:A,scrollableAncestorRects:T,transform:O,windowRect:I}),N=null!==x,P=i?D:(0,o.Z)((0,o.Z)({},D),{},{scaleX:1,scaleY:1}),M=et((function(e){return N?e||(_?(0,o.Z)({},_):null):null}),[N,_]),L=M?(0,o.Z)({position:"fixed",width:M.width,height:M.height,top:M.top,left:M.left,zIndex:b,transform:ut.Transform.toString(P),touchAction:"none",transformOrigin:i&&C?Dt(C,M):void 0,transition:"function"===typeof h?h(C):h},d):void 0,R=N?{style:L,children:s,className:g,transform:P}:void 0,Z=(0,u.useRef)(R),F=null!=R?R:Z.current,U=null!=F?F:{},z=U.children,B=(U.transform,(0,Le.Z)(U,gt)),V=(0,u.useRef)(null!=(t=null==x?void 0:x.id)?t:null),W=function(e){var t=e.animate,n=e.adjustScale,r=e.activeId,i=e.draggableNodes,s=e.duration,c=e.dragSourceOpacity,l=e.easing,d=e.node,f=e.transform,h=(0,u.useState)(!1),p=(0,a.Z)(h,2),m=p[0],v=p[1];return $e((function(){var e;if(t&&r&&l&&s){var a=null==(e=i[r])?void 0:e.node.current;if(f&&d&&a&&null!==a.parentNode){var u=wn(d);if(u){var h=u.getBoundingClientRect(),p=Ht(a),m={x:h.left-p.left,y:h.top-p.top};if(Math.abs(m.x)||Math.abs(m.y)){var g={scaleX:n?p.width*f.scaleX/h.width:1,scaleY:n?p.height*f.scaleY/h.height:1},y=ut.Transform.toString((0,o.Z)({x:f.x-m.x,y:f.y-m.y},g)),b=a.style.opacity;return null!=c&&(a.style.opacity="".concat(c)),void(d.animate([{transform:ut.Transform.toString(f)},{transform:y}],{easing:l,duration:s}).onfinish=function(){d.style.display="none",v(!0),a&&null!=c&&(a.style.opacity=b)})}}}v(!0)}else t&&v(!0)}),[t,r,n,i,s,l,c,d,f]),$e((function(){m&&v(!1)}),[m]),m}({animate:Boolean(l&&V.current&&!x),adjustScale:i,activeId:V.current,draggableNodes:k,duration:null==l?void 0:l.duration,easing:null==l?void 0:l.easing,dragSourceOpacity:null==l?void 0:l.dragSourceOpacity,node:j.nodeRef.current,transform:null==(n=Z.current)?void 0:n.transform}),H=Boolean(z&&(s||l&&!W));return(0,u.useEffect)((function(){var e;(null==x?void 0:x.id)!==V.current&&(V.current=null!=(e=null==x?void 0:x.id)?e:null);x&&Z.current!==R&&(Z.current=R)}),[x,R]),(0,u.useEffect)((function(){W&&(Z.current=void 0)}),[W]),H?u.createElement(kt.Provider,{value:Et},u.createElement(Hn.Provider,{value:Jn},u.createElement(v,(0,o.Z)((0,o.Z)({},B),{},{ref:j.setRef}),z))):null}));function nr(e,t,n){var r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function rr(e,t){return e.reduce((function(e,n,r){var i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function ir(e){return null!==e&&e>=0}var or=function(e){var t=e.rects,n=e.activeIndex,r=e.overIndex,i=e.index,o=nr(t,r,n),a=t[i],s=o[i];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},ar={scaleX:1,scaleY:1},sr=function(e){var t,n=e.activeIndex,r=e.activeNodeRect,i=e.index,a=e.rects,s=e.overIndex,c=null!=(t=a[n])?t:r;if(!c)return null;if(i===n){var u=a[s];return u?(0,o.Z)({x:0,y:n<s?u.top+u.height-(c.top+c.height):u.top-c.top},ar):null}var l=function(e,t,n){var r=e[t],i=e[t-1],o=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0;return o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(a,i,n);return i>n&&i<=s?(0,o.Z)({x:0,y:-c.height-l},ar):i<n&&i>=s?(0,o.Z)({x:0,y:c.height+l},ar):(0,o.Z)({x:0,y:0},ar)};var cr="Sortable",ur=u.createContext({activeIndex:-1,containerId:cr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:or});function lr(e){var t,n,r=e.children,i=e.id,o=e.items,a=e.strategy,s=void 0===a?or:a,c=Qn(),l=c.active,d=c.dragOverlay,f=c.droppableRects,h=c.over,p=c.measureDroppableContainers,m=c.measuringScheduled,v=rt(cr,i),g=Boolean(null!==d.rect),y=(0,u.useMemo)((function(){return o.map((function(e){return"string"===typeof e?e:e.id}))}),[o]),b=null!=l,w=l?y.indexOf(l.id):-1,x=h?y.indexOf(h.id):-1,_=(0,u.useRef)(y),E=(t=y,n=_.current,!(t.join()===n.join())),k=-1!==x&&-1===w||E;$e((function(){E&&b&&!m&&p(y)}),[E,y,b,p,m]),(0,u.useEffect)((function(){_.current=y}),[y]);var C=(0,u.useMemo)((function(){return{activeIndex:w,containerId:v,disableTransforms:k,items:y,overIndex:x,useDragOverlay:g,sortedRects:rr(y,f),strategy:s}}),[w,v,k,y,x,f,g,s]);return u.createElement(ur.Provider,{value:C},r)}var dr=function(e){var t=e.id;return nr(e.items,e.activeIndex,e.overIndex).indexOf(t)},fr=function(e){var t=e.containerId,n=e.isSorting,r=e.wasDragging,i=e.index,o=e.items,a=e.newIndex,s=e.previousItems,c=e.previousContainerId;return!(!e.transition||!r)&&((s===o||i!==a)&&(!!n||a!==i&&t===c))},hr={duration:200,easing:"ease"},pr="transform",mr=ut.Transition.toString({property:pr,duration:0,easing:"linear"}),vr={roleDescription:"sortable"};function gr(e){var t=e.animateLayoutChanges,n=void 0===t?fr:t,r=e.attributes,i=e.disabled,s=e.data,c=e.getNewIndex,l=void 0===c?dr:c,d=e.id,f=e.strategy,h=e.resizeObserverConfig,p=e.transition,m=void 0===p?hr:p,v=(0,u.useContext)(ur),g=v.items,y=v.containerId,b=v.activeIndex,w=v.disableTransforms,x=v.sortedRects,_=v.overIndex,E=v.useDragOverlay,k=v.strategy,C=g.indexOf(d),S=(0,u.useMemo)((function(){return(0,o.Z)({sortable:{containerId:y,index:C,items:g}},s)}),[y,s,C,g]),j=(0,u.useMemo)((function(){return g.slice(g.indexOf(d))}),[g,d]),A=function(e){var t=e.data,n=e.disabled,r=void 0!==n&&n,i=e.id,s=e.resizeObserverConfig,c=rt("Droppable"),l=(0,u.useContext)(kt),d=l.active,f=l.dispatch,h=l.over,p=l.measureDroppableContainers,m=(0,u.useRef)(!1),v=(0,u.useRef)(null),g=(0,u.useRef)(null),y=(0,o.Z)((0,o.Z)({},Xn),s),b=y.disabled,w=y.updateMeasurementsFor,x=y.timeout,_=Je(null!=w?w:i),E=hn({onResize:(0,u.useCallback)((function(){m.current?(null!=g.current&&clearTimeout(g.current),g.current=setTimeout((function(){p("string"===typeof _.current?[_.current]:_.current),g.current=null}),x)):m.current=!0}),[x]),disabled:b||!d}),k=tt((0,u.useCallback)((function(e,t){E&&(t&&(E.unobserve(t),m.current=!1),e&&E.observe(e))}),[E])),C=(0,a.Z)(k,2),S=C[0],j=C[1],A=Je(t);return(0,u.useEffect)((function(){E&&S.current&&(E.disconnect(),m.current=!1,E.observe(S.current))}),[S,E]),$e((function(){return f({type:pt.RegisterDroppable,element:{id:i,key:c,disabled:r,node:S,rect:v,data:A}}),function(){return f({type:pt.UnregisterDroppable,key:c,id:i})}}),[i]),(0,u.useEffect)((function(){f({type:pt.SetDroppableDisabled,id:i,key:c,disabled:r})}),[r]),{active:d,rect:v,isOver:(null==h?void 0:h.id)===i,node:S,over:h,setNodeRef:j}}({id:d,data:S,resizeObserverConfig:(0,o.Z)({updateMeasurementsFor:j},h)}),T=A.rect,I=A.node,O=A.isOver,D=A.setNodeRef,N=Kn({id:d,data:S,attributes:(0,o.Z)((0,o.Z)({},vr),r),disabled:i}),P=N.active,M=N.activatorEvent,L=N.activeNodeRect,R=N.attributes,Z=N.setNodeRef,F=N.listeners,U=N.isDragging,z=N.over,B=N.transform,V=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,u.useMemo)((function(){return function(e){t.forEach((function(t){return t(e)}))}}),t)}(D,Z),W=Boolean(P),H=W&&!w&&ir(b)&&ir(_),q=!E&&U,G=q&&H?B:null,Y=H?null!=G?G:(null!=f?f:k)({rects:x,activeNodeRect:L,activeIndex:b,overIndex:_,index:C}):null,K=ir(b)&&ir(_)?l({id:d,items:g,activeIndex:b,overIndex:_}):C,Q=null==P?void 0:P.id,X=(0,u.useRef)({activeId:Q,items:g,newIndex:K,containerId:y}),$=g!==X.current.items,J=n({active:P,containerId:y,isDragging:U,isSorting:W,id:d,index:C,items:g,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:m,wasDragging:null!=X.current.activeId}),ee=function(e){var t=e.disabled,n=e.index,r=e.node,i=e.rect,o=(0,u.useState)(null),s=(0,a.Z)(o,2),c=s[0],l=s[1],d=(0,u.useRef)(n);return $e((function(){if(!t&&n!==d.current&&r.current){var e=i.current;if(e){var o=Wt(r.current,{ignoreTransform:!0}),a={x:e.left-o.left,y:e.top-o.top,scaleX:e.width/o.width,scaleY:e.height/o.height};(a.x||a.y)&&l(a)}}n!==d.current&&(d.current=n)}),[t,n,r,i]),(0,u.useEffect)((function(){c&&requestAnimationFrame((function(){l(null)}))}),[c]),c}({disabled:!J,index:C,node:I,rect:T});return(0,u.useEffect)((function(){W&&X.current.newIndex!==K&&(X.current.newIndex=K),y!==X.current.containerId&&(X.current.containerId=y),g!==X.current.items&&(X.current.items=g),Q!==X.current.activeId&&(X.current.activeId=Q)}),[Q,W,K,y,g]),{active:P,activeIndex:b,attributes:R,rect:T,index:C,newIndex:K,items:g,isOver:O,isSorting:W,isDragging:U,listeners:F,node:I,overIndex:_,over:z,setNodeRef:V,setDroppableNodeRef:D,setDraggableNodeRef:Z,transform:null!=ee?ee:Y,transition:function(){if(ee||$&&X.current.newIndex===C)return mr;if(q&&!st(M)||!m)return;if(W||J)return ut.Transition.toString((0,o.Z)((0,o.Z)({},m),{},{property:pr}));return}()}}En.Down,En.Right,En.Up,En.Left;var yr=function(e,t){if(null!=t){var n=e.findIndex((function(e){return e.id===t}));if(n>-1){var r=e[n];if((null===r||void 0===r?void 0:r.sortOrder)!==me.gM)return{index:n,data:r}}}return null},br=function(e){var t=gr({id:e.id}),n=t.attributes,r=t.listeners,i=t.setNodeRef,a=t.transform,s=t.transition,c=t.isDragging;return e.disabled?(0,ee.jsx)("div",{children:e.children}):(0,ee.jsx)("div",(0,o.Z)((0,o.Z)((0,o.Z)({ref:i,style:{transform:ut.Transform.toString(a),transition:s}},n),r),{},{id:e.id,className:(0,X.Z)("outline-none",{"invisible pointer-events-none":c}),children:e.children}))};function wr(e,t,n){var r=(0,o.Z)({},e);return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}var xr=function(e){var t=e.containerNodeRect,n=e.draggingNodeRect,r=e.transform;return n&&t?wr(r,n,t):r},_r=function(e){var t=e.transform;return(0,o.Z)((0,o.Z)({},t),{},{x:0})},Er=n(7281);function kr(e){var t=e.className;return(0,ee.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-20 animate-pulse mr-3 ".concat(t||"")})}function Cr(e){var t=e.className;return(0,ee.jsx)("div",{className:"flex w-32 h-4 backdrop-blur-lg bg-gray-20 animate-pulse mt-3 rounded-md ".concat(t||"")})}function Sr(e){var t=e.className;return(0,ee.jsx)("div",{className:"flex w-full h-4 backdrop-blur-lg bg-gray-20 animate-pulse mt-3 rounded-md ".concat(t||"")})}function jr(e){var t=e.className;return(0,ee.jsx)("div",{className:"w-7 h-6 rounded-md bg-gray-20 animate-pulse mt-3 ".concat(t||"")})}function Ar(e){var t=e.className,n=e.children;return(0,ee.jsx)("div",{className:"bg-gray-20 animate-pulse w-full max-w-[350px] sm:max-w-[210px] h-[150px] sm:h-[243px] flex row sm:flex-col group x-reset-link relative rounded mt-3 sm:mt-6 sm:mr-6 ".concat(t||""),children:n})}function Tr(e){var t=e.className;return(0,ee.jsx)("div",{className:"bg-gray-20 animate-pulse flex h-[66px] sm:h-[71px] w-full max-w-[350px] sm:max-w-[270px] px-4 py-2 rounded-md ".concat(t||"")})}function Ir(e){var t=e.className;return(0,ee.jsxs)("div",{className:"flex ".concat(t||""),children:[(0,ee.jsx)(jr,{className:"!w-10 !h-10"}),(0,ee.jsxs)("div",{className:"ml-2 flex flex-col justify-center",children:[(0,ee.jsx)(Cr,{className:"!h-3"}),(0,ee.jsx)(Cr,{className:"!h-3 !mt-2"})]})]})}var Or=n(30568),Dr=n(41972),Nr=n(80543);function Pr(e){var t=e.emoji,n=e.className;return t?(0,ee.jsx)("div",{className:n,children:t.native}):(0,ee.jsx)(J.wZ,{className:n})}var Mr=function(e){var t=(0,se.Z)({validationSchema:{name:ce.O.collection.name},defaultValues:{name:e.collection.id?e.collection.name:""}}),n=(0,f.k6)(),r=(0,Y.KO)(Te.I),o=(0,a.Z)(r,1)[0];function s(){return(s=(0,i.Z)(c().mark((function t(r){var i,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.name,!e.collection.id){t.next=7;break}return t.next=4,he.Z.patch("/collection/".concat(e.collection.id),{name:i,emoji:p});case 4:e.onClose(),t.next=12;break;case 7:return a=o.onCreateEmitter.on((function(e){a();var t=e[0];n.push((0,f.Gn)($.Z6.workspaceCollection,{workspace:t.workspace,collection:t.id||void 0}))})),t.next=10,he.Z.post("/collection",{workspace:e.collection.workspace,name:i,emoji:p});case 10:setTimeout((function(){return a()}),1e3),e.onClose();case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var l=e.collection.id?"Edit collection":"Create collection",d=(0,u.useState)(e.collection.emoji),h=(0,a.Z)(d,2),p=h[0],m=h[1];return(0,ee.jsx)(q.u,{title:l,onCloseRequest:e.onClose,closeButton:!1,children:(0,ee.jsxs)(oe.l0,{formHook:t,onSubmit:function(e){return s.apply(this,arguments)},children:[(0,ee.jsxs)(oe.p7,{className:"gap-x-6",children:[(0,ee.jsxs)("div",{className:"FormComponent-item !mr-0 w-auto",children:[(0,ee.jsx)("label",{htmlFor:"emoji-picker-btn",className:"font-bold",children:"Icon"}),(0,ee.jsxs)(Nr.h,{children:[(0,ee.jsx)(Nr.h.Toggle,{id:"emoji-picker-btn",className:"form-emoji-trigger w-[42px] h-[42px] m-0",children:(0,ee.jsx)("div",{className:"text-xl flex justify-center items-center w-full h-full",children:(0,ee.jsx)(Pr,{emoji:p})})}),(0,ee.jsx)(Nr.h.Picker,{sideOffset:10,className:"shadow-md rounded-md overflow-hidden focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",onEmojiSelect:m})]})]}),(0,ee.jsx)(oe.II,{name:"name",label:"Collection name",reserveSpaceForError:!0,selectContent:!0})]}),(0,ee.jsxs)(oe.p7,{className:"mt-3 justify-end",children:[(0,ee.jsx)(ae.F6,{onClick:e.onClose,className:"media-xs:order-2",children:"Cancel"}),(0,ee.jsx)(oe.Mm,{children:l})]})]})})};function Lr(e){var t=e.collection,n=e.className;return t.id===me.qj.private?(0,ee.jsx)("div",{className:"flex justify-center items-center ".concat(n||""),children:(0,ee.jsx)(J.mB,{})}):(0,ee.jsx)("div",{className:"flex justify-center items-center ".concat(n||""),children:(0,ee.jsxs)(Nr.h,{children:[(0,ee.jsx)(Nr.h.Toggle,{className:"bg-transparent m-0 p-0 rounded text-inherit overflow-hidden w-6 h-6 hover:!bg-gray-30 hover:!text-color-text",title:"Change icon",onClick:function(e){e.stopPropagation()},children:(0,ee.jsx)("div",{className:"w-full h-full flex justify-center items-center text-lg ",children:(0,ee.jsx)(Pr,{emoji:t.emoji})})}),(0,ee.jsx)(Nr.h.Picker,{sideOffset:10,className:"shadow-md rounded-md overflow-hidden focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",onEmojiSelect:function(){var e=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.Z.patch("/collection/".concat(t.id),{name:t.name,emoji:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})})}var Rr=function(e){var t=e.collection,n=e.isActive,r=e.isDraggingScene,o=e.onDelete,s=e.onEdit,l=e.onMove,d=e.className,h=t.workspace,p=(0,u.useState)(!1),m=(0,a.Z)(p,2),v=m[0],g=m[1],y=(0,f.k6)(),b=(0,Or.d)(),w=(0,Dr.Z)({isSidebarPermanent:!1}).toggleSidebar,x=(0,u.useState)(!1),_=(0,a.Z)(x,2),E=_[0],k=_[1];return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)(Er.z,{url:(0,f.Gn)($.Z6.workspaceCollection,{workspace:h,collection:t.id||void 0}),className:(0,X.Z)("group mt-1 text-color-text flex items-center px-3 py-[6px] rounded","hover:bg-gray-10 active:bg-gray-20 cursor-pointer select-none relative pr-12 hover:text-primary dark:hover:text-white active:text-primary-darkest",{"bg-primary hover:!bg-primary-darker active:!bg-primary-darkest  dark:text-gray-10 text-white hover:text-white dark:hover:text-gray-10 active:text-white":n,"opacity-25 pointer-events-none":t.isDeleted,"bg-primary-light":v},d),onCustomClick:function(){b&&w(!1)},onDragOver:function(e){r&&e.preventDefault()},onDragEnter:function(){r&&g(!0)},onDragLeave:function(){r&&g(!1)},onDrop:function(){var e=(0,i.Z)(c().mark((function e(n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),g(!1),r=n.dataTransfer.getData("application/json"))try{(i=JSON.parse(r)).scene&&void 0!==i.collection&&i.collection!==t.id&&l({scene:i.scene,collection:t.id})}catch(o){console.error(o)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,ee.jsx)("div",{className:"w-6 flex justify-center -ml-1",children:(0,ee.jsx)(Lr,{collection:t,className:""})}),(0,ee.jsx)("div",{className:"items-center text-sm ml-2 overflow-ellipsis overflow-hidden",children:t.name}),(0,Pe.K9)(t.id)&&(0,ee.jsx)("div",{className:"flex items-center justify-center text-gray-70 text cursor-pointer absolute right-3 sm:invisible sm:group-hover:visible ".concat(E||be()?"!visible":""),children:(0,ee.jsxs)(re.L,{toggleButtonClassName:"bg-gray-20 text-color-text rounded",toggleButton:(0,ee.jsx)(J.xX,{onClick:function(e){e.stopPropagation()}}),onOpenChange:function(e){k(e)},modal:!0,portaled:!0,children:[(0,ee.jsx)(re.h,{onConfirm:(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ie.aY)({workspace:h,collection:t.id,onPreCreate:function(e){var t=e.id;y.push((0,f.Gn)($.Z6.workspaceScene,{workspace:h,scene:t}))},files:null});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.name;case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),title:"Create scene",children:(0,ee.jsx)(J.pO,{})}),(0,ee.jsx)(re.h,{onConfirm:function(){return s({id:t.id,name:t.name,workspace:h,emoji:t.emoji})},title:"Edit",children:(0,ee.jsx)(J.dY,{})}),(0,ee.jsx)(re.h,{onConfirm:function(){return o({id:t.id,name:t.name})},title:"Delete",children:(0,ee.jsx)(J.XH,{})})]})})]}),t.id===me.qj.private&&(0,ee.jsx)("div",{className:"w-full h-[1px] bg-gray-10 mb-4 mt-1"})]})},Zr=function(e){var t=e.activeCollection,n=e.activeWorkspace,r=(0,Y.KO)(Te.I),s=(0,a.Z)(r,2),d=s[0],h=s[1],p=(0,Y.KO)(ue.Y),m=(0,a.Z)(p,2)[1],v=(0,f.k6)(),g=(0,f.UO)().workspace,y=(0,u.useState)(null),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=(0,u.useState)(null),E=(0,a.Z)(_,2),k=E[0],C=E[1],S=(0,u.useState)(null),j=(0,a.Z)(S,2),A=j[0],T=j[1],I=(0,Y.KO)(ou),O=(0,a.Z)(I,1)[0],D=(0,Y.KO)(au),N=(0,a.Z)(D,2)[1],P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,u.useMemo)((function(){return[].concat(t).filter((function(e){return null!=e}))}),[].concat(t))}(xn(Fn,{activationConstraint:{distance:10}}),xn(zn,{activationConstraint:{delay:500,tolerance:10}})),M=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m({type:"show",title:"Collection remove",text:'Delete "'.concat(t.name,'" collection and all its containing scenes? This cannot be reversed!'),confirmButtonText:"Delete collection and contents",onConfirm:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h((function(e){return(0,o.Z)((0,o.Z)({},e),{},{collections:e.collections.map((function(e){return e.id===t.id?(0,o.Z)((0,o.Z)({},e),{},{isDeleted:!0}):e}))})})),e.prev=1,e.next=4,he.Z.delete("/collection/".concat(t.id));case 4:v.replace((0,f.Gn)($.Z6.workspaceCollection,{workspace:g})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),h((function(e){return(0,o.Z)((0,o.Z)({},e),{},{collections:e.collections.map((function(e){return e.id===t.id?(0,o.Z)((0,o.Z)({},e),{},{isDeleted:!1}):e}))})})),C(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.scene,r=t.collection,N((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,Ne.Z)({},n,!0))})),e.prev=2,e.next=5,he.Z.patch("/scene/".concat(n,"/move"),{collection:r});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),C(e.t0);case 10:return e.prev=10,N((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,Ne.Z)({},n,!1))})),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),[N]);if("loaded"!==n.status)return(0,ee.jsxs)("div",{className:"flex flex-col p-4",children:[(0,ee.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ee.jsx)(Sr,{className:"mr-10"}),(0,ee.jsx)(jr,{})]}),(0,ee.jsxs)("div",{className:"mt-6",children:[(0,ee.jsx)(Cr,{}),(0,ee.jsx)(Cr,{}),(0,ee.jsx)(Cr,{}),(0,ee.jsx)(Cr,{})]})]});var R=(d.collections||[]).filter((function(e){return!(0,Pe.K9)(e.id)})),Z=(d.collections||[]).filter((function(e){return(0,Pe.K9)(e.id)}));return(0,ee.jsxs)("div",{className:"px-2 pt-2 mt-2 mb-6 pb-5",children:[(0,ee.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,ee.jsx)("div",{className:"flex text-lg text-primary font-bold",children:"Collections"}),!d.error&&(0,ee.jsx)(ae.LE,{className:"text-base",onClick:(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,x({workspace:g,id:null,name:null}),e.next=8;break;case 4:if(e.prev=4,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=8;break}throw e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,4]])}))),children:(0,ee.jsx)(J.pO,{})})]}),(0,ee.jsxs)("div",{className:"p-1 -mx-1 border border-solid border-transparent rounded-md ".concat(O?"border-dashed border !border-primary":""),children:[R.map((function(e){return(0,ee.jsx)(Rr,{collection:e,isActive:e.id===t&&!A,isDraggingScene:O,onDelete:M,onEdit:x,onMove:L},e.id)})),(0,ee.jsxs)(qn,{modifiers:[_r,xr],sensors:P,collisionDetection:Lt,onDragStart:function(e){var t=function(e,t){return yr(t,e.active.id)}(e,d.collections);t&&T(t.data)},onDragEnd:function(e){T(null);var t=function(e,t){var n,r;if(e.active.id===(null===(n=e.over)||void 0===n?void 0:n.id))return!1;var i=t.slice(),a=yr(i,e.active.id),s=yr(i,null===(r=e.over)||void 0===r?void 0:r.id);return!(!a||!s)&&(i=function(e,t,n){var r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}(i,a.index,s.index)).reduce((function(e,t,n){if(t.sortOrder===me.gM)e.push(t);else{var r,s,c,u,l=null!==(r=null===(s=(0,Pe.AG)(e[n-1]))||void 0===s?void 0:s.sortOrder)&&void 0!==r?r:null,d=null!==(c=null===(u=(0,Pe.AG)(i[n+1]))||void 0===u?void 0:u.sortOrder)&&void 0!==c?c:null;t.id!==a.data.id&&t.sortOrder&&(!l||t.sortOrder>l)?e.push(t):e.push((0,o.Z)((0,o.Z)({},t),{},{sortOrder:(0,Pe.Zp)(l,d)}))}return e}),[])}(e,d.collections);if(t){var n=(0,Pe.xn)(t);h((function(e){return(0,o.Z)((0,o.Z)({},e),{},{collections:(0,Me.Z)(e.collections.map((function(e){var t,r=n.get(e.id);return r&&e.sortOrder!==r.sortOrder?(l.ZP.firestore().collection("collections").doc(r.id).update({sortOrder:r.sortOrder}),(0,o.Z)((0,o.Z)({},e),{},{sortOrder:null!==(t=r.sortOrder)&&void 0!==t?t:null})):e})),"sortOrder","asc")})}))}},children:[(0,ee.jsxs)("div",{className:"flex flex-col",children:[d.error&&(0,ee.jsx)(Q.Z,{children:d.error.message}),!d.error&&(0,ee.jsx)(lr,{items:d.collections,strategy:sr,children:Z.map((function(e){return(0,ee.jsx)(br,{id:e.id,disabled:!n.isAdmin||e.sortOrder===me.gM,children:(0,ee.jsx)(Rr,{collection:e,isActive:e.id===t&&!A,isDraggingScene:O,onDelete:M,onEdit:x,onMove:L})},e.id)}))})]}),(0,ee.jsx)(tr,{className:"opacity-80 z-50 bg-gray-10 rounded",children:!!A&&(0,ee.jsx)("div",{className:"shadow-lg",children:(0,ee.jsx)(Rr,{collection:A,isActive:!1,isDraggingScene:!1,onDelete:M,onEdit:x,onMove:L})})})]})]}),w&&(0,ee.jsx)(Mr,{collection:w,onClose:function(){return x(null)}}),k&&(0,ee.jsx)(q.u,{title:"Error",onCloseRequest:function(){return C(null)},children:(0,ee.jsx)(Q.Z,{children:k.message})})]})},Fr=n(38525),Ur=n(27676),zr=n(7269),Br=n(1229),Vr=function(e){var t=e.activeWorkspace,n=e.isMenuOpen,r=e.userData;return(0,ee.jsxs)("div",{className:"flex justify-between items-center px-4 py-3 select-none w-full min-w-0",children:[(0,ee.jsxs)("div",{className:"flex items-center min-w-0",children:[(0,ee.jsx)("img",{className:"rounded-full w-10 h-10 mr-3",alt:t.name,src:t.picture||(0,Pe.Zd)({name:t.name})}),(0,ee.jsx)("div",{className:"text-color-text font-bold truncate max-w-[200px] min-w-0 font-primary leading-tight text-base group-hover:text-primary",children:(0,ee.jsxs)("div",{className:"flex flex-col text-left",children:[(0,ee.jsx)("div",{children:t.name}),(0,ee.jsx)("div",{className:"text-xs text-gray-50 font-normal",children:n&&(0,zr.D$)(t.roles,null===r||void 0===r?void 0:r.id)})]})})]}),(0,ee.jsx)("div",{className:"flex justify-center text-color-text text-base ml-2 p-2 group-hover:text-primary",children:n?(0,ee.jsx)(J.Kh,{}):(0,ee.jsx)(J._M,{})})]})},Wr=function(e){var t=e.workspaces,n=e.activeWorkspace,r=e.userData,i=(t||[]).map((function(e){return{name:e.name,id:e.id,picture:e.picture||(0,Pe.Zd)({name:e.name}),role:(0,zr.D$)(e.roles||{},null===r||void 0===r?void 0:r.id)}})),o=(0,f.k6)();return(0,ee.jsxs)("div",{className:"w-full",children:[null===i||void 0===i?void 0:i.map((function(e){var t=e.id,r=e.name,i=e.picture,a=e.role;return(0,ee.jsxs)(Ur.ck,{className:(0,X.Z)("w-full box-border","flex items-center","text-sm","text-color-text hover:text-primary focus-visible:text-primary","p-2","rounded","hover:bg-gray-10","cursor-pointer","focus:outline-none focus-visible:bg-gray-10"),onSelect:function(){return o.push((0,f.Gn)($.Z6.workspaceCollection,{workspace:t}))},children:[(0,ee.jsx)("div",{className:"flex justify-center items-center",children:(0,ee.jsx)("img",{className:"rounded-full w-8 h-8 mr-3",alt:r,src:i||(0,Pe.Zd)({name:r})})}),(0,ee.jsxs)("div",{className:"flex flex-col leading-tight min-w-0",children:[(0,ee.jsx)("span",{className:"font-bold truncate",children:r}),(0,ee.jsx)("span",{className:"text-xs text-gray-50",children:a})]}),n.id===t&&(0,ee.jsx)(J.nQ,{className:"ml-auto pl-2 text-primary h-6 w-6"})]},t)})),!i.length&&(0,ee.jsx)("div",{className:"flex flex-col justify-center items-center text-xs text-gray-40 text-center",children:"You are not a member of any other workspace"}),(0,ee.jsx)(Ur.ck,{className:(0,X.Z)("bg-primary hover:bg-primary-darker active:bg-primary-darkest focus-visible:bg-primary-darker","mx-4 mt-4 mb-2 py-2 px-4","cursor-pointer","dark:text-black text-white text-center text-xs font-bold","rounded","focus:outline-none "),onSelect:function(){return o.push($.Z6.createWorkspaceNameWorkspace)},children:"+ Create workspace"})]})};function Hr(e){var t=e.route,n=e.icon,r=e.label,i=(0,f.k6)();return(0,ee.jsx)(Ur.ck,{onSelect:function(){return i.push(t)},className:"cursor-pointer rounded hover:text-primary hover:bg-gray-10 p-2 focus:outline-none focus-visible:bg-gray-10",children:(0,ee.jsxs)("div",{className:"flex items-center",children:[n,(0,ee.jsx)("div",{className:"flex justify-center items-center text-sm ml-3",children:r})]})})}function qr(e){var t=e.workspaces,n=e.activeWorkspace,r=e.className,i=(0,u.useState)(!1),o=(0,a.Z)(i,2),s=o[0],c=o[1];(0,u.useEffect)((function(){c(!1)}),[c,n]);var l=(0,Br.Z)().userData;return"loaded"===n.status&&t?(0,ee.jsx)(Ur.fC,{open:s,onOpenChange:c,children:(0,ee.jsxs)("div",{className:"max-w-[260px] relative",id:"workspace-select__container",children:[(0,ee.jsx)(Ur.xz,{id:"workspace-select__trigger",className:(0,X.Z)("w-full","m-0 p-0","bg-inherit active:bg-inherit","flex min-w-0 rounded-none md-lg:border-b border-solid border-gray-20","hover:bg-inherit","focus:!outline-none focus-visible:!outline-none","group",r),children:(0,ee.jsx)(Vr,{activeWorkspace:n,isMenuOpen:s,userData:l})}),(0,ee.jsxs)(Ur.VY,{align:"start",sideOffset:-1,id:"workspace-select__content",className:(0,X.Z)("flex flex-col","w-full max-w-[260px]","bg-color-light","max-h-[85vh] overflow-y-auto scrollbar-sm","z-50","select-none","box-border relative"),children:[(0,ee.jsx)("div",{className:(0,X.Z)("mt-2 px-4",{"mb-2":!n.isAdmin}),children:l&&(0,ee.jsx)("span",{className:"text-xs text-gray-50 block truncate",title:"signed in as ".concat(l.email),children:l&&"signed in as ".concat(l.email)})}),n.isAdmin&&"canceled"!==n.subscriptionStatus&&(0,ee.jsx)(Ur.ZA,{className:"p-2",children:(0,ee.jsxs)("div",{className:"pl-4",children:[(0,ee.jsx)(Hr,{icon:(0,ee.jsx)(J.ew,{}),label:"Workspace settings",route:(0,f.Gn)($.Z6.workspaceSettings,{workspace:n.id})}),(0,ee.jsx)(Hr,{icon:(0,ee.jsx)(J.Ww,{}),label:"Team members",route:(0,f.Gn)($.Z6.workspaceSettingsMembers,{workspace:n.id})}),(0,ee.jsx)(Hr,{icon:(0,ee.jsx)(J.ci,{}),label:"Billing",route:(0,f.Gn)($.Z6.workspaceBilling,{workspace:n.id})})]})}),(0,ee.jsxs)(Ur.ZA,{className:"py-2",children:[(0,ee.jsx)("span",{className:"px-4 block mb-1 text-sm",children:"Your workspaces"}),(0,ee.jsx)(Ur.Z0,{className:"h-px bg-gray-20"}),(0,ee.jsx)("div",{className:"p-2",children:(0,ee.jsx)(Wr,{workspaces:t,activeWorkspace:n,userData:l})})]})]})]})}):(0,ee.jsxs)("div",{className:"flex px-4 py-3 select-none",children:[(0,ee.jsx)(kr,{}),(0,ee.jsx)(Cr,{})]})}var Gr=n(693),Yr=n(20937),Kr=Math.ceil,Qr=Math.max;var Xr=function(e,t,n){t=(n?(0,Yr.Z)(e,t,n):void 0===t)?1:Qr((0,z.Z)(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,a=Array(Kr(r/t));i<r;)a[o++]=(0,Gr.Z)(e,i,i+=t);return a},$r=n(66151),Jr=new RegExp("[^".concat("\\w\\u00C0-\\u1FFF\\u2C00-\\uD7FF","]+"),"g"),ei=function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.workspace,i=t.collections,o=l.ZP.firestore().collection("scenes").where("workspace","==",r),o=Array.isArray(i)?o.where("isPrivate","==",!1).where("collection","in",i):i===me.qj.private?o.where("isPrivate","==",!0).where("creator","==",n):o.where("isPrivate","==",!1).where("collection","==",i),a=[],e.next=6,o.get();case 6:return e.sent.forEach((function(e){var t=e.data(),n=(0,ie.dm)(e.id,t);a.push(n)})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ti={timestamp:0,workspace:null,scenes:null},ni=function(e){var t=e.user,n=e.workspace,r=e.searchQuery,o=e.onSearch,s=(0,u.useState)(null),l=(0,a.Z)(s,2),d=l[0],f=l[1],p=(0,Y.KO)(Te.I),m=(0,a.Z)(p,1)[0],v=function(e){var t=(0,u.useRef)(e);return(0,u.useEffect)((function(){t.current=e}),[e]),t.current}(!!d),g=(0,$r.R)((function(e){o&&o(e)}));(0,u.useEffect)((function(){d&&!v?g("start"):v&&!d&&g("end")}),[v,d,g]);var y=function(e){Promise.resolve(e).then((function(e){_((function(t){return(0,Me.Z)(t.concat(e),"pinned","desc")})),S("loaded")})).catch((function(e){console.error(e),S("error")}))};(0,u.useEffect)((function(){if(r.trim()){var e=new RegExp(r.trim().replace(Jr," ").split(/\s+/).join("[\\s]*?"),"i");f(e)}else f(null)}),[r]);var b=(0,u.useState)([]),w=(0,a.Z)(b,2),x=w[0],_=w[1],E=(0,u.useState)("idle"),k=(0,a.Z)(E,2),C=k[0],S=k[1],j=(0,u.useState)(null),A=(0,a.Z)(j,2),T=A[0],I=A[1];return(0,u.useEffect)((function(){I(d&&"loaded"===C?x.filter((function(e){return d.test(e.name)})):null)}),[d,C,x]),(0,u.useEffect)((function(){if(n&&t&&d&&"idle"===C&&"loaded"===m.status){if(S("loading"),ti.workspace===n&&Date.now()-6e5<ti.timestamp)return y(ti.scenes);var e=Xr(m.collections.filter((function(e){return e.id!==me.qj.private})),me.r7),r=Promise.all([ei({user:t,workspace:n,collections:me.qj.private})].concat((0,h.Z)(e.map(function(){var e=(0,i.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ei({workspace:n,user:t,collections:r.map((function(e){return e.id}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))).then((function(e){return e.flat()}));ti={timestamp:Date.now(),workspace:n,scenes:r},y(r)}}),[C,m,n,t,d]),{filteredScenes:T,filteredCollections:(0,u.useMemo)((function(){return d?m.collections.filter((function(e){var t=e.name;return d.test(t)})):null}),[d,m.collections])}},ri=n(43802),ii=n(82829);var oi=function(e){var t=e.shortcut,n=e.children,r=t.split("+");return(0,ee.jsxs)("div",{className:"flex justify-center items-center text-[10px]",children:[(0,ee.jsx)("div",{className:"flex",children:r.map((function(e,t){return(0,ee.jsxs)("div",{className:"flex",children:[t>0&&(0,ee.jsx)("div",{className:"flex justify-center items-center px-1",children:"+"}),(0,ee.jsx)("div",{className:"bg-primary-light rounded text-gray-80 leading-none w-4 h-4 p-[1px] flex justify-center items-center",children:(0,ii.m)({shortcut:e})})]},t)}))}),(0,ee.jsx)("div",{className:"ml-1 overflow-hidden text-gray-50",children:n})]})},ai=n(30498);var si=function(e){var t=e.children,n=(0,Y.KO)(fi),r=(0,a.Z)(n,2)[1],i=(0,u.useRef)(null);return(0,ai.O)(i,(function(){return r(!1)})),(0,ee.jsxs)("div",{className:"fixed z-[9998] flex justify-center bottom-0 right-0 left-0 top-0",children:[(0,ee.jsx)("div",{className:"bg-black/50 fixed z-[9999] bottom-0 right-0 left-0 top-0"}),(0,ee.jsx)("div",{className:(0,X.Z)("box-border","flex flex-col","w-full max-w-[600px] max-h-full sm:max-h-[580px]","bg-default","relative","z-[9999]","sm:mt-28","sm:rounded-md","overflow-hidden","px-6 pt-12 pb-6 sm:px-7 sm:pb-12","sm:shadow-xl"),ref:i,children:t})]})};var ci=function(e){var t=e.searchInputRef,n=e.onSearch,r=e.searchQuery,i=e.activeWorkspaceName;return(0,ee.jsx)("input",{type:"text",ref:t,onChange:n,value:r,className:(0,X.Z)("quicksearch","text-gray-90","dark:bg-gray-10","w-full block box-border","text-base","px-4 py-3 mt-4","rounded-lg","border border-solid border-gray-40","placeholder-gray-40","outline outline-4 outline-transparent","focus-visible:border-primary"),placeholder:"Search in ".concat(i,"...")})};function ui(e){var t,n=e.scene,r=e.userName,o=(0,Y.KO)(Te.I),s=null===(t=(0,a.Z)(o,1)[0].collections.find((function(e){return e.id===n.collection})))||void 0===t?void 0:t.name;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("img",{className:(0,X.Z)("h-[44px] w-[44px] max-w-[44px] max-h-[44px]","dark:invert dark:hue-rotate-180","p-2","flex object-contain relative pointer-events-none rounded-[4px]"),style:{backgroundColor:n.previewBackground},src:n.previewUrl||"/empty-scene-preview.png",alt:n.name,onError:function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.src="/empty-scene-preview.png";case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,ee.jsxs)("div",{className:"space-y-0.5",children:[(0,ee.jsx)("div",{className:"group-hover:text-gray-90",children:n.name}),(0,ee.jsxs)("div",{className:"text-gray-60 text-xs flex gap-x-1",children:[(0,ee.jsxs)("div",{children:["by ",r]}),(0,ee.jsx)("div",{children:"\u2022"}),(0,ee.jsx)("div",{title:"Last updated",children:(0,G.Z)(n.updated)})]}),(0,ee.jsx)("div",{className:"text-gray-60 text-xs ",children:(0,ee.jsxs)("div",{children:["in ",s]})}),(0,ee.jsx)("div",{className:"xs:absolute bottom-3 right-3 -ml-1 xs:ml-0 pt-0.5",children:(0,ee.jsx)("div",{className:"flex text-base text-gray-50",children:(0,ee.jsx)(ne,{scene:n})})})]})]})}function li(e){var t,n=e.collection,r=e.userName;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:(0,X.Z)("flex justify-center items-center text-3xl","h-9 w-9 max-w-9 max-h-9","p-2","flex object-contain relative pointer-events-none rounded-[4px]","box-border"),children:"private"===n.id?(0,ee.jsx)(J.mB,{}):(null===(t=n.emoji)||void 0===t?void 0:t.native)||(0,ee.jsx)(J.wZ,{})}),(0,ee.jsxs)("div",{className:"space-y-1 ml-6",children:[(0,ee.jsx)("div",{className:"group-hover:text-gray-90",children:n.name}),(0,ee.jsx)("div",{className:"text-gray-60 text-xs flex gap-x-1",children:"private"!==n.id&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("div",{children:["by ",r]}),(0,ee.jsx)("div",{children:"\u2022"}),(0,ee.jsx)("div",{title:n.updated?"Last updated":"Created",children:(0,G.Z)(n.updated||n.created)})]})})]})]})}var di=function(e){var t=e.isFirst,n=e.activeWorkspace,r=e.scene,i=e.collection,o=e.selectedItem,s=e.setSelectedItem,c=(0,Y.KO)(fi),l=(0,a.Z)(c,2)[1],d=(0,f.k6)(),h=r?(0,f.Gn)($.Z6.workspaceScene,{scene:r.id,workspace:n.id}):(0,f.Gn)($.Z6.workspaceCollection,{collection:i.id,workspace:n.id}),p=(null===r||void 0===r?void 0:r.id)||(null===i||void 0===i?void 0:i.id),m=p===(null===o||void 0===o?void 0:o.id),v=m&&(null===o||void 0===o?void 0:o.scrollToView);(0,u.useEffect)((function(){if(m)return(0,ii.d)({Enter:function(){d.push(h),l(!1)},"$mod+Enter":function(){var e=window.open(h,"_blank");null!==e&&e.focus()}})}),[m,d,h,l]);var g=(0,_e.Z)().userList.find((function(e){return e.id===(r?r.creator:i.creator)}));return(0,ee.jsx)(H.rU,{ref:function(e){v&&e&&e.scrollIntoView({block:t?"center":"nearest",behavior:"smooth"})},onPointerMove:function(){m||s({id:p,scrollToView:!1})},onClick:function(e){e.stopPropagation(),l(!1)},to:h,className:(0,X.Z)("group","relative","flex gap-x-2 items-center","p-2","x-reset-link text-gray-80 text-sm","rounded-lg",{"bg-gray-10":m}),children:r?(0,ee.jsx)(ui,{scene:r,userName:null===g||void 0===g?void 0:g.name}):(0,ee.jsx)(li,{collection:i,userName:null===g||void 0===g?void 0:g.name})})},fi=(0,Y.cn)(!1),hi=(0,Y.cn)("");function pi(e){var t=e.activeWorkspace,n=(0,Y.KO)(hi),r=(0,a.Z)(n,2),i=r[0],o=r[1],s=(0,Y.KO)(fi),c=(0,a.Z)(s,2)[1],l=(0,Br.Z)().claims,d=(0,u.useState)(null),f=(0,a.Z)(d,2),p=f[0],m=f[1],v=ni({workspace:t.id||"",user:(null===l||void 0===l?void 0:l.id)||null,searchQuery:i}),g=v.filteredScenes,y=v.filteredCollections,b=(0,u.useMemo)((function(){return[].concat((0,h.Z)(g||[]),(0,h.Z)(y||[]))}),[g,y]),w=(0,$r.R)((function(e){var t=e.isUp,n=e.event,r=t?-1:1;if(null!==b&&void 0!==b&&b.length)if(n.preventDefault(),n.stopImmediatePropagation(),p){var i=(0,ri.Z)(b,{id:p.id}),o=b[i+r];o||(o=1===r?b[0]:b[b.length-1]),o&&m({id:o.id,scrollToView:!0})}else m({id:b[0].id,scrollToView:!0})}));(0,u.useEffect)((function(){var e=(0,ii.d)({Escape:function(){return c(!1)},ArrowDown:function(e){w({isUp:!1,event:e})},ArrowUp:function(e){w({isUp:!0,event:e})}});return function(){e()}}),[w,c]),(0,u.useEffect)((function(){var e,t;null!==y&&void 0!==y&&y.length||null!==g&&void 0!==g&&g.length?m({id:(null===y||void 0===y||null===(e=y[0])||void 0===e?void 0:e.id)||(null===g||void 0===g||null===(t=g[0])||void 0===t?void 0:t.id),scrollToView:!0}):m(null)}),[y,g]);var x=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e;null===(e=x.current)||void 0===e||e.select()}),[]),"loaded"!==t.status?(0,ee.jsx)(si,{children:(0,ee.jsx)(K.Z,{})}):(0,ee.jsxs)(si,{children:[(0,ee.jsx)(J.X1,{className:"absolute right-4 top-4 text-2xl opacity-60 cursor-pointer hover:text-primary hover:opacity-100 active:text-primary-darker",onClick:function(){return c(!1)}}),(0,ee.jsx)("div",{children:(0,ee.jsx)(ci,{searchInputRef:x,onSearch:function(e){o(e.target.value)},searchQuery:i,activeWorkspaceName:t.name})}),(0,ee.jsxs)("div",{className:"mt-3 hidden sm:flex gap-x-6 justify-center",children:[(0,ee.jsx)(oi,{shortcut:"\u2191\u2193",children:"Select"}),(0,ee.jsx)(oi,{shortcut:"\u21b5",children:"Open"}),(0,ee.jsx)(oi,{shortcut:"$mod + \u21b5",children:"Open in new tab"}),(0,ee.jsx)(oi,{shortcut:"esc",children:"Close"})]}),(0,ee.jsxs)("div",{className:"flex flex-col overflow-auto x-custom-scrollbar h-full mt-10",children:[!(null===y||void 0===y||!y.length)&&(0,ee.jsxs)("div",{children:[(0,ee.jsx)("div",{className:"text-xs ml-2 mb-2 font-bold text-gray-70",children:"Collections"}),y.map((function(e,n){return(0,ee.jsx)(di,{isFirst:0===n,selectedItem:p,setSelectedItem:m,collection:e,activeWorkspace:t},e.id)}))]}),!(null===g||void 0===g||!g.length)&&!(null===y||void 0===y||!y.length)&&(0,ee.jsx)("div",{className:"h-px bg-gray-20 flex-shrink-0 my-4"}),!(null===g||void 0===g||!g.length)&&(0,ee.jsxs)("div",{children:[(0,ee.jsx)("div",{className:"text-xs ml-2 mb-2 font-bold text-gray-70 ",children:"Scenes"}),g.map((function(e,n){return(0,ee.jsx)(di,{isFirst:0===n&&!(null!==y&&void 0!==y&&y.length),selectedItem:p,setSelectedItem:m,scene:e,activeWorkspace:t},e.id)}))]}),!(null!==g&&void 0!==g&&g.length)&&!(null!==y&&void 0!==y&&y.length)&&(0,ee.jsxs)("div",{className:"w-full mt-10 flex justify-center items-center text-gray-60",children:[(0,ee.jsx)("div",{className:"text-lg flex justify-center items-center",children:(0,ee.jsx)(J.ol,{})}),(0,ee.jsx)("div",{className:"pl-1",children:"Nothing here..."})]})]})]})}var mi=function(e){var t=e.icon,n=e.title,r=e.link,i=e.shortcut,o=e.onClick,a=e.className,s="select-none x-reset-link text-gray-80 flex items-center px-3 py-2 rounded hover:bg-gray-10 hover:text-primary active:bg-gray-20 active:text-primary-darkest cursor-pointer ".concat(a),c=(0,f.TH)();if(r){var u=(0,f.LX)(c.pathname,{path:r,exact:!0});return(0,ee.jsxs)(H.rU,{className:"".concat(s," ").concat(u?"!text-primary bg-gray-10":""),to:r,children:[(0,ee.jsx)("div",{className:" flex justify-center items-center",children:t}),(0,ee.jsx)("div",{className:"flex justify-center items-center text-sm ml-2",children:n})]})}return o?(0,ee.jsxs)("div",{className:s,onClick:o,children:[(0,ee.jsx)("div",{className:"flex justify-center items-center",children:t}),(0,ee.jsx)("div",{className:"flex items-center text-sm ml-2 flex-grow",children:n}),i&&(0,ee.jsx)("div",{className:"flex justify-center items-center text-[10px] ml-2 text-gray-60",children:(0,ii.m)({shortcut:i})})]}):null};function vi(e){var t=e.activeWorkspace,n=e.withSettings,r=(0,Y.KO)(fi),i=(0,a.Z)(r,2)[1];return"loaded"!==t.status?(0,ee.jsxs)("div",{className:"flex flex-col ml-4 mt-4 px-2",children:[(0,ee.jsx)(Cr,{className:"mb-3"}),n&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Cr,{}),(0,ee.jsx)(Cr,{})]})]}):(0,ee.jsxs)("div",{className:"px-2 pt-2 mt-2 mb-2",children:[(0,ee.jsx)(mi,{icon:(0,ee.jsx)(J.ol,{}),title:"Quick search",shortcut:"$mod + p",onClick:function(e){e.stopPropagation(),i(!0)},className:"mb-3"}),(0,ee.jsx)(mi,{icon:(0,ee.jsx)(J.QG,{}),title:"Dashboard",link:(0,f.Gn)($.Z6.workspaceDashboard,{workspace:t.id})}),t.isAdmin&&n&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(mi,{icon:(0,ee.jsx)(J.ew,{}),title:"Workspace settings",link:(0,f.Gn)($.Z6.workspaceSettings,{workspace:t.id})}),(0,ee.jsx)(mi,{icon:(0,ee.jsx)(J.Ww,{}),title:"Team members",link:(0,f.Gn)($.Z6.workspaceSettingsMembers,{workspace:t.id})})]})]})}var gi=n(54146),yi=n(21756),bi=n(96789),wi=n(69828),xi=n(7347),_i=(0,Ze.Z)((function e(){(0,Re.Z)(this,e)}));_i.markAsRead=function(e){return l.ZP.firestore().collection("notifications").doc(e).update({read:!0})};var Ei,ki=n(10658),Ci=n.n(ki),Si=n(59694),ji=n.n(Si);Ci().extend(ji());var Ai=function(e){return function(t){return{getTitle:function(){return e.getTitle(t)},getText:function(){return e.getText(t)},getLink:function(){return e.getLink(t)},onClick:function(){var n=e.onClick;if(n)return function(){return n(t)}}()}}},Ti=(Ei={},(0,Ne.Z)(Ei,me.GT.SCENE_COMMENT_ADDED,Ai({getTitle:function(){return"New comment"},getText:function(e){return(0,ee.jsxs)(ee.Fragment,{children:["posted a new comment in ",(0,ee.jsx)("b",{children:e.contentData.sceneName})]})},getLink:function(e){return"".concat((0,f.Gn)("".concat($.Z6.workspaceScene),{scene:e.contentData.scene,workspace:e.contentData.workspace}),"?comment=").concat(e.contentId)}})),(0,Ne.Z)(Ei,me.GT.SCENE_COMMENT_REPLIED,Ai({getTitle:function(){return"New reply"},getText:function(e){return(0,ee.jsxs)(ee.Fragment,{children:["replied in the comment inside ",(0,ee.jsx)("b",{children:e.contentData.sceneName})]})},getLink:function(e){return"".concat((0,f.Gn)("".concat($.Z6.workspaceScene),{scene:e.contentData.scene,workspace:e.contentData.workspace}),"?comment=").concat(e.contentId)}})),(0,Ne.Z)(Ei,me.GT.SCENE_COMMENT_RESOLVED,Ai({getTitle:function(){return"Resolved conversation"},getText:function(e){return(0,ee.jsxs)(ee.Fragment,{children:["resolved conversation in ",(0,ee.jsx)("b",{children:e.contentData.sceneName})]})},getLink:function(e){return"".concat((0,f.Gn)("".concat($.Z6.workspaceScene),{scene:e.contentData.scene,workspace:e.contentData.workspace}),"?comment=").concat(e.contentId)}})),(0,Ne.Z)(Ei,me.GT.SCENE_COMMENT_REOPENED,Ai({getTitle:function(){return"Re-opened conversation"},getText:function(e){return(0,ee.jsxs)(ee.Fragment,{children:["re-opened conversation in ",(0,ee.jsx)("b",{children:e.contentData.sceneName})]})},getLink:function(e){return"".concat((0,f.Gn)("".concat($.Z6.workspaceScene),{scene:e.contentData.scene,workspace:e.contentData.workspace}),"?comment=").concat(e.contentId)}})),(0,Ne.Z)(Ei,me.GT.SCENE_COMMENT_MENTIONED,Ai({getTitle:function(){return"New mention"},getText:function(e){return(0,ee.jsxs)(ee.Fragment,{children:["mentioned you in ",(0,ee.jsx)("b",{children:e.contentData.sceneName})]})},getLink:function(e){return"".concat((0,f.Gn)("".concat($.Z6.workspaceScene),{scene:e.contentData.scene,workspace:e.contentData.workspace}),"?comment=").concat(e.contentId)}})),Ei),Ii=new Map,Oi=function(e){var t=e.notification,n=e.userList,r=e.onCloseNotification,o=(0,u.useState)(!1),s=(0,a.Z)(o,2),l=s[0],d=s[1],h=(0,f.k6)(),p=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,d(!0),e.next=6,_i.markAsRead(t.id);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(){return e.apply(this,arguments)}}();function m(){return(m=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),t.onClick&&t.onClick(),_i.markAsRead(t.id).catch((function(e){console.error(e)})),r(),t.getLink&&h.push(t.getLink());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n.find((function(e){return e.id===t.creator}));return(0,ee.jsxs)("div",{className:"group/parent flex hover:bg-gray-10 active:bg-gray-20 px-1 rounded mx-3 py-2",children:[(0,ee.jsxs)("div",{onClick:function(){return m.apply(this,arguments)},className:"flex flex-row cursor-pointer select-none",children:[(0,ee.jsx)("div",{className:"flex flex-shrink-0 justify-center items-center h-10 w-10 outline-primary-full",children:(0,ee.jsx)(yi.Z,{name:(null===v||void 0===v?void 0:v.name)||"Anonymous",src:(null===v||void 0===v?void 0:v.picture)||"",size:36})}),(0,ee.jsxs)("div",{className:"p-1 ml-2",children:[(0,ee.jsxs)("div",{className:"text-sm",children:[(0,ee.jsx)("b",{children:(null===v||void 0===v?void 0:v.name)||""})," ",t.getText()]}),(0,ee.jsx)("div",{className:"text-xs text-gray-60",children:Ci()(t.created).fromNow()})]})]}),l?(0,ee.jsx)("div",{className:"flex justify-center items-center",children:(0,ee.jsx)(K.Z,{size:15,className:"px-2 py-1"})}):(0,ee.jsx)("div",{className:"group-hover/parent:visible group/button invisible flex justify-center items-center m-1",title:"Set notification as read",children:(0,ee.jsx)("div",{onClick:p,className:(0,X.Z)("w-6 h-6 flex justify-center items-center cursor-pointer rounded-md","group-hover/parent:bg-default","group-hover/button:bg-gray-20 hover:text-gray-80 active:bg-gray-30"),children:(0,ee.jsx)(J.nQ,{className:"px-2 py-1 w-7 h-7"})})})]})},Di=function(e){var t=e.className,n=function(){var e,t=(0,u.useState)([]),n=(0,a.Z)(t,2),s=n[0],d=n[1],f=(0,u.useState)(!1),h=(0,a.Z)(f,2),p=h[0],m=h[1],v=(0,Br.Z)();return(0,u.useEffect)((function(){var e;if(null!==(e=v.userData)&&void 0!==e&&e.id){var t,n=l.ZP.firestore().collection("notifications").where("userId","==",null===(t=v.userData)||void 0===t?void 0:t.id).where("read","==",!1).orderBy("created","desc").limit(6).onSnapshot((function(e){var t=[],n=[];e.forEach((function(e){var r=e.data(),i=Ti[r.type];i?t.push((0,o.Z)((0,o.Z)({id:e.id},r),i(r))):(console.error("No config for notification type ".concat(r.type,". Deleting notification...")),Ii.has(e.id)||(Ii.set(e.id,!0),n.push(e.id)))})),n.length&&l.ZP.firestore().runTransaction(function(){var e=(0,i.Z)(c().mark((function e(t){var i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,r.Z)(n);try{for(i.s();!(o=i.n()).done;)a=o.value,t.delete(l.ZP.firestore().collection("notifications").doc(a))}catch(s){i.e(s)}finally{i.f()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m(t.length>5),d(t.slice(0,5))}));return function(){n()}}}),[null===(e=v.userData)||void 0===e?void 0:e.id]),{notifications:s,hasMoreNotifications:p}}(),s=n.notifications,d=n.hasMoreNotifications,h=(0,u.useState)(!1),p=(0,a.Z)(h,2),m=p[0],v=p[1],g=(0,u.createRef)(),y=(0,_e.Z)().userList,b=(0,Y.KO)(lu),w=(0,a.Z)(b,1)[0];(0,ai.O)(g,(function(){m&&v(!1)}));var x=function(){var e=(0,i.Z)(c().mark((function e(){var t,n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=(0,r.Z)(s);try{for(t.s();!(n=t.n()).done;)i=n.value,_i.markAsRead(i.id)}catch(o){t.e(o)}finally{t.f()}}catch(o){console.error(o)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ee.jsxs)("div",{className:"relative flex",ref:g,children:[(0,ee.jsxs)(ae.hU,{className:"".concat(t," relative border-solid border-[1px] !bg-altDarker  !rounded-md border-gray-30"),onClick:function(){return v(!m)},children:[(0,ee.jsx)(J.sh,{className:"pointer-events-none"}),!!s.length&&(0,ee.jsxs)("div",{className:"absolute text-[9px] leading-3 rounded-full py-[1px] px-[5px] bg-primary -top-2 -right-2 text-white pointer-events-none",children:[s.length,d&&"+"]})]}),m&&(0,ee.jsxs)("div",{className:"absolute bg-color-light right-0 top-16 sm:top-12 w-[300px] rounded",children:[(0,ee.jsxs)("h3",{className:"text-lg font-bold m-0 text-primary py-2 px-3 shadow-border-b flex justify-between items-center",children:["Notifications",!!s.length&&(0,ee.jsx)("span",{onClick:x,className:"text-xs text-gray-80 hover:underline cursor-pointer font-normal",children:"Mark all as read"})]}),(0,ee.jsx)("div",{className:"".concat(!!s.length&&"shadow-border-b","  mt-2 pb-2"),children:s.length?s.map((function(e){return(0,ee.jsx)(Oi,{notification:e,userList:y,onCloseNotification:function(){return v(!1)}},e.id)})):(0,ee.jsx)("div",{className:"py-3 text-center text-base",children:"No unread notifications"})}),w.id&&(0,ee.jsx)("div",{className:"py-2 px-3",children:(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceNotifications,{workspace:w.id}),className:"x-reset-link w-full",children:(0,ee.jsx)(ae.zx,{className:"w-full max-h-9 !text-xs",children:"View all notifications"})})})]})]})};function Ni(e){var t=e.withNotifications,n=void 0===t||t,r=e.withDarkModeToggle,i=void 0===r||r,o=e.className,s=(0,Br.Z)().userData,c=(0,u.useState)(!1),l=(0,a.Z)(c,2),d=l[0],f=l[1],h=(0,u.useRef)(null),p=(0,Y.KO)(gi.l),m=(0,a.Z)(p,1)[0],v=(0,Y.KO)(lu),g=(0,a.Z)(v,1)[0],y=(0,Dr.Z)({isSidebarPermanent:!1}),b=y.isSidebarDockable,w=y.isSidebarToggled,x=y.toggleSidebar,_=(0,u.useState)(!1),E=(0,a.Z)(_,2),k=E[0],C=E[1];return(0,ai.O)(h,(function(){d&&f(!1)})),(0,ee.jsxs)("nav",{className:(0,X.Z)("fixed z-50 flex justify-between top-0 w-full sm:shadow-border-b h-16 bg-color-light px-2 sm:px-3 py-2 mr-6 pointer-events-none",{"!bg-transparent !z-10 !shadow-none !px-6":b},o),children:[k&&(0,ee.jsx)(wi.B,{onClose:function(){return C(!1)}}),(0,ee.jsxs)("div",{className:(0,X.Z)("flex justify-center items-center min-w-[217px] pointer-events-auto",{invisible:b}),children:[(0,ee.jsx)("div",{className:"w-10 h-full flex justify-center items-center cursor-pointer",onClick:function(e){e.stopPropagation(),x(!w)},children:w?(0,ee.jsx)(J.X1,{}):(0,ee.jsx)(J.Uq,{})}),(0,ee.jsx)(qr,{activeWorkspace:g,workspaces:m})]}),(0,ee.jsxs)("div",{className:"flex justify-center items-center pointer-events-auto",children:[i&&(0,ee.jsx)(bi.J,{}),n&&(0,ee.jsx)(Di,{className:"mr-6"}),s&&(0,ee.jsxs)("div",{className:"relative",children:[(0,ee.jsx)("div",{className:"flex justify-center items-center h-10 w-10 outline-primary-full",onClick:function(e){e.stopPropagation(),f(!d)},children:(0,ee.jsx)(yi.Z,{src:s.picture,size:36,name:s.name,className:""})}),d&&(0,ee.jsx)(xi.Z,{dropdownRef:h,workspaces:m,isAdmin:g.isAdmin||!1,onSupportClick:function(){C(!0),f(!1)}})]})]})]})}var Pi=function(e){var t=e.children;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("h2",{className:"flex flex-col justify-center text-xl sm:text-2xl mb-3 mt-4",children:t}),(0,ee.jsx)("div",{className:"w-full h-[1px] bg-gray-30 flex-grow-0 flex-shrink-0 flex-auto"})]})},Mi=n(14965),Li=n(2466),Ri=[{value:"name",label:"Alphabetical"},{value:"created",label:"Last created"},{value:"updated",label:"Last updated"}],Zi=function(e){var t=e.className,n=e.showLabel,r=(0,Br.Z)().userData,i=(0,Y.KO)(Oe.W,Li.jotaiScope),o=(0,a.Z)(i,1)[0],s=(0,u.useMemo)((function(){var e;return null===(e=Ri.find((function(e){return e.value===o})))||void 0===e?void 0:e.label}),[o]);return o?(0,ee.jsx)("div",{className:"flex items-center font-normal relative ".concat(t),title:"Sort scenes",children:(0,ee.jsx)(re.L,{toggleButtonClassName:"flex-center dark:text-color-text",selectClassName:n&&s?"bg-altDarker border-solid border-gray-30 border-[1px] rounded-md px-3 py-1":"",toggleButton:(0,ee.jsx)(J.fz,{className:"text-base"}),modal:!0,className:"min-w-[150px]",label:n&&s,labelClassName:"text-xs",children:Ri.map((function(e){return(0,ee.jsx)(re.h,{className:"p-1 text-xs",onConfirm:function(){null!==r&&void 0!==r&&r.id&&Mi.Z.updateUserPreferenceKey({key:"sceneOrder",value:e.value,user:r.id})},title:e.label,children:o===e.value&&(0,ee.jsx)(J.nQ,{})},e.value)}))})}):null},Fi=n(52499),Ui=n(6046),zi=/iPod|iPhone|iPad/.test(window.navigator.platform);function Bi(){var e=(0,Or.d)(),t=(0,Y.KO)(lu),n=(0,a.Z)(t,1)[0],o=(0,Y.KO)(gi.l),s=(0,a.Z)(o,1)[0],l=(0,Y.KO)(Te.I),d=(0,a.Z)(l,1)[0],m=(0,Y.KO)(au),v=(0,a.Z)(m,1)[0],g=(0,f.UO)(),y=(0,Y.KO)(uu),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=(0,Oe._)(w);(0,u.useLayoutEffect)((function(){g.collection&&x(g.collection)}),[g.collection,x]);var E=(0,Y.KO)(cu),k=(0,a.Z)(E,1)[0],C=(0,f.k6)(),S="loaded"===d.status?d.collections.find((function(e){return e.id===w})):null;(0,Ie.j)(S?"".concat(null===S||void 0===S?void 0:S.name," collection"):"Collections");var j=(0,u.useState)(!1),A=(0,a.Z)(j,2),T=A[0],I=A[1],O=(0,Y.KO)(ou),D=(0,a.Z)(O,1)[0],N=(0,Y.KO)(su),P=(0,a.Z)(N,2),M=P[0],L=P[1],R=(0,u.useState)(null),Z=(0,a.Z)(R,2),F=Z[0],U=Z[1],z=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.ZP.event({category:"scene",action:"import_drag"}),Ui.Z.trackEvent("scene",{action:"manual_import"}),e.next=5,(0,Ae.I$)({multiple:!0,description:"Excalidraw files",extensions:zi?void 0:[".json",".excalidraw"],mimeTypes:zi?void 0:["application/json"]});case 5:return t=e.sent,L(!0),e.next=9,Promise.all((0,h.Z)(t).map((function(e){return(0,ie.CO)({file:e,workspace:g.workspace,collection:w||me.qj.private}).then((function(e){(0,ie.oF)({id:e.id,workspace:e.workspace,appState:e.contents.appState,elements:e.contents.elements,files:e.files}),ie.oF.flush()}))})));case 9:L(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),L(!1),"AbortError"!==e.t0.name&&console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,p.ZP.event({category:"scene",action:"create"}),Ui.Z.trackEvent("scene",{action:"create"}),I(!0),e.next=8,(0,ie.aY)({workspace:g.workspace,collection:g.collection||me.qj.private,onPreCreate:function(e){var t=e.id;C.push((0,f.Gn)($.Z6.workspaceScene,{workspace:g.workspace,scene:t}))},files:null});case 8:I(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),I(!1),"AbortError"!==e.t0.name&&U(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,i.Z)(c().mark((function e(t){var n,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!D){e.next=3;break}return e.abrupt("return");case 3:e.prev=3,p.ZP.event({category:"scene",action:"import"}),Ui.Z.trackEvent("scene",{action:"import_drop"}),L(!0),n=(0,r.Z)(t.dataTransfer.files),e.prev=8,n.s();case 10:if((i=n.n()).done){e.next=16;break}return o=i.value,e.next=14,(0,ie.CO)({file:o,workspace:g.workspace,collection:w||me.qj.private});case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),n.e(e.t0);case 21:return e.prev=21,n.f(),e.finish(21);case 24:L(!1),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(3),U(new Error("Import failed: ".concat(e.t1.message)));case 30:return e.prev=30,L(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[3,27,30,33],[8,18,21,24]])})));return function(t){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){g.collection||C.replace((0,f.Gn)($.Z6.workspaceCollection,{workspace:g.workspace,collection:me.qj.private}))}),[g.collection,g.workspace,C]);var W=[];!_.error&&_.sceneList.length>0&&(W=_.sceneList);var H="loading"===d.status||"loading"===_.status||["loading","initializing"].includes(n.status);return(0,ee.jsxs)(ee.Fragment,{children:[F&&(0,ee.jsx)(q.u,{title:"Error",onCloseRequest:function(){return U(null)},children:(0,ee.jsx)("p",{className:"my-3",children:F.message})}),(0,ee.jsx)(Ni,{}),(0,ee.jsxs)(je.Z,{permanent:!0,children:[(0,ee.jsx)(qr,{activeWorkspace:n,workspaces:s}),(0,ee.jsx)(vi,{activeWorkspace:n,withSettings:!0}),(0,ee.jsx)(Zr,{activeWorkspace:n,activeCollection:w})]}),(0,ee.jsxs)(Fr.jB,{withPermaSidebar:!0,className:"bg-altDarker",onDragOver:function(e){D||e.preventDefault()},onDrop:V,children:[(0,ee.jsx)(Pi,{children:(0,ee.jsxs)("div",{className:"flex",children:[(0,ee.jsxs)("div",{className:"flex flex-col overflow-hidden text-ellipsis mr-4",children:["loading"===d.status&&(0,ee.jsx)(Cr,{className:"!h-6 !w-48"}),(0,ee.jsx)("div",{className:"flex flex-row items-center",children:S&&(0,ee.jsxs)(ee.Fragment,{children:[w===me.qj.private?(0,ee.jsx)(J.mB,{className:"ml-3 mr-3 w-7 h-7"}):(0,ee.jsx)("div",{className:"ml-3 mr-3 flex items-center",children:(0,ee.jsx)(Pr,{emoji:S.emoji,className:"w-7 h-7"})}),(0,ee.jsx)("div",{className:"font-bold overflow-hidden text-ellipsis",children:S.name})]})}),S&&w===me.qj.private&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"text-xs ml-3 mt-1 text-gray-60 font-normal",children:"This is your private collection. No other team members can see it."}),(0,ee.jsx)("div",{className:"text-xs ml-3 text-gray-60 font-normal",children:"Drag a scene to a different collection to make it visible to other team members."})]})]}),(0,ee.jsx)(Zi,{className:"ml-auto",showLabel:!e})]})}),(0,ee.jsxs)("div",{className:"flex mt-6 flex-col sm:flex-row justify-center sm:justify-start items-center sm:items-start",children:["loading"===d.status&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Tr,{className:"mr-0 sm:mr-6"}),(0,ee.jsx)(Tr,{className:"mt-2 sm:mt-0"})]}),"loading"!==d.status&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(ae.tv,{onClick:z,leftIcon:(0,ee.jsx)(J._c,{className:"w-5 h-5"}),className:"mr-0 sm:mr-6",children:"Import scenes"}),(0,ee.jsx)(ae.tv,{onClick:B,leftIcon:(0,ee.jsx)(J.Sw,{className:"w-5 h-5"}),className:"mt-3 sm:mt-0",children:"Create scene"})]})]}),(0,ee.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-start items-center sm:items-start flex-wrap mt-6",children:[H&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Ar,{}),(0,ee.jsx)(Ar,{}),(0,ee.jsx)(Ar,{})]}),M&&(0,ee.jsx)(Ar,{children:(0,ee.jsx)(K.Z,{})}),!H&&!!W.length&&(0,ee.jsx)(ee.Fragment,{children:W.map((function(e){return(0,ee.jsx)(Ce,{scene:e,users:k[e.id],isMoving:!!v[e.id]},e.id)}))})]}),n.willCancelAt&&(0,ee.jsx)(De,{workspace:n.id,willCancelAt:n.willCancelAt,isAdmin:n.isAdmin}),!H&&!W.length&&(0,ee.jsxs)(Fi.Z,{imgSrc:"/images/nothing_in_collection.svg",label:"This collection is empty.",children:[(0,ee.jsxs)("span",{className:"text-primary hover:text-primary-darker cursor-pointer text-base mt-3 flex",onClick:B,children:["Let's change that!"," ",T&&(0,ee.jsx)(K.Z,{size:15,className:"ml-3"})]}),(0,ee.jsx)("div",{className:"mt-4 text-gray-40 text-xs",children:"You can drag & drop excalidraw files here to import them"})]})]})]})}var Vi=n(89860);function Wi(e){var t=e.scene,n=e.children,r=e.onlineWorkspaceUsers,o=(0,_e.Z)(),s=(0,Y.KO)(Vi.dM),u=(0,a.Z)(s,1)[0];return(0,ee.jsxs)(H.OL,{to:(0,f.Gn)($.Z6.workspaceScene,{workspace:t.workspace,scene:t.id}),onClick:function(){null===u||void 0===u||u.toggleMenu("customSidebar",!1)},activeClassName:"bg-gray-10 !text-primary",className:"group mb-0.5 relative flex flex-row justify-center text-gray-80 items-center p-2 rounded-md x-reset-link hover:bg-gray-10 hover:text-primary active:bg-gray-20 active:text-primary-darkest ".concat(t.isDeleted?"pointer-events-none opacity-30":""),children:[(0,ee.jsxs)("div",{className:"flex flex-auto flex-shrink-0 w-10 h-10 relative mr-2 rounded-lg",children:[(0,ee.jsx)("img",{src:t.previewUrl||"/empty-scene-preview.png",alt:t.name,onError:function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.src="/empty-scene-preview.png";case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"object-contain pointer-events-none w-full h-full dark:invert dark:hue-rotate-180",style:{background:t.previewBackground}}),(0,ee.jsx)("div",{className:"absolute bottom-0 w-full",children:(0,ee.jsx)(ke.Z,{users:r[t.id],maxAvatars:4,size:14})})]}),(0,ee.jsxs)("div",{className:"flex flex-col min-w-0 w-full",children:[(0,ee.jsx)("div",{className:"text-sm overflow-ellipsis overflow-hidden",children:W(t.name,{length:90})}),(0,ee.jsxs)("div",{className:"flex items-center text-[10px] mt-1 gap-1",children:[(0,ee.jsx)(Ee,{workspaceMembers:o,scene:t,maxWidth:80,separator:"right",className:"text-gray-40"}),(0,ee.jsx)("div",{className:"text-gray-40",title:(0,G.Z)(t.updated,{format:"YYYY-MM-DD HH:MI"}),children:(0,G.Z)(t.updated)}),(0,ee.jsx)("div",{className:"flex justify-center items-center mt-1 ml-auto mr-1 color-text-subtitle bg-inherit",children:(0,ee.jsx)(ne,{scene:t})})]})]}),n]})}function Hi(e){var t=e.activeCollectionData,n=e.activeWorkspace,r=e.onError,o=(0,f.k6)();function a(){return a=(0,i.Z)(c().mark((function e(){var i,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id||!t){e.next=13;break}return e.prev=1,e.next=4,(0,ie.aY)({workspace:n.id,collection:t.id,files:null});case 4:i=e.sent,a=i.workspace,s=i.id,o.push((0,f.Gn)($.Z6.workspaceScene,{workspace:a,scene:s})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),"AbortError"!==e.t0.name&&r(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),a.apply(this,arguments)}return(0,ee.jsxs)("div",{className:"flex items-center justify-between p-2",children:[t&&(0,ee.jsxs)(H.OL,{className:"x-reset-link flex items-center mr-3 text-gray-80 hover:text-primary active:text-primary-darker flex-auto truncate",to:t?(0,f.Gn)($.Z6.workspaceCollection,{workspace:(null===t||void 0===t?void 0:t.workspace)||n.id||!1,collection:(null===t||void 0===t?void 0:t.id)||void 0}):$.Z6.root,children:[(0,ee.jsx)("div",{className:"ml-1 flex items-center",children:(0,ee.jsx)(J.s$,{})}),(0,ee.jsx)("div",{className:"ml-1 flex items-center",children:t.id===me.qj.private?(0,ee.jsx)(J.mB,{}):(0,ee.jsx)(Pr,{emoji:t.emoji})}),(0,ee.jsx)("div",{className:"text-base sm:text-lg ml-1 font-bold truncate",children:(null===t||void 0===t?void 0:t.name)||"Scenes"})]}),(0,ee.jsx)("div",{className:"mr-2 flex-shrink-0",children:(0,ee.jsx)(Zi,{})}),(0,ee.jsx)(ae.LE,{onClick:function(){return a.apply(this,arguments)},className:"text-base flex-shrink-0",children:(0,ee.jsx)(J.pO,{})})]})}var qi=function(){var e=(0,Y.KO)(Te.I),t=(0,a.Z)(e,1)[0],n=(0,Y.KO)(uu),r=(0,a.Z)(n,1)[0],i=(0,Oe._)(r),o=(0,f.k6)(),s=(0,f.UO)(),c=(0,Y.KO)(lu),l=(0,a.Z)(c,1)[0];(0,u.useEffect)((function(){!s.scene&&i.sceneList.length&&l.id&&o.replace((0,f.Gn)($.Z6.workspaceScene,{workspace:l.id,scene:i.sceneList[0].id}))}),[o,l.id,s.scene,i.sceneList]);var d=(0,Y.KO)(cu),h=(0,a.Z)(d,1)[0],p=i.sceneList.filter((function(e){return e.collection===r})),m=t.collections.find((function(e){return e.id===r})),v=(0,u.useState)(null),g=(0,a.Z)(v,2),y=g[0],b=g[1];return"loaded"!==i.status?(0,ee.jsxs)("div",{className:"p-2",children:[(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)(Sr,{className:"mr-3"}),(0,ee.jsx)(jr,{})]}),(0,ee.jsxs)("div",{className:"mt-2",children:[(0,ee.jsx)(Ir,{}),(0,ee.jsx)(Ir,{}),(0,ee.jsx)(Ir,{})]})]}):(0,ee.jsxs)(ee.Fragment,{children:[y&&(0,ee.jsx)(q.u,{title:"Error",onCloseRequest:function(){b(null)},children:(0,ee.jsx)(Q.Z,{children:null===y||void 0===y?void 0:y.message})}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)(Hi,{activeCollectionData:m,activeWorkspace:l,onError:function(e){return b(e)}}),(0,ee.jsxs)(ee.Fragment,{children:[!!p.length&&(0,ee.jsx)("div",{className:"flex flex-col px-2 mt-2 mb-6 pb-5 relative",children:p.map((function(e){return(0,ee.jsx)(Wi,{scene:e,onlineWorkspaceUsers:h,children:(0,ee.jsx)(xe,{scene:e})},e.id)}))}),!p.length&&(0,ee.jsx)("div",{className:"text-lg text-center mt-4",children:"No scenes created yet"})]})]})]})},Gi=n(22632),Yi=n(74014),Ki=n(60754),Qi=n(46557),Xi=n(24691);function $i(e){var t=e.workspace,n=e.sceneError;return(0,ee.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center",children:[(0,ee.jsx)("div",{children:(0,ee.jsx)("img",{className:"opacity-40 w-full max-w-[250px]",src:"/images/error.svg",alt:"error"})}),(0,ee.jsx)("p",{className:"text-red-600 text-xl mt-4 text-center",children:n.message}),(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceDashboard,{workspace:t}),className:"x-reset-link mt-4",children:(0,ee.jsx)(ae.zx,{className:"min-w-[250px] font-bold text-base py-4",children:"Go back"})}),(0,ee.jsxs)("p",{className:"text-xs text-gray-60 mt-4",children:["You can always contact us at"," ",(0,ee.jsx)("a",{href:$.rK.supportEmail,className:"text-primary no-underline",children:"support@excalidraw.com"})]})]})}var Ji=n(64589),eo=n(33376),to=n(9491),no=n(46823);function ro(e){var t=e.excalidrawAPI,n=(0,Y.KO)(Ji.Y),r=(0,a.Z)(n,1)[0].theme,i=(0,Y.b9)(no.E7),o=(0,u.useState)(""),s=(0,a.Z)(o,2),c=s[0],l=s[1];return(0,u.useEffect)((function(){var e=t.onChange((function(e,t){l(t.activeTool.customType||t.activeTool.type)})),n=(0,ii.d)("c",(function(e){(0,to.s)(e.target)||t.setActiveTool({type:"custom",customType:"comment"})})),r=t.onPointerUp((function(e,n,r){if("comment"===e.customType){var o=eo.Z.viewportCoordsToSceneCoords(r,t.getAppState()),a=o.x,s=o.y;requestAnimationFrame((function(){i({x:a,y:s})}))}}));return function(){e(),n(),r()}}),[t,i]),(0,u.useEffect)((function(){if("comment"===c){var e="data:".concat(Li.MIME_TYPES.svg,",").concat(encodeURIComponent('\n          <svg\n            width="24"\n            height="24"\n            viewBox="0 0 24 24"\n            xmlns="http://www.w3.org/2000/svg"\n          >\n            <path\n              d="M5.25 18A3.25 3.25 0 0 1 2 14.75v-8.5A3.25 3.25 0 0 1 5.25 3h13.5A3.25 3.25 0 0 1 22 6.25v8.5A3.25 3.25 0 0 1 18.75 18h-5.738L8 21.75a1.25 1.25 0 0 1-1.999-1V18h-.75Zm7.264-1.5h6.236a1.75 1.75 0 0 0 1.75-1.75v-8.5a1.75 1.75 0 0 0-1.75-1.75H5.25A1.75 1.75 0 0 0 3.5 6.25v8.5c0 .966.784 1.75 1.75 1.75h2.249v3.75l5.015-3.75Z"\n              fill="'.concat("light"===r?"#000":"#fff",'"\n            />\n          </svg>\n          ')));t.setCursor("url(".concat(e,") 5 20, auto"))}}),[t,c,r]),(0,ee.jsx)("button",{className:"ToolIcon_type_button ToolIcon_size_medium ToolIcon_type_button--show ToolIcon Tooltype_icon_excalidraw_plus",type:"button",title:"Add comment \u2014 C",onClick:function(e){e.stopPropagation(),t.setActiveTool({type:"custom",customType:"comment"}),t.toggleMenu("customSidebar",!0)},style:{border:"1px solid var(--default-border-color)",width:"2.5rem",height:"2.5rem",background:"var(--island-bg-color)"},children:(0,ee.jsx)("div",{className:"ToolIcon__icon !w-full !h-full","aria-hidden":"true",children:(0,ee.jsx)(J.Uw,{className:"dark:stroke-white"})})})}var io=function(e){var t=e.children,n=(0,u.useRef)(null);return(0,u.useEffect)((function(){function e(){n.current&&(n.current.scrollTop=0,n.current.scrollLeft=0)}if(n.current){var t=n.current;return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}}),[n]),(0,ee.jsx)("div",{ref:n,className:"relative w-full h-full overflow-hidden",children:t})};function oo(){var e=(0,f.UO)(),t=e.scene,n=e.workspace,r=!(0,Or.d)(),i=(0,Y.KO)(lu),o=(0,a.Z)(i,1)[0],s=(0,Y.KO)(gi.l),c=(0,a.Z)(s,1)[0],l=(0,Br.Z)(),d=(0,Dr.Z)({isSidebarPermanent:!1}),h=d.isSidebarToggled,p=d.toggleSidebar,m=(0,Y.KO)(Vi.dM),v=(0,a.Z)(m,1)[0],g=(0,Y.KO)(uu),y=(0,a.Z)(g,1)[0];(0,Yi.J)();var b=(0,Gi.n)({workspace:n,scene:t}),w=b.isLoadingScene,x=b.activeScene,_=b.sceneError;(0,Ie.j)((null===x||void 0===x?void 0:x.name)||"Scene");var E=(0,u.useState)(!1),k=(0,a.Z)(E,2),C=k[0],S=k[1],j=(0,f.k6)(),A=(0,u.useCallback)((function(){j.push((0,f.Gn)($.Z6.workspaceCollection,{workspace:n,collection:null!==y&&void 0!==y?y:void 0}))}),[j,n,y]),T=(0,u.useCallback)((function(){S(!0)}),[]);(0,u.useEffect)((function(){var e=(0,Xi.Z)((function(){t&&l.userData&&(Mi.Z.setLastVisitedScene({scene:t,userData:l.userData}),e.cancel())}),5e3,{leading:!1});return _||w||e(),_&&!w&&t&&l.userData&&Mi.Z.removeLastScene({scene:t,userData:l.userData}),function(){e.cancel()}}),[t,l.userData,_,w]);var I=(0,u.useCallback)((function(){return v?(0,ee.jsx)(ro,{excalidrawAPI:v}):null}),[v]);return(0,ee.jsxs)(ee.Fragment,{children:[C&&x&&(0,ee.jsx)(ge,{scene:x,onClose:function(){return S(!1)}}),r&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("button",{className:(0,X.Z)("ToolIcon_type_button ToolIcon_size_medium ToolIcon_type_button--show ToolIcon Tooltype_icon_excalidraw_plus","fixed hidden sm:flex justify-center items-center z-sidebar bg-editor","top-4 left-4 cursor-pointer text-lg px-3 hover:!bg-gray-10 "),type:"button",onClick:function(){p(!h)},title:"Toggle sidebar \u2014 ` (backtick)",style:{color:"var(--color-button)",border:"1px solid var(--gray-20)",width:"2.5rem",height:"2.5rem",background:"var(--island-bg-color)",marginLeft:h?Qi.ZR:4,borderRadius:"0.5rem"},children:(0,ee.jsx)("div",{className:"!w-full !h-full flex items-center justify-center z-10","aria-hidden":"true",children:(0,ee.jsx)(J.Q3,{style:{transform:h?void 0:"scale(-1, 1)"}})})}),!h&&(0,ee.jsx)("div",{className:"fixed z-10 h-full cursor-pointer hover:!bg-gray-40 opacity-40 dark:hover:bg-[#121212]",style:{width:Qi.te},onClick:function(){p(!h)}}),(0,ee.jsxs)(je.Z,{children:[(0,ee.jsx)(qr,{activeWorkspace:o,workspaces:c}),(0,ee.jsx)(vi,{activeWorkspace:o}),h&&(0,ee.jsx)(qi,{})]})]}),(0,ee.jsxs)(Fr.jB,{className:(0,X.Z)("bg-editor relative !p-0 mt-0 !overflow-hidden",{"is-eplus-sidebarToggled":h}),withPermaSidebar:!1,children:[w&&(0,ee.jsx)(Ki.Z,{}),x&&!w&&!_&&(0,ee.jsxs)(io,{children:[(0,ee.jsx)(Gi.O,{id:x.id,name:x.name,workspace:n,isSidebarEnabled:r,onHomeButtonClick:A,onShareButtonClick:T,initialData:{elements:x.elements,appState:x.appState},renderFooter:I},x.id),v&&x&&l.userData&&(0,ee.jsx)(no.ZP,{excalidrawAPI:v,activeScene:x})]}),_&&!w&&(0,ee.jsx)($i,{workspace:n,sceneError:_})]})]})}var ao=n(90455),so=n(87197),co=n(6062),uo=function(e){var t=e.willCancelAt,n=e.workspace,r=e.afterResume,o=(0,u.useState)(),s=(0,a.Z)(o,2),l=s[0],d=s[1];if(new Date(t).getTime()<Date.now())return null;var f=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.Z.patch("/workspace/".concat(n,"/resume-subscription"));case 3:r&&r(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return l?(0,ee.jsxs)("div",{className:"text-center py-2 px-2 mt-2 mb-8 rounded-md text-lg bg-yellow",children:[(0,ee.jsx)("div",{children:l}),(0,ee.jsx)("div",{children:(0,ee.jsx)(pe.Z,{type:"link",onClick:f,children:"resume your subscription."})})]}):(0,ee.jsx)(ee.Fragment,{children:(0,ee.jsxs)("div",{className:"text-center py-2 px-2 mt-2 mb-8 rounded-md text-lg bg-yellow",children:["Your subscription is scheduled to cancel at"," ",(0,ee.jsx)("span",{title:(0,G.Z)(t,{format:"YYYY-MM-DD HH:MI"}),style:{cursor:"help"},children:(0,G.Z)(t,{format:"MM/DD/YYYY"})}),(0,ee.jsxs)("div",{className:"text-center text-sm mt-2",children:["You can"," ",(0,ee.jsx)(pe.Z,{type:"link",onClick:f,children:"resume your subscription."}),(0,ee.jsx)("br",{}),(0,ee.jsxs)("div",{className:"text-sm color-text-subtitle mt-2",children:["If you resume, you won't be charged until the next billing cycle.",(0,ee.jsx)("br",{}),"Email us at ",(0,ee.jsx)("b",{children:"support@excalidraw.com"})," if you need any help."]})]})]})})};var lo=function(e){var t=e.activeWorkspace;return(0,ee.jsxs)("div",{className:"SettingsContainer-content-body",children:[(0,ee.jsx)(co.A,{avatar:t.picture,name:t.name,renameButtonTitle:"Rename workspace",schemas:{name:ce.O.workspace.name.submitCheck(function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,so.Z.isNameAvailable({name:t});case 3:if(e.sent){e.next=6;break}throw new Error("This workspace name is already taken.");case 6:return e.abrupt("return",!0);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(500===e.t0.status?"Couldn't check workspace name availability right now. Try again later...":e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},onUpdateName:function(){var e=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.Z.patch("/workspace/".concat(t.id,"/rename"),{name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onUpdateAvatar:function(e){return he.Z.patch("/workspace/".concat(t.id,"/avatar"),e)}}),t.willCancelAt&&(0,ee.jsx)(uo,{workspace:t.id,willCancelAt:t.willCancelAt})]})},fo=n(58521);function ho(e){var t=e.invoice,n=e.renderLink,r=e.isPaymentPaused,i=t.invoiceItems,o=t.status,a=t.hosted_invoice_url,s=t.total,c=!t.status||["void","paid"].includes(t.status),u=i[0];return u?(0,ee.jsxs)("tr",{className:(0,X.Z)("border-0 border-t border-solid border-gray-20",{"line-through opacity-60":r&&!c}),children:[(0,ee.jsxs)("td",{className:"w-full max-w-0 py-4 pl-4 pr-3 text-sm font-medium text-color-text sm:w-auto sm:max-w-none sm:pl-6",children:[Ci().unix(u.period.start).format("MM/DD/YYYY")," -"," ",Ci().unix(u.period.end).format("MM/DD/YYYY"),(0,ee.jsxs)("div",{className:"font-normal md:hidden md-lg:block xl:hidden",children:["Billed ",t.type]})]}),(0,ee.jsx)("td",{className:"w-full max-w-0 py-4 pl-4 pr-3 text-sm font-medium text-color-text sm:max-w-none sm:pl-6 hidden md:table-cell md:w-[150px] md-lg:hidden xl:table-cell",children:t.type}),(0,ee.jsx)("td",{className:(0,X.Z)("max-w-0 py-4 pl-4 pr-3 text-sm font-bold sm:w-auto sm:max-w-none sm:pl-6 hidden xs:table-cell w-16",{"text-green-600":"paid"===o},{"text-red-600":"open"===o||"uncollectible"===o}),children:"open"===o||"uncollectible"===o?r?"-":"unpaid":o}),(0,ee.jsxs)("td",{className:"w-full max-w-0 py-4 pl-4 pr-3 text-right text-sm font-medium text-color-text sm:w-auto sm:max-w-none sm:pl-6",children:["$",s/100]}),(0,ee.jsx)("td",{className:"py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:(0,ee.jsx)("div",{className:"Invoices-item link w-12 ml-auto",children:!1!==n&&a&&(0,ee.jsx)("a",{href:a,rel:"noreferrer",className:"text-primary text-sm font-bold hover:text-primary-darker",target:"_blank",children:r&&!c?null:"open"===o?"Pay":"View"})})})]}):null}function po(e){var t=e.className,n=void 0===t?"":t,r=e.title,i=e.rightAligned,o=void 0!==i&&i;return(0,ee.jsx)("th",{scope:"col",className:(0,X.Z)("py-3.5 pl-4 pr-3 text-sm font-semibold text-color-text sm:pl-6",n,{"text-left":!o},{"text-right":o}),children:r})}function mo(){return(0,ee.jsx)("thead",{className:"bg-gray-10",children:(0,ee.jsxs)("tr",{children:[(0,ee.jsx)(po,{title:"Period"}),(0,ee.jsx)(po,{title:"Type",className:"hidden md:table-cell md-lg:hidden xl:table-cell"}),(0,ee.jsx)(po,{title:"Status",className:"hidden xs:table-cell"}),(0,ee.jsx)(po,{title:"Total",rightAligned:!0}),(0,ee.jsx)("th",{scope:"col",className:"py-3.5"})]})})}function vo(e){var t=e.invoice,n=e.className,r=void 0===n?"":n,i=t.invoiceItems,o=t.discount,a=i[0];return a&&a.description?(0,ee.jsxs)("div",{className:"pl-2 pt-2 text-xs ".concat(r),children:[i.map((function(e){return(0,ee.jsx)("div",{children:e.description},e.id)})),o&&(0,ee.jsxs)("p",{className:"my-3",children:["Discount: ",(0,ee.jsx)("b",{children:o.name})," (",o.percent_off,"% off","forever"===o.duration?"":o.duration_in_months?(0,ee.jsxs)(ee.Fragment,{children:[" ","for ",o.duration_in_months," month",o.duration_in_months>1?"s":""]}):"",")"]})]}):null}function go(e){var t=e.invoice,n=t.invoiceItems,r=t.hosted_invoice_url,i=t.total;return n[0]?(0,ee.jsxs)("div",{className:"flex flex-col border-red-500 p-3 bg-red-500/10 border-2 border-solid rounded mt-2",children:[(0,ee.jsxs)("div",{className:"xs:flex",children:[(0,ee.jsxs)("div",{className:"flex flex-col xs:w-2/3",children:[(0,ee.jsx)("div",{className:"text-red-600 text-xl font-bold",children:"Unpaid invoice"}),n.map((function(e){return(0,ee.jsx)("div",{className:"text-sm mt-2 font-bold",children:e.description},e.id)})),(0,ee.jsxs)("div",{className:"text-xl font-bold mt-2",children:["Total: $",i/100]})]}),(0,ee.jsx)("div",{className:"mt-3 flex xs:justify-end items-center xs:w-1/3",children:(0,ee.jsx)("a",{href:r||"",target:"_blank",rel:"noreferrer",className:"x-reset-link flex",children:(0,ee.jsx)(ae.zx,{children:"Pay now"})})})]}),(0,ee.jsxs)("div",{className:"mt-2 text-sm",children:["Make sure to settle"," ",n.length>1?"these invoices":"this invoice"," at your earliest convenience so you do not lose access. If you need help, contact us at ",(0,ee.jsx)("b",{children:"support@excalidraw.com"}),"."]})]}):null}function yo(e){var t=e.children;return(0,ee.jsx)("div",{className:"no-Invoices",children:t})}var bo=n(57114);function wo(e){var t=e.className,n=void 0===t?"":t,r=e.children;return(0,ee.jsx)("div",{className:(0,X.Z)("border border-solid border-gray-20 rounded overflow-hidden",n),children:(0,ee.jsxs)("table",{className:"min-w-full border-collapse",children:[(0,ee.jsx)(mo,{}),(0,ee.jsx)("tbody",{children:r})]})})}var xo=function(e){var t=e.activeWorkspace,n=(0,fo.Z)({endpoint:"/workspace/".concat(t.id,"/invoices")}),r=(0,a.Z)(n,4),i=r[0],o=r[1],s=r[2],c=r[3];if(o)return(0,ee.jsx)("div",{className:"Workspace-spinner",children:(0,ee.jsx)(K.Z,{})});if(s||!i)return(0,ee.jsx)("div",{className:"SettingsContainer-content-body",children:404===(null===s||void 0===s?void 0:s.status)?(0,ee.jsx)("div",{className:"info",children:"It seems there isn't any billed subscription associated with this workspace. We'll let you know in the future when one is required."}):(0,ee.jsx)(Q.Z,{children:(null===s||void 0===s?void 0:s.message)||"Couldn't load Invoices details."})});var l=i.unpaidInvoices,d=i.pastInvoices,h=i.customDraftInvoices,p=i.isBetaTester,m=i.regularInvoice,v=i.priceId,g=i.isPaymentPaused,y=(0,bo.Z)(me.T0,(function(e){return e.priceId===v}));if(!y)return(0,ee.jsx)("div",{className:"WorkspaceSettings-content-body",children:(0,ee.jsx)(Q.Z,{children:"Seems pricing plan is not set"})});var b=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),w=i.accountBalance/100;return(0,ee.jsxs)("div",{className:"SettingsContainer-content-body",children:[l.map((function(e){return(0,ee.jsx)("div",{className:"mb-3",children:!g&&(0,ee.jsx)(go,{invoice:e})},e.id)}))," ",(0,ee.jsx)("h3",{className:"text-lg my-2 font-bold",children:"Pricing"}),t.willCancelAt&&(0,ee.jsx)(uo,{workspace:t.id,willCancelAt:t.willCancelAt,afterResume:c.refetch}),p&&(0,ee.jsx)("div",{className:"Invoices-pricing",children:"You don't pay anything as a beta tester right now."}),!p&&("active"===i.subscriptionStatus||"payment_failed"===i.subscriptionStatus)&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("div",{className:"Invoices-pricing text-primary",children:["Excalidraw+ $",y.price/100," / user / month"]}),(0,ee.jsxs)("div",{className:"text-center text-xs font-bold mt-2",children:["billed ",y.billed]})]}),!p&&"trialing"===i.subscriptionStatus&&(0,ee.jsx)("div",{className:"Invoices-pricing",children:"You are currently on a trial."}),"canceled"===i.subscriptionStatus&&(0,ee.jsx)("div",{className:"Invoices-pricing",children:"Your subscription is canceled."}),"overdue"===i.subscriptionStatus&&(0,ee.jsx)("div",{className:"Invoices-pricing",children:"Your subscription is expired."}),0!==i.accountBalance&&(0,ee.jsxs)("div",{className:"mt-8",children:[(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)("div",{className:"mr-2",children:"Account balance:"}),(0,ee.jsxs)("div",{className:(0,X.Z)("flex font-bold",{"text-green-500":w<0,"text-red-400":w>0}),children:[b.format(Math.abs(w)),(0,ee.jsx)("div",{className:"ml-1",children:w<0?"(credit)":"(debit)"})]})]}),(0,ee.jsxs)("div",{className:"text-xs text-gray-60 mt-1",children:["(Account balance will be applied on future invoices."," ",w<0&&"Credit (green) usually comes from unused time when switching plans.",")"]})]}),g&&(0,ee.jsxs)("div",{className:"flex flex-col items-center my-8 mx-auto text-orange-700",children:[(0,ee.jsxs)("div",{className:"flex items-center ",children:[(0,ee.jsx)(J.sz,{className:"mr-2"})," Note: the payment collection is paused."]})," ",(0,ee.jsx)("div",{className:"text-sm",children:"No action needed on your part."})]}),(0,ee.jsx)("h3",{className:"mt-8 text-lg my-2 font-bold",children:"Upcoming invoices"}),(0,ee.jsxs)("div",{children:[m&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)(wo,{children:[(0,ee.jsx)(ho,{invoice:m,renderLink:!1,isPaymentPaused:g}),!!h.length&&h.map((function(e){return(0,ee.jsxs)(u.Fragment,{children:[(0,ee.jsx)(ho,{invoice:e,renderLink:!1,isPaymentPaused:g}),(0,ee.jsx)("tr",{className:"relative h-8",children:(0,ee.jsx)("td",{colSpan:10,className:"",children:(0,ee.jsx)(vo,{invoice:e,className:"!p-0 !pb-2 flex flex-col items-center"})})})]},e.id)}))]}),(0,ee.jsx)(vo,{invoice:m})]}),!m&&!h.length&&(0,ee.jsx)(yo,{children:"No upcoming invoices"})]}),(0,ee.jsxs)("div",{className:"Invoices-additional-info",children:["You can set company and VAT in invoice at"," ",(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceBilling,{workspace:t.id}),children:"Billing information"})]}),!!l.length&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("h3",{className:"mt-8 text-lg my-2 font-bold",children:"Past due invoices"}),(0,ee.jsx)(wo,{children:l.map((function(e){return(0,ee.jsx)(ho,{invoice:e,isPaymentPaused:g},e.id)}))})]}),(0,ee.jsx)("h3",{className:"mt-8 text-lg my-2 font-bold",children:"Past invoices"}),(0,ee.jsx)("div",{children:d.length?(0,ee.jsx)(wo,{children:d.map((function(e){return(0,ee.jsx)(ho,{invoice:e,isPaymentPaused:g},e.id)}))}):(0,ee.jsx)(yo,{children:"No invoices"})}),(0,ee.jsxs)("div",{className:"text-center mt-20",children:["If you need help, contact us at ",(0,ee.jsx)("b",{children:"support@excalidraw.com"})]}),!1]})},_o=n(81171),Eo=n(83238),ko=n(91655),Co=function(e){var t=e.endpoint,n=e.reducer,r=e.payload,o=(0,u.useReducer)((function(e,t){switch(t.type){case"remove":return null;case"replace":return t.data;case"merge":return(0,Eo.Z)({},e,t.data);default:if((0,ko.Z)(n))return n(e,t);throw new Error('Action type "'.concat(t.type,'" does not exist'))}}),null),s=(0,a.Z)(o,2),l=s[0],d=s[1],f=(0,u.useState)(!0),h=(0,a.Z)(f,2),p=h[0],m=h[1],v=(0,u.useState)(null),g=(0,a.Z)(v,2),y=g[0],b=g[1];return(0,u.useEffect)((function(){function e(){return(e=(0,i.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,he.Z.get(t,r);case 4:n=e.sent,d({type:"replace",data:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b(e.t0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,r]),[l,p,y,{replace:function(e){return d({type:"replace",data:e})},merge:function(e){return d({type:"merge",data:e})},remove:function(){return d({type:"remove"})}}]},So=n(91483),jo=n(30127),Ao=n(18346);var To=function(e,t){var n={};return t=(0,Ao.Z)(t,3),(0,jo.Z)(e,(function(e,r,i){(0,So.Z)(n,r,t(e,r,i))})),n},Io=function(){var e=(0,u.useState)(!1),t=(0,a.Z)(e,2),n=t[0],r=t[1];return(0,u.useEffect)((function(){if(n)return(0,ii.d)("Escape",(function(){return r(!1)}))}),[n]),[n,r]},Oo=function(e){if(e)return e=e.toLowerCase(),_o.o.find((function(t){return t.cca2===e}))},Do=function(){return(0,ee.jsx)("span",{style:{fontWeight:"normal"},children:"not set"})};function No(e){var t,n=e.address,r=e.activeWorkspace,s=e.billingActions,l=Io(),d=(0,a.Z)(l,2),f=d[0],h=d[1],p=(0,u.useState)(null),m=(0,a.Z)(p,2),v=m[0],g=m[1],y=(0,se.Z)({validationSchema:ce.O.address,defaultValues:(0,o.Z)((0,o.Z)({},To(n,(function(e){return e||""}))),{},{country:(null===n||void 0===n||null===(t=n.country)||void 0===t?void 0:t.toLowerCase())||""})}),b=function(){var e=(0,i.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.Z.patch("/workspace/".concat(r.id,"/invoice-address"),t);case 3:n=e.sent,s.merge({address:n.address}),h(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),g(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w=_o.o.reduce((function(e,t){return e.push({value:t.cca2,label:t.name}),e}),[]);if(f)return(0,ee.jsxs)(oe.l0,{onSubmit:b,formHook:y,children:[(0,ee.jsx)(oe.Ph,{options:w,label:"Country",name:"country"}),(0,ee.jsx)(oe.II,{name:"state",label:"State/Province"}),(0,ee.jsxs)(oe.p7,{children:[(0,ee.jsx)(oe.II,{name:"city",label:"City"}),(0,ee.jsx)(oe.II,{name:"line1",label:"Street address"})]}),(0,ee.jsxs)(oe.p7,{children:[(0,ee.jsx)(oe.II,{name:"line2",label:"Suite / Unit"}),(0,ee.jsx)(oe.II,{name:"postal_code",label:"Postal code"})]}),(0,ee.jsxs)(oe.p7,{className:"items-center",children:[(0,ee.jsx)(oe.Mm,{className:"!h-10 w-full xs:w-auto mt-3 sm:mt-0",children:"Update"}),(0,ee.jsx)(pe.Z,{className:"justify-center !h-10 w-full xs:w-auto mt-3 sm:mt-0",type:"link",onClick:function(){return h(!1)},children:"Cancel"})]}),v&&(0,ee.jsx)(Q.Z,{children:v.message})]});var x=Oo(null===n||void 0===n?void 0:n.country);return(0,ee.jsxs)("div",{className:"Billing-address",children:[(0,ee.jsxs)("div",{className:"row",children:[(0,ee.jsx)("h3",{className:"text-lg my-2 font-bold",children:"Billing address"}),(0,ee.jsx)(pe.Z,{className:"Billing-address-edit text-sm",type:"link",onClick:function(){h(!0)},children:"Edit"})]}),(0,ee.jsxs)("div",{className:"row",children:["Country: ",(0,ee.jsx)("span",{children:(null===x||void 0===x?void 0:x.name)||(0,ee.jsx)(Do,{})})]}),(0,ee.jsxs)("div",{className:"row",children:["State/Province: ",(0,ee.jsx)("span",{children:(null===n||void 0===n?void 0:n.state)||(0,ee.jsx)(Do,{})})]}),(0,ee.jsxs)("div",{className:"row",children:["City: ",(0,ee.jsx)("span",{children:(null===n||void 0===n?void 0:n.city)||(0,ee.jsx)(Do,{})})]}),(0,ee.jsxs)("div",{className:"row",children:["Street address: ",(0,ee.jsx)("span",{children:(null===n||void 0===n?void 0:n.line1)||(0,ee.jsx)(Do,{})})]}),(0,ee.jsxs)("div",{className:"row",children:["Suite / Unit: ",(0,ee.jsx)("span",{children:(null===n||void 0===n?void 0:n.line2)||(0,ee.jsx)(Do,{})})]}),(0,ee.jsxs)("div",{className:"row",children:["Postal code: ",(0,ee.jsx)("span",{children:(null===n||void 0===n?void 0:n.postal_code)||(0,ee.jsx)(Do,{})})]})]})}function Po(e){var t=e.currentBillingEmail,n=e.activeWorkspace,r=e.billingActions,o=Io(),s=(0,a.Z)(o,2),u=s[0],l=s[1],d=(0,se.Z)({validationSchema:{billingEmail:ce.O.email},defaultValues:{billingEmail:t||""}});function f(){return(f=(0,i.Z)(c().mark((function e(i){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.billingEmail,e.prev=1,t===o){e.next=5;break}return e.next=5,he.Z.patch("/workspace/".concat(n.id,"/billing-email"),{billingEmail:o});case 5:l(!1),r.merge({email:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),d.setError("billingEmail",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return u?(0,ee.jsxs)(oe.l0,{onSubmit:function(e){return f.apply(this,arguments)},formHook:d,children:[(0,ee.jsx)(oe.II,{name:"billingEmail"}),(0,ee.jsxs)(oe.p7,{className:"items-center mt-3",children:[(0,ee.jsx)(oe.Mm,{className:"!h-10 w-full xs:w-auto mt-3 sm:mt-0",children:"Save"}),(0,ee.jsx)(pe.Z,{className:"justify-center !h-10 w-full xs:w-auto mt-3 sm:mt-0",type:"link",onClick:function(){l(!1)},children:"Cancel"})]})]}):(0,ee.jsxs)("div",{className:"Billing-one-line",children:[(0,ee.jsxs)("div",{className:"flex items-center",children:["Invoices are being sent to:"," ",(0,ee.jsx)("b",{children:t||"unavailable"})]}),(0,ee.jsx)(pe.Z,{className:"!h-10",type:"link",onClick:function(){l(!0)},children:"Edit"})]})}function Mo(e){var t=e.currentVatId,r=e.country,o=e.activeWorkspace,s=e.billingActions,l=Io(),d=(0,a.Z)(l,2),f=d[0],h=d[1],p=(0,se.Z)({validationSchema:{vat_id:ce.O.VAT_ID},defaultValues:{vatId:t||""}});function m(){return(m=(0,i.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.vatId,e.prev=1,t===r||!r){e.next=6;break}return e.next=5,he.Z.patch("/workspace/".concat(o.id,"/vat-id"),{vatId:r});case 5:s.merge({vatId:r});case 6:h(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),p.setError("vatId",e.t0),s.merge({vatId:null});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var v=(0,u.useState)(""),g=(0,a.Z)(v,2),y=g[0],b=g[1];return(0,u.useEffect)((function(){(0,i.Z)(c().mark((function e(){var t,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.e(49).then(n.bind(n,6049));case 4:t=e.sent.default,(i=t.getMap().filter((function(e){return e.country.toLowerCase()===r.toLowerCase()})))&&(a=null===(o=Oo(r))||void 0===o?void 0:o.name,b("example".concat(a?" for ".concat(a):"",": ").concat(i.map((function(e){return e.example})).join(" or "))));case 7:case"end":return e.stop()}}),e)})))()}),[r]),f?r?(0,ee.jsxs)(oe.l0,{onSubmit:function(e){return m.apply(this,arguments)},formHook:p,children:[(0,ee.jsx)(oe.II,{name:"vatId",placeholder:y,subtitle:(0,ee.jsxs)(ee.Fragment,{children:["Note that the tax id is case-sensitive.",(0,ee.jsx)("br",{}),"Not all country tax ids are currently supported by our payment processor,"," ",(0,ee.jsx)("a",{href:"https://stripe.com",target:"_blank",rel:"noreferrer",children:"Stripe"}),"."]})}),(0,ee.jsxs)(oe.p7,{className:"items-center mt-3",children:[(0,ee.jsx)(oe.Mm,{className:"!h-10 w-full xs:w-auto mt-3 sm:mt-0",children:"Save"}),(0,ee.jsx)(pe.Z,{className:"justify-center !h-10 w-full xs:w-auto mt-3 sm:mt-0",type:"link",onClick:function(){h(!1)},children:"Cancel"})]})]}):(0,ee.jsx)(oe.p7,{children:(0,ee.jsx)(Q.Z,{children:"Before you can set tax id, make sure you set your country in Billing address above."})}):(0,ee.jsxs)("div",{className:"Billing-one-line",children:[(0,ee.jsx)("div",{className:"flex items-center",children:t?(0,ee.jsxs)("span",{children:["Current VAT id is set to: ",(0,ee.jsx)("b",{children:t})," "]}):"No vat id set"}),(0,ee.jsx)(pe.Z,{className:"!h-10",type:"link",onClick:function(){h(!0)},children:"Edit"})]})}function Lo(e){var t=e.currentCompanyName,n=e.activeWorkspace,r=e.billingActions,o=Io(),s=(0,a.Z)(o,2),u=s[0],l=s[1],d=(0,se.Z)({validationSchema:{name:ce.O.companyName},defaultValues:{name:t||""}});function f(){return(f=(0,i.Z)(c().mark((function e(i){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.name,e.prev=1,t===o){e.next=6;break}return e.next=5,he.Z.patch("/workspace/".concat(n.id,"/company-name"),{name:o||""});case 5:r.merge({name:o});case 6:l(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),d.setError("name",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return u?(0,ee.jsxs)(oe.l0,{onSubmit:function(e){return f.apply(this,arguments)},formHook:d,children:[(0,ee.jsx)(oe.II,{name:"name"}),(0,ee.jsxs)(oe.p7,{className:"items-center mt-3",children:[(0,ee.jsx)(oe.Mm,{className:"!h-10 w-full xs:w-auto mt-3 sm:mt-0",children:"Save"}),(0,ee.jsx)(pe.Z,{className:"justify-center !h-10 w-full xs:w-auto mt-3 sm:mt-0",type:"link",onClick:function(){l(!1)},children:"Cancel"})]})]}):(0,ee.jsxs)("div",{className:"Billing-one-line",children:[(0,ee.jsx)("div",{className:"flex items-center mt-3",children:(0,ee.jsx)("b",{children:t||"Not set"})}),(0,ee.jsx)(pe.Z,{type:"link",onClick:function(){l(!0)},children:"Edit"})]})}var Ro=function(e){var t,n=e.activeWorkspace,r=Co({endpoint:"/workspace/".concat(n.id,"/billing")}),i=(0,a.Z)(r,4),o=i[0],s=i[1],c=i[2],u=i[3];return s?(0,ee.jsx)("div",{className:"Workspace-spinner",children:(0,ee.jsx)(K.Z,{})}):c||!o||o.deleted?(0,ee.jsx)("div",{className:"SettingsContainer-content-body",children:404===(null===c||void 0===c?void 0:c.status)?(0,ee.jsx)("div",{className:"info",children:"It seems there isn't any billed subscription associated with this workspace. We'll let you know in the future when one is required."}):(0,ee.jsx)(Q.Z,{children:(null===c||void 0===c?void 0:c.message)||"Couldn't load Invoices details."})}):(0,ee.jsxs)("div",{className:"SettingsContainer-content-body",children:[n.willCancelAt&&(0,ee.jsx)(uo,{workspace:n.id,willCancelAt:n.willCancelAt}),(0,ee.jsx)("h2",{className:"text-xl font-bold my-3",children:"Billing email"}),(0,ee.jsx)(Po,{currentBillingEmail:o.email,activeWorkspace:n,billingActions:u}),(0,ee.jsx)("h2",{className:"text-xl font-bold my-3",children:"Billing details"}),(0,ee.jsx)("p",{className:"text-sm",children:"Information below will be added to all future invoices."}),(0,ee.jsx)("h3",{className:"text-lg my-2 font-bold",children:"Company name"}),(0,ee.jsx)(Lo,{currentCompanyName:o.name,activeWorkspace:n,billingActions:u}),(0,ee.jsx)(No,{address:o.address,activeWorkspace:n,billingActions:u}),(0,ee.jsx)("h3",{className:"text-lg my-2 font-bold",children:"TAX ID"}),(0,ee.jsx)(Mo,{currentVatId:o.vatId,country:null===(t=o.address)||void 0===t?void 0:t.country,activeWorkspace:n,billingActions:u}),(0,ee.jsxs)("p",{className:"color-text-subtitle text-sm text-center mt-5 sm:mt-16",children:["If you have any questions or need help, reach out to us at"," ",(0,ee.jsx)("a",{href:"mailto:support@excalidraw.com",children:"support@excalidraw.com"})]})]})},Zo=n(31904),Fo=n(54778),Uo=n(72917),zo=n(83209),Bo=function(e){var t=e.children,n=e.checked,r=e.disabled,i=void 0!==r&&r,o=e.onChange,a=e.className,s=e.tooltip,c=(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":n,"aria-disabled":i,disabled:i,children:(0,ee.jsx)(J.nQ,{})}),(0,ee.jsx)("div",{className:"Checkbox-label",children:t})]});return(0,ee.jsx)("div",{className:(0,X.Z)("Checkbox",{"is-checked":n,"is-disabled":i},a),onClick:function(e){i||(o(!n),e.currentTarget.querySelector(".Checkbox-box").focus())},children:s?(0,ee.jsx)(zo.u,{size:"auto",label:s,children:c}):c})},Vo=n(92128),Wo=n.n(Vo),Ho=n(62787),qo=n(16089);function Go(e){var t=e.user,n=e.displayLastActive,r=e.activeWorkspace,i=e.authedClaims,o=e.authedUser,s=e.setOpenModal,c=e.deleteUser,u=!!t.lastActive&&Ci()(t.lastActive).isToday(),l=(0,zr.D$)(r.roles,t.id),d=(0,Ho.Z)(t.email,{successDuration:1e3}),f=(0,a.Z)(d,2),h=f[0],p=f[1];return(0,ee.jsxs)("li",{className:"flex flex-col col-span-1 rounded-lg shadow border border-solid border-gray-10 dark:border-gray-20 relative min-w-0",children:[(0,ee.jsx)("div",{className:"flex-1 border-0 border-b border-solid border-gray-10 dark:border-gray-20",children:(0,ee.jsxs)("div",{className:(0,X.Z)("w-full flex items-start justify-between p-4 space-x-6 sm:space-x-4 box-border text-sm","group","xs:p-6","sm:p-4 sm:space-x-4","md:p-6 md:space-x-6",{"line-through":t.deleted}),children:[(0,ee.jsx)("img",{className:(0,X.Z)("w-8 h-8 rounded-full flex-shrink-0","xs:w-10 xs:h-10","sm:w-8 sm:h-8","md:w-10 md:h-10"),src:t.picture||(0,Pe.Zd)({name:t.name}||"/default_avatar.jpg"),alt:t.name,referrerPolicy:"no-referrer"}),(0,ee.jsxs)("div",{className:"flex-1 truncate",children:[(0,ee.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ee.jsx)("div",{className:"text-color-text text-sm font-medium truncate",children:t.name}),(0,ee.jsx)(qo.Z,{color:"admin"===l?"green":"neutral",children:l})]}),(0,ee.jsxs)("div",{className:"mt-1",children:[i&&r.isAdmin&&(0,ee.jsxs)("div",{className:"flex items-center relative",children:[t.id===i.id&&(null===o||void 0===o?void 0:o.email)&&(null===o||void 0===o?void 0:o.email)!==t.email&&(0,ee.jsx)(zo.u,{className:"flex-shrink-0 mr-1",label:"(signed in as: ".concat(null===o||void 0===o?void 0:o.email,")"),children:(0,ee.jsx)(J.tB,{})}),(0,ee.jsxs)("div",{className:"text-gray-60 text-sm truncate email",children:[t.email," ",h&&(0,ee.jsx)("span",{className:"ml-4 text-green-500 animate-bounce font-bold text-xs",children:"Copied!"})]}),(0,ee.jsx)(J.TI,{className:"button-icon absolute right-0 bg-default hidden group-hover:block w-6 h-6",onClick:p})]}),n&&t.lastActive&&(0,ee.jsxs)("div",{className:"mt-2 text-xs text-gray-60",children:["Last active: ",u?"today":(0,G.Z)(t.lastActive)]})]})]})]})}),(0,ee.jsx)("div",{children:(0,ee.jsx)("div",{children:(0,ee.jsxs)("div",{className:"-mt-px flex",children:[(0,ee.jsx)("div",{className:"w-0 flex-1 flex border-0 border-r border-solid border-gray-10 dark:border-gray-20",children:(0,ee.jsx)("button",{disabled:t.deleted||!r.isAdmin||(null===i||void 0===i?void 0:i.id)===t.id,onClick:function(){return s({type:"updateMember",target:{type:"user",data:t}})},className:(0,X.Z)("relative","bg-transparent","text-sm text-gray-60 font-medium","w-0 flex-1 inline-flex items-center justify-center hover:text-primary active:text-primary-darker","px-0 my-0 py-2 -mr-px","xs:py-4","sm:py-2","md:py-4","disabled:opacity-25"),children:(0,ee.jsx)(J.dY,{className:"w-5 h-5"})})}),(0,ee.jsx)("div",{className:"-ml-px w-0 flex-1 flex",children:(0,ee.jsx)("button",{disabled:t.deleted||!r.isAdmin||(null===i||void 0===i?void 0:i.id)===t.id,onClick:function(){return c(t)},className:(0,X.Z)("relative","bg-transparent","text-sm text-gray-60 font-medium hover:text-primary active:text-primary-darker","w-0 flex-1 inline-flex items-center justify-center","px-0 my-0 py-2 -mr-px","xs:py-4","sm:py-2","md:py-4","disabled:opacity-25"),children:(0,ee.jsx)(J.XH,{className:"w-5 h-5"})})})]})})})]})}Ci().extend(ji()),Ci().extend(Wo());var Yo=function(e){e.target.select()};function Ko(e){var t=e.invite,n=e.activeWorkspace,r=e.setOpenModal,i=e.deleteInvite,o="".concat(window.location.origin,"/redeem/").concat(n.id,"/").concat(t.id),s=(0,Ho.Z)(o,{successDuration:1e3}),c=(0,a.Z)(s,2),u=c[0],l=c[1];return(0,ee.jsxs)("li",{className:(0,X.Z)("border-0 border-b border-solid border-gray-10 dark:border-gray-20 p-4 text-sm",{"line-through":t.deleted}),children:[(0,ee.jsxs)("div",{className:"grid grid-cols-2 xs:grid-cols-4",children:[(0,ee.jsxs)("div",{className:"flex xs:col-span-3 xs:border xs:border-solid border-gray-30 xs:bg-gray-10 rounded-md",children:[(0,ee.jsxs)(pe.Z,{disabled:t.deleted,size:"small",className:"!shadow-none !rounded-l-md !rounded-r-md xs:!rounded-r-none !-my-px !-ml-px z-10 !px-4",onClick:l,children:[(0,ee.jsx)(J.xP,{className:"mr-1"}),"Copy invite link"]}),(0,ee.jsx)("input",{className:"!bg-gray-10 !shadow-none !rounded-r-md !rounded-l-none !w-full !px-6 !hidden xs:!inline-block",readOnly:!0,value:"".concat(window.location.origin,"/redeem/").concat(n.id,"/").concat(t.id),onClick:Yo})]}),(0,ee.jsxs)("div",{className:"col-span-1 ml-auto",children:[u&&(0,ee.jsx)("span",{className:"flex-shrink-0 mr-6 inline-block text-green-500 animate-bounce font-bold text-xs",children:"Copied!"}),(0,ee.jsx)(qo.Z,{color:"admin"===t.role?"green":"neutral",children:t.role})]})]}),(0,ee.jsxs)("div",{className:"grid grid-cols-2 mt-2",children:[(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)(zo.u,{label:"How many times the invite has been redeemed out of the max limit",children:(0,ee.jsx)(J.by,{className:"mr-1 cursor-pointer"})}),(0,ee.jsx)("span",{children:"Uses:"}),(0,ee.jsx)("span",{className:"ml-1",children:"".concat(t.uses,"/").concat("unlimited"===t.maxUses?"\u221e":t.maxUses)})]}),(0,ee.jsxs)("div",{className:"flex gap-x-4 ml-auto",children:[(0,ee.jsx)(ae.hU,{disabled:t.deleted||!n.isAdmin,className:"text-sm text-gray-60 font-medium disabled:opacity-25",onClick:function(){return r({type:"updateMember",target:{type:"link"===t.type?"invite_link":"invite",data:t}})},children:(0,ee.jsx)(J.dY,{className:"w-5 h-5"})}),(0,ee.jsx)(ae.hU,{disabled:t.deleted||!n.isAdmin,className:"text-sm text-gray-60 font-medium disabled:opacity-25",onClick:function(){return i(t,n.id)},children:(0,ee.jsx)(J.XH,{className:"w-5 h-5"})})]})]})]})}function Qo(e){var t=e.invite,n=e.activeWorkspace,r=e.setOpenModal,i=e.deleteInvite;return(0,ee.jsx)("li",{className:(0,X.Z)("border-0 border-b border-solid border-gray-10 dark:border-gray-20 p-4 text-sm",{"line-through":t.deleted}),children:(0,ee.jsxs)("div",{className:"flex gap-x-6 justify-between",children:[(0,ee.jsxs)("div",{className:"flex gap-x-2 flex-1 items-center min-w-0",children:[(0,ee.jsx)(J.bV,{className:"w-5 h-5 text-gray-50 mr-1 hidden xs:block"}),(0,ee.jsx)("span",{className:"truncate",children:"email"===t.type?t.email:"N/A"}),(0,ee.jsx)("div",{children:(0,ee.jsx)(qo.Z,{color:"admin"===t.role?"green":"neutral",children:t.role})})]}),(0,ee.jsxs)("div",{className:"flex gap-x-4",children:[(0,ee.jsx)("button",{disabled:t.deleted||!n.isAdmin,className:"!p-0 !m-0 !bg-transparent text-sm text-gray-60 font-medium disabled:opacity-25",onClick:function(){return r({type:"updateMember",target:{type:"invite",data:t}})},children:(0,ee.jsx)(J.dY,{className:"w-5 h-5"})}),(0,ee.jsx)("button",{disabled:t.deleted||!n.isAdmin,className:"!p-0 !m-0 !bg-transparent text-sm text-gray-60 font-medium disabled:opacity-25",onClick:function(){return i(t,n.id)},children:(0,ee.jsx)(J.XH,{className:"w-5 h-5"})})]})]})})}function Xo(){return(0,ee.jsx)("div",{className:"rounded-md bg-blue-50 p-4 mb-8",children:(0,ee.jsxs)("div",{className:"flex",children:[(0,ee.jsx)("div",{className:"flex-shrink-0",children:(0,ee.jsx)(J.sz,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),(0,ee.jsxs)("div",{className:"ml-3",children:[(0,ee.jsx)("span",{className:"text-sm font-bold text-blue-800",children:"Keep your workspace maintained"}),(0,ee.jsx)("div",{className:"mt-2 text-sm text-blue-700",children:(0,ee.jsxs)("p",{className:"my-0",children:["You're the sole administrator of this workspace. Should you lose access, become inactive, or leave for any other reason, your teammates will be unable to manage this workspace. This includes inviting new members, paying invoices, setting up teams, etc. Consider giving"," ",(0,ee.jsx)("span",{className:"font-bold",children:"admin privileges"})," to some of your teammates in order to ensure the uninterrupted and smooth operation of this workspace."]})})]})]})})}var $o=new RegExp("([".concat("\\w\\u00C0-\\u1FFF\\u2C00-\\uD7FF","]+)"),"g"),Jo=function(e){var t=e.items,n=e.keys,r=e.render,i=e.placeholder,o=e.emptyItemsText,s=e.maxHeight,c=void 0===s?260:s,l=e.customResultsContainer,d=e.inputClassNames,f=e.itemsThreshold,h=void 0===f?8:f,p=(0,u.useState)(""),m=(0,a.Z)(p,2),v=m[0],g=m[1],y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["name"],n=arguments.length>2?arguments[2]:void 0;if(!n.trim())return e;var r=(n.trim().match($o)||[]).join(".*?");if(!r)return e;var i=new RegExp(r,"i");return e.filter((function(e){return t.some((function(t){var n=e[t];return void 0===n||i.test(n)}))}))}(t,n,v),b=(0,u.useRef)(null),w=(0,u.useState)(0),x=(0,a.Z)(w,2),_=x[0],E=x[1];(0,u.useEffect)((function(){b.current&&E(b.current.offsetHeight)}),[]);var k=y.length?y.map((function(e){return r(e)})):t.length?(0,ee.jsx)("div",{className:"color-text-subtitle",children:"No match"}):o;return(0,ee.jsxs)(ee.Fragment,{children:[t.length>h&&(0,ee.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ee.jsx)("input",{type:"text",className:d,placeholder:i,value:v,onChange:function(e){g(e.target.value)}}),v.trim()&&(0,ee.jsx)(pe.Z,{type:"icon",style:{margin:0,marginLeft:"0.6em"},onClick:function(){g("")},children:(0,ee.jsx)(J.X1,{})})]}),l?(0,ee.jsx)(l,{children:k}):(0,ee.jsx)("div",{className:"scrollbar-sm",style:{minHeight:_,maxHeight:c,overflowY:"auto"},ref:b,children:k})]})},ea=function(e){var t=(0,u.useState)(""),n=(0,a.Z)(t,2),r=n[0],s=n[1],l=(0,u.useState)("member"),d=(0,a.Z)(l,2),f=d[0],h=d[1],m=(0,u.useState)(null),v=(0,a.Z)(m,2),g=v[0],y=v[1],b=(0,u.useState)(null),w=(0,a.Z)(b,2),x=w[0],_=w[1],E=(0,u.useState)(!1),k=(0,a.Z)(E,2),C=k[0],S=k[1],j=function(){var t=(0,i.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return _(new Error("You must supply an email to send the invitation to.")),t.abrupt("return");case 3:if(/^.+@.*\..*$/.test(r)){t.next=6;break}return _(new Error("Supplied email doesn't seem valid.")),t.abrupt("return");case 6:return t.prev=6,S(!0),_(null),n={workspace:e.workspace,role:f},p.ZP.event({category:"workspaceInvite",action:"invite",label:"email"}),Ui.Z.trackEvent("workspace",{action:"invite",label:"email"}),t.next=14,e.onSubmit((0,o.Z)((0,o.Z)({},n),{},{type:"email",email:r}));case 14:e.onClose(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),y(t.t0);case 20:case"end":return t.stop()}}),t,null,[[6,17]])})));return function(){return t.apply(this,arguments)}}();return(0,ee.jsx)(q.u,{title:"Invite user",onCloseRequest:e.onClose,children:g?(0,ee.jsx)("p",{className:"my-3",children:g.message}):(0,ee.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",alignItems:"center",rowGap:".6em"},children:[(0,ee.jsx)("span",{style:{fontWeight:"bold",marginRight:"1rem",gridColumn:"1"},children:"Email"}),(0,ee.jsx)("input",{type:"text",placeholder:"User's email",value:r,onChange:function(e){return s(e.target.value.trim())},onKeyDown:function(e){"Enter"===e.key&&j()},style:{width:"100%",gridColumn:"span 5"}}),x&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("span",{style:{gridColumn:"1"}}),(0,ee.jsx)("span",{style:{color:"red",width:"100%",gridColumn:"span 5"},children:x.message})]}),(0,ee.jsx)(ra,{onChange:h,value:f,labelStyle:{gridColumn:"span 1"},workspace:e.workspace}),(0,ee.jsx)(ta,{}),(0,ee.jsx)(ae.zx,{onClick:j,disabled:C,children:"Invite"})]})})},ta=function(){return(0,ee.jsx)("div",{className:"mt-4",style:{gridColumn:"span 6"}})},na=function(e){var t=e.value,n=e.onChange;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("span",{style:{fontWeight:"bold",marginRight:"1rem",gridColumn:"span 2"},children:"Max uses"}),(0,ee.jsx)(Zo.Z,{options:me.x6,style:{gridColumn:"span 4",marginRight:"auto"},value:t,onChange:function(e){n(e)}}),(0,ee.jsx)("div",{style:{gridColumn:"span 6"},className:"text-sm",children:"unlimited"===t?"Invite link will stay redeemable until you delete it.":t>1?"The invite link will be redeemable at most ".concat(t," times, and\n        will be disabled afterwards."):"The invite link will be reedemable only once, and will be disabled afterwards."})]})},ra=function(e){var t=e.value,n=e.onChange,r=e.labelStyle,i=e.workspace;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("span",{style:(0,o.Z)({fontWeight:"bold",marginRight:"1rem",gridColumn:"span 2"},r),children:"Role"}),(0,ee.jsx)(Zo.Z,{options:me.f7.map((function(e){return{value:e,label:e}})),style:{gridColumn:"span 4",marginRight:"auto"},value:t,onChange:function(e){n(e)}}),(0,ee.jsx)("div",{style:{gridColumn:"span 6"},className:"text-sm",children:"admin"===t?"Admins can add/remove workspace users, and manage subscription/billing. More granular permissions coming soon.":"member"===t?(0,ee.jsxs)(ee.Fragment,{children:["Members can add/remove collections, and access and edit scenes within (",(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceTeams,{workspace:i}),children:"Workspace Teams"})," ","rules may apply)."]}):""})]})},ia=function(e){var t=e.restrictedDomains,n=(0,Br.Z)().userData,r=(0,u.useState)((function(){var e="",r=!1;if(t)e=t.join(", "),r=!0;else{var i=null===n||void 0===n?void 0:n.email;if(i){var o,a=null===(o=i.match(/@(.*)$/))||void 0===o?void 0:o[1];a&&(e=a)}}return{restrict:r,value:e}})),i=(0,a.Z)(r,2),s=i[0],c=i[1],l=function(e){var t=e.split(/[, ]+/).map((function(e){return e.trim().replace(/@/g,"")})).filter(Boolean);return t.length?t:null}(s.value),d=(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(ta,{}),(0,ee.jsx)("span",{className:"font-bold col-span-6",children:"Email domain"}),(0,ee.jsx)(Bo,{className:"pt-1 pb-1 col-span-6",checked:s.restrict,onChange:function(){return c((function(e){return(0,o.Z)((0,o.Z)({},e),{},{restrict:!e.restrict})}))},children:"Restrict to a specific email domain"}),s.restrict&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("div",{className:"col-span-6 ml-4 mb-1 text-sm flex flex-col",children:[(0,ee.jsx)("div",{children:"Write out the allowed domain(s) when users reedem the invite. Separate with comma/space for multiple domains."}),(0,ee.jsx)("div",{className:"mt-2",children:"The domain(s) will be shown to users when redeeming as a hint."}),(0,ee.jsx)("div",{className:"mt-2",children:"We have pre-filled with your own email domain, but you can use whatever you want."})]}),(0,ee.jsx)("input",{className:"ml-4 col-span-6",value:s.value,placeholder:"Email domain",onChange:function(e){c((function(t){return(0,o.Z)((0,o.Z)({},t),{},{value:e.target.value})}))}}),l&&(0,ee.jsx)("div",{className:"col-span-6 ml-4 mb-1 text-sm flex flex-col",children:(0,ee.jsxs)("div",{children:["Only users with an email address on these domains will be able to redeem:"," ",l.map((function(e,t,n){return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("b",{className:"ml-1",children:["***@",e]},e),t<n.length-1?", ":""]})}))]})})]})]});return[s.restrict?l:null,d]},oa=function(e){var t=(0,u.useState)("member"),n=(0,a.Z)(t,2),r=n[0],o=n[1],s=(0,u.useState)(1),l=(0,a.Z)(s,2),d=l[0],f=l[1],h=(0,u.useState)(null),m=(0,a.Z)(h,2),v=m[0],g=m[1],y=(0,u.useState)(!1),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=ia({restrictedDomains:null}),E=(0,a.Z)(_,2),k=E[0],C=E[1],S=function(){var t=(0,i.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,e.onSubmit({role:r,maxUses:d,workspace:e.workspace,restrictedDomains:k,type:"link"});case 4:p.ZP.event({category:"workspaceInvite",action:"invite",label:"link"}),Ui.Z.trackEvent("workspace",{action:"invite",label:"link"}),e.onClose(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),g(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return(0,ee.jsx)(q.u,{title:"Create invite link",onCloseRequest:e.onClose,children:v?(0,ee.jsx)("p",{className:"my-3",children:v.message}):(0,ee.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",alignItems:"center",rowGap:".6em"},children:[(0,ee.jsx)(ra,{onChange:o,value:r,workspace:e.workspace}),(0,ee.jsx)(ta,{}),(0,ee.jsx)(na,{onChange:f,value:d}),C,(0,ee.jsx)(ae.zx,{onClick:S,disabled:w,children:"Create"})]})})},aa=function(e){var t=(0,u.useState)(e.target.data.role),n=(0,a.Z)(t,2),r=n[0],o=n[1],s=(0,u.useState)("invite_link"===e.target.type?e.target.data.maxUses:1),l=(0,a.Z)(s,2),d=l[0],f=l[1],h=ia({restrictedDomains:"invite_link"===e.target.type?e.target.data.restrictedDomains:null}),p=(0,a.Z)(h,2),m=p[0],v=p[1],g=(0,u.useState)(null),y=(0,a.Z)(g,2),b=y[0],w=y[1],x=function(){var t=(0,i.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.onSubmit({workspace:e.workspace,target:e.target,newRole:r,maxUses:d,restrictedDomains:m});case 3:e.onClose(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),w(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return(0,ee.jsx)(q.u,{title:"user"===e.target.type?"Update member":"Update invitation",onCloseRequest:e.onClose,children:b?(0,ee.jsx)("p",{className:"my-3",children:b.message}):(0,ee.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",alignItems:"center",rowGap:".6em"},children:[(0,ee.jsx)(ra,{onChange:o,value:r,workspace:e.workspace}),(0,ee.jsx)(ta,{}),"invite_link"===e.target.type&&(0,ee.jsx)(na,{onChange:f,value:d}),"invite_link"===e.target.type&&v,(0,ee.jsx)(ae.zx,{onClick:x,children:"Update"})]})})},sa=function(e){return(0,ee.jsx)(q.u,{title:"Oops...",onCloseRequest:e.onClose,children:(0,ee.jsx)("p",{className:"my-3",children:e.error.message})})};function ca(){var e=(0,Br.Z)(),t=e.claims,n=e.user,r=(0,Y.KO)(lu),s=(0,a.Z)(r,1)[0],d=(0,Y.KO)(ue.Y),h=(0,a.Z)(d,2)[1],p=(0,u.useState)(!1),m=(0,a.Z)(p,2),v=m[0],g=m[1],y=(0,u.useState)(null),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=(0,u.useState)(null),E=(0,a.Z)(_,2),k=E[0],C=E[1],S=(0,u.useState)([]),j=(0,a.Z)(S,2),A=j[0],T=j[1],I=(0,u.useState)([]),O=(0,a.Z)(I,2),D=O[0],N=O[1],P=(0,u.useState)(null),M=(0,a.Z)(P,2),L=M[0],R=M[1],Z=(0,u.useState)(""),F=(0,a.Z)(Z,2),U=F[0],z=F[1];(0,u.useEffect)((function(){U&&s.id&&he.Z.get("/workspace/".concat(s.id,"/users")).then((function(e){var t=e.users;R(null),T((0,Me.Z)(t,"role","asc"))})).catch((function(e){R(new Error(e.message||"Couldn't load workspace members. Try again later..."))}))}),[s.id,U]),(0,u.useEffect)((function(){if(s.id){g(!0);var e=l.ZP.firestore().collection("workspaces").doc(s.id),t=e.collection("invites").where("status","==","pending").onSnapshot(function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!1),N((0,Uo.p)(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n=e.onSnapshot(function(){var e=(0,i.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,Uo.w)(t),z((null===n||void 0===n?void 0:n.users.map((function(e){return e.id})).join("|"))||"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){t(),n()}}}),[s.id]);var B=function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.workspace,i=t.role,o=t.maxUses,a=t.restrictedDomains,e.next=3,he.Z.post("/workspace/".concat(r,"/invite/link"),{type:n,role:i,maxUses:o,restrictedDomains:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.workspace,i=t.email,o=t.role,e.next=3,he.Z.post("/workspace/".concat(r,"/invite"),{type:n,email:i,role:o});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,i,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.workspace,r=t.target,i=t.newRole,a=t.maxUses,s=t.restrictedDomains,!(i!==r.data.role||"invite_link"===r.type&&r.data.maxUses!==a||"invite_link"===r.type&&!(0,Fo.Z)(r.data.restrictedDomains,s))){e.next=11;break}if("user"!==r.type){e.next=8;break}return e.next=5,he.Z.patch("/workspace/".concat(n,"/user/").concat(r.data.id),{role:i});case 5:T((function(e){return e.map((function(e){return e.id===r.data.id?(0,o.Z)((0,o.Z)({},e),{},{role:i}):e}))})),e.next=11;break;case 8:return e.next=10,he.Z.patch("/workspace/".concat(n,"/invite/").concat(r.data.id),{role:i,maxUses:a,restrictedDomains:s});case 10:N((function(e){return e.map((function(e){return e.id===r.data.id?(0,o.Z)((0,o.Z)({},e),{},{role:i,maxUses:a}):e}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h({type:"show",title:"Remove invitation for ".concat(t.name||t.email,"?"),text:'Do you want to remove workspace invitation for "'.concat(t.name||t.email,'"'),onConfirm:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T((function(e){return e.map((function(e){return e.id===t.id?(0,o.Z)((0,o.Z)({},e),{},{deleted:!0}):e}))})),e.next=4,he.Z.delete("/workspace/".concat(s.id,"/user/").concat(t.id));case 4:T((function(e){return e.filter((function(e){return e.id!==t.id}))})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),C(e.t0),T((function(e){return e.map((function(e){return e.id===t.id?(0,o.Z)((0,o.Z)({},e),{},{deleted:!1}):e}))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,i.Z)(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h({type:"show",title:"Remove invitation ".concat(t.email?"for ".concat(t.email):"","?"),text:"Do you want to remove workspace invitation ".concat(t.email?"for ".concat(t.email):""),onConfirm:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N((function(e){return e.map((function(e){return e.id===t.id?(0,o.Z)((0,o.Z)({},e),{},{deleted:!0}):e}))})),e.next=4,he.Z.delete("/workspace/".concat(n,"/invite/").concat(t.id));case 4:N((function(e){return e.filter((function(e){return e.id!==t.id}))})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),C(e.t0),N((function(e){return e.map((function(e){return e.id===t.id?(0,o.Z)((0,o.Z)({},e),{},{deleted:!1}):e}))}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=(0,Me.Z)(D.filter((function(e){return"link"===e.type})).map((function(e){var t,n;return(0,o.Z)((0,o.Z)({},e),{},{maxUses:null!==(t=e.maxUses)&&void 0!==t?t:1,uses:null!==(n=e.uses)&&void 0!==n?n:"pending"===e.status?0:1})})),"created","desc"),X=(0,Me.Z)(D.filter((function(e){return"link"!==e.type})),"created","desc"),te=Q.reduce((function(e,t){return e+("number"===typeof t.maxUses?t.maxUses-t.uses:0)}),0)+X.length,ne=s.isAdmin&&(0,Pe.l9)(s.flags,me.y8.LAST_ACTIVE),re=(0,u.useMemo)((function(){return A.length>=6&&1===A.filter((function(e){return"admin"===e.role})).length}),[A]);return(0,ee.jsxs)("div",{className:"SettingsContainer-content-body",children:[re&&(0,ee.jsx)(Xo,{}),w&&null!==s.id&&("addUser"===w.type?(0,ee.jsx)(ea,{workspace:s.id,onClose:function(){return x(null)},onSubmit:V}):"createInviteLink"===w.type?(0,ee.jsx)(oa,{workspace:s.id,onClose:function(){return x(null)},onSubmit:B}):(0,ee.jsx)(aa,{workspace:s.id,target:w.target,onClose:function(){return x(null)},onSubmit:W})),k&&(0,ee.jsx)(sa,{error:k,onClose:function(){return C(null)}}),s.isAdmin&&(0,ee.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-x-4 gap-y-4 sm:gap-y-0",children:[(0,ee.jsxs)(ae.zx,{className:"!shadow-none",onClick:function(){return x({type:"addUser",user:null})},children:[(0,ee.jsx)(J.LQ,{className:"mr-3"})," Invite user"]}),(0,ee.jsxs)(ae.zx,{className:"!shadow-none",onClick:function(){return x({type:"createInviteLink",user:null})},children:[(0,ee.jsx)(J.xP,{className:"mr-3"}),"Create invite link"]})]}),L?(0,ee.jsx)("p",{className:"text-red-600 text-sm",children:L.message}):!A.length||"loaded"!==s.status||v?(0,ee.jsx)(K.Z,{size:"medium",style:{marginTop:40}}):(0,ee.jsxs)("div",{className:"UserList md-lg:pr-24 xl:pr-0 !max-w-none",children:[(Q.length>0||X.length>0)&&(0,ee.jsxs)("h2",{className:"text-xl font-bold my-3",children:["Pending invitations (",te,")"]}),Q.length>0&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"text-sm",children:"You won't be billed for invited users until they redeem the invitation."}),(0,ee.jsx)("ul",{className:"list-none my-4 mx-0 px-0 border border-solid border-gray-10 dark:border-gray-20 rounded-lg",children:Q.map((function(e){return(0,ee.jsx)(Ko,{activeWorkspace:s,deleteInvite:G,invite:e,setOpenModal:x},e.id)}))})]}),X.length>0&&(0,ee.jsx)("ul",{className:"list-none my-4 mx-0 px-0 border border-solid border-gray-10 dark:border-gray-20 rounded-lg",children:X.map((function(e){return(0,ee.jsx)(Qo,{activeWorkspace:s,deleteInvite:G,invite:e,setOpenModal:x},e.id)}))}),(0,ee.jsxs)("h2",{className:"mt-16 text-xl font-bold mb-3",children:["Members (",A.length,")"]}),(0,ee.jsxs)("div",{className:"text-sm",children:[" ","You will be billed for each member at the end of your billing cycle. See"," ",(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceInvoices,{workspace:s.id}),children:"invoices"})," ","for details."]}),(0,ee.jsx)("div",{className:"my-8",children:A.length>0&&A&&(0,ee.jsx)(Jo,{itemsThreshold:5,customResultsContainer:ua,inputClassNames:"w-full",keys:["name","email","role"],maxHeight:"none",items:A,emptyItemsText:"No members yet.",placeholder:"Filter members by name, email or role",render:function(e){return(0,ee.jsx)(Go,{activeWorkspace:s,authedClaims:t,authedUser:n,deleteUser:q,displayLastActive:ne,setOpenModal:x,user:e},e.id)}})})]})]})}var ua=function(e){var t=e.children;return(0,ee.jsx)("ul",{className:(0,X.Z)("list-none my-6 p-0 grid gap-6","sm:grid-cols-2 sm:gap-4","md:gap-6","md-lg:grid-cols-1","xl:grid-cols-2"),children:t})},la=n(79495),da=n(53573),fa=[la.red[7],la.pink[7],la.grape[7],la.violet[7],la.indigo[7],la.blue[7],la.cyan[7],la.teal[7],la.green[7],la.lime[7],la.yellow[7],la.orange[7]],ha=function(e){return new Promise((function(t,n){e.dispatchConfirmModal({type:"show",title:'Delete team "'.concat(e.name,'"?'),confirmButtonText:"Delete",text:(0,ee.jsxs)("div",{children:["Deleting a team will remove users from this team, but they will remain members of the workspace.",(0,ee.jsx)("br",{}),(0,ee.jsx)("br",{})," Note: if this was the only the team assigned to a given collection, that collection will become accessible to everyone again."]}),onCancel:function(){n(new le._L)},onConfirm:function(){var r=(0,i.Z)(c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.onConfirm(),r.next=4,he.Z.delete("/workspace/".concat(e.workspace,"/team/").concat(e.team));case 4:t(),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),n(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(){return r.apply(this,arguments)}}()})}))},pa=function(e){var t,n=e.item,r=e.onChange,i=e.checked,o=e.userTeams,a="admin"===n.role,s=((null===o||void 0===o||null===(t=o[n.id])||void 0===t?void 0:t.length)||0)>=me.ND&&!i;return(0,ee.jsxs)(Bo,{tooltip:a?"Member by default (admin)":s?"Cannot assign. User is over limit (can be member of at most ".concat(me.ND," teams)"):void 0,className:"pt-1 pb-1",checked:i,disabled:a||s,onChange:r,children:[(0,ee.jsx)(J.tB,{}),(0,ee.jsxs)("div",{className:"ml-2.5",children:[n.name,a?(0,ee.jsx)("span",{className:"color-text-subtitle text-sm ml-4",children:"(admin)"}):null]})]},n.id)},ma=function(e){var t,n,o,s=(0,u.useState)((null===(t=e.editingTeam)||void 0===t?void 0:t.name)||""),l=(0,a.Z)(s,2),d=l[0],f=l[1],h=(0,u.useState)(null),m=(0,a.Z)(h,2),v=m[0],g=m[1],y=(0,u.useState)((function(){var t;return(null===(t=e.editingTeam)||void 0===t?void 0:t.color)||(0,da.Z)(fa)})),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=(0,u.useState)(new Map),E=(0,a.Z)(_,2),k=E[0],C=E[1];(0,u.useEffect)((function(){C((function(t){for(var n=new Map(t),r=0,i=Object.keys((null===(o=e.editingTeam)||void 0===o?void 0:o.collections)||[]);r<i.length;r++){var o,a,s=i[r];n.set(s,null===(a=n.get(s))||void 0===a||a)}return n}))}),[null===(n=e.editingTeam)||void 0===n?void 0:n.collections]);var S=(0,u.useState)(new Map),j=(0,a.Z)(S,2),A=j[0],T=j[1];(0,u.useEffect)((function(){T((function(t){var n,i,o=new Map(t),a=(0,r.Z)(Object.keys((null===(n=e.editingTeam)||void 0===n?void 0:n.users)||[]).concat(e.userList.filter((function(e){return"admin"===e.role})).map((function(e){return e.id})),e.inviteList.filter((function(e){return"admin"===e.role})).map((function(e){return e.id}))));try{for(a.s();!(i=a.n()).done;){var s,c=i.value;o.set(c,null===(s=o.get(c))||void 0===s||s)}}catch(u){a.e(u)}finally{a.f()}return o}))}),[null===(o=e.editingTeam)||void 0===o?void 0:o.users,e.userList,e.inviteList]);var I=(0,Y.KO)(ue.Y),O=(0,a.Z)(I,2)[1],D=(0,u.useState)(!1),N=(0,a.Z)(D,2),P=N[0],M=N[1],L=(0,u.useState)(!1),R=(0,a.Z)(L,2),Z=R[0],F=R[1],U=(0,u.useState)(!1),z=(0,a.Z)(U,2),B=z[0],V=z[1],W=function(){V(!0),ne(null)},H=(0,u.useRef)(null),G=(0,u.useRef)(null),K=(0,u.useState)(null),$=(0,a.Z)(K,2),te=$[0],ne=$[1];return(0,ee.jsx)(q.u,{title:e.editingTeam?"Edit team":"Create team",onCloseRequest:e.onCloseRequest,maxWidth:600,requireExplicitCancel:B,stickyButtons:!0,children:function(t){var n=t.Content,r=t.Buttons;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)(n,{children:[(0,ee.jsxs)("div",{className:"flex items-center pt-4",children:[(0,ee.jsx)("h4",{className:"text-base my-2 font-bold",children:"Name"}),(0,ee.jsx)("input",{ref:H,className:"ml-4",style:{borderColor:v?"var(--color-text-error)":void 0},value:d,placeholder:"Team name",onChange:function(e){f(e.target.value),g(null),W()}}),v&&(0,ee.jsx)(Q.Z,{children:v.message})]}),(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)("h4",{className:"text-base my-2 font-bold",children:"Color"}),(0,ee.jsx)("div",{className:"ml-4 flex flex-wrap",children:fa.map((function(e){return(0,ee.jsx)("div",{style:{width:30,height:30,background:e,margin:3,borderRadius:".625em",cursor:"pointer",boxShadow:e===w?"0 0 0 1px var(--bg), 0 0 0 4px ".concat(la.blue[5]):void 0},onClick:function(){W(),x(e)}},e)}))})]}),(0,ee.jsx)("h4",{className:"text-base my-2 font-bold",children:"Collections"}),(0,ee.jsx)("div",{className:"mb-4",children:"Set which collections this team should have access to."}),(0,ee.jsx)(Jo,{placeholder:"Filter collections",emptyItemsText:"No collections created yet.",items:e.collections.filter((function(e){return e.id!==me.qj.private})),render:function(e){return(0,ee.jsxs)(Bo,{className:"pt-1 pb-1",checked:!!k.get(e.id),onChange:function(){W(),C((function(t){return new Map(t).set(e.id,!t.get(e.id))}))},children:[(0,ee.jsx)("div",{className:"w-6 flex items-center justify-center",children:(0,ee.jsx)(Pr,{emoji:e.emoji})}),(0,ee.jsx)("div",{className:"ml-2.5",children:e.name})]},e.id)}}),(0,ee.jsx)("h4",{className:"text-base my-2 font-bold",children:"Members"}),(0,ee.jsxs)("div",{className:"mb-4",children:["Assign members to this team to have read & write access.",(0,ee.jsx)("div",{className:"color-text-subtitle text-sm mt-2",children:"(Admins are members by default. More granular permissions coming soon.)"})]}),(0,ee.jsx)(Jo,{placeholder:"Filter members",emptyItemsText:"No members yet.",items:e.userList,render:function(t){return(0,ee.jsx)(pa,{item:t,checked:!!A.get(t.id),userTeams:e.userTeams,onChange:function(){W(),T((function(e){return new Map(e).set(t.id,!e.get(t.id))}))}},t.id)}}),e.inviteList.length>0&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("p",{className:"color-text-subtitle text-sm",children:"Pending invitations"}),e.inviteList.map((function(t){return(0,ee.jsx)(pa,{item:t,checked:!!A.get(t.id),userTeams:e.userTeams,onChange:function(){W(),T((function(e){return new Map(e).set(t.id,!e.get(t.id))}))}},t.id)}))]}),(0,ee.jsx)("div",{ref:G,children:te&&!P&&!Z&&(0,ee.jsx)(Q.Z,{background:!0,style:{margin:"2em 0 .6em"},children:te.message})})]}),(0,ee.jsxs)(r,{className:(0,X.Z)({"justify-end":!e.editingTeam}),children:[e.editingTeam&&(0,ee.jsxs)(pe.Z,{type:"red",className:"mr-auto",disabled:P||Z,isLoading:Z,onClick:(0,i.Z)(c().mark((function t(){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p.ZP.event({category:"WorkspaceTeams",action:"delete"}),Ui.Z.trackEvent("teams",{action:"delete"}),t.next=5,ha({workspace:e.workspace,team:e.editingTeam.id,name:e.editingTeam.name,dispatchConfirmModal:O,onConfirm:function(){return F(!0)}});case 5:e.onCloseRequest(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),F(!1),"AbortError"!==t.t0.name&&(ne(t.t0),null===(n=G.current)||void 0===n||n.scrollIntoView());case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),children:[(0,ee.jsx)(J.XH,{className:"mr-2"})," Delete team"]}),B&&(0,ee.jsx)(pe.Z,{type:"plain",action:"close",className:"mr-2",onClick:e.onCloseRequest,disabled:P,children:"Cancel"}),(!e.editingTeam||B)&&(0,ee.jsx)(pe.Z,{disabled:P,onClick:(0,i.Z)(c().mark((function t(){var n,r,i,o,s,u,l,f,h,m,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.O.team.name.validate(d);case 3:n=t.sent,t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),null===(r=H.current)||void 0===r||r.scrollIntoView(),null===(i=H.current)||void 0===i||i.focus(),t.abrupt("return",g(t.t0));case 11:return t.prev=11,M(!0),p.ZP.event({category:"WorkspaceTeams",action:null!==(o=e.editingTeam)&&void 0!==o&&o.id?"create":"update"}),Ui.Z.trackEvent("teams",{action:null!==(s=e.editingTeam)&&void 0!==s&&s.id?"create":"update"}),t.next=17,he.Z.patch("/workspace/".concat(e.workspace,"/team"),{team:(null===(u=e.editingTeam)||void 0===u?void 0:u.id)||null,name:n,color:w,assignedCollections:Array.from(k.entries()).filter((function(e){return(0,a.Z)(e,2)[1]})).map((function(e){return(0,a.Z)(e,1)[0]})),assignedUsers:Array.from(A.entries()).filter((function(e){return(0,a.Z)(e,2)[1]})).map((function(e){return(0,a.Z)(e,1)[0]}))});case 17:e.onCloseRequest(),t.next=30;break;case 20:if(t.prev=20,t.t1=t.catch(11),M(!1),!(0,le.N0)(t.t1,"USER_TEAMS_LIMIT")){t.next=29;break}return f=void 0,f=(0,Pe.S1)(t.t1.data.user)?null===(h=e.inviteList.find((function(e){return e.id===t.t1.data.user})))||void 0===h?void 0:h.name:null===(m=e.userList.find((function(e){return e.id===t.t1.data.user})))||void 0===m?void 0:m.name,ne(new Error('Cannot assign user "'.concat(f||t.t1.data.user,'" to the team: maximum teams for that user has been reached (').concat(me.ND,")"))),null===(l=G.current)||void 0===l||l.scrollIntoView(),t.abrupt("return");case 29:"AbortError"!==t.t1.name&&(ne(t.t1),null===(v=G.current)||void 0===v||v.scrollIntoView());case 30:case"end":return t.stop()}}),t,null,[[0,6],[11,20]])}))),children:e.editingTeam?"Update":"Create"})]})]})}})},va=function(e){var t=(0,u.useState)(new Map),n=(0,a.Z)(t,2),o=n[0],s=n[1];(0,u.useEffect)((function(){s((function(t){var n,i=new Map(t),o=(0,r.Z)(e.teams);try{for(o.s();!(n=o.n()).done;){var a,s=n.value;i.set(s.id,null!==(a=i.get(s.id))&&void 0!==a?a:!!s.collections[e.editingCollection.id])}}catch(c){o.e(c)}finally{o.f()}return i}))}),[e.teams,e.editingCollection.id]);var l=(0,u.useState)(!1),d=(0,a.Z)(l,2),f=d[0],h=d[1],m=(0,u.useState)(!1),v=(0,a.Z)(m,2),g=v[0],y=v[1];return(0,ee.jsx)(q.u,{title:"Collection ".concat(e.editingCollection.name),onCloseRequest:e.onCloseRequest,maxWidth:600,requireExplicitCancel:g,stickyButtons:!0,children:function(t){var n=t.Content,r=t.Buttons,u=t.throwError;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)(n,{children:[(0,ee.jsx)("h3",{className:"text-lg my-2 font-bold",children:"Teams"}),(0,ee.jsx)("div",{className:"mb-4",children:"Set which teams have access to this collection. Unassigning all teams will make it accessible to every member of this workspace."}),e.teams.length?(0,ee.jsx)(Jo,{placeholder:"Filter Teams",emptyItemsText:"No teams created yet",items:e.teams,maxHeight:"auto",render:function(e){return(0,ee.jsxs)(Bo,{className:"pt-1 pb-1",checked:!!o.get(e.id),onChange:function(){y(!0),s((function(t){return new Map(t).set(e.id,!t.get(e.id))}))},children:[(0,ee.jsx)(J.Ww,{className:"mr-2",style:{fill:e.color,stroke:e.color,transform:"translateY(1px)"}}),(0,ee.jsx)("div",{children:e.name})]},e.id)}}):(0,ee.jsxs)("div",{className:"mb-4 flex flex-col items-center",children:[(0,ee.jsx)("p",{className:"my-3",children:"You haven't created any team yet."}),(0,ee.jsx)(pe.Z,{onClick:e.onCreateNewTeam,children:"Create team"})]})]}),(0,ee.jsxs)(r,{className:"justify-end",children:[(0,ee.jsx)(pe.Z,{type:"plain",className:"mr-2",onClick:e.onCloseRequest,disabled:f,action:"close",children:g?"Cancel":"Close"}),g&&(0,ee.jsx)(pe.Z,{disabled:f||!g,onClick:(0,i.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),p.ZP.event({category:"WorkspaceTeams",action:"collectionUpdate"}),Ui.Z.trackEvent("teams",{action:"update",category:"collection"}),t.next=6,he.Z.patch("/workspace/".concat(e.workspace,"/collection/").concat(e.editingCollection.id,"/teams"),{assignedTeams:Array.from(o).filter((function(e){return(0,a.Z)(e,2)[1]})).map((function(e){return(0,a.Z)(e,1)[0]}))});case 6:h(!1),e.onCloseRequest(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),h(!1),u(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),children:"Update"})]})]})}})},ga=function(e){var t=e.workspace,n=(0,Y.KO)(Te.I),r=(0,a.Z)(n,1)[0],i=(0,u.useState)(null),s=(0,a.Z)(i,2),c=s[0],d=s[1],f=(0,u.useState)(null),h=(0,a.Z)(f,2),p=h[0],m=h[1];(0,u.useEffect)((function(){return l.ZP.firestore().collection("workspaces").doc(t).collection(me.Ul.workspaceAdministration).doc(me.cR.workspacePermissions).onSnapshot((function(e){var t=e.data();d((0,Pe.eo)(t)),m(t.userTeams)}))}),[t]);var v=(0,u.useState)(!1),g=(0,a.Z)(v,2),y=g[0],b=g[1],w=(0,u.useState)(null),x=(0,a.Z)(w,2),_=x[0],E=x[1],k=(0,u.useState)(null),C=(0,a.Z)(k,2),S=C[0],j=C[1],A=(0,_e.Z)(),T=A.userList,I=A.inviteList;return c&&p?(0,ee.jsxs)("div",{className:"SettingsContainer-content-body",children:[(y||_)&&(0,ee.jsx)(ma,{teams:c,userTeams:p,editingTeam:_,userList:T,inviteList:I.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{name:e.email||e.id,id:"inv_".concat(e.id)})})),collections:r.collections,workspace:t,onCloseRequest:function(){return y?b(!1):E(null)}}),S&&(0,ee.jsx)(va,{editingCollection:S,teams:c,workspace:t,onCloseRequest:function(){return j(null)},onCreateNewTeam:function(){j(null),b(!0)}}),(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("h2",{className:"flex items-center select-none text-xl font-bold my-3",children:[(0,ee.jsx)(J.Ww,{className:"mr-2"})," Teams"," ",c.length>0&&(0,ee.jsx)(ae.zx,{className:"ml-auto",onClick:function(){return b(!0)},children:"Create team"})]}),c&&c.map((function(e){var t=Object.values(e.users).length;return(0,ee.jsxs)("div",{className:"listItem !grid grid-cols-6 box-border w-full gap-x-4",onClick:function(){E(c.find((function(t){return t.id===e.id}))||null)},children:[(0,ee.jsxs)("div",{className:"flex items-center col-span-4",children:[(0,ee.jsx)(J.Ww,{className:"mr-2",style:{fill:e.color,stroke:e.color,transform:"translateY(1px)"}}),(0,ee.jsx)("div",{children:e.name})]}),(0,ee.jsxs)("div",{className:"col-span-2 ml-auto whitespace-nowrap",children:[t," member",t>1?"s":""]})]},e.id)})),!c.length&&(0,ee.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ee.jsx)("p",{className:"my-3",children:"Teams allow you to give access to specific collections to a subset of workspace members."}),(0,ee.jsx)("p",{className:"my-3",children:"Let's create your first team!"}),(0,ee.jsx)(ae.zx,{onClick:function(){return b(!0)},children:"Create team"})]})]}),r.collections.filter((function(e){return e.id!==me.qj.private})).length>0&&(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("h2",{className:"flex items-center select-none text-xl font-bold my-3",children:[(0,ee.jsx)(J.wZ,{className:"mr-2"})," Collections"]}),(0,ee.jsxs)("div",{className:"listItem pointer-events-none !grid grid-cols-6 box-border w-full gap-x-4",children:[(0,ee.jsx)("div",{className:"font-bold col-span-4",children:"Name"}),(0,ee.jsx)("div",{className:"font-bold text-center col-span-2 ml-auto",children:"Access"})]}),"loading"===r.status?(0,ee.jsx)(K.Z,{}):(0,ee.jsx)(Jo,{emptyItemsText:"No collections created yet",placeholder:"Filter collections",items:r.collections,render:function(e){if(e.id===me.qj.private)return null;var t,n=c.filter((function(t){var n=t.collections;return e.id in n}));return(0,ee.jsxs)("div",{className:"listItem !grid grid-cols-6 box-border w-full gap-x-4",onClick:function(){j(e)},children:[(0,ee.jsxs)("div",{className:"flex items-center col-span-4",children:[e.id===me.qj.private?(0,ee.jsx)(J.mB,{className:"mr-2"}):(0,ee.jsx)("div",{className:"w-6 flex items-center justify-center mr-2",children:(0,ee.jsx)(Pr,{emoji:e.emoji})}),(0,ee.jsx)("div",{children:e.name})]}),(0,ee.jsx)("div",{className:"text-center col-span-2 ml-auto space-y-1",children:(t=n,t.length?t.map((function(e){return(0,ee.jsx)("div",{className:"flex justify-end",children:(0,ee.jsx)("span",{className:"inline-flex rounded-xl text-white my-0 mx-[2px] py-[2px] px-1.5",style:{background:e.color,fontSize:"0.8em"},children:e.name},e.id)})})):"everyone")})]},e.id)}})]})]}):(0,ee.jsx)(K.Z,{})},ya=n(301),ba=n(14696),wa=n(82751),xa=n(4827),_a=n(56711),Ea=n(61029);function ka(e){var t=e.onSuccess,n=e.onError,r=e.activeWorkspace,o=e.className,s=e.buttonTitle,l=void 0===s?"Update card":s,d=e.children,f=e.contClassName,h=void 0===f?"":f,p=(0,ba.useStripe)(),m=(0,ba.useElements)(),v=(0,u.useState)(null),g=(0,a.Z)(v,2),y=g[0],b=g[1],w=(0,u.useState)(!1),x=(0,a.Z)(w,2),_=x[0],E=x[1];function k(){return(k=(0,i.Z)(c().mark((function e(){var i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||!p){e.next=19;break}return e.prev=1,E(!0),b(null),e.next=6,xa.Z.createPaymentMethod({elements:m,stripe:p,transaction:(0,wa.x0)()});case 6:return i=e.sent,e.next=9,he.Z.post("/workspace/".concat(r.id,"/payment-method"),{paymentMethodId:i.id});case 9:o=e.sent,t&&(t({paymentMethod:o}),null===(a=m.getElement(ba.CardElement))||void 0===a||a.clear()),E(!1),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),E(!1),n&&n(e.t0,b),null!==e.t0&&void 0!==e.t0&&e.t0.message?b(null===e.t0||void 0===e.t0?void 0:e.t0.message):b("Something went wrong. Please try again");case 19:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}return(0,ee.jsxs)("div",{className:o||"",children:[(0,ee.jsx)(_a.Z,{errorMessage:y,cardElementOnChange:function(e){e.complete?(E(!1),b(null)):e.error&&(b(e.error.message),E(!0))}}),(0,ee.jsxs)("div",{className:"flex flex-col sm:flex-row items-center !m-3 ".concat(h),children:[(0,ee.jsx)(ae.zx,{onClick:function(){return k.apply(this,arguments)},disabled:_,children:l}),d]})]})}var Ca=function(e){return(0,ee.jsx)(Ea.Z,{children:(0,ee.jsx)(ka,(0,o.Z)({},e))})};var Sa=function(e){var t=e.paymentMethod,n=e.onDelete,r=e.onSetDefault,i=t.card,o=t.created,a=t.isDefaultPaymentMethod;return(0,ee.jsxs)("div",{className:(0,X.Z)("py-2 box-border flex text-sm","grid grid-cols-1 gap-y-1 xs:grid-cols-3 xl:grid-cols-4",{"bg-[#d7f1ff] dark:bg-[#37464e] -mx-2 px-2":a}),children:[(0,ee.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,ee.jsx)("span",{className:"p-1 rounded-[4px] text-white bg-blue-700 text-xs shadow-xs",children:i.brand}),(0,ee.jsxs)("span",{className:"h-full ml-2 ",children:["\u2022\u2022\u2022\u2022 ",(0,ee.jsx)("span",{className:"ml-2",children:i.last4})]})]}),(0,ee.jsxs)("span",{className:"ml-2",children:[i.exp_month,"/",i.exp_year]}),(0,ee.jsxs)("span",{title:(0,G.Z)(o,{format:"YYYY-MM-DD HH:MI"}),children:[(0,ee.jsx)("span",{className:"xl:hidden",children:"Added"})," ",(0,G.Z)(o)]}),a?(0,ee.jsx)("div",{className:"xs:col-start-3 xl:col-start-auto font-bold",children:"Default payment method"}):(0,ee.jsxs)("div",{className:"xs:col-start-3 xl:col-start-auto flex gap-x-10 text-sm mt-4 sm:mt-0",children:[r&&(0,ee.jsx)(pe.Z,{type:"link",onClick:r,style:{marginRight:0},children:"Set as default"}),n&&(0,ee.jsx)(pe.Z,{type:"link",className:"remove text-danger",onClick:n,children:"Remove"})]})]})};var ja=function(e){var t=e.activeWorkspace,n=(0,fo.Z)({endpoint:"/workspace/".concat(t.id,"/payment-method")}),r=(0,a.Z)(n,4),o=r[0],s=r[1],l=r[2],d=r[3],f=(0,u.useState)(!1),h=(0,a.Z)(f,2),p=h[0],m=h[1],v=(0,Y.KO)(ue.Y),g=(0,a.Z)(v,2)[1],y=(0,u.useState)(null),b=(0,a.Z)(y,2),w=b[0],x=b[1];return s?(0,ee.jsx)("div",{className:"Workspace-spinner",children:(0,ee.jsx)(K.Z,{})}):l||!o?(0,ee.jsx)("div",{className:"SettingsContainer-content-body",children:404===(null===l||void 0===l?void 0:l.status)?(0,ee.jsx)("div",{className:"info",children:"It seems there isn't any billed subscription associated with this workspace. We'll let you know in the future when one is required."}):(0,ee.jsx)(Q.Z,{children:(null===l||void 0===l?void 0:l.message)||"Couldn't load card details."})}):(0,ee.jsxs)(ee.Fragment,{children:[w&&(0,ee.jsx)(q.u,{title:"Error",onCloseRequest:function(){return x(null)},children:(0,ee.jsx)("p",{className:"my-3",children:w.message})}),(0,ee.jsxs)("div",{className:"SettingsContainer-content-body",children:[(0,ee.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[(0,ee.jsx)("h3",{className:"mb-0 text-lg font-bold",children:"Payment methods"}),(0,ee.jsx)("div",{className:"mt-4",children:(0,ee.jsx)(ae.zx,{onClick:function(){return m(!0)},children:"Add new card"})})]}),o.length>0?(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)("div",{className:"PaymentMethodRow font-bold mt-8 sm:mt-16 grid xs:grid-cols-3 xl:grid-cols-4",children:[(0,ee.jsx)("div",{children:"Card details"}),(0,ee.jsx)("div",{className:"hidden xl:block xl:col-start-3",children:"Added"})]}),(0,ee.jsx)("div",{className:"space-y-4 xs:space-y-2 mt-4",children:o.map((function(e){return(0,ee.jsx)(Sa,{paymentMethod:e,onDelete:function(){return function(e){var n,r;g({type:"show",title:"Remove this payment method",text:'Do you want to remove "'.concat(null===e||void 0===e||null===(n=e.card)||void 0===n?void 0:n.brand," **** ").concat(null===e||void 0===e||null===(r=e.card)||void 0===r?void 0:r.last4,'" card?'),confirmButtonText:"Remove",onConfirm:function(){var n=(0,i.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.Z.delete("/workspace/".concat(t.id,"/payment-method"),{paymentMethodId:e.id});case 3:d.removeById(e.id),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0),x(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}()})}(e)},onSetDefault:function(){return function(e){var n,r;g({type:"show",modalType:"confirm",title:"Set this card as default",text:'Do you want set "'.concat(null===e||void 0===e||null===(n=e.card)||void 0===n?void 0:n.brand," **** ").concat(null===e||void 0===e||null===(r=e.card)||void 0===r?void 0:r.last4,'" card as your default card for future charges?'),confirmButtonText:"Set as default",onConfirm:function(){var n=(0,i.Z)(c().mark((function n(){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.Z.patch("/workspace/".concat(t.id,"/payment-method"),{paymentMethodId:e.id});case 3:r=n.sent,d.replace(r),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0),x(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()})}(e)}},e.id)}))}),(0,ee.jsx)("div",{className:"mt-2 text-center text-xs text-color-text ",children:"(There may be duplicate payment methods listed as we do not have access to your credit card details.)"})]}):(0,ee.jsxs)("div",{className:"flex items-center",children:[(0,ee.jsx)(J.lM,{className:"mr-2"})," This subscription doesn't have any payment method set. You can add one, below."]}),p&&(0,ee.jsx)(q.u,{onCloseRequest:function(){return m(!1)},title:"Add payment method",children:(0,ee.jsxs)("div",{className:"Credit-card-cont",children:[(0,ee.jsx)("div",{className:"mb-6 -mt-4 text-xs text-color-text",children:"(will be made as the default payment method)"}),(0,ee.jsx)(Ca,{activeWorkspace:t,buttonTitle:"Add new card",onSuccess:(0,i.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.Z.get("/workspace/".concat(t.id,"/payment-method"));case 3:n=e.sent,d.replace(n),m(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))})]})})]})]})},Aa=n(12512),Ta=n(41041);function Ia(e){var t=e.activeWorkspace,n=(0,u.useState)(null),r=(0,a.Z)(n,2),o=r[0],s=r[1],l=(0,f.k6)(),d=(0,Y.KO)(ue.Y),h=(0,a.Z)(d,2)[1],p=(0,Y.KO)(gi.l),m=(0,a.Z)(p,1)[0],v=(0,u.useState)(!0),g=(0,a.Z)(v,2),y=g[0],b=g[1],w=(0,u.useState)(!1),x=(0,a.Z)(w,2),_=x[0],E=x[1],k=t.name,C=(0,Ta.F)(),S=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loaded"===t.status){e.next=2;break}return e.abrupt("return");case 2:h({type:"show",title:"Delete workspace",text:(0,ee.jsxs)(ee.Fragment,{children:["This will permanently delete ",(0,ee.jsx)("b",{children:t.name})," workspace and cancel its subscription."]}),confirmButtonText:"I understand",onClose:function(){C.cancelAll()},onConfirm:function(){var e=(0,i.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,he.Z.delete("/workspace/".concat(t.id));case 4:return e.next=6,C.add((0,Aa.ah)({toNotIncludeWorkspace:t.id}));case 6:if(!(m&&m.length>1)){e.next=13;break}if(!(n=m.find((function(e){return e.id!==t.id})))){e.next=10;break}return e.abrupt("return",l.replace((0,f.Gn)($.Z6.workspaceCollection,{workspace:n.id})));case 10:l.replace($.Z6.userAccount),e.next=14;break;case 13:l.replace($.Z6.userAccount);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),s(e.t0);case 19:return e.prev=19,E(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ee.jsx)("div",{className:"SettingsContainer-content-body",children:(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h2",{className:"text-xl font-bold my-3 text-red-600",children:"Delete workspace & cancel subscription"}),(0,ee.jsxs)("p",{style:{fontSize:".9em",marginBottom:"2em"},children:["Deleting the workspace will cancel subscription for this workspace, disable access for you and all the team members, and permanently remove all data. ",(0,ee.jsx)("b",{children:"Ongoing subscription will not be refunded."})," ","This action cannot be undone."]}),!t.willCancelAt&&(0,ee.jsxs)("p",{style:{fontSize:".9em"},children:["If you don't want to permanently remove your workspace, you can"," ",(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceSettingsCancelSubscription,{workspace:t.id}),children:"cancel your subscription"}),", only."]}),(0,ee.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:"2em",fontSize:".9em"},children:[(0,ee.jsxs)("p",{className:"my-3",children:["To confirm, please type in your workspace name"," ",(0,ee.jsx)("b",{children:k})," below:"]}),(0,ee.jsx)("input",{style:{marginRight:"auto",width:240},autoCorrect:"off",autoComplete:"off",autoFocus:!0,name:"workspace-name-confirm",onChange:function(e){b(e.target.value!==k)},onKeyDown:function(e){"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),y||S())}})]}),(0,ee.jsx)(pe.Z,{type:"red",onClick:function(){return S()},disabled:y,isLoading:_,children:"Delete workspace"}),o&&(0,ee.jsx)("p",{style:{color:"red"},children:o.message})]})})}function Oa(e){var t=e.activeWorkspace,n=(0,u.useState)(null),r=(0,a.Z)(n,2),o=r[0],s=r[1],l=(0,f.k6)(),d=(0,Y.KO)(ue.Y),h=(0,a.Z)(d,2)[1],p=t.name,m=(0,u.useState)(!0),v=(0,a.Z)(m,2),g=v[0],y=v[1],b=(0,u.useState)(!1),w=(0,a.Z)(b,2),x=w[0],_=w[1],E=function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loaded"===t.status){e.next=2;break}return e.abrupt("return");case 2:h({type:"show",title:"Cancel workspace subscription",text:"trialing"===t.subscriptionStatus?(0,ee.jsxs)(ee.Fragment,{children:["This action will immediately cancel your subscription for"," ",(0,ee.jsx)("b",{children:t.name})," workspace."]}):(0,ee.jsxs)(ee.Fragment,{children:["This action will schedule your subscription for"," ",(0,ee.jsx)("b",{children:t.name})," workspace to cancel before your next billing cycle."]}),confirmButtonText:"I understand",onConfirm:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,he.Z.patch("/workspace/".concat(t.id,"/cancel-subscription"));case 4:l.replace((0,f.Gn)($.Z6.workspaceCollection,{workspace:t.id})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(e.t0);case 10:return e.prev=10,_(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}()});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ee.jsx)("div",{className:"SettingsContainer-content-body",children:(0,ee.jsxs)("div",{children:[(0,ee.jsx)("h2",{className:"text-xl font-bold my-3 text-red-600",children:"Cancel subscription"}),"trialing"===t.subscriptionStatus?(0,ee.jsxs)("p",{style:{fontSize:".9em",marginBottom:"2em"},children:["During your ",(0,ee.jsx)("b",{children:"trial"}),' period, canceling your subscription for "',(0,ee.jsx)("b",{children:t.name}),'" workspace'," ",(0,ee.jsxs)("span",{className:"font-bold",children:["will immediately disable access for you and all the team members."," "]})," ","You can later renew the subscription."]}):(0,ee.jsxs)("div",{style:{fontSize:".9em",marginBottom:"2em"},children:['This will be schedule your subscription for "',(0,ee.jsx)("b",{children:t.name}),'" workspace to cancel before the next billing cycle. Before then you will retain access as normal.',(0,ee.jsxs)("p",{className:"font-bold",children:["After your subcription is canceled, access to this workspace will be disabled for you and all the team members of this workspace. You can later renew the subscription."," "]})]}),(0,ee.jsxs)("p",{style:{fontSize:".9em"},children:["If you want to permanently remove all data,"," ",(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceDelete,{workspace:t.id}),children:"delete the workspace"})," ","instead (it will cancel the subscription"," ","trialing"===t.subscriptionStatus?"automatically":"immediately",")."]}),(0,ee.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:"2em",fontSize:".9em"},children:[(0,ee.jsxs)("p",{className:"my-3",children:["To continue, please confirm by typing your workspace name"," ",(0,ee.jsx)("b",{children:p})," below:"]}),(0,ee.jsx)("input",{style:{marginRight:"auto",width:240},autoCorrect:"off",autoComplete:"off",autoFocus:!0,name:"workspace-name-confirm",onChange:function(e){y(e.target.value!==p)},onKeyDown:function(e){"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),g||E())}})]}),(0,ee.jsx)(pe.Z,{type:"red",onClick:function(){return E()},disabled:g,isLoading:x,children:"Cancel subscription"}),o&&(0,ee.jsx)("p",{style:{color:"red"},children:o.message})]})})}var Da=n(57320),Na=function(e){var t=e.currentPriceId,n=e.plan,r=e.quantity,i=e.onChangePlan,o=e.subscriptionStatus,a=e.balance,s=t===(null===n||void 0===n?void 0:n.priceId),c=n.price/100*r*n.interval_count,u=Math.abs(a)/100,l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return(0,ee.jsxs)("div",{className:(0,X.Z)("flex flex-grow flex-col p-4 border border-1 border-solid rounded-md shadow-md relative select-none active:shadow-none","max-w-xs xl:max-w-none","box-border",{"border-primary border-2 rounded-tl-none":s,"border-gray-300 cursor-pointer hover:shadow-lg":!s}),onClick:function(){s||i(n)},children:[s&&(0,ee.jsx)("span",{className:"absolute -top-0 translate-y-[-100%] -left-[2px] text-xs bg-primary text-white p-1 rounded-t-md",children:"Current plan"}),(0,ee.jsx)("div",{className:"font-drawn text-2xl p-3 text-center",children:n.name}),(0,ee.jsxs)("div",{className:"text-xl text-center my-5",children:[(0,ee.jsxs)("b",{children:["$",n.price/100]})," / user / month"]}),(0,ee.jsxs)("div",{className:"grid columns-6 mt-5 items-center text-sm",children:[(0,ee.jsx)("div",{className:"col-span-3",children:"Billed:"})," ",(0,ee.jsx)("div",{className:"col-start-4",children:n.billed}),(0,ee.jsx)("div",{className:"col-span-3",children:"Price:"})," ",(0,ee.jsxs)("div",{className:"col-start-4",children:[l.format(c)," (",r," active member",r>1?"s":"",")"]}),!s&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"mt-4"}),(0,ee.jsx)("div",{className:"mt-4"}),"trialing"!==o&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"col-span-3",children:"Unused credit:"})," ",(0,ee.jsx)("div",{className:"col-start-4",children:l.format(u)})]}),(0,ee.jsx)("div",{className:"col-span-3 font-bold",children:"Total (due now):"})," ",(0,ee.jsx)("div",{className:"col-start-4 font-bold",children:"trialing"===o?(0,ee.jsxs)(ee.Fragment,{children:[l.format(0)," (trialing)"]}):l.format(Math.max(c-u,0))})]})]})]})};function Pa(e){var t,n=e.activeWorkspace;(0,Ie.j)("Change plan");var r=(0,Br.Z)().claims,s=(0,Y.KO)(ue.Y),l=(0,a.Z)(s,2)[1],d=Co({endpoint:"/workspace/".concat(n.id,"/subscription-plan")}),h=(0,a.Z)(d,4),p=h[0],m=h[1],v=h[2],g=h[3],y=(0,u.useState)(),b=(0,a.Z)(y,2),w=b[0],x=b[1];if("loaded"!==n.status||!r||m||!p)return(0,ee.jsx)(ao.Z,{children:(0,ee.jsx)(K.Z,{})});if(v)return(0,ee.jsx)(ao.Z,{children:(0,ee.jsx)(Q.Z,{children:v.message})});function _(e){return E.apply(this,arguments)}function E(){return E=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{x(void 0),l({type:"show",title:"Change subscription plan",modalType:"confirm",text:(0,ee.jsxs)(ee.Fragment,{children:["Are you sure you want to change your subscription plan to"," ",(0,ee.jsx)("b",{children:t.billed}),"?","trialing"!==(null===p||void 0===p?void 0:p.subscriptionStatus)&&(0,ee.jsx)("p",{className:"my-3",children:"You will be billed immediately for all active members in the workspace!"})]}),onConfirm:function(){var e=(0,i.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.Z.patch("/workspace/".concat(n.id,"/subscription-plan"),{priceId:t.priceId});case 3:r=e.sent,g.replace((0,o.Z)((0,o.Z)({},p),{},{currentPlan:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),x(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})}catch(v){x(v)}case 1:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}var k=Object.values(me.T0);return(0,ee.jsxs)("div",{className:"WorkspaceSettings-content-body",children:[(0,ee.jsx)("h3",{className:"text-lg my-2 font-bold",children:"Change subscription plan"}),w&&(0,ee.jsx)(Q.Z,{children:w}),"trialing"!==p.subscriptionStatus&&(0,ee.jsxs)("div",{className:"flex flex-col items-center border-l-4 border-0 border-solid border-red-400 pl-4 my-8",children:[(0,ee.jsxs)("p",{className:"my-3",children:["The subscription plan will be changed immediately, and you will be billed for all"," ",(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceSettingsMembers,{workspace:n.id}),children:"active members"})," ","in the workspace right away. However, you will be credited for unused time on your subscription."]}),(0,ee.jsx)("p",{className:"my-3",children:"Note: the charge may fail with certain cards, in which case not to worry \u2014 we'll notify you and you'll be able to pay the invoice manually."})]}),p.coupon&&(null===(t=p.currentPlan)||void 0===t?void 0:t.priceId)===me.T0.monthly.priceId&&(0,ee.jsx)("div",{className:"flex flex-col items-center border-l-4 border-0 border-solid border-red-400 pl-4 my-8",children:(0,ee.jsxs)("p",{className:"my-3",children:["Your active discount (",(0,ee.jsx)("b",{children:p.coupon.name}),") isn't transferable, and will be removed upon change."]})}),(0,ee.jsx)("div",{className:"mb-8",children:(0,ee.jsxs)("p",{className:"my-3",children:["If you need help or have any questions, please contact us at"," ",(0,ee.jsx)(Da.x,{}),"."]})}),(0,ee.jsx)("div",{className:"grid sm:grid-cols-2 sm:gap-x-4 md-lg:grid-cols-1 xl:grid-cols-2 xl:gap-x-8 gap-y-12 mt-12",children:k.map((function(e){var t;return(0,ee.jsx)("div",{className:"flex justify-center",children:(0,ee.jsx)(Na,{plan:e,onChangePlan:_,currentPriceId:(null===(t=p.currentPlan)||void 0===t?void 0:t.priceId)||"",quantity:p.quantity||0,subscriptionStatus:p.subscriptionStatus,balance:p.balance})},e.priceId)}))})]})}var Ma=function(e){var t=e.children,n=e.template,r=void 0===n?".3fr .5fr .2fr":n;return(0,ee.jsx)("div",{className:"grid items-center",style:{gridTemplateColumns:r},children:t})},La=function(e){var t=e.value;return(0,ee.jsx)("input",{defaultValue:t||"",readOnly:!0,onClick:function(e){e.target.select(),document.execCommand("copy")}})},Ra=function(e){var t=e.children;return(0,ee.jsxs)("div",{className:"SettingsContainer-content-body",children:[(0,ee.jsx)("h3",{className:"text-lg my-2 font-bold",children:"Development helpers"}),t]})},Za=function(e){var t,n,r=e.activeWorkspace,o=e.remountComponent,s=Co({endpoint:"/debug/".concat(r.id,"/subscription")}),u=(0,a.Z)(s,2),l=u[0];return u[1]?(0,ee.jsx)(Ra,{children:(0,ee.jsx)(K.Z,{className:"mt-4"})}):(0,ee.jsxs)(Ra,{children:[(0,ee.jsxs)("div",{className:"grid items-center gap-3",style:{gridTemplateColumns:".3fr .5fr .2fr"},children:[(0,ee.jsx)("div",{children:"customer id:"}),(0,ee.jsx)(La,{value:null===l||void 0===l||null===(t=l.subscriptionData)||void 0===t?void 0:t.customerId}),(0,ee.jsx)("div",{}),(0,ee.jsx)("div",{children:"subscription id:"}),(0,ee.jsx)(La,{value:null===l||void 0===l||null===(n=l.subscriptionData)||void 0===n?void 0:n.subscriptionId}),(0,ee.jsx)("div",{}),(0,ee.jsx)("div",{children:"subscription status (firestore):"}),(0,ee.jsx)("b",{children:r.subscriptionStatus}),(0,ee.jsx)("div",{}),(0,ee.jsx)("div",{children:"subscription status (stripe):"}),(0,ee.jsx)("b",{children:null===l||void 0===l?void 0:l.subscriptionStatus_stripe}),(0,ee.jsx)("div",{className:"flex justify-start",children:"trialing"===(null===l||void 0===l?void 0:l.subscriptionStatus_stripe)&&(0,ee.jsx)(pe.Z,{onClick:(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.Z.post("/debug/finalize-trial",{workspace:r.id});case 2:o();case 3:case"end":return e.stop()}}),e)}))),children:"Finalize Trial"})}),(null===l||void 0===l?void 0:l.testClock)&&(0,ee.jsxs)(ee.Fragment,{children:[" ",(0,ee.jsx)("div",{children:"clock:"}),(0,ee.jsx)("a",{href:"https://dashboard.stripe.com/test/test-clocks/".concat(l.testClock.id),target:"_blank",rel:"noreferrer",children:new Date(1e3*l.testClock.frozen_time).toISOString()}),(0,ee.jsx)("div",{})]})]}),(0,ee.jsx)("div",{className:"text-lg font-bold my-4",children:"Invoices:"}),(0,ee.jsx)("div",{className:"grid gap-3",children:null===l||void 0===l?void 0:l.invoices.map((function(e){var t=e.invoice,n=e.yearly;return(0,ee.jsxs)(Ma,{template:".5fr .6fr",children:[(0,ee.jsx)(La,{value:t.id}),(0,ee.jsx)("div",{children:n?"yearly":""})]},t.id)}))})]})},Fa=function(e){var t=e.activeWorkspace,n=(0,u.useState)(0),r=(0,a.Z)(n,2),i=r[0],o=r[1];return(0,ee.jsx)(Za,{activeWorkspace:t,remountComponent:function(){return o((function(e){return e+1}))}},i)};function Ua(){(0,Ie.j)("Workspace settings");var e=(0,Y.KO)(lu),t=(0,a.Z)(e,1)[0],n=(0,Br.Z)().claims;if("loaded"!==t.status||!n)return(0,ee.jsx)(ao.Z,{children:(0,ee.jsx)(K.Z,{})});if(!t.isAdmin)return(0,ee.jsxs)(ao.Z,{children:[(0,ee.jsx)("p",{className:"my-3",children:"Unauthorized"}),(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceCollection,{workspace:t.id}),children:(0,ee.jsx)(pe.Z,{children:"Go back"})})]});var r=[{type:"heading",title:"Workspace Settings"},{type:"item",title:"Workspace settings",link:(0,f.Gn)($.Z6.workspaceSettings,{workspace:t.id})},{type:"item",title:"Members",link:(0,f.Gn)($.Z6.workspaceSettingsMembers,{workspace:t.id})},{type:"item",title:"Teams & Collections",link:(0,f.Gn)($.Z6.workspaceTeams,{workspace:t.id})}].concat((0,h.Z)(t.subscriptionStatus?[{type:"heading",title:"Workspace Subscription"},{type:"item",title:"Invoices",link:(0,f.Gn)($.Z6.workspaceInvoices,{workspace:t.id})},{type:"item",title:"Payment methods",link:(0,f.Gn)($.Z6.workspacePaymentMethods,{workspace:t.id})},{type:"item",title:"Billing information",link:(0,f.Gn)($.Z6.workspaceBilling,{workspace:t.id})},{type:"item",title:"Change plan",link:(0,f.Gn)($.Z6.workspaceChangePlan,{workspace:t.id})}]:[]),(0,h.Z)(t.willCancelAt?[]:[{type:"item",title:"Cancel subscription",link:(0,f.Gn)($.Z6.workspaceSettingsCancelSubscription,{workspace:t.id}),style:{color:la.red[7]}}]),[{type:"item",title:"Delete Workspace",link:(0,f.Gn)($.Z6.workspaceDelete,{workspace:t.id}),style:{color:la.red[7],marginTop:"3em"}}],(0,h.Z)([]));return(0,ee.jsxs)(ya.T,{backTitle:"Workspace settings",settingsConfig:r,headingName:t.name,headingPicture:t.picture,backLink:(0,f.Gn)($.Z6.workspaceCollection,{workspace:t.id}),children:[(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceSettings,render:function(e){return(0,ee.jsx)(lo,(0,o.Z)((0,o.Z)({},e),{},{activeWorkspace:t}))}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceDelete,render:function(e){return(0,ee.jsx)(Ia,(0,o.Z)((0,o.Z)({},e),{},{activeWorkspace:t}))}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceSettingsMembers,render:function(e){return(0,ee.jsx)(ca,{})}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceTeams,render:function(){return(0,ee.jsx)(ga,{workspace:t.id})}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceInvoices,render:function(e){return(0,ee.jsx)(xo,(0,o.Z)((0,o.Z)({},e),{},{activeWorkspace:t}))}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceBilling,render:function(){return(0,ee.jsx)(Ro,{activeWorkspace:t})}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceSettingsCancelSubscription,render:function(){return(0,ee.jsx)(Oa,{activeWorkspace:t})}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceChangePlan,render:function(){return(0,ee.jsx)(Pa,{activeWorkspace:t})}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceSettingsDevelopment,render:function(){return(0,ee.jsx)(Fa,{activeWorkspace:t})}}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspacePaymentMethods,render:function(e){return(0,ee.jsx)(Ea.Z,{children:(0,ee.jsx)(ja,(0,o.Z)((0,o.Z)({},e),{},{activeWorkspace:t}))})}})]})}var za=n(51886),Ba=n(42404),Va=n(95593),Wa=n(53683);function Ha(){var e=(0,Y.KO)(lu),t=(0,a.Z)(e,1)[0],n=(0,f.k6)(),r=(0,Br.Z)(),i=(0,fo.Z)({endpoint:"/workspace/".concat(t.id,"/admins")}),o=(0,a.Z)(i,2),s=o[0],c=o[1];return(0,u.useEffect)((function(){var e,i;null!==(e=t.blockedUsers)&&void 0!==e&&e.includes((null===(i=r.claims)||void 0===i?void 0:i.id)||"")||!t.id||n.replace((0,f.Gn)($.Z6.workspaceCollection,{workspace:t.id}))}),[t.blockedUsers,t.id,r.claims,n]),(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Va.Z,{withLogo:!0,transparent:!0}),(0,ee.jsxs)(Ba.Z,{className:"bg-altDarker !p-0 w-full h-full",children:[c&&(0,ee.jsx)(K.Z,{size:"medium"}),!c&&(0,ee.jsxs)(Wa.Z,{children:[(0,ee.jsx)("div",{children:(0,ee.jsx)(za.Z,{size:"normal"})}),(0,ee.jsxs)("div",{className:"",children:[(0,ee.jsxs)("h2",{className:"text-xl font-bold my-3 text-center",children:["Seems you are blocked from this workspace.",(0,ee.jsx)("br",{})," Contact your administrator"]}),(0,ee.jsx)("div",{className:"mt-10",children:s&&s.map((function(e){return(0,ee.jsxs)("div",{className:"flex flex-row justify-center items-center",children:[(0,ee.jsx)(yi.Z,{size:40,src:e.picture,name:e.name}),(0,ee.jsx)("div",{className:"ml-4 capitalize font-bold",children:e.name}),(0,ee.jsx)("div",{className:"ml-4",children:(0,ee.jsx)("a",{href:"mailto:".concat(e.email),target:"_blank",children:e.email})})]},e.id)}))})]})]})]})]})}var qa,Ga,Ya,Ka,Qa,Xa,$a,Ja,es,ts,ns,rs,is,os,as,ss,cs,us,ls,ds,fs=function(e){var t=e.link,n=e.className,r=void 0===n?"":n,i=e.children,o=e.onClick;return t?(0,ee.jsx)(H.rU,{to:t,className:"UI-Card UI-Card-hover ".concat(r),children:i}):(0,ee.jsx)("div",{onClick:o,className:(0,X.Z)("UI-Card",{"UI-Card-hover":o},r),children:i})},hs=["title","titleId"];function ps(){return ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ps.apply(this,arguments)}function ms(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vs(e,t){var n=e.title,r=e.titleId,i=ms(e,hs);return u.createElement("svg",ps({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 304.4759743483605 353.37453356314984",width:304.4759743483605,height:353.37453356314984,ref:t,"aria-labelledby":r},i),n?u.createElement("title",{id:r},n):null,qa||(qa=u.createElement("defs",null,u.createElement("style",null,"@font-face{font-family:&quot;Virgil&quot;;src:url(https://plus.excalidraw.com/Virgil.woff2)}@font-face{font-family:&quot;Cascadia&quot;;src:url(https://plus.excalidraw.com/Cascadia.woff2)}"))),Ga||(Ga=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m15.134 58.727 226.757-43.85 53.247 288.69-226.164 38.688",strokeWidth:0,fill:"#00000044"}),u.createElement("path",{d:"M16.514 58.768c82.113-13.781 162.054-30.019 225.998-43.01M16.139 58.167c87.225-15.06 173.708-30.726 225.028-42.423m1.058-.216c9.728 71.39 23.057 141.027 51.729 285.645M242.266 15.306c11.018 74.64 25.019 147.305 52.33 285.982m-1.802.322c-85.784 15.984-176.382 33.263-221.727 42.068m223.446-41.622c-49.412 7.756-99.379 16.204-225.042 40.636m-.47.87C51.925 235.658 30.626 128.016 17.631 55.784m52.01 287.11c-11.87-60.46-23.507-121.37-53.233-285.969",stroke:"#0000",strokeWidth:4,fill:"none"}))),Ya||(Ya=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m10.216 50.576 225.326-38.878 51.511 283.255-224.102 44.408",strokeWidth:0,fill:"#fff"}),u.createElement("path",{d:"M10.32 52.906c50.8-12.476 105.097-22.365 226.15-42.244M9.836 52.05C62.76 40.89 115.62 30.158 234.32 9.544m-.725 1.252c19.476 98.318 38.1 196.143 53.214 284.161M234.715 10.305c17.112 78.945 31.758 159.027 53.525 285.019m.468 1.652c-52.846 9.651-100.427 17.364-227.35 40.473m226.333-40.966c-50.232 8.934-98.972 17.584-224.357 40.49m.37.52C50.845 270.567 39.962 202.827 8.809 52.26m54.138 285.089C45.8 248.637 29.286 159.809 9.376 52.033",stroke:"#343a40",strokeWidth:2,fill:"none"}))),Ka||(Ka=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m39.63 41.836 227.18-6.02.47 296.92-228.9-.42",strokeWidth:0,fill:"#00000044"}),u.createElement("path",{d:"M36.86 38.226c91.01-3.04 179.52-1.38 228.6-3.22m-227.14 4.86c87.76-4.25 175.96-5.05 230.07-.95m-2.65-.25c-2.98 82.07-3.5 165.16 1.28 293.15m1.31-294.51c-1.55 72.29-.61 144.57-1.85 290.44m-2.16 4.65c-54.99.35-121.64-1.56-228.11-3.23m229.82-.71c-72.11 1.15-144.51 1.56-228.24 0m.15-.11c.54-90.52-4.26-175.44 1.3-289.58m-.7 289.76c-1.37-69.58-2.15-137.22.68-290.92",stroke:"#0000",strokeWidth:4,fill:"none"}))),Qa||(Qa=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m32.892 30.098 228.92 3.01-.12 290.69-228.61-.45",strokeWidth:0,fill:"#fff"}),u.createElement("path",{d:"M34.122 31.428c88.53.85 173.92-1.71 229.31-.62m-230.63.36c82.37-2.23 165.57-1.35 229.08-.65m-.29.02c-1.62 97.58-1.28 198.21-.38 291.24m.99-291.01c1.51 97.66.25 195.35-.47 291.83m1.64.19c-85.76.9-168.72 1.29-229.69-.69m228.29-.57c-78.75-.61-159.36-.47-228.63 1.21m1.05-1.85c-1.67-87.06-.21-176.25-2.01-289.18m.6 290.08c.19-79.06 1.04-159.71.45-289.8",stroke:"#343a40",strokeWidth:4,fill:"none"}))),u.createElement("text",{y:17.865,fontFamily:"Virgil, Segoe UI Emoji",fontSize:20.692,style:{whiteSpace:"pre"},transform:"translate(176.29 42.351)"},"Invoice"),Xa||(Xa=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m44.532 44.614 77.46-.45-.53 17.85-75.7-1.5",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M43.542 41.134c26.69.87 49.9.75 80.56.73m-78.83 1.56c21.28-.83 43.61-.52 77.08-.65m-.5 1.87c-.64 2.37.94 8.29-.79 17.14m.46-19.61c.56 5.43 1.44 8.21 1.56 19.82m-2.47-.74c-23.74-.33-49.03-2.04-76.63-.02m77.56-.4c-16.15.57-33.01-.37-77 1.14m.46-.42c-1.15-3.67-.49-8.46-.97-19.3m.95 18.6c.16-3.19-.18-8.95-.25-17.01",stroke:"#0000",fill:"none"}))),$a||($a=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m44.971 84.765 76.87-.37 1.71 53.91-78.14-.25",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M46.901 83.035c26.98.61 55.15.17 75.34-.5m-77.16.16c18.72.01 36.72.38 76.99.51m-.49-.16c1.63 13.52-.36 25.14-.46 57.84m1.15-56.75c.53 10.43.85 24.11.66 54.08m.11.68c-20.95-1.72-44.18.13-79.49 1.65m79.09-.9c-18.74-1.27-37.82-.2-78.34-1.48m-.34 1.39c.67-19.62.32-38.51.06-57.82m1.34 58.19c-.48-21.18-.36-39.35-.31-55.5",stroke:"#0000",fill:"none"}))),Ja||(Ja=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M44.432 149.657h59.57v16.7h-59.57",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M44.432 149.657h59.57m-59.57 0h59.57m0 0v16.7m0-16.7v16.7m0 0h-59.57m59.57 0h-59.57m0 0v-16.7m0 16.7v-16.7",stroke:"#0000",fill:"none"}))),es||(es=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m126.203 149.686 17.86-.25 1.47 16.79-20.02 1.35",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M127.003 149.326c2.94.13 7.09 2.01 17.56.88m-19.18-.03c3.22-.04 6.76.17 19.29-.23m-1.88.96c-.12 5.57-.31 7.27-.52 15.66m2.37-15.47c-.42 4.49-.88 10.35-.8 16.2m-.77-.19c-6.2 1.24-11.19-1.42-18.59.09m19.11.6c-7.29-1.56-12.84-.65-18.18-1.26m-.87-.14c-.23-6.31 1.67-9.85-.01-15.69m.65 17.15c-.01-6.59.01-13.28-.25-17.12",stroke:"#0000",fill:"none"}))),ts||(ts=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m159.243 149.057 47.01.09-1.44 18.05-43.89-1.47",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M158.673 148.937c11.06 2.28 25.13 1.14 44.01 1.84m-44.18-1.17c10.49.35 23.01.04 45.76.79m-.94 1.18c-.3 3-.45 9.52 2.07 16.2m-.56-18.42c-.31 3.41-.12 7.66-.34 17.77m-1.58 1.11c-8.94-2.86-18.05-1.41-42.67-1.39m43.42-.99c-10.9 1.31-23.22.59-44.38.62m-1.24-1.33c1.97-2.66.33-7.25 2.47-15.45m-1.61 17.69c.04-4.18-.18-8.32.52-17.65",stroke:"#0000",fill:"none"}))),ns||(ns=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M218.975 151.554h32.63v16.7h-32.63",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M218.975 151.554h32.63m-32.63 0h32.63m0 0v16.7m0-16.7v16.7m0 0h-32.63m32.63 0h-32.63m0 0v-16.7m0 16.7v-16.7",stroke:"#0000",fill:"none"}))),rs||(rs=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m44.692 174.032 61.21-1.48-1.35 16.37-61.1 2.02",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M45.212 173.342c11.93.69 27.15.22 58.28-.82m-58.17.53c14.12.99 30.2-.01 58.98-.23m-1.87.19c2.27 8.15-.18 15.24 2.94 17.8m-1.37-17.06c-.1 3.85-.81 6.76 0 15.82m-.83.78c-20.32-.38-44.57-1.04-57.28-1.88m58.28 1.17c-12.58.42-25.78.25-60.17.03m-.29.87c2.12-4.05-.39-7.28 2.21-17.22m-1.81 17.25c.74-6.95.43-13.38 1.03-17.38",stroke:"#0000",fill:"none"}))),is||(is=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M125.253 174.32h18.59v16.7h-18.59",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M125.253 174.32h18.59m-18.59 0h18.59m0 0v16.7m0-16.7v16.7m0 0h-18.59m18.59 0h-18.59m0 0v-16.7m0 16.7v-16.7",stroke:"#0000",fill:"none"}))),os||(os=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M159.023 173.941h45.53v16.7h-45.53",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M159.023 173.941h45.53m-45.53 0h45.53m0 0v16.7m0-16.7v16.7m0 0h-45.53m45.53 0h-45.53m0 0v-16.7m0 16.7v-16.7",stroke:"#0000",fill:"none"}))),as||(as=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m217.995 176.14 35.44-.09-1.73 17.5-32.33-2.71",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M218.455 174.42c10.66-.68 22.12 2.77 32.13.45m-31.31-.15c11.59.09 20.87.01 32 1.24m1.7.05c-2.89 5.13-2.87 11.57-1 16.03m-.37-17.26c.48 5.99-.72 11.93.04 17.88m1.42-2.29c-13.18 2.4-21.2 2.04-35.32 2.3m33.43-1.1c-9.48 1-17.31.01-32.03 1.48m1.32-1.13c-.07-4.62-.45-9.74-.85-15.67m.07 15.53c-.62-3.83.06-8.84-.48-16.88",stroke:"#0000",fill:"none"}))),ss||(ss=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M44.812 198.226h59.57v16.7h-59.57",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M44.812 198.226h59.57m-59.57 0h59.57m0 0v16.7m0-16.7v16.7m0 0h-59.57m59.57 0h-59.57m0 0v-16.7m0 16.7v-16.7",stroke:"#0000",fill:"none"}))),cs||(cs=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m125.722 200.374 18.91-2.7 1.29 19.79-20.16-2.96",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M125.262 200.634c4.03-2.04 10.26-.61 17.78-1.1m-18.12-1.43c4.61 1.51 9.7.14 20.19 1.64m-2.22-.76c1.57 5.44 1.98 9.58.64 16.69m.13-17.04c.73 4.5.74 7.35.33 17.66m.42-.3c-5.25.23-8.49-.75-19.57-1.11m19.56.39c-4.51 1.34-9.34-.06-18.85 1.24m1.02-1.47c-.43-3.34-1.68-8.73-1.76-14.65m1.61 14.86c-.58-4.4-1.22-7.82-.03-16.02",stroke:"#0000",fill:"none"}))),us||(us=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m159.803 197.295 46.83 3.09-1.56 13.74-43.69 3.11",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M158.383 198.015c11.59 1.14 19.44.78 45.07 2.44m-44.38-1.35c10.74-1.04 20.84.75 46.19-1.32m.04.7c.29 3.2-1.19 9.37-1.74 18.08m1.41-17.45c-.1 3.26-.38 8.19-.78 15.46m-.49 1.24c-14.53-.97-30.13-1.3-45.47-2.41m46.87 2.79c-16.54-1.7-32.6-.2-45.84-.11m.78.01c-1.34-5.44-1.55-9.02-1.38-17.27m.97 15.92c-.8-4.56.38-10-.19-15.56",stroke:"#0000",fill:"none"}))),ls||(ls=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M219.354 200.123h32.63v16.7h-32.63",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M219.354 200.123h32.63m-32.63 0h32.63m0 0v16.7m0-16.7v16.7m0 0h-32.63m32.63 0h-32.63m0 0v-16.7m0 16.7v-16.7",stroke:"#0000",fill:"none"}))),ds||(ds=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m176.786 73.728 70.14 3.11-1.52 27.59-68.11 1.06",strokeWidth:0,fill:"#9a96f6"}),u.createElement("path",{d:"M175.386 75.498c18.27.93 36.52-2.44 67.69-1.25m-65.47 1.48c23.3-.98 46.66-.96 67.35-.6m-.83-.23c-.67 10.08-.19 15.78 0 29.32m.56-28.58c-.61 8.94.64 20.45.44 27.87m-1.02-.24c-22.58-1.22-42.56 1.05-68.32 1.2m69.08.55c-26.65-.52-53.22-.74-68.59-.51m-.6 1.31c.2-11.59 1.56-20.11-.03-30.36m1.93 28.96c-.73-6.4-.58-14.56-.07-28.62",stroke:"#0000",fill:"none"}))))}var gs,ys,bs,ws,xs,_s,Es,ks,Cs,Ss,js,As,Ts,Is=u.forwardRef(vs),Os=(n.p,["title","titleId"]);function Ds(){return Ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(this,arguments)}function Ns(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ps(e,t){var n=e.title,r=e.titleId,i=Ns(e,Os);return u.createElement("svg",Ds({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 344.85003515220865 262.34856469597764",width:344.85003515220865,height:262.34856469597764,ref:t,"aria-labelledby":r},i),n?u.createElement("title",{id:r},n):null,gs||(gs=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"M29.38 171.287 8.357 76.5l1.848-2.434-.682.822 2.71-1.188-2.074-1.128 281.633-62.45 1.983 1.792 3.76-1.303-.415 2.535 36.427 164.047-.011 4.74-.524 2.598-282.465 58.456-2.798-.072-1.135-.993.736-.097-18.535-72.87",fill:"#fff"}),u.createElement("path",{d:"M31.007 170.814C21.74 132.516 15.439 98.94 10.108 78.31m20.678 92.285c-6.71-34.89-13.969-67.778-20.094-93.607m.233.89c-.514-.82-.588-1.827-.585-2.144m.307 2.184a19.408 19.408 0 0 0-.514-2.242m.15-.257c-.134-.524-.295-.888-.243-1.503m.133 1.66c-.096-.492-.102-.992-.148-1.493m-.03-.086c.259-.465.272-.59.69-1.213m-.66 1.207c.345-.443.492-1.037.744-1.296m-.03-.086c.432-.134.694-.487 1.187-.952m-1.23 1.033c.454-.456 1.004-.8 1.334-1.024m-.173-.945c92.05-17.17 180.109-36.188 278.982-58.144M12.46 71.707c107.086-23.575 214.82-47.709 279.626-59.379m-.542-.425c1.282-.41 2.452-.866 3.113-1.122m-3.004.966c1.007-.504 2.165-.682 3.175-.839m.107-.31c.71.349 1.294.734 2.157 1.51m-2.322-1.28c.684.14 1.179.534 2.61 1.146m.054-.319c-.071 1.141.073 1.427.625 2.566m-.839-2.182a7.32 7.32 0 0 1 .647 2.428m-.972.998c13.717 54.902 26.883 112.224 37.96 162.1M298.503 15.046c10.624 51.754 20.66 101.445 35.276 163.836m.02.046c-.054.933.158 1.634-.327 2.373m.41-2.554c-.122.947-.213 2.092-.093 2.598m.037.033a26.23 26.23 0 0 1-2.012 2.48m1.957-2.5c-.615.799-1.304 1.592-1.57 2.447m-1.197-.243c-69.53 15.001-142.996 31.107-279.141 61.156m279.78-60.516C227.17 207.376 123.04 229.34 50.936 245.214m-.444-.682c-.917.208-1.362.09-1.94.112m1.906-.033c-.425.071-.786.15-1.972.057m.001-.133c-.39-.151-1.064-.24-1.404-.536m1.363.627c-.352-.16-.8-.431-1.388-.744m-.19-.072c-.516-.83-.331-1.156-.762-2.444m.99 2.549a80.853 80.853 0 0 0-1.31-2.51m.733 1.263c-4.476-28.098-11.498-53.437-15.478-71.125m15.618 70.635C43.152 226.3 40 209.835 31.391 170.32m-.627-.396s0 0 0 0m0 0s0 0 0 0",stroke:"#0000",strokeWidth:4,fill:"none"}))),ys||(ys=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m15.583 96.99 286.39-61.17 7.25 28.44-288.04 59.62-5.6-26.89",fill:"#9a96f6"}),u.createElement("path",{d:"M15.583 96.99c113.85-24.31 227.7-48.63 286.39-61.17M15.583 96.99c83.41-17.81 166.83-35.63 286.39-61.17m0 0c2.06 8.09 4.13 16.18 7.25 28.44m-7.25-28.44c1.63 6.4 3.26 12.8 7.25 28.44m0 0c-65.26 13.51-130.53 27.02-288.04 59.62m288.04-59.62c-100.29 20.76-200.59 41.52-288.04 59.62m0 0-5.6-26.89m5.6 26.89c-1.84-8.82-3.67-17.65-5.6-26.89m0 0s0 0 0 0m0 0s0 0 0 0",stroke:"#0000",strokeWidth:2,fill:"none"}))),bs||(bs=u.createElement("path",{d:"M30.616 168.11c-5.536-29.925-14.72-63.913-18.67-91.183m19.366 91.565c-6.073-27.958-12.813-56.97-19.802-91.45m-.848.336c-.007-.602.006-.871-.461-2.612m.525 2.577c-.233-1.034-.42-1.76-.465-2.487m-.041-.002c-.156-.201-.09-.799-.115-1.336m.065 1.439a16.727 16.727 0 0 0-.12-1.457m.07-.2c.078-.252.391-.698.797-1.236m-.771 1.405c.114-.516.409-.856.62-1.392m.146.06c.426-.49.778-.853 1.21-1.171m-1.38 1.044c.565-.367 1.034-.704 1.31-.947m1.338-.432C73.383 59.027 135.082 46.8 293.123 10.984M11.856 71.627C107.84 49.608 204.799 30.06 292.338 10.949m-.618.266c1.156-.474 2.16-.844 3.314-.663m-3.309.355c1.182-.214 2.056-.33 3.213-.754m-.022-.149c.632.416 1.471 1.176 2.229 1.463m-2.211-1.334c.793.545 1.823.957 2.31 1.18m-.012.227c.22.495.682 1.357.918 2.073m-.788-2.326c.109.458.115 1.152.715 2.557m-.707-.625c8.54 41.103 18.21 80.09 36.551 164.297M298.562 14.67c9.972 46.36 21.08 95.43 35.235 163.456m.008.366c.222.464-.259.7.093 2.19m-.065-2.533c-.063 1.036.041 1.71.008 2.596m-.214.384c-.39.422-1.06 1.16-1.399 1.96m1.564-2.333c-.562.622-.799 1.42-1.756 2.435m1.099-1.26c-92.962 19.77-181.93 40.12-281.666 61.639m280.19-59.99c-91.331 20.307-182.851 40.973-280.872 60.29m-.488.3c-.253-.13-.712-.123-1.947.031m2.136-.103c-.54.056-1.122-.034-1.938-.021m.102-.002c-.502-.004-.684-.23-1.694-.883m1.594.894c-.576-.346-1.036-.584-1.535-.763m-.288-.245c.158-.402-.195-1.472-.94-2.314m1.31 2.562c-.484-.919-.911-1.665-1.082-2.55m1.459.075c-6.39-21.65-11.194-44.675-18.459-71.567m17.263 71.712c-5.208-24.042-9.853-45.526-14.666-71.485",stroke:"#343a40",strokeWidth:4,fill:"none",strokeLinecap:"round"})),ws||(ws=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m24.875 172.735-2.47-91.54 1.41-3.43.86-2.17 1.45-1.87.45-.93 285.88 2.56 2.26 1.07 4.65 1.56-2.86 1.39 2.44 167.23-1.63 4.57-.5 1.08-290.83-1.72.4-1.21-3.15-.91-1.15.66 2.06-73.43",fill:"#fff"}),u.createElement("path",{d:"M22.345 175.515c3.55-25.26 1.14-48.69-.28-94.33m1.86 93.08c.71-19.33-.18-39.4.91-93.95m-1 .05c.2-.86.3-2.16-.02-2.47m.17 2.4c.01-.66.06-1.49.01-2.68m-.03.2c.04-.28-.05-.6.24-1.65m-.32 1.6c.07-.51.22-.79.19-1.5m.12.1c.32-.36.44-.67.81-1.26m-.79 1.05c.36-.38.8-.85.91-1.1m-.05-.13c.57.05.84-.15 1.43-.49m-1.36.59c.36-.27.8-.35 1.49-.68m-.99.82c112.5-.73 222.06-.78 287.53-.06m-287.1-1.11c76.93-1.68 153.54-1.35 286.3 1.07m.17-.46c1.33-.15 2.23-.07 3.34-.18m-3.25.18c1.3-.14 2.54.01 3.18-.05m-.12-.01c.98.37 2.03 1.3 2.1 1.78m-1.95-1.82c.72.4 1.4.86 2.28 1.53m-.27-.03c.05.48.45 1.5.52 2.75m-.39-2.78c.11.95.04 1.63.1 2.53m.97.66c-1.11 65.57-1.78 133.29 1.35 169.59m-1.97-169.58c-1.23 61.41-2.18 125.54-.89 167.29m.94.46c.02 1.06-.31 1.57-.65 2.42m.75-2.47c-.36.83-.58 1.81-.69 2.6m.08-.02c-.92.82-1.39 1.41-2.12 1.86m2.05-1.82c-.54.63-1.32 1.19-2.19 1.78m1.51 1.07c-59.59-1.37-117.57-1.56-288.25-2.19m286.86.46c-105.63 1.99-210.46 1.75-287.79 1.39m-.39-.41c-.41-.2-1.31-.42-1.73-.35m1.75.26c-.57-.08-1.14-.26-1.92-.41m-.04-.05c-.44-.21-1.02-.61-1.19-1.02m1.27 1.09c-.46-.38-.96-.67-1.27-1.04m-.27.05c.22-.86-.01-1.97-.32-2.86m.45 2.72c-.22-.82-.32-1.89-.4-2.54m-1.89-1.24c3.42-25.23 1.73-48.17.13-73.31m2.43 73.66c-1.45-16.78-1.76-32.9.24-71.94m-.7-.3s0 0 0 0m0 0s0 0 0 0",stroke:"#343a40",strokeWidth:4,fill:"none"}))),xs||(xs=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M46.93 114.48h23.95l2.93.42 2.09 1.25 1.26 2.09.41 2.93v13.38l-.41 2.93-1.26 2.09-2.09 1.25-2.93.42H46.93l-2.93-.42-2.09-1.25-1.25-2.09-.42-2.93.42-16.31 1.25-2.09L44 114.9l2.93-.42",fill:"#9a96f6"}),u.createElement("path",{d:"M46.93 114.48h23.95m-23.95 0h23.95m0 0c4.46 0 6.69 2.23 6.69 6.69m-6.69-6.69c4.46 0 6.69 2.23 6.69 6.69m0 0v13.38m0-13.38v13.38m0 0c0 4.46-2.23 6.69-6.69 6.69m6.69-6.69c0 4.46-2.23 6.69-6.69 6.69m0 0H46.93m23.95 0H46.93m0 0c-4.46 0-6.69-2.23-6.69-6.69m6.69 6.69c-4.46 0-6.69-2.23-6.69-6.69m0 0v-13.38m0 13.38v-13.38m0 0c0-4.46 2.23-6.69 6.69-6.69m-6.69 6.69c0-4.46 2.23-6.69 6.69-6.69",stroke:"#0000",strokeWidth:2,fill:"none"}))),_s||(_s=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m42.496 165.828 55.57-1.13-.25 20.84-52.75.04",fill:"#9a96f6"}),u.createElement("path",{d:"M41.976 162.698c18.64 2.79 37.7 1.98 55.76.98m-54.51-.31c16.74 1 32.22.54 52.92.24m1.61-.65c-2.46 10.83-1.97 17.94-2.15 23.43m1.45-22.7c-.33 8.22-1.5 17.2-1.57 22.75m-.77 1.75c-16.64-2.06-37.03.15-49.24-3.59m51.65 2.38c-20.37-.49-38.33-.56-53.3-.33m-1.04 1.54c-1.27-9.23 2.44-19.01.27-22.33m1.45 20.93c-1.36-4.81-1.57-11.23-1.53-23.06",stroke:"#0000",strokeWidth:2,fill:"none"}))),Es||(Es=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m106.327 164.698 52.61-1.3.11 22.18-54.95 1.75",fill:"#9a96f6"}),u.createElement("path",{d:"M102.697 165.208c13.08-.42 29.38-1.13 54.7.15m-51.93-1.03c15.35-.02 29.88-.27 52.72.11m-1.82 1.16c.64 7.68.51 16.17 2.84 21.11m-1.4-23.35c-1.02 9.05-1.05 18.16.27 23m.11-.7c-22.01 2.69-39.93-.57-52.5-.42m50.84 1.73c-10.4.26-20.89.01-50.99.02m-2.75.63c3.78-9.48 1.47-16.36.34-22.55m1.23 21.89c-.43-9.11-.48-16.4-.23-21.94",stroke:"#0000",strokeWidth:2,fill:"none"}))),ks||(ks=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m165.546 163.067 52.97.05-2.09 23.88-52.53-.46",fill:"#9a96f6"}),u.createElement("path",{d:"M162.196 164.057c15.14-.97 25.55.7 54.62-.74m-52 .22c10.46-.32 22.79.51 53.1 1.03m-1.59-.38c-.26 4.99 2.23 10.57 2.41 23.2m-2.63-23.92c.04 6 1.51 11.41 1.75 21.72m-1.61 2.35c-18.05-3.45-39.7-2.81-53.96 0m54.4-.97c-18.62.08-37.23.42-51.81-.91m1.08.51c-2.1-7.19-3.16-16.66-.95-20.3m-1.39 19.31c.01-7.27.03-13.61 1.33-21.06",stroke:"#0000",strokeWidth:2,fill:"none"}))),Cs||(Cs=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m228.826 164.108 50.77 1.75.33 21.67-53.11-1.99",fill:"#9a96f6"}),u.createElement("path",{d:"M228.636 164.338c17.04 1.63 35.49-.08 49.81 2.22m-51.4-2.29c17.42 1.01 34.18 1.47 52.45.04m-.13.61c2.41 8.5 2.47 17.69-.28 22.71m.16-22.67c1.28 4.69 1.59 8.62 1.8 22.39m1.06-2.09c-14.96 1.04-31.87 3.67-53.57-.17m51.91 2.22c-18.57.63-37.87-.37-52.26-1.23m-1.37 2.57c-1.26-8.83 1.16-15.75 1.34-24.31m-1.42 22.19c.13-6.71 1.49-15.28 1.25-22.06",stroke:"#0000",strokeWidth:2,fill:"none"}))),Ss||(Ss=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m38.936 213.103 53.19-.47-.25 6.6-51.27 2.63",fill:"#9a96f6"}),u.createElement("path",{d:"M39.376 213.263c16.29-1.57 31.09.68 53.19.28m-52.4-1.2c14.31.78 26.78-.48 52.86-.55m.04.48c-.01 3.14-1.22 5.53-1.47 7.7m.99-7.86c.05 1.87.06 4.6-.41 8.44m1.21-.96c-22.74 2.17-39.55-1.27-52.67.57m52.52 1.19c-18.89-.85-37.51-1.41-53.13.28m-1.29-.56c1.06-2.16 1.05-5.89 1.18-9.37m-.75 9.35c.63-2.1.58-4.24.56-9.1",stroke:"#0000",strokeWidth:2,fill:"none"}))),js||(js=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"m38.605 226.18 70.45-1.99 1.59 11.55-70.23-.25",fill:"#9a96f6"}),u.createElement("path",{d:"M38.655 225.1c17.82 1.84 39.1 1.58 70.17.11m-69.06 1.14c15.41-1.41 33.73-1.17 69.9-1.07m.63.99c-1.17 2.37-1.47 4.03-1.15 7.53m.76-8.51c.07 3.28-.5 5.73-.06 9.73m-2.14 1.09c-11.98-3.84-27.04-2.46-67.8-.89m70.38-1c-23.21-.1-46.85 1.75-71.4.14m.33 1.11c.05-4.54.2-8.14-1.16-10.28m1.13 9.5c-.01-2.54.01-4.78-.5-8.81",stroke:"#0000",strokeWidth:2,fill:"none"}))),As||(As=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M266.466 210.804c2.8.07 6.5 2.38 8.47 4.41 1.97 2.04 3.14 4.79 3.33 7.8.19 3.02-.63 7.87-2.18 10.31-1.55 2.45-4.25 3.82-7.11 4.36-2.87.53-7.51.14-10.08-1.15-2.58-1.28-4.09-4.15-5.39-6.57-1.3-2.41-3.01-5.08-2.42-7.93.58-2.85 3.19-7.37 5.94-9.17 2.75-1.8 8.77-1.57 10.54-1.63 1.77-.06.19 1.19.06 1.27m5.16.77c2.81.93 4.68 2.2 5.66 5 .98 2.8 1.27 8.66.24 11.8-1.04 3.14-3.85 5.63-6.45 7.06-2.59 1.42-6.35 2.25-9.15 1.48-2.8-.76-5.9-3.82-7.67-6.09-1.78-2.27-2.72-4.75-2.97-7.53-.25-2.78-.14-6.92 1.47-9.16 1.62-2.25 5.06-3.8 8.22-4.3 3.16-.51 9.17 1.07 10.76 1.26 1.59.19-.99-.31-1.2-.13",fill:"#4c6ef566"}),u.createElement("path",{d:"M266.726 212.094c2.84.36 6.73 1.4 8.76 3.34 2.04 1.93 3.52 5.36 3.47 8.26-.05 2.89-1.95 6.64-3.75 9.08-1.81 2.44-4.17 4.99-7.06 5.56-2.9.58-7.73-.56-10.31-2.08-2.58-1.53-4.25-4.5-5.16-7.07-.91-2.58-1.29-5.82-.31-8.39.97-2.57 3.3-5.34 6.16-7.02 2.87-1.69 8.82-2.9 11.03-3.09 2.2-.2 2.42 1.73 2.19 1.93m-4.34-.6c3.21-.3 7.34-.17 9 1.97 1.65 2.14 1.06 7.54.92 10.89-.14 3.35-.3 6.87-1.75 9.23-1.45 2.36-4.31 4.55-6.97 4.91-2.66.36-6.5-1.06-8.98-2.73-2.48-1.67-4.65-4.89-5.91-7.28-1.26-2.39-2.26-4.56-1.66-7.07.61-2.5 2.82-6.4 5.3-7.97 2.49-1.56 8.09-.78 9.61-1.44 1.52-.66-.46-2.72-.48-2.51",stroke:"#0000",strokeWidth:2,fill:"none"}))),Ts||(Ts=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M279.608 211.729c2.8-.2 7.01.96 9.16 2.85 2.15 1.89 3.22 5.45 3.74 8.48.51 3.03.85 7.25-.65 9.7-1.51 2.45-5.37 4.03-8.38 5.02-3.01 1-6.92 2.09-9.69.94-2.77-1.15-5.78-5.09-6.93-7.84-1.14-2.75-.52-6.01.06-8.68.58-2.68.99-5.54 3.43-7.36 2.45-1.82 8.98-3.1 11.26-3.55 2.27-.46 2.58.35 2.4.81m-8.79.96c2.3-1.24 4.52-1 7.36-.15 2.85.86 7.84 2.88 9.7 5.29 1.85 2.42 2.04 6.22 1.45 9.21-.59 2.98-2.42 6.63-4.98 8.72-2.56 2.08-7.39 3.92-10.41 3.79-3.01-.13-5.54-2.51-7.66-4.57-2.12-2.05-4.57-5.2-5.06-7.79-.49-2.58.6-5.24 2.13-7.73 1.52-2.48 5.87-6.1 7-7.17 1.12-1.07-.34.46-.28.73",fill:"#228be688"}),u.createElement("path",{d:"M277.928 211.819c2.81-.55 5.75.36 8.02 1.72 2.26 1.36 4.58 3.65 5.55 6.45.97 2.79 1.1 7.58.27 10.32-.83 2.74-2.73 4.66-5.24 6.11-2.51 1.46-6.83 2.99-9.82 2.63-3-.37-6.4-2.59-8.13-4.81-1.73-2.22-2.44-5.62-2.25-8.51.19-2.9 1.43-6.65 3.41-8.87 1.98-2.21 6.54-3.51 8.46-4.42 1.93-.9 3.09-1.15 3.08-1.02m-6.22 2.62c2.08-1.62 4.36-3.84 7.19-3.3s7.76 3.78 9.77 6.53c2.02 2.74 2.69 6.84 2.32 9.93-.38 3.1-2.09 6.5-4.58 8.64-2.49 2.14-7.04 4.12-10.35 4.18-3.3.06-7.41-1.83-9.45-3.81-2.05-1.99-2.46-5.29-2.8-8.11-.33-2.81-.64-6.16.76-8.76 1.41-2.59 6.83-5.79 7.66-6.8.83-1.01-2.75.66-2.68.74",stroke:"#0000",strokeWidth:2,fill:"none"}))))}var Ms=u.forwardRef(Ps);n.p;var Ls=function(e){var t=e.activeWorkspace;return(0,ee.jsxs)("div",{className:"Admin-content",children:[(0,ee.jsxs)("div",{className:"Cards",children:[(0,ee.jsxs)(fs,{link:(0,f.Gn)($.Z6.workspaceCanceledRenew,{workspace:t.id}),children:[(0,ee.jsx)(Ms,{style:{width:"80%"}}),(0,ee.jsx)("p",{className:"my-3",children:"Renew subscription"})]}),(0,ee.jsxs)(fs,{link:(0,f.Gn)($.Z6.workspaceCanceledInvoices,{workspace:t.id}),children:[(0,ee.jsx)(Is,{}),(0,ee.jsx)("p",{className:"my-3",children:"Invoices"})]})]}),(0,ee.jsx)("h4",{className:"text-center text-base my-2 font-bold",children:"or"}),(0,ee.jsx)("div",{className:"text-center",children:(0,ee.jsx)(H.rU,{className:"Perm-remove-link",to:(0,f.Gn)($.Z6.workspaceCanceledDelete,{workspace:t.id}),children:"Permanently delete workspace"})})]})},Rs=n(2624);var Zs,Fs,Us,zs,Bs,Vs,Ws,Hs,qs,Gs,Ys,Ks,Qs,Xs,$s,Js,ec=function(e){var t=e.activeWorkspace,n=(0,fo.Z)({endpoint:"/workspace/".concat(t.id,"/admins")}),r=(0,a.Z)(n,2),i=r[0],o=r[1];return(0,ee.jsxs)("div",{className:"MemberContent",children:[o&&(0,ee.jsx)(K.Z,{size:"small"}),!o&&i&&(0,ee.jsxs)("div",{className:"mb-16",children:[(0,ee.jsx)("p",{className:"my-3",children:"Contact your workspace administrator:"}),(0,ee.jsx)(yi.Z,{size:50,src:i[0].picture,name:i[0].name}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("div",{children:i[0].name}),(0,ee.jsx)("div",{children:(0,ee.jsx)("a",{href:"mailto:".concat(i[0].email),rel:"noreferrer",target:"_blank",children:i[0].email})})]})]})]})},tc=["title","titleId"];function nc(){return nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(this,arguments)}function rc(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ic(e,t){var n=e.title,r=e.titleId,i=rc(e,tc);return u.createElement("svg",nc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 486.119176689926 331.90163727457207",width:486.119176689926,height:331.90163727457207,ref:t,"aria-labelledby":r},i),n?u.createElement("title",{id:r},n):null,u.createElement("svg",nc({xmlns:"http://www.w3.org/2000/svg",width:486.119,height:331.902,ref:t,"aria-labelledby":r},i),n?u.createElement("title",{id:r},n):null,Zs||(Zs=u.createElement("symbol",{id:"a"},u.createElement("image",{width:"100%",height:"100%",href:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4OSAxMzEiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMiIgZmlsbD0iIzM0M2E0MCI+Cgk8cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDg4LjM4NnYxMzAuOTY0SDB6Ii8+Cgk8cGF0aCBkPSJNNzIuNjUyIDYzLjU5OGMtMS4zNjguOTEtMS4xOTEgMi44MzMtLjk1MyA0LjU3Mi43MDIgNS4xMDQuNDcgNS4zMjMgMS4wNzMgNy4wMTYuNjQ5IDEuODI2LjQzMyAyLjU1My0uMDggMy4yOTItLjQwNi41ODgtMS4yMDcgMS4zNzEtMS45MDYgMS41MTYtLjk4LjIwNC0yLjk2Ny4wMS0zLjkyMi0uMjQ2LS42NDMtLjE3NC0xLjI5Mi0uOTQtMS41OTgtMS41My0uMzg5LS43NTEtMS4yNTYtMS45NTEtLjY5NC0zLjU5My41Ni0xLjY0IDEuMzI1LTUuMzc0IDEuMzYzLTYuMTA4LjA5OC0xLjkwNC4wMi0zLjkzNC0xLjA4NS01LjAxNC0xLjEwNC0xLjA4Mi0zLjk0MS0xLjA1NS01LjczOS0xLjAzOC0xLjcyMy4wMTctMy41ODMgMS4yMDctNS4wNDUgMS4xNDEtMS4zNDMtLjA2MS0yLjkzOS0uNjg2LTMuNzI4LTEuNTM2LS43OS0uODUyLTEuMDgyLTIuNDY5LTEuMDA3LTMuNTcuMDc0LTEuMS43MjYtMi4zOTggMS40NTQtMy4wMzMuNzI3LS42MzUgMS45MS0uODY3IDIuOTA5LS43NzcgMS40NzIuMTMgNC4xIDEuMzQyIDUuOTI4IDEuNTY0IDEuNjcuMjAzIDQuMDE2LjUwMSA1LjA0LS4yMjcgMS4wMjEtLjczIDEuMDQ4LTIuNzE3IDEuMDk0LTQuMTQ1LjA3LTIuMDYzLTEuMDIxLTYuNTI4LS42ODMtOC4yMy4yMi0xLjA5OCAxLjcwOS0xLjY5NiAyLjcxNy0xLjk3OSAxLjAwNy0uMjgyIDIuNTIxLS4xMjUgMy4zMjguMjg1Ljc4OC4zOTggMS40OTkgMS4yOSAxLjUxNiAyLjE3My4wMzEgMS42OC0xLjIwOSA1LjY2LTEuMzIyIDcuOTA1LS4wNTggMS4xMzMtLjYxIDMuMTI0LjQ4MiAzLjc2NCAxLjI2NC43NCAyLjk1IDEuNzc4IDcuMS42NzMgMS43NjUtLjQ3IDMuMTU3LS42ODkgNC42Mi0uNjIyIDEuMzQyLjA2IDIuOTM5LjY4NSAzLjcyOCAxLjUzNi43ODcuODUgMS4wOCAyLjQ2OCAxLjAwNiAzLjU2OC0uMDc0IDEuMTAxLS43MjYgMi40LTEuNDU0IDMuMDM1LS43MjcuNjM0LTEuOTA4Ljg2Ni0yLjkwOC43NzctMS40NzMtLjEzLTMuMTY0LS42OC00Ljg4LTEuMjQ4LTIuNTI2LS44MzUtNS4xNzYtLjcwOC02LjM1NC4wNzl6IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KCTxwYXRoIGQ9Ik01MS4zOTYgMjUuODA3YzAgLjIzNy0uMjg1LjQ3NC0uNjE3LjQ3NC0uMjg0IDAtMS4wOSAxLjMyOC0xLjcwOCAyLjk0MS0xLjg5NyA0LjkzNC0yMC44NzMgNDIuNDYtMjAuOTIgNDEuMjczIDAtLjYxNi0uMjg1LTEuMDQzLS43Ni0xLjA0My0uNjY0IDAtLjc1OS4zOC0uNDc0IDIuMjMuMjg0IDIuMTM0LjA5NSAyLjYwOS02LjY0MiAxNS43MDItMy43OTUgNy40NDgtNy44NzUgMTUuMjI4LTkuMDYgMTcuMzE2LTEuMjM0IDIuMTgyLTIuMTgzIDQuNTU0LTIuMjc4IDUuNTUtLjE0MiAxLjcwOC4wNDcgMS45NDUgNC4xNzUgNS41MDMgMi4zNzIgMi4wODggNS40MDggNC42OTcgNi43MzYgNS44ODMgNS45NzggNS40NTYgOC43NzcgNy42MzggOS41MzYgNy40OTYgMS4xMzgtLjE5IDE4LjczOS0xOC42NDQgMTguNzg2LTE5LjY4OCAwLS40NzUtLjg1NC03LjY4NS0xLjg5OC0xNi4wMzUtMS44MDItMTQuMjMyLTMuNTEtMzAuODg0LTMuMzItMzIuNDk3LjE0Mi0uOTk2LS41Ny02LjAyNC0xLjA5Mi04LjIwNy0uNDI2LTEuNzA4LS4yMzctMi40MiAzLjE3OS0xMC4yIDEuOTkyLTQuNjAxIDQuNjAyLTEwLjI0NyA1Ljc0LTEyLjUyNCAxLjA5MS0yLjI3NyAyLjA0LTQuMjcgMi4wNC00LjQxMiAwLS4xNDItLjMzMi0uMjM3LS43MTEtLjIzNy0uMzggMC0uNzEyLjE5LS43MTIuNDc1ek00MC40ODUgNjEuMjQ1Yy41MjIgMy4zMiAxLjU2NSAxMS4yOSAyLjMyNCAxNy42OTUgMS40NyAxMS43NjUgMy4xNzkgMjQuODExIDMuNjUzIDI4LjEzMi4yODUgMS42Ni4wOTUgMS45OTItMi45ODkgNS40MDgtNS4zNiA2LjAyNS0xMS4wNTMgMTEuOTU1LTEyLjk5OCAxMy40NzNsLTEuODAzIDEuNDIzLTkuMjUtOC42MzRjLTguNTQtNy44NzUtOS4yNTItOC42ODEtOC43My05LjYzLjI4NS0uNTIyIDIuNzA0LTQuOTM0IDUuMzYxLTkuNzczIDIuNjU3LTQuODM5IDYuMTY3LTExLjI5IDcuNzgtMTQuMzI3IDEuNjYtMy4wODQgMy4xNzktNS43NCAzLjQ2My01Ljg4Mi4zMzItLjE5LjQyNyA0LjYwMS4zMzIgMTQuOC0uMTkgMTUuMjMtLjE0MiAxNS4yNzcgMS4zNzYgMTQuOTQ1LjE5IDAgLjMzMi03LjY4Ni4zMzItMTcuMDMxVjc0Ljg2bDQuOTgxLTkuOTYzYzIuNzUyLTUuNTAzIDUuMDMtOS45MTUgNS4xMjQtOS44NjcuMDk1LjA0Ny41NyAyLjg0NiAxLjA0NCA2LjIxNXpNMjAuMjI4IDMuODQyYy0zLjUxIDIuNzk5LTguOTE5IDcuNTQzLTEzLjE4OSAxMS42MjNsLTMuMzY4IDMuMTc4LjYxNyA0LjE3NWMuMzMyIDIuMjc3Ljk0OSA2LjczNiAxLjMyOCA5Ljg2Ny40MjcgMy4xMzIuODU0IDYuMDczLjk5NiA2LjUuMTkuNTcgMCAuODU0LS41MjEuODU0LS45MDIgMC0uOTUtLjIzNyAxLjUxOCA3LjU5LjkwMSAyLjk4OSAxLjc1NSA1Ljc0IDEuODUgNi4wMjUuMDk1LjMzMi40NzQuNDc0LjkwMS4zMzIuNDI3LS4xOS42NjQtLjU3LjUyMi0uOTAxLS4xNDItLjM4LjA5NS0uNzYuNDc0LS45MDIuNTIyLS4xOS40NzUtLjU2OS0uMzMyLTEuOTQ1LTEuMjgtMi4xMzQtNC41NTQtMjAuMzUyLTQuNzQ0LTI2LjIzNC0uMTQyLTQuMTc1LS4xNDItNC4yMjIgMS42MTMtNi41OTQgMS43MDgtMi4zMjUgNS42NDYtNS44MzUgMTEuNzE4LTEwLjI5NSAxLjcwOC0xLjI4IDMuNDE2LTIuNzA0IDMuODktMy4xNzguNzEyLS44NTQgMS4wNDQtLjYxNyA3LjAyMSA1Ljc0IDMuNDYzIDMuNjUzIDcuMzA2IDcuNCA4LjU0IDguMzVsMi4yNzcgMS43MDctMS43NTYgMy43Yy0uOTQ4IDEuOTkzLTQuNzkxIDkuNjc4LTguNTg2IDE2Ljk4NC03LjkyMyAxNS4zNy02LjMxIDEzLjktMTUuNTEzIDE0LjA0M2wtNS45NzguMDQ3LTEuOTkyIDIuMjc3Yy0yLjA4OCAyLjQyLTIuMzcyIDMuMzItMS4zNzYgNC44MzkuMzguNTIyLjY2NCAxLjM3Ni42NjQgMS44OTggMCAuODU0LjMzMi45OTYgMi4yMyAxLjA5IDEuMTg2LjA0OCAyLjI3Ny4xOSAyLjQyLjMzMy4xNDIuMTQyLjMzMSAzLjA4My40NzQgNi41NDdsLjE5IDYuMjYyLTMuMTc5IDYuODMxYy01LjI2NiAxMS4zODYtNy4zNTMgMTYuNjA0LTcuMzUzIDE4LjMxMiAwIC45MDEuMTkgMS42Ni4zOCAxLjY2LjQ3NCAwIC40NzQtLjA0NyAxOS43ODItNDAuMzI0IDguOTY2LTE4LjY5MSAxNy40NTgtMzYuMjkyIDE4Ljg4MS0zOS4xODUgMS40MjMtMi44OTQgMi43MDQtNS41NSAyLjc5OS01LjkzLjA5NS0uNDI3LTMuMTc4LTMuNy04LjM5Ny04LjMwMy00LjY5Ni00LjE3NC04LjgyNC03Ljk3LTkuMjAzLTguMzk2LTEuMDkxLTEuMzI5LTIuNzA0LS45MDItNS41OTggMS40MjN6bS0yLjM3MiA2Mi4xNDdjLS4zOC45OTYtMS4zNzYgMy4wODMtMi4xODMgNC42NDktMS4zMjggMi42NTYtMS40NyAyLjc1MS0xLjgwMiAxLjY2LS4xOS0uNjY0LS4zMzItMi42MS0uMzgtNC4zNjQtLjA0Ny0zLjQ2NC0uMTQyLTMuNDE2IDMuODQzLTMuNjUzbDEuMjgtLjA0OC0uNzU4IDEuNzU2em0zLjk4NS03LjU5Yy0yLjE4MyA0LjIyMS0yLjI3NyA0LjI2OS04LjI1NSA0LjU1My01LjI2Ni4yODUtNS4zNi4yMzgtNS4zNi0uNzU5IDAtLjU2OS0uMTktMS4zMjgtLjQyOC0xLjcwOC0uMjg0LS40MjYtLjA5NC0xLjE4Ni41Ny0yLjIzbDEuMDQzLTEuNjEyaDQuNzQ0YzIuNjEtLjA0OCA1LjU5OC0uMjM3IDYuNjQyLS40MjcgMS4wNDQtLjE5IDEuOTQ1LS4yODUgMi4wNC0uMjM3LjA5NS4wNDctLjM4IDEuMTM4LS45OTYgMi40MnptLS4xOS00My4yNjZjLS44NTQuNjE2LTEuMDkxIDEuMjMzLTEuMDkxIDIuNzk5IDAgMS44NS4xNDIgMi4xMzQgMS40MjMgMi42NTYgMS4yOC41MjIgMS42MTMuNDc1IDMuMDg0LS41MjIgMS45NDUtMS4zMjggMS45OTItMS42Ni41NjktMy43OTUtMS4yMzQtMS44NS0yLjQ2Ny0yLjE4Mi0zLjk4NS0xLjEzOHoiIGZpbGwtcnVsZT0ibm9uemVybyIvPgoJPHBhdGggZD0iTTUwLjE0MSAyNC45MTdjLjM1Mi0uNjE1IDEuMDYtMS4wODUgMS45NjctMS4wODUuODA0IDAgMS40NzcuMzQgMS43MzQuNTk3LjM0Mi4zNDIuNDc3Ljc0LjQ3NyAxLjE0IDAgLjA4OS0uMDA2LjMwNS0uMTE5LjYxMi0uMTY4LjQ2MS0xLjA1NiAyLjMzNy0yLjA4IDQuNDcxLTEuMTMxIDIuMjY0LTMuNzI0IDcuODc1LTUuNzA4IDEyLjQ1Ny0xLjY3MSAzLjgwNi0yLjU1OCA1Ljg4MS0yLjk3IDcuMjE2LS4zMDEuOTc1LS4yNzkgMS40MDYtLjEyMyAyLjAzMi41NTggMi4zMyAxLjI3IDcuNzA0IDEuMTIyIDguNzMtLjE4NyAxLjU5NiAxLjUzNyAxOC4wNiAzLjMyIDMyLjEzNiAxLjA1NiA4LjQ0NiAxLjkxIDE1Ljc0IDEuOTEgMTYuMjJsLS4wMDIuMDdjLS4wMDkuMTg0LS4wODcuNjA3LS40NDcgMS4xNC0uNTA2Ljc0Ny0xLjkzMiAyLjQxNC0zLjgwNSA0LjQ3Ni00LjI0MiA0LjY3Mi0xMC44MDYgMTEuNDYtMTMuNjczIDE0LjA1OS0uNjgyLjYxNy0xLjE5OSAxLjAyMy0xLjQ3MiAxLjE4MmExLjg3MiAxLjg3MiAwIDAxLS42MTIuMjM2Yy0uNDEuMDc3LTEuMjI1LS4wMTUtMi4zNS0uNzM3LTEuNDk1LS45NTktNC4xOS0zLjIxNy04LjQ2LTcuMTE0LTEuMzI3LTEuMTg0LTQuMzYtMy43OS02LjcxOC01Ljg2NS0xLjcxMi0xLjQ3Ni0yLjc2Ny0yLjQwNS0zLjQxMS0zLjA5Ni0uNjc3LS43MjctLjk5NC0xLjI5MS0xLjE2LTEuODM5LS4xNjUtLjU0NC0uMTgtMS4wOS0uMTE3LTEuODQ3LjEwNC0xLjEgMS4xMDMtMy43MzcgMi40NjYtNi4xNSAxLjE4Mi0yLjA4IDUuMjQ3LTkuODMzIDkuMDMxLTE3LjI2IDMuMzQtNi40OTEgNS4wNi05Ljg1MyA1LjkwNi0xMS44NTkuNjc3LTEuNjAzLjY5Ni0yLjExMy41ODctMi45My0uMTgtMS4xNjgtLjE5NS0xLjg4NC0uMTExLTIuMzA4LjEtLjUxMS4zMjEtLjg1MS41OC0xLjEuMzQ2LS4zMzEuODEzLS41NSAxLjQ4OC0uNTUuMTk5IDAgLjM5MS4wMjQuNTc0LjA3IDQuMDY4LTcuMjY4IDE4LjA5My0zNS4xNDMgMTkuNzA1LTM5LjMzNC41ODUtMS41MyAxLjM1My0yLjgyMyAxLjc5NC0zLjI4OC4yMjgtLjI0LjQ2Mi0uMzkuNjc3LS40ODJ6TTM4LjcyIDU5LjU3M2E0NDguODM1IDQ0OC44MzUgMCAwMC0zLjA2IDUuOTk1bC00LjgyMyA5LjY0NnYxNi42M2MwIDguNTAxLS4xMjQgMTUuNjQzLS4yODcgMTYuOTg3LS4xNDIgMS4xNjYtMS4wMDIgMS40NjItMS4zODQgMS41MjZsLjE2LS4wMTdjLS42NzEuMTQ3LTEuMjE0LjEzNS0xLjY0Ny0uMDQ3LS40OTUtLjIwOS0xLjA1OC0uNjI5LTEuMzMtMS44MTMtLjMzMi0xLjQzOS0uMzM2LTUuMjAyLS4yMi0xNC41NjMuMDQtNC4yNzIuMDQ3LTcuNTkuMDE2LTkuOTg0LS4zMy41ODItLjY2NiAxLjE4OC0uOTg2IDEuNzgzLTEuNjE1IDMuMDQtNS4xMyA5LjUtNy43OSAxNC4zNDUtMi4zODMgNC4zNC00LjU3NiA4LjMzOC01LjIwNyA5LjQ5My4xMzEuMTg2LjM1Ni40ODkuNjEuNzcgMS4xNjUgMS4yODcgMy40NTEgMy40MjggNy42NjcgNy4zMTZsOC4zMTYgNy43Ni43OTgtLjYzYzEuOTE3LTEuNDk1IDcuNTE3LTcuMzUgMTIuODA4LTEzLjI5NS44OTgtLjk5NSAxLjU0NC0xLjcyIDItMi4yOS4zNy0uNDY0LjU5NC0uNzYuNjc1LTEuMDYuMDY3LS4yNDcuMDA0LS40NzgtLjA1MS0uOGwtLjAwNy0uMDQxYy0uNDc1LTMuMzI0LTIuMTg0LTE2LjM4Mi0zLjY1Ny0yOC4xNjgtLjc1Ny02LjM4NC0xLjc5Ny0xNC4zMjgtMi4zMTctMTcuNjM5bC0uMDA0LS4wMjNjLS4wODktLjYzNS0uMTg1LTEuMjcyLS4yOC0xLjg4MXpNMTkuMjg5IDIuNjdjMS42NzMtMS4zNDMgMy0yLjA5NiA0LjA0LTIuMzY0IDEuNTM3LS4zOTQgMi42ODcuMDA0IDMuNjIxIDEuMTE5LjM5Ni40NCA0LjQ2IDQuMTY1IDkuMDcxIDguMjY0IDQuMjc0IDMuNzY5IDcuMjY1IDYuNjc2IDguMjQ0IDcuOTA5LjY5Ljg2OC42OCAxLjU5OC42MjUgMS44NDQtLjAwMi4wMTMtLjAwNi4wMjYtLjAwOS4wMzgtLjEuMzk4LTEuNDE2IDMuMTk1LTIuOTA4IDYuMjI4LTEuNDIzIDIuODkzLTkuOTEyIDIwLjQ4OC0xOC44NzUgMzkuMTczQzcuNTgxIDk3LjI1MiA0LjQ2NSAxMDMuNzUgMy42IDEwNS4wNThjLS40OTcuNzUxLS44ODUuODU0LTEuMTExLjkyNGExLjcyOSAxLjcyOSAwIDAxLS41MjYuMDc2Yy0uNDIgMC0uOTY0LS4xNDgtMS4zNjgtLjc2Ny0uMjIzLS4zNDItLjUxMS0xLjI4OC0uNTExLTIuMzk0IDAtLjYwNi4xOS0xLjU5Mi42Ny0zLjAzLjk1NS0yLjg2NiAzLjEtNy44NjQgNi44MjEtMTUuOTExbDMuMDMtNi41MTMtLjE3OC01Ljg5YTE1My45MDggMTUzLjkwOCAwIDAwLS4zMy01LjM0NmMtLjM1Mi0uMDQxLS43NzMtLjA4MS0xLjE0LS4wOTYtLjk4LS4wNDktMS42MTYtLjEzMS0yLjAzLS4yNjEtLjY0NS0uMjA0LTEuMDE2LS41MzUtMS4yNjctLjkyOC0uMjIxLS4zNDgtLjM1OC0uNzktLjM1OC0xLjQgMC0uMjgyLS4xNzMtLjczNS0uMzc3LTEuMDE2bC0uMDQtLjA1OWMtLjYyMS0uOTQ1LS44NTktMS43NTctLjc5LTIuNjA4LjA4NS0xLjAyMy43Mi0yLjIyMiAyLjI4My00LjAzNGwxLjYwNy0xLjgzNmMtLjIxOC0uNjg3LS45OTYtMy4xOTktMS44MDctNS44OS0xLjU1OC00Ljk0Mi0yLjEyMi02Ljg0MS0yLjE1Mi03LjU2LS4wMzQtLjgzLjI4Mi0xLjI0NS41Ny0xLjUxYTEuNTMgMS41MyAwIDAxLjQwNi0uMjY1Yy0uMjE3LTEuMjM1LS41NS0zLjQ5OC0uODc1LTUuODc4YTQ4OC44OSA0ODguODkgMCAwMC0xLjMyMy05LjgyOWwtLjYxNy00LjE3NWExLjUgMS41IDAgMDEuNDU1LTEuMzFsMy4zNjEtMy4xNzJjNC4zMDEtNC4xMSA5Ljc0OS04Ljg4OCAxMy4yODctMTEuNzA5em0tMy44NzkgNzEuMzFjLS4zMS4yODMtLjYxMi4zOTQtLjg1OC40NDFhMS41NDcgMS41NDcgMCAwMS0xLjA0LS4xMzJsLjEwMyAzLjQxOHYuMDE4bDEuNzk1LTMuNzQ2em0xMi40MjYgMS40NzNhMjMuNTUgMjMuNTUgMCAwMS0uMjI1LjU1MyA0My45MTIgNDMuOTEyIDAgMDEtLjc2MyAxLjY4NmMuMzI4LS4xMS42NS0uMDk0Ljk2Ni4wMTVsLjAyMi4wMDh2LTIuMjYyem0xLjUyNC0zLjk5NmwtLjAzMi4wMzdhMS41NzUgMS41NzUgMCAwMS0uODYyLjVjLjA0Mi40MTEuMDU3Ljc5OCAwIDEuMjVsLjg5NC0xLjc4N3pNMTYuMjg2IDY1Ljg3Yy0uNTY2LjA1Ni0xLjAzNC4xMTctMS4yNjcuMTQ5LS4wMTQuMTE4LS4wMy4yNzUtLjAzNS40MDgtLjAxMi40LS4wMDEuODg5LjAwNyAxLjQ2Ni4wMDYuMjM3LjAxNC40NzcuMDI0LjcxNi40OS0uOTk3Ljk3LTIuMDIgMS4yNzEtMi43Mzl6bTQuNDg2LTMuMDc2YTQuMzEgNC4zMSAwIDAxLS44OC42NTRjLjEzNi4yMi4yMS40NjkuMjIuNzIxbC4yODEtLjU4NS4zOC0uNzl6bS0uMjk5LTUuMDE3Yy0xLjM4MS4xNjgtMy45OC4zMjQtNi4yOS4zNjVoLTMuOTU2bC0uNTk0LjkyYy0uMTkuMjk4LS4zNi43LS40MjkuODc0LjIxNS40NDQuMzk5IDEuMDczLjQ3OCAxLjY2NmguMDE0Yy43NzEuMDEyIDEuOTY0LS4wNDggMy44MTktLjE0OCAyLjYzLS4xMjUgMy45NzktLjExIDQuODk4LS42MTYuMzI2LS4xOC41NjEtLjQ1My44MTctLjgzLjM3NC0uNTUxLjc1LTEuMjc2IDEuMjQzLTIuMjN6bTQuNTItMy43N2E2LjM0NSA2LjM0NSAwIDAxLTEuMDk4Ljg5MmMuMTU2LjE0MS4zLjMzMy4zODMuNTk1bC43MTQtMS40ODd6bTE1LjI0MS0zLjEyMmMtLjQ3LjkzNC0uOTQxIDEuODY2LTEuNDEgMi43ODkuNi0uMjY0IDEuMTkyLS4wMzQgMS4yODguMDE0LjA3OS4wNC4zMDguMTUuNTE3LjQyNWEyNy4zMzUgMjcuMzM1IDAgMDAtLjIyNC0xLjA0NGMtLjE4NS0uNzQtLjI4OS0xLjMzNi0uMTctMi4xODR6TTI0LjE0OCA1LjM4Yy0uNzU4LjY3My0yLjE5OCAxLjg1Ni0zLjY0OSAyLjk0NC01Ljg5NiA0LjMzLTkuNzM4IDcuNzE3LTExLjQgOS45NzgtLjU5NC44MDMtLjk3IDEuMjc5LTEuMTc3IDEuODAxLS4zMTYuODAyLS4yMTcgMS42ODUtLjE0MyAzLjg1Mi4xMzIgNC4wNjUgMS43NjIgMTQuMDkyIDMuMTU3IDIwLjQ2Ni41NTUgMi41MzUgMS4wMjMgNC40NiAxLjM4MyA1LjA1OS41MjguOS43NzEgMS41Ljg0MiAxLjg4OS4wODguNDg0LjAxNi44Ni0uMTE4IDEuMTY3YTEuODYgMS44NiAwIDAxLS4yNy40NDZsMi42ODctLjAyMWMxLjgyNS0uMDI4IDMuMjIuMDA4IDQuMzQ5LS4wMzguODk3LS4wMzggMS41ODctLjExMSAyLjE4Ny0uMzk2LjcxLS4zMzYgMS4yNi0uOTY4IDEuOTQ4LTIuMDE4IDEuMzEzLTIuMDAzIDIuOTA0LTUuMzE0IDUuNzIxLTEwLjc4MiAzLjc4NS03LjI4NiA3LjYxOC0xNC45NSA4LjU2My0xNi45MzVsMS4yMy0yLjU5My0xLjMxMS0uOTg0Yy0xLjI1OC0uOTY3LTUuMTgyLTQuNzgyLTguNzE3LTguNTEtMi42MDQtMi43NjktNC41Mi00LjYwOC01LjI4Mi01LjMyNXptLTExLjg2IDQ3LjE4MWwtLjAwMS0uMDAzLS4wMjYtLjA2NC4wMjcuMDY3em0tMS41MDMtMS43NjRsLjA1OS0uMDI0YTEuMDcgMS4wNyAwIDAwLS4wNTkuMDI0em00Mi4xMDYtMjQuODg0bC0uMDAyLjAyMi4wMDEtLjAwOS4wMDEtLjAxM3ptLjAwMy0uMDM1bC4wMDItLjA3MS0uMDAyLjA3MXpNMjAuNzczIDEzLjkxN2MtMS4yNDEuODk2LTEuNzEzIDEuNzQtMS43MTMgNC4wMTUgMCAxLjY2My4yNTIgMi40NDQuNzI3IDMuMDAyLjMzNC4zOTEuODIyLjcxNCAxLjYzIDEuMDQzLjc0My4zMDMgMS4yNzUuNDM3IDEuNzcxLjQ0LjczNS4wMDUgMS40NTctLjI1NCAyLjcyLTEuMTA5IDEuNDk1LTEuMDIgMi4wNzItMS44MjUgMi4xOS0yLjYxNS4xMTEtLjc0NC0uMTg4LTEuNzE1LTEuMjE0LTMuMjU0LS44NzItMS4zMDctMS44MDUtMi4wMDYtMi43MjctMi4yNjYtMS4wMzYtLjI5Mi0yLjE1LS4xMDUtMy4zNTYuNzIzbC0uMDI4LjAyem00LjI2MyA0LjI4NWMtLjEyOC0uMjQyLS4zNzUtLjY5LS42NDgtMS4wOTktLjQtLjU5OC0uNjkxLTEuMDMtMS4xMjMtMS4wNTYtLjI0LS4wMTUtLjQ3My4xMjMtLjc0NC4zMDgtLjQ2MS4zMzctLjQ2MS43MjEtLjQ2MSAxLjU3NyAwIC40MTcuMDQuODgzLjA1OCAxLjA2NC4xLjA1Mi4yODIuMTQyLjQzMS4yMDMuMjgzLjExNS40Ny4yMTYuNjYuMjE4LjA4NCAwIC4xNTItLjA1Ny4yNTUtLjExMy4yMTUtLjExNS40Ni0uMjc1Ljc1Ny0uNDc2LjMxMS0uMjEzLjYzMi0uNDcyLjgxNS0uNjI2ek0xOS4yOTMgMi42NjlsLS4wMDUuMDAzLjAwNS0uMDAzeiIvPgo8L3N2Zz4="}))),Fs||(Fs=u.createElement("g",{strokeOpacity:.4,fillOpacity:.4,strokeLinecap:"round"},u.createElement("path",{d:"M160.977 303.954c14.26-.44 33.37-.26 48.94-.06 15.56.19 31.76.51 44.45 1.23 12.68.73 24.03 1.71 31.66 3.11 7.63 1.4 13.27 4.05 14.11 5.29.84 1.24-2.59.99-9.08 2.15s-17.87 3.83-29.87 4.8c-11.99.98-27.04.98-42.1 1.05-15.05.06-32.55-.35-48.23-.66-15.68-.31-32.56-.52-45.85-1.2-13.29-.68-25.49-1.81-33.9-2.88-8.42-1.07-15.01-2.53-16.58-3.53-1.57-1 1.59-1.29 7.14-2.49 5.55-1.19 14.79-3.8 26.15-4.68 11.35-.88 31.38-.13 41.98-.61 10.59-.49 15.93-2.16 21.57-2.31 5.65-.14 11.81 1.01 12.3 1.44m20.64.24c15.21.23 32.17 1.39 45.41 2.17 13.25.79 26 1.64 34.08 2.55 8.09.91 13.03 1.97 14.44 2.93 1.41.97-.44 1.94-5.96 2.86-5.52.92-16.03 1.64-27.16 2.65-11.13 1.02-24.87 2.68-39.62 3.44-14.76.75-32.54 1.2-48.9 1.1-16.36-.1-35.57-1.14-49.26-1.7-13.69-.56-24.1-.75-32.9-1.68-8.79-.94-17.44-2.62-19.88-3.93-2.43-1.31.19-2.33 5.28-3.95 5.08-1.62 14.59-4.67 25.24-5.78 10.66-1.11 24.08-.53 38.7-.88 14.62-.35 38.89-1.33 49.03-1.22 10.14.11 9.85 1.88 11.83 1.87 1.99 0 .25-2.06.08-1.91",fill:"#868e96"}),u.createElement("path",{d:"M153.927 303.524c14.16-.7 33.31-.2 48.92.18s31.47 1.32 44.73 2.09c13.25.78 26.17 1.68 34.78 2.59 8.61.9 14.98 1.58 16.88 2.86 1.9 1.28-.27 3.5-5.48 4.8-5.22 1.3-14.62 2.04-25.8 2.97-11.19.94-26.13 2.25-41.31 2.66-15.18.41-33.81 0-49.76-.2-15.96-.19-32.3-.39-45.98-.97s-26.82-1.58-36.1-2.51c-9.29-.93-16.87-1.81-19.6-3.08-2.73-1.27-1.29-3.07 3.21-4.53 4.49-1.47 13.13-3.35 23.75-4.26 10.63-.92 29.57-1.06 39.99-1.25 10.42-.18 16.57.38 22.52.13 5.95-.24 12.86-1.6 13.21-1.6m-45.49 2.36c12.84-.42 32.8-.34 49.02-.44 16.22-.09 33.56-.4 48.29-.12 14.72.27 29.53 1.08 40.07 1.8s18.52 1.11 23.17 2.5c4.64 1.4 6.5 4.64 4.71 5.87-1.78 1.24-6.78.62-15.41 1.54-8.62.93-22.28 3.09-36.35 4-14.06.92-32.22 1.58-48.04 1.5-15.81-.08-32.03-1.37-46.84-1.98-14.81-.61-30.22-1.19-42-1.69-11.78-.5-22.94-.44-28.69-1.3-5.74-.86-7.44-2.24-5.78-3.88 1.65-1.64 7.86-4.87 15.71-5.96 7.85-1.08 24.13.08 31.39-.54 7.26-.62 9.79-2.7 12.18-3.19 2.39-.49 1.31-.17 2.18.24",stroke:"#0000",strokeWidth:2,fill:"none"}))),Us||(Us=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m405.108 139.913 5.66-14.81 1.94-4.5 5.14-4.76 13.42-.69 7.99 5.08 2.36 1.56-.03 4.51-7.58 4.12-29.41 9.79",fill:"#868e96"}),u.createElement("path",{d:"M405.858 138.733c1.07-3 4.05-13.69 8.23-17.54 4.18-3.84 12.5-6.3 16.85-5.52 4.35.78 13.22 6.35 9.23 10.21-4 3.85-27.64 10.59-33.21 12.91m.72 2.25c.91-3.34 1.74-17.02 6.01-21.59 4.26-4.56 15.15-6.97 19.56-5.81 4.41 1.16 11.49 8.58 6.9 12.79-4.6 4.21-29.14 10.37-34.47 12.47",stroke:"#343a40",strokeWidth:2,fill:"none"}))),zs||(zs=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m301.153 149.753 9.54-14.6 8.15-6.18 9.58-.63 40.37-2.37 20.77 2.64 6.66 4.65-1.41 2.51-4.43 2.34-14.83 1.06-73.17 10.31",fill:"#868e96"}),u.createElement("path",{d:"M301.833 150.053c2.83-2.87 4.07-14.31 15.21-18.56 11.15-4.24 39.05-7.77 51.67-6.91 12.61.87 35.33 7.9 24.03 12.11-11.3 4.2-76.37 10.96-91.84 13.13m.01-.43c3.25-3.18 7.14-15.7 18.26-19.71 11.13-4.01 36.17-5.64 48.51-4.33 12.33 1.3 36.86 7.97 25.5 12.16-11.37 4.19-78.3 11.08-93.69 12.96",stroke:"#343a40",strokeWidth:2,fill:"none"}))),Bs||(Bs=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m289.424 314.454 173.72-4.55 6.63-195.33 6.54-11.04-199.1-80.79-1.64 7.32 187.65 83.12-.01 1.34-174.55 26.51 1.49 173.42",fill:"#ced4da"}),u.createElement("path",{d:"M288.914 313.264c64.02 4.43 135.32 1.76 179.71-5.98m-182.04 7.8c60.31-4.39 118.13-3.94 179.96-4.51m-.83-1.02c4.94-60.9 6.44-114.23-1.39-193.04m2.49 191.75c2-59.13 1.88-118.49.74-193.24m-.51-3.51c.71-1.32 4.92-1.21 4.56-5.09m-4.23 6.31c1.92-2.09 2.67-3.15 5.16-5.62m3.58-.3c-71.39-30.06-137.22-62.48-196.7-85.72m193.03 85.39c-56.71-23.86-113.85-49.99-195.32-88.18m1.95-.21c-3.4 4.62-3.19 4.79-4.5 6.71m3.16-5.82c-1.92 3.66-2.68 6.15-5.05 8.15m3.01.65c72.95 38.11 143.26 68.44 184.76 83.83m-187.57-83.86c63 25.77 128.01 54.41 185.5 83.34m1.28 1.16c.4 1.35 1.23 1.3 1.49 2.16m-1.72-1.76c.62.54 1.06 1.38 1.48 1.5m.95-3.15c-62.4 11.58-116.47 22.57-174.34 30.79m173.35-27.93c-63.61 9.03-127.24 18.88-174.1 27.43m2.05 2.8c-3.29 43.93 2.55 87.56-6 170.73m4.7-173.64c-1.55 46.87-3.34 89.73.2 174.43m-1.64-.76c.34.16.64.09.85.03m-.77.09c.23-.09.51-.06.8-.09",stroke:"#343a40",strokeWidth:4,fill:"none"}))),Vs||(Vs=u.createElement("g",{strokeLinecap:"round"},u.createElement("path",{d:"M223.856 23.519c6.43 1.18 12.9 6.77 16.9 12.1 4 5.32 7.06 13.08 7.12 19.86.06 6.78-2.4 15.73-6.77 20.82-4.37 5.09-12.73 8.73-19.44 9.72-6.7 1-14.92-.29-20.8-3.75-5.87-3.47-12-10.55-14.43-17.04-2.42-6.48-2.4-15.37-.12-21.87 2.27-6.49 7.91-13.62 13.77-17.08 5.86-3.45 16.4-3.65 21.39-3.65 4.98 0 6.23 2.69 8.5 3.65 2.27.95 5.6 1.61 5.12 2.09m-20.86-4.44c6.32-.61 15.67 2.84 21.1 6.75 5.43 3.91 10.03 10.05 11.48 16.72 1.45 6.66.06 16.98-2.76 23.26-2.81 6.27-7.77 11.75-14.11 14.41-6.34 2.65-17.41 3.81-23.92 1.54-6.51-2.27-11.35-9.36-15.14-15.15-3.78-5.8-8.32-13.18-7.58-19.63.73-6.44 6.54-14.28 11.98-19.04 5.45-4.76 17.33-7.93 20.67-9.53 3.35-1.6-.47-.23-.59-.09s-.08.21-.15.92",fill:"#b2b1bb"}),u.createElement("path",{d:"M221.876 22.379c6.62.6 14.56 6.18 19.06 11.41 4.49 5.23 7.77 13.12 7.92 19.99.15 6.88-2.59 15.93-7.03 21.27-4.45 5.34-12.91 9.46-19.62 10.78-6.71 1.32-14.78.28-20.65-2.88-5.86-3.16-11.79-9.85-14.53-16.09-2.73-6.23-3.89-14.76-1.89-21.31 1.99-6.54 7.95-14.03 13.88-17.96 5.94-3.92 17.67-4.89 21.72-5.58 4.05-.69 2.13.92 2.59 1.43.45.52.31 1.29.14 1.66m-20.13-.31c5.69-2.49 14.97-2.23 21.76.11 6.79 2.35 15.06 8.21 18.98 13.96s5.5 13.97 4.53 20.56c-.97 6.6-5.04 14.57-10.35 19.01-5.31 4.44-14.56 7.09-21.51 7.63-6.95.53-15.15-.27-20.2-4.41-5.04-4.13-8.63-13.59-10.07-20.4-1.43-6.81-1.15-14.56 1.49-20.44 2.64-5.87 11.51-12.04 14.37-14.82 2.86-2.78 2.31-1.7 2.79-1.85.49-.15.25.07.13.95",stroke:"#343a40",strokeWidth:4,fill:"none"}))),Ws||(Ws=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m189.42 88.604 14.99 1.87 3.55 5.1-.76 9.27-2.7 20.06-1.97 28.79-3.19 17.1 4.22 11.97 30.88 35.17 5.08 13.9 11.1 33.44 3.13 27.11 1.57 13.93-1.8 5.01-5.63 4.28-9.64-.04-4.82-.19-1.34-6.67-14.8-56.74-2.23-10.97-10.79-8.93-33.56-27.98-7.89-10.21-4.61-12.82-2.63-19.11 3.44-18.36 1.55-13.85 2.58-6.28-7.6 2.05-3.48 3.12-11.46 7-8.67 9.41-16.57 35.75-6.22 2.01-3.44-4.39-.73-7.39 7.57-25.31 10-24.97 6.53-2.33 19.47-10.51 40.8-19.73",fill:"#b2b1bb"}),u.createElement("path",{d:"M191.64 87.324c2.14.91 9.26 2.27 11.99 4.95 2.73 2.67 4.13 5.93 4.39 11.12.26 5.18-1.74 11.39-2.82 19.99-1.08 8.59-3.23 22.23-3.67 31.58-.45 9.35-.44 17.92 1.03 24.52 1.46 6.61 1.68 6.46 7.78 15.12 6.1 8.66 21.29 19.9 28.81 36.85 7.51 16.95 14.61 50.73 16.28 64.85 1.66 14.13-2.07 17.98-6.3 19.93-4.23 1.95-13.84 2.09-19.09-8.23-5.25-10.33-8.13-40.66-12.4-53.72-4.28-13.05-4.52-14.31-13.26-24.6-8.74-10.29-31.01-23.95-39.17-37.14-8.16-13.19-9.13-30.41-9.79-41.97-.66-11.57 8.7-24.79 5.84-27.43-2.87-2.64-17.14 6.08-23.03 11.59-5.88 5.5-8.64 13.74-12.29 21.44-3.66 7.69-6.33 21.18-9.62 24.71-3.29 3.52-8.82-.25-10.11-3.56-1.29-3.31.43-8.62 2.36-16.29 1.94-7.67 5.06-21.96 9.25-29.73s3.52-9.53 15.91-16.9c12.39-7.37 48.85-22.93 58.45-27.31m-1.81 2.57c2.04.64 9.02-1.18 12.37.75 3.34 1.93 7.24 5.12 7.71 10.82.47 5.7-3.14 14.36-4.89 23.39-1.75 9.03-4.77 21.3-5.61 30.78-.84 9.48-1.22 19.78.57 26.1 1.8 6.31 3.97 3.49 10.21 11.78 6.25 8.29 20.1 20.48 27.26 37.94 7.16 17.46 13.68 52.76 15.72 66.82 2.03 14.06.39 15.71-3.52 17.54-3.91 1.83-14.78 3.69-19.93-6.55-5.16-10.24-6.74-42.07-11-54.89-4.27-12.82-5.56-11.75-14.6-22.04s-31.42-26.55-39.66-39.7c-8.24-13.15-9.33-27.78-9.79-39.22-.46-11.44 9.54-26.44 7.03-29.41-2.51-2.98-16.33 6.06-22.07 11.57-5.74 5.5-8.19 13.74-12.37 21.47-4.17 7.72-9.18 21.7-12.68 24.86s-7.06-2.29-8.34-5.92c-1.28-3.64-1.13-8.8.66-15.88 1.78-7.08 5.71-18.96 10.04-26.6 4.32-7.64 3.72-11.95 15.91-19.25 12.19-7.3 47.3-20.31 57.24-24.55",stroke:"#343a40",strokeWidth:4,fill:"none"}))),Hs||(Hs=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m72.954 312.774 48.4-1.41 11.43.13 6.81-10.14 1.44-13.5-2.18-10.25-1.37-23.48-23.78-68.59-6.08-3.86-1.35-.9.12-1.73 17.36-6.36 4.05-10.05-.48-5-13.27 3.74-19.15-7.04-6.42 1.32-.84 2.01 1.89 10.23 1.56 3.64 6.56 6.62-.5 5.58-2.19 2.47-23.65 2.2-4.87 6.05-20.1 16.75-11.14 10.27-7.39 12.26-6.76 14.34-9.77 41.87 1.23 13.52-1.17 7.07 7.11-1.17 9.7 1.39 45.71 3.88",fill:"#9a96f6"}),u.createElement("path",{d:"M73.214 313.184c8.16.11 38.39 1.33 49.24-.39 10.84-1.72 13.17-1.75 15.84-9.91s4.32-19.44.17-39.05c-4.15-19.62-19.63-64.69-25.08-78.63-5.46-13.94-9.66-2.66-7.66-5.03 1.99-2.38 16.34-5.53 19.63-9.2 3.29-3.67 1.92-11.08.11-12.84-1.81-1.75-4.93 2.89-10.97 2.28-6.05-.61-21.3-8.04-25.28-5.93-3.99 2.11-.29 14.56 1.38 18.59 1.66 4.03 8.01 3.51 8.59 5.58.59 2.08.81 4.37-5.1 6.87s-19.54.52-30.37 8.12c-10.82 7.6-25.6 19.34-34.56 37.47-8.95 18.14-19.15 58.22-19.15 71.35-.01 13.12 8.53 5.53 19.1 7.41 10.58 1.87 36.99 3.29 44.36 3.83m-1.65-1.31c8.51-.22 41.91-.19 52.88-1.54 10.97-1.34 10.63 1.13 12.95-6.52 2.32-7.65 5.21-19.47.96-39.36-4.26-19.89-21.19-65.68-26.48-79.99-5.29-14.3-7.53-3.29-5.24-5.83s16.06-6.38 18.98-9.42c2.92-3.04.65-7.62-1.48-8.82-2.12-1.21-5.52 2.72-11.28 1.58-5.75-1.14-19.43-10.4-23.23-8.42-3.81 1.97-.92 16.3.41 20.26 1.32 3.96 6.78 1.75 7.54 3.48.75 1.74 2.27 4.41-3.01 6.93-5.28 2.53-17.78.08-28.68 8.22-10.89 8.14-27.43 22.2-36.7 40.63-9.26 18.44-19.13 57.1-18.87 69.98.26 12.89 10.14 6.09 20.44 7.32 10.3 1.23 34.53-.39 41.36.05",stroke:"#343a40",strokeWidth:4,fill:"none"}))),qs||(qs=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m201.178 121.955 40.027-11.2 9.643-6.273 6.15-7.268 17.1-22.01 13.424-22.782 5.383-14.073-3.442-4.61-8.257-1.842-4.506 2.815-21.456 36.694-9.359 6.476-8.69 9.757-12.174 5.533-25.115-1.35-8.267 2.525-3.303 7.84-.298 4.409.566 6.967 3.436 6.94 8.95 1.147",fill:"#b2b1bb"}),u.createElement("path",{d:"M201.932 123.772c8.467-3.18 36.814-6.735 51.505-19.8 14.682-13.07 32.076-46.398 36.594-58.606 4.518-12.209-5.87-15.574-9.516-14.652-3.646.923-5.066 10.687-12.355 20.202-7.29 9.516-18.523 29.56-31.389 36.886-12.857 7.333-37.846 2.693-45.794 7.093-7.94 4.405-3.711 14.64-1.854 19.334 1.858 4.694 10.86 7.18 12.985 8.833m.136-1.205c8.037-3.304 34.357-5.861 49.091-18.366 14.728-12.497 34.317-44.478 39.291-56.619 4.98-12.149-5.937-16.703-9.431-16.25-3.509.456-4.163 9.698-11.566 18.96-7.403 9.262-20.059 28.991-32.87 36.638-12.807 7.64-35.904 4.498-43.993 9.215-8.08 4.723-6.069 14.861-4.512 19.082 1.556 4.221 11.595 4.67 13.856 6.236",stroke:"#343a40",strokeWidth:4,fill:"none"}))),Gs||(Gs=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m169.468 251.34-33.53 34.13-5.16 10.34-2.09 8.88 2.78 6.95 6.86 4.6 8.18.29 3.95-2.96 9.14-11.83 27.19-31.18 8.64-13.51 1.1-6.82-1.86-7.17-2.1-18.02-20.36-16.46-9.6-.96-.07 1.19.94 5.17 2.55 39.12",fill:"#b2b1bb"}),u.createElement("path",{d:"M168.098 251.44c-6.05 7.72-33.14 35.82-37.38 46.43-4.23 10.61 6.9 16.4 11.96 17.23 5.06.84 9.93-2.8 18.43-12.23s27.15-32.1 32.55-44.35c5.4-12.25 1.73-22.47-.13-29.16-1.85-6.69-5.89-7.28-11.01-10.99-5.11-3.71-17.05-16.82-19.69-11.26-2.64 5.56 3 37.39 3.86 44.6m.06-1.18c-6.14 7.9-32.98 38.04-37.08 48.92-4.11 10.88 7.22 15.6 12.46 16.36 5.24.76 10.05-2.35 18.98-11.81 8.93-9.47 28.98-32.89 34.61-44.98 5.63-12.1 1.22-21.17-.82-27.59-2.05-6.42-5.91-6.84-11.44-10.94-5.54-4.1-19.2-18.7-21.77-13.68-2.57 5.02 5.18 36.68 6.36 43.8",stroke:"#343a40",strokeWidth:4,fill:"none"}))),Ys||(Ys=u.createElement("path",{d:"M378.282 91.992c-.56-.04-3.55-.68-3.33-.26.21.42 3.3 2.68 4.61 2.78 1.3.1 4.06-2.09 3.23-2.18-.82-.09-6.82 1.34-8.18 1.61m3.67-1.95c-.56-.04-3.55-.68-3.33-.26.21.42 3.3 2.68 4.61 2.78 1.3.1 4.06-2.09 3.23-2.18-.82-.09-6.82 1.34-8.18 1.61M294.593 103.98c-.442.346-3.084 1.885-2.638 2.048.438.17 4.244-.239 5.28-1.046 1.03-.801 1.597-4.278.922-3.787-.667.486-4.142 5.581-4.967 6.696m1.403-3.912c-.442.347-3.084 1.886-2.638 2.049.438.17 4.244-.239 5.28-1.046 1.03-.801 1.597-4.278.922-3.787-.667.486-4.142 5.581-4.967 6.696M348.157 11.886c-.473-.302-2.796-2.29-2.803-1.816-.016.47 1.623 3.93 2.727 4.642 1.095.707 4.565.098 3.878-.377-.677-.47-6.633-2.073-7.958-2.484m4.156.035c-.473-.302-2.796-2.29-2.803-1.816-.016.47 1.623 3.93 2.727 4.642 1.095.707 4.565.098 3.878-.377-.677-.47-6.633-2.073-7.958-2.484M310.723 88.097c-.517-.22-3.136-1.799-3.064-1.33.061.466 2.248 3.608 3.454 4.13 1.196.517 4.519-.655 3.763-1.01-.746-.353-6.884-.953-8.258-1.14m4.105-.65c-.517-.22-3.136-1.799-3.064-1.33.061.466 2.248 3.608 3.454 4.13 1.196.517 4.519-.655 3.763-1.01-.746-.353-6.884-.953-8.258-1.14M253.093 17.082c-.535.172-3.547.7-3.185 1.006.352.31 4.063 1.249 5.315.85 1.243-.394 2.982-3.458 2.178-3.23-.794.223-5.82 3.797-6.98 4.557m2.672-3.183c-.535.172-3.547.7-3.185 1.006.352.31 4.063 1.249 5.315.85 1.243-.394 2.982-3.458 2.178-3.23-.794.223-5.82 3.797-6.98 4.557",stroke:"#495057",strokeWidth:2,fill:"none",strokeLinecap:"round"})),Ks||(Ks=u.createElement("path",{d:"M235.554 30.957c-3.5 3.77-17.89 18.18-21.66 21.91m20.49-23.15c-3.67 4.07-18.35 21.14-21.55 24.73M238.871 34.291c-4.9 5.08-24.09 25.24-28.65 30.02m27.09-31.02c-4.61 4.75-20.58 24.08-25 29.18M243.016 40.631c-3 3.22-14.28 15.57-16.97 18.87m18.54-19.63c-3.12 3.35-16.45 17.1-19.44 20.75M244.062 34.571c-3.91 4.72-20.3 24.86-24.76 29.63m23.35-27.43c-3.88 4.88-19.97 24.48-23.8 29.01",stroke:"#343a40",strokeWidth:2,fill:"none",strokeLinecap:"round"})),Qs||(Qs=u.createElement("use",{href:"#a",width:52,height:77,transform:"translate(60.633 217.931)"})),Xs||(Xs=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m280.864 181.05 192.64-20.26-1.69 9.44-190.13 14.48-1.54-3.38",fill:"#868e96"}),u.createElement("path",{d:"M278.754 179.68c72.2-6.21 146.39-12.81 193.79-16.35m-192.32 16.55c72.7-7.8 146.83-13.06 192.21-17.77m-.47.97c-.65 2.28-.36 3.68.77 7.09m-1.41-7.06c.58 2.28 1.01 5.27.74 7.36m1.23-.46c-67.32 4.06-134.1 9.33-193.12 14.12m192.79-13.38c-46.71 3.66-90.01 8.09-191.8 15.62m.42-1.23c-.94-1.09-.49-1.47-1.07-5.65m.38 6.29c.01-2.1-.22-4.48-.64-5.87m.05-.08s0 0 0 0m0 0s0 0 0 0",stroke:"#343a40",strokeWidth:2,fill:"none"}))),$s||($s=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m282.124 230.923 189.33-15.27 1.1 6.89-191.54 17.58-.29-8.54",fill:"#868e96"}),u.createElement("path",{d:"M278.324 231.373c42.84-3.64 85.31-5.11 195.05-15.31m-194.06 16.27c64.21-4.46 129.21-11.56 192.43-16.33m-.56.06c.29.65 1.36 2.7 1.54 7.64m-.99-8.23c.3 1.85.07 4.09.49 7.91m.02-.66c-48.74 3.51-97.72 6.6-192.36 14.71m191.39-14.93c-69.17 7.24-140.96 13.75-191.04 16.91m.64-1.13c.38-.51.08-2.63-.11-4.89m.52 5.51c-.06-1.66-.56-3.14-1.07-5.9m.09-.13s0 0 0 0m0 0s0 0 0 0",stroke:"#343a40",strokeWidth:2,fill:"none"}))),Js||(Js=u.createElement("g",{fillRule:"evenodd",strokeLinecap:"round"},u.createElement("path",{d:"m280.074 285.306 192.12-17.82-.31 9.98-190.29 12.43-.43-2.94",fill:"#868e96"}),u.createElement("path",{d:"M279.864 283.826c57.41-1.36 114.18-6.67 192.48-15.63m-192.55 18.02c59.72-5.58 117.31-9.93 190.96-17.49m.61-1.03c1.08 3.09 1.2 6.21.23 7.57m.43-7.21c-.17 3.42.13 6.3-.16 8.15m-.15-.92c-54.53 2.88-108.7 7.44-189.11 17.74m190.29-17.12c-65.69 4.3-131.33 9.45-192.44 15.99m1.04-.24c-.27-2.1-.22-2.53-1.44-6.78m1.33 6.4c-.61-2.13-.96-4.21-1.23-5.57m.15-.27s0 0 0 0m0 0s0 0 0 0",stroke:"#343a40",strokeWidth:2,fill:"none"})))))}var oc=u.forwardRef(ic);n.p;var ac=function(){var e=(0,f.k6)(),t=(0,Y.KO)(lu),n=(0,a.Z)(t,1)[0],r=(0,u.useState)(null),o=(0,a.Z)(r,2),s=o[0],l=o[1],d=(0,Y.KO)(ue.Y),h=(0,a.Z)(d,2)[1],p=(0,Ta.F)();"loading"===n.status&&(ao.Z,K.Z);var m=function(){var t=(0,i.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("loaded"===n.status){t.next=2;break}return t.abrupt("return");case 2:h({type:"show",title:"Permanently remove workspace",text:'Do you want to delete workspace "'.concat(n.name,'"? This action is irreversible!'),onClose:function(){p.cancelAll()},onConfirm:function(){var t=(0,i.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.Z.delete("/workspace/".concat(n.id));case 3:return t.next=5,p.add((0,Aa.ah)({toNotIncludeWorkspace:n.id}));case 5:e.replace($.Z6.root),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),l(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,ee.jsxs)("div",{className:"DeleteWorkspace",children:[(0,ee.jsx)("div",{className:"image",children:(0,ee.jsx)(oc,{})}),(0,ee.jsx)("h1",{className:"text-center font-bold text-3xl my-3",children:"Permanently remove workspace"}),(0,ee.jsx)("p",{className:"red text-center",children:"Deleting the workspace will disable access for you and all the team members, and permanently remove all data, including access to past invoices."}),(0,ee.jsx)("p",{className:"text-xs color-text-subtitle text-center mx-auto mt-8",style:{maxWidth:"70%"},children:"Not deleting will allow to renew the subscription in the future, keeping your data intact."}),(0,ee.jsxs)("div",{className:"actions",children:[(0,ee.jsx)(pe.Z,{type:"red",onClick:m,children:"Delete workspace"}),(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceCanceled,{workspace:n.id||""}),children:"Cancel"})]}),s&&(0,ee.jsx)(Q.Z,{style:{fontSize:"0.8em"},children:s})]})},sc=function(e){var t=(0,Y.KO)(lu),n=(0,a.Z)(t,1)[0];return(0,Br.Z)().claims&&"loaded"===n.status?n.isAdmin?(0,ee.jsx)(ee.Fragment,{children:e.children}):e.fallback?(0,ee.jsx)(ee.Fragment,{children:e.fallback}):(0,ee.jsxs)(ao.Z,{children:[(0,ee.jsx)(Q.Z,{children:"You do not have permission to access this page."}),e.returnUrl&&(0,ee.jsx)("div",{className:"flex-center mt-8",children:"string"===typeof e.returnUrl?(0,ee.jsx)(pe.Z,{link:e.returnUrl,children:"Go back"}):e.returnUrl})]}):(0,ee.jsx)(ao.Z,{children:(0,ee.jsx)(K.Z,{})})};var cc=function(){var e,t,n=(0,Y.KO)(lu),r=(0,a.Z)(n,1)[0],o=(0,ba.useStripe)(),s=(0,fo.Z)({endpoint:"/workspace/".concat(r.id,"/renew-subscription")}),l=(0,a.Z)(s,2),d=l[0],h=l[1],p=(0,u.useState)(null),m=(0,a.Z)(p,2),v=m[0],g=m[1],y=(0,u.useState)(!1),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=function(){var e=(0,i.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),g(null),e.next=5,he.Z.patch("/workspace/".concat(r.id,"/renew-subscription"));case 5:if(t=e.sent,!(n=t.latest_invoice&&"object"===typeof t.latest_invoice?t.latest_invoice.payment_intent:null)||"object"!==typeof n||"requires_action"!==n.status){e.next=16;break}if(n.client_secret){e.next=13;break}g(new Error("Oops, something went wrong. Try again later or contact us at support@excalidraw.com")),console.error("Payment intent client secret not defined"),e.next=16;break;case 13:if(!o){e.next=16;break}return e.next=16,xa.Z.confirmPaymentIntent({stripePaymentIntentSecret:n.client_secret,stripe:o});case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0),g(e.t0.message),x(!1);case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return r?(0,ee.jsxs)("div",{className:"SubscriptionRenewal",children:[v&&(0,ee.jsx)(Q.Z,{style:{color:la.red[7],fontSize:"13px"},children:v}),w||h||"loading"===r.status?(0,ee.jsx)(K.Z,{className:"my-[100px]"}):(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)("div",{className:"image",children:(0,ee.jsx)(Ms,{})}),(0,ee.jsx)("h2",{className:"text-center text-xl font-bold my-3",children:"Let's renew it"}),(0,ee.jsx)("div",{className:"price-description text-center",children:null===d||void 0===d||null===(e=d[0])||void 0===e||null===(t=e.lines.data[0])||void 0===t?void 0:t.description}),(0,ee.jsx)(Ca,{activeWorkspace:r,className:"Update-card-container",buttonTitle:"Renew subscription",onSuccess:_,contClassName:"justify-between items-center",children:(0,ee.jsx)(H.rU,{className:"flex px-8 mt-8 sm:mt-0",to:(0,f.Gn)($.Z6.workspaceCanceled,{workspace:r.id||""}),children:"Cancel"})})]})]}):(0,ee.jsx)(K.Z,{})};var uc=function(){var e,t,n=(0,Y.KO)(lu),r=(0,a.Z)(n,1)[0],i=(0,fo.Z)({endpoint:"/workspace/".concat(r.id,"/invoices")}),o=(0,a.Z)(i,3),s=o[0],c=o[1],u=o[2];return"loading"===r.status||c?(0,ee.jsx)(ao.Z,{children:(0,ee.jsx)(K.Z,{})}):u?(0,ee.jsx)(Q.Z,{children:u}):(0,ee.jsxs)("div",{className:"Invoices-canceled",children:[(0,ee.jsx)("div",{className:"image",children:(0,ee.jsx)(Is,{})}),!(null===s||void 0===s||null===(e=s.unpaidInvoices)||void 0===e||!e.length)&&(0,ee.jsxs)("div",{className:"mb-3",children:[(0,ee.jsx)("h2",{className:"text-xl font-bold my-3",children:"Past due invoices"}),(0,ee.jsx)(wo,{children:s.pastInvoices.map((function(e){return(0,ee.jsx)(ho,{invoice:e,isPaymentPaused:s.isPaymentPaused},e.id)}))})]}),(0,ee.jsx)("h2",{className:"text-xl font-bold my-3",children:"Invoices"}),s&&(null===s||void 0===s||null===(t=s.pastInvoices)||void 0===t?void 0:t.length)>0?(0,ee.jsx)(wo,{children:s.pastInvoices.map((function(e){return(0,ee.jsx)(ho,{invoice:e,isPaymentPaused:s.isPaymentPaused},e.id)}))}):(0,ee.jsx)(yo,{children:"No past invoices"}),(0,ee.jsx)("div",{className:"actions text-center",children:(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceCanceled,{workspace:r.id||""}),children:"Back"})})]})};var lc=function(){var e=(0,Y.KO)(lu),t=(0,a.Z)(e,1)[0],n=(0,Y.KO)(gi.l),r=(0,a.Z)(n,1)[0],i=(0,Br.Z)().claims,o=(0,f.k6)();return(0,u.useEffect)((function(){t.id&&he.Z.get("/workspace/".concat(t.id,"/refreshSubscriptionStatus"))}),[t.id,o]),(0,u.useEffect)((function(){!(0,Rs.Z)(["canceled","payment_failed","overdue"],t.subscriptionStatus)&&t.id&&o.replace((0,f.Gn)($.Z6.workspaceCollection,{workspace:t.id}))}),[t.subscriptionStatus,t.id,o]),"loaded"===t.status&&i?(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Va.Z,{transparent:!0,withLogo:!1,withMemberInvite:!1,withSidebar:!1}),(0,ee.jsxs)(Ba.Z,{className:"Subscription-canceled-container x-around-bg h-auto pt-0",children:[(0,ee.jsx)("div",{className:"mt-14",children:(0,ee.jsx)(za.Z,{withText:!0,size:"normal",shortenOnMobile:!1})}),(0,ee.jsxs)("div",{className:"Subscription-canceled-content",children:[(0,ee.jsx)("p",{className:"text-xl font-bold mt-12 text-center",children:"The workspace subscription has expired"}),(0,ee.jsx)("div",{className:"flex w-full justify-center mt-6",children:(0,ee.jsx)(qr,{className:"!w-[260px] dark:border dark:border-solid dark:border-gray-20",workspaces:r,activeWorkspace:t})}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceCanceled,children:(0,ee.jsx)(sc,{fallback:(0,ee.jsx)(ec,{activeWorkspace:t}),children:(0,ee.jsx)(Ls,{activeWorkspace:t})})}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceCanceledDelete,children:(0,ee.jsx)(sc,{returnUrl:(0,f.Gn)($.Z6.workspaceCanceled,{workspace:t.id}),children:(0,ee.jsx)(ac,{})})}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceCanceledInvoices,children:(0,ee.jsx)(sc,{returnUrl:(0,f.Gn)($.Z6.workspaceCanceled,{workspace:t.id}),children:(0,ee.jsx)(uc,{})})}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceCanceledRenew,children:(0,ee.jsx)(sc,{returnUrl:(0,f.Gn)($.Z6.workspaceCanceled,{workspace:t.id}),children:(0,ee.jsx)(Ea.Z,{children:(0,ee.jsx)(cc,{})})})}),(0,ee.jsxs)("div",{className:"Contact-us text-center",children:["You can always contact us at ",(0,ee.jsx)("br",{}),(0,ee.jsx)("a",{href:"mailto:support@excalidraw.com",target:"_blank",rel:"noreferrer",children:"support@excalidraw.com"})]})]})]})]}):(0,ee.jsx)(ao.Z,{children:(0,ee.jsx)(K.Z,{})})},dc=n(82329),fc=n(98714),hc=n(88880),pc=n(50638),mc=n(65836),vc=n(84416);var gc=function(){return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Va.Z,{withLogo:!1,transparent:!0}),(0,ee.jsx)(Ba.Z,{className:"bg-altDarker !p-0 w-full h-full",children:(0,ee.jsxs)(Wa.Z,{children:[(0,ee.jsx)("div",{children:(0,ee.jsx)(za.Z,{size:"normal"})}),(0,ee.jsxs)("h2",{className:"text-xl font-bold my-3 text-center",children:["You haven\u2019t created any workspace yet. ",(0,ee.jsx)("br",{})," Let\u2019s change that!"]}),(0,ee.jsx)("div",{className:"mt-10 sm:mt-16",children:(0,ee.jsx)(H.rU,{to:$.Z6.createWorkspaceNameWorkspace,className:"x-reset-link",children:(0,ee.jsx)(ae.zx,{className:"min-w-[300px] font-bold text-base py-4",children:"Create workspace"})})}),(0,ee.jsx)("div",{className:"mt-5",children:(0,ee.jsx)(H.rU,{className:"flex justify-center border-2 border-primary border-solid rounded-md min-w-[300px] font-bold text-base py-4 no-underline text-primary hover:no-underline hover:text-primary-darker",to:$.Z6.userAccount,children:"User settings"})})]})})]})};function yc(){var e,t=(0,Y.KO)(lu),n=(0,a.Z)(t,1)[0],r=(0,vc.B)((0,fc.s)());if("loaded"!==n.status||!n.isAdmin)return null;var i="payment_failed"===n.subscriptionStatus||"overdue"===n.subscriptionStatus,o=null===(e=n.blockedUsers)||void 0===e?void 0:e.length;return(i||o)&&![$.Z6.workspacePaymentMethods,$.Z6.workspaceScene,$.Z6.workspaceCanceled,$.Z6.workspaceInvoices,$.Z6.workspaceCanceledRenew].includes(r.route)?(0,ee.jsx)("div",{className:"fixed bottom-0 w-full text-center bg-yellow-400 z-[1000] p-2 font-bold text-black",children:"payment_failed"===n.subscriptionStatus?(0,ee.jsxs)(ee.Fragment,{children:["Subscription payment failed."," ",(0,ee.jsx)(H.rU,{className:"text-primary",to:(0,f.Gn)($.Z6.workspaceInvoices,{workspace:n.id}),children:"Let's fix that."})," "]}):"overdue"===n.subscriptionStatus?(0,ee.jsxs)(ee.Fragment,{children:["Subscription overdue. Please"," ",(0,ee.jsx)(H.rU,{className:"text-primary",to:(0,f.Gn)($.Z6.workspaceCanceled,{workspace:n.id}),children:"renew the subscription"})," ","at your earliest convenience so you don't lose access."," "]}):o&&i?(0,ee.jsxs)(ee.Fragment,{children:["Some users are blocked due to an unpaid invoice."," ",(0,ee.jsx)(H.rU,{className:"text-primary",to:(0,f.Gn)($.Z6.workspaceInvoices,{workspace:n.id}),children:"Let's change that."})]}):(0,ee.jsxs)(ee.Fragment,{children:["Payment failed."," ",(0,ee.jsx)(H.rU,{className:"text-primary",to:(0,f.Gn)($.Z6.workspaceInvoices,{workspace:n.id}),children:"Let's fix that."})," "]})}):null}var bc=n(68185);var wc=function(e){var t=e.firstAvailableWorkspace,n=e.user;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Va.Z,{withLogo:!0,transparent:!0}),(0,ee.jsx)(Ba.Z,{className:"bg-altDarker !p-0 w-full h-full",children:(0,ee.jsx)("div",{className:"flex flex-col w-full h-full x-around-bg z-0",children:(0,ee.jsxs)("div",{className:"p-4 box-border relative z-10 m-auto max-w-[500px] w-full h-full flex flex-col justify-center items-center",children:[(0,ee.jsx)("div",{className:"select-none pointer-events-none mb-6",children:(0,ee.jsx)("img",{src:"/images/no_access.svg",className:"w-full dark:brightness-200",alt:"No Access"})}),(0,ee.jsx)("h2",{className:"text-xl font-bold my-3 text-center",children:"Workspace doesn't exist or you don't have permission to access it."}),n&&(0,ee.jsxs)("div",{className:"text-center text-base mt-2",children:["You are currently signed in as ",(0,ee.jsx)("br",{})," ",(0,ee.jsx)(bc.ds,{children:(0,ee.jsx)("b",{children:n.email})}),(0,ee.jsx)("br",{})]}),(0,ee.jsxs)("div",{className:"mt-6 text-base",children:["Are you signed in under the ",(0,ee.jsx)("b",{children:"correct account?"})]}),(0,ee.jsxs)("div",{className:"mt-2",children:["You can also ",(0,ee.jsx)(H.rU,{to:$.Z6.signIn,children:"sign in"})," as someone else."]}),(0,ee.jsxs)("div",{className:"mt-10 sm:mt-16 flex flex-col justify-center items-center",children:[t?(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceCollection,{workspace:t}),className:"x-reset-link",children:(0,ee.jsx)(ae.zx,{className:"min-w-[300px] font-bold text-base py-4",children:"Go back to your workspace"})}):(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.workspaceCollection),className:"x-reset-link",children:(0,ee.jsx)(ae.zx,{className:"min-w-[300px] font-bold text-base py-4",children:"Go back"})}),(0,ee.jsxs)("div",{className:"text-xs text-gray-60 mt-4",children:["You can always contact us at"," ",(0,ee.jsx)("a",{href:$.rK.supportEmail,children:"support@excalidraw.com"})]})]})]})})})]})},xc=n(11805),_c=n(64322),Ec=n(7271),kc=n(35210),Cc=n(71299),Sc=(0,kc.Z)((function(e,t){return(0,Cc.Z)(e)?(0,_c.Z)(e,(0,Ec.Z)(t,1,Cc.Z,!0)):[]})),jc=function(e){var t=e.workspaceId,n=(0,f.k6)(),r=(0,u.useCallback)(function(){var e=(0,i.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,(0,ie.aY)({workspace:t,collection:me.qj.private,onPreCreate:function(e){var i;n.push((0,f.Gn)($.Z6.workspaceScene,{workspace:t,scene:e.id})),null===r||void 0===r||null===(i=r.onPreCreate)||void 0===i||i.call(r,e)},files:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t]);return{createPrivateScene:r}};function Ac(e){var t=e.isLoading,n=e.scenes,r=e.onlineWorkspaceUsers,i=e.children;return(0,ee.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-start items-center sm:items-start flex-wrap mt-1",children:[t&&(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Ar,{className:"sm:scale-90 !mt-0 sm:!mt-0 sm:!mx-0"}),(0,ee.jsx)(Ar,{className:"sm:scale-90 !mt-0 sm:!mt-0 sm:!mx-0"})]}),!t&&!!n.length&&n.map((function(e){return(0,ee.jsx)(Ce,{scene:e,users:r[e.id],className:"sm:!mt-0 sm:!mx-0",style:{transform:"scale(0.9)"},draggable:!1},e.id)})),!t&&!n.length&&(0,ee.jsx)("div",{className:"flex flex-col ml-6 mb-6 mt-10",children:(0,ee.jsx)("div",{children:i})})]})}var Tc=function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ids,e.prev=1,r=[],o=n.map(function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.ZP.firestore().collection("scenes").doc(t).get().then(function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Uo.w)(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e),r.push(t),null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=xc.Z,e.next=7,Promise.all(o);case 7:return e.t1=e.sent,e.t2=(0,e.t0)(e.t1),e.t3=r,e.abrupt("return",{scenes:e.t2,erroredScenes:e.t3});case 13:return e.prev=13,e.t4=e.catch(1),console.error(e.t4),e.abrupt("return",{scenes:[],erroredScenes:[]});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Ic=function(e){var t,n=e.userId,r=e.key,i=e.ids;i.length&&(0,l.Dp)(l.ZP.firestore().collection("users").doc(n),(0,Ne.Z)({},r,(t=l.ZP.firestore.FieldValue).arrayRemove.apply(t,(0,h.Z)(i))))},Oc=function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,i,o,a,s,u,l,d,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userId,r=t.state,i=t.ids,o=t.limit,r.length){e.next=9;break}return e.next=4,Tc({ids:i});case 4:u=e.sent,a=u.scenes,s=u.erroredScenes,e.next=21;break;case 9:if(!((l=Sc(i.slice(0,o),r.map((function(e){return e.id})))).length&&r.length<=i.slice(0,o).length)){e.next=20;break}return e.next=13,Tc({ids:l});case 13:d=e.sent,a=d.scenes,s=d.erroredScenes,f=[].concat((0,h.Z)(r),(0,h.Z)(a)),a=(0,Pe._t)(i,f),e.next=21;break;case 20:a=(0,Pe._t)(i,r);case 21:return e.abrupt("return",{scenes:a.filter((function(e){return!e.isPrivate||e.creator===n})).slice(0,o),erroredScenes:s||[]});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dc=function(e){var t=e.userData,n=e.sceneListKey,r=e.sceneIds,o=e.limit,s=(0,u.useState)(!1),l=(0,a.Z)(s,2),d=l[0],f=l[1],h=(0,u.useState)([]),p=(0,a.Z)(h,2),m=p[0],v=p[1],g=(0,u.useRef)(m);g.current=m;var y=null===t||void 0===t?void 0:t.id;return(0,u.useEffect)((function(){y&&(null!==r&&void 0!==r&&r.length?(0,i.Z)(c().mark((function e(){var t,i,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.current.length||f(!0),e.next=3,Oc({userId:y,state:g.current,ids:r,limit:o});case 3:t=e.sent,i=t.scenes,a=t.erroredScenes,f(!1),v(i),n&&Ic({userId:y,key:n,ids:a});case 9:case"end":return e.stop()}}),e)})))():v([]))}),[r,y,n,o]),[m,d]};var Nc=function(){(0,Ie.j)("Dashboard");var e=(0,Y.KO)(cu),t=(0,a.Z)(e,1)[0],n=(0,Y.KO)(lu),r=(0,a.Z)(n,1)[0],i=(0,Y.KO)(gi.l),o=(0,a.Z)(i,1)[0],s=(0,Br.Z)().userData,c=Dc({userData:s,sceneIds:(null===s||void 0===s?void 0:s.lastEditedScenes)||null,sceneListKey:"lastEditedScenes",limit:5}),l=(0,a.Z)(c,2),d=l[0],h=l[1],p=Dc({userData:s,sceneIds:(null===s||void 0===s?void 0:s.lastVisitedScenes)||null,sceneListKey:"lastVisitedScenes",limit:5}),m=(0,a.Z)(p,2),v=m[0],g=m[1],y=Dc({userData:s,sceneIds:(0,u.useMemo)((function(){return Object.keys(t)}),[t]),sceneListKey:null,limit:10}),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=jc({workspaceId:r.id}).createPrivateScene;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Ni,{}),(0,ee.jsxs)(je.Z,{permanent:!0,children:[(0,ee.jsx)(qr,{activeWorkspace:r,workspaces:o}),(0,ee.jsx)(vi,{activeWorkspace:r,withSettings:!0}),(0,ee.jsx)(Zr,{activeWorkspace:r,activeCollection:""})]}),(0,ee.jsxs)(Fr.jB,{withPermaSidebar:!0,className:"bg-altDarker pb-6",children:[(0,ee.jsx)(Pi,{children:(0,ee.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("div",{className:"flex items-center font-bold ",children:[(0,ee.jsx)(J.QG,{className:"mr-3 w-7 h-7"})," Dashboard"]}),(0,ee.jsxs)("div",{className:"text-xs mt-1 text-gray-80 font-normal",children:["TIP: change the default home page in"," ",(0,ee.jsx)(H.rU,{className:"text-primary",to:(0,f.Gn)($.Z6.userPreferences),children:"preferences"})]})]}),(0,ee.jsx)("div",{children:(0,ee.jsx)(zo.u,{label:(0,ii.m)({shortcut:"Create a new private scene \u2014 Alt+A"}),children:(0,ee.jsx)(ae.F6,{onClick:function(){return _()},children:(0,ee.jsxs)("div",{className:"flex",children:[(0,ee.jsx)("div",{className:"flex justify-center items-center mr-2",children:(0,ee.jsx)(J.Ou,{className:"text-xl"})})," ","Start drawing"]})})})})]})}),(0,ee.jsx)("h3",{className:"mb-0 mt-3 text-lg my-2 font-bold text-primary",children:"Recently modified by you"}),(0,ee.jsxs)(Ac,{isLoading:h,scenes:d,onlineWorkspaceUsers:t,children:[(0,ee.jsx)("div",{className:"font-drawn text-gray-50 text-lg",children:"You have not modified any scenes yet."}),(0,ee.jsxs)("div",{className:"text-xs text-gray-60 font-normal mt-2 mb-6",children:["You can create a new scene in any collection."," ",(0,ee.jsx)("span",{className:"x-link-like",onClick:function(){return _()},children:"Create a new scene"})," ","in your"," ",(0,ee.jsx)(H.rU,{className:"no-underline",to:r.id?(0,f.Gn)($.Z6.workspacePrivateCollection,{workspace:r.id}):"",children:"private"})," ","collection."]})]}),(0,ee.jsx)("h3",{className:"mb-0 mt-1 text-lg my-2 font-bold text-primary",children:"Recently visited by you"}),(0,ee.jsx)(Ac,{isLoading:g,scenes:v,onlineWorkspaceUsers:t,children:(0,ee.jsx)("div",{className:"font-drawn text-gray-50 text-lg",children:"Nothing to show yet"})}),(0,ee.jsx)("h3",{className:"mb-0 mt-1 text-lg my-2 font-bold text-primary",children:"Team-members currently at..."}),(0,ee.jsx)(Ac,{isLoading:x,scenes:w,onlineWorkspaceUsers:t,children:(0,ee.jsx)("div",{className:"font-drawn text-gray-50 text-lg",children:"No one here is currently active"})})]})]})},Pc=function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,i,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userId,r=t.startAfter,i=l.ZP.firestore().collection("notifications"),!r){e.next=7;break}return e.next=5,i.where("userId","==",n).orderBy("created","desc").startAfter(r).limit(5).get();case 5:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return(0,o.Z)({id:e.id},e.data())})));case 7:return e.next=9,i.where("userId","==",n).orderBy("created","desc").limit(15).get();case 9:return s=e.sent,e.abrupt("return",s.docs.map((function(e){return(0,o.Z)({id:e.id},e.data())})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mc={status:"initial",data:[],error:null,hasMore:!1};function Lc(e){var t=e.notification,n=e.user,r=e.text,i=e.icon,o=(0,f.Gn)($.Z6.workspaceScene,{scene:t.contentData.scene,workspace:t.contentData.workspace}),a="".concat(o,"?comment=").concat(t.contentId),s=function(){t.read||_i.markAsRead(t.id)};return(0,ee.jsxs)("div",{className:"relative flex items-start space-x-5",children:[(0,ee.jsxs)("div",{className:"relative shrink-0",children:[(0,ee.jsx)(yi.Z,{className:"!h-12 !w-12 shrink-0",name:(null===n||void 0===n?void 0:n.name)||"Anonymous",src:(null===n||void 0===n?void 0:n.picture)||""}),(0,ee.jsx)("span",{className:"absolute -bottom-0.5 -right-1 bg-altDarker rounded-tl px-0.5 py-px",children:i})]}),(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("div",{className:"min-w-0 flex-1 flex flex-wrap items-center gap-x-1 gap-y-px",children:[(0,ee.jsx)("div",{className:"text-color-text",children:null===n||void 0===n?void 0:n.name}),(0,ee.jsxs)("div",{className:"text-gray-60",children:[(0,ee.jsxs)(H.rU,{className:"x-reset-link hover:underline font-bold",to:a,onClick:s,children:[r," "]}),(0,ee.jsx)("span",{children:"in"})]}),(0,ee.jsx)(H.rU,{className:"x-reset-link font-bold text-gray-70 hover:underline flex flex-wrap items-center",to:o,onClick:s,children:(0,ee.jsxs)("span",{children:[(0,ee.jsx)(J.Ou,{className:"mr-1 w-5 h-5 inline-block align-text-bottom"}),t.contentData.sceneName]})})]}),(0,ee.jsxs)("div",{className:"flex flex-wrap items-center mt-1 gap-x-3",children:[(0,ee.jsxs)("span",{className:"flex items-center",children:[(0,ee.jsx)(J.tH,{className:"mr-1"})," ",(0,G.Z)(t.created)]}),(0,ee.jsx)("div",{className:"mt-1",children:!t.read&&(0,ee.jsx)("div",{className:"relative",children:(0,ee.jsxs)(qo.Z,{className:"text-color-text bg-primary-light",children:[(0,ee.jsxs)("div",{className:"flex h-3 w-3 relative mr-1.5",children:[(0,ee.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 dark:bg-indigo-200 opacity-75"}),(0,ee.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-indigo-500 dark:bg-indigo-300"})]}),"Unread"]})})})]})]})]})}var Rc=function(e){var t=e.notification,n=e.user;switch(t.type){case me.GT.SCENE_COMMENT_ADDED:return(0,ee.jsx)(Lc,{notification:t,user:n,text:"posted a comment",icon:(0,ee.jsx)(J.Uw,{className:"w-5 h-5"})});case me.GT.SCENE_COMMENT_MENTIONED:return(0,ee.jsx)(Lc,{notification:t,user:n,text:"mentioned you",icon:(0,ee.jsx)(J.sW,{className:"w-5 h-5"})})}};function Zc(e){var t=e.notification,n=e.isLastItem,r=(0,_e.Z)().userList.find((function(e){return e.id===t.creator}));return(0,ee.jsxs)("div",{className:"relative pb-14",children:[!n&&(0,ee.jsx)("span",{className:"absolute top-6 left-6 -ml-px h-full w-0.5 bg-gray-20","aria-hidden":"true"}),Rc({notification:t,user:r})]})}function Fc(){return(0,ee.jsx)("div",{className:"relative pb-14",children:(0,ee.jsxs)("div",{className:"relative flex items-start space-x-5",children:[(0,ee.jsx)("div",{className:"relative",children:(0,ee.jsx)(kr,{className:"h-12 w-12 mr-0"})}),(0,ee.jsxs)("div",{className:"min-w-0 flex-1 text-sm",children:[(0,ee.jsx)("div",{className:"text-color-text",children:(0,ee.jsx)(Cr,{className:"!mt-2 !h-3 !w-96"})}),(0,ee.jsxs)("div",{className:"text-gray-60 flex flex-wrap items-center mt-1 gap-x-3",children:[(0,ee.jsx)(Cr,{className:"!mt-2 !h-3 !w-24"}),(0,ee.jsx)(Cr,{className:"!mt-2 !h-3 !w-20"})]})]})]})})}var Uc=Math.ceil,zc=Math.max;var Bc=function(e,t,n,r){for(var i=-1,o=zc(Uc((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a},Vc=n(78744);var Wc=function(e){return function(t,n,r){return r&&"number"!=typeof r&&(0,Yr.Z)(t,n,r)&&(n=r=void 0),t=(0,Vc.Z)(t),void 0===n?(n=t,t=0):n=(0,Vc.Z)(n),r=void 0===r?t<n?1:-1:(0,Vc.Z)(r),Bc(t,n,r,e)}}(),Hc=function(e,t){return Hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Hc(e,t)};var qc=function(){return qc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qc.apply(this,arguments)};var Gc="Pixel",Yc="Percent",Kc={unit:Yc,value:.8};function Qc(e){return"number"===typeof e?{unit:Yc,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:Gc,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:Yc,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Kc):(console.warn("scrollThreshold should be string or number"),Kc)}var Xc=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,r){var i,o=!1,a=0;function s(){i&&clearTimeout(i)}function c(){var c=this,u=Date.now()-a,l=arguments;function d(){a=Date.now(),n.apply(c,l)}function f(){i=void 0}o||(r&&!i&&d(),s(),void 0===r&&u>e?d():!0!==t&&(i=setTimeout(r?f:d,void 0===r?e-u:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),c.cancel=function(){s(),o=!0},c}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}Hc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?qc(qc({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=Qc(t);return r.unit===Gc?e.scrollTop<=r.value+n-e.scrollHeight+1:e.scrollTop<=r.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,r=Qc(t);return r.unit===Gc?e.scrollTop+n>=e.scrollHeight-r.value:e.scrollTop+n>=r.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=qc({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return u.createElement("div",{style:r,className:"infinite-scroll-component__outerdiv"},u.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&u.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},u.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(u.Component),$c=Xc;function Jc(){var e;(0,Ie.j)("Notifications");var t=(0,Y.KO)(lu),n=(0,a.Z)(t,1)[0],r=(0,Y.KO)(gi.l),s=(0,a.Z)(r,1)[0],d=(0,Br.Z)(),f=(0,u.useState)(),p=(0,a.Z)(f,2),m=p[0],v=p[1],g=function(e){var t=e.userId,n=e.startAfter,r=(0,u.useState)(Mc),s=(0,a.Z)(r,2),d=s[0],f=s[1];return(0,u.useEffect)((function(){f((function(e){return(0,o.Z)((0,o.Z)({},e),{},{status:"loading"})}));var e=function(){var e=(0,i.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pc({userId:t,startAfter:n});case 3:r=e.sent,f((function(e){return(0,o.Z)((0,o.Z)({},e),{},{hasMore:r.length>=5,status:"loaded",data:n?e.data.concat(r):r})})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),f((function(e){return(0,o.Z)((0,o.Z)({},e),{},{status:"error",error:n?"Couldn't fetch more notifications.":"Couldn't fetch notifications."})}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,t]),(0,u.useEffect)((function(){var e=l.ZP.firestore().collection("notifications").where("userId","==",t).orderBy("created","desc").limit(1).onSnapshot((function(e){e.forEach((function(e){var t=(0,o.Z)({id:e.id},e.data());f((function(e){return e.data.length?e.data[0].created<t.created?(0,o.Z)((0,o.Z)({},e),{},{data:[t].concat((0,h.Z)(e.data))}):e:(0,o.Z)((0,o.Z)({},e),{},{data:[t]})}))}))}));return function(){e()}}),[t]),{notifications:d}}({userId:null===(e=d.userData)||void 0===e?void 0:e.id,startAfter:m}),y=g.notifications;return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(Ni,{withNotifications:!1}),(0,ee.jsxs)(je.Z,{permanent:!0,children:[(0,ee.jsx)(qr,{activeWorkspace:n,workspaces:s}),(0,ee.jsx)(vi,{activeWorkspace:n,withSettings:!0}),(0,ee.jsx)(Zr,{activeWorkspace:n,activeCollection:""})]}),(0,ee.jsxs)(Fr.jB,{id:"scroll-container",withPermaSidebar:!0,className:"bg-altDarker pb-6",children:[(0,ee.jsx)(Pi,{children:(0,ee.jsx)("div",{className:"flex items-center",children:"Notifications"})}),(0,ee.jsxs)("div",{className:"h-full",children:[!y.data.length&&"loaded"===y.status&&(0,ee.jsx)(Fi.Z,{label:"You currently don't have any notifications to review.",imgSrc:"/images/nothing_in_collection.svg"}),(0,ee.jsxs)("div",{className:"mx-4 md:mx-0 my-8",children:["loading"===y.status&&!m&&Wc(0,5).map((function(e){return(0,ee.jsx)(Fc,{},e)})),(0,ee.jsx)($c,{dataLength:y.data.length,hasMore:y.hasMore,scrollableTarget:"scroll-container",next:function(){var e,t=null===(e=y.data[y.data.length-1])||void 0===e?void 0:e.created;v(t)},loader:(0,ee.jsx)(Fc,{}),scrollThreshold:.75,endMessage:(0,ee.jsx)("div",{className:"flex pb-4 sm:pb-8 font-drawn text-gray-40 ml-12",children:"No more notifications"}),children:y.data.map((function(e,t){return(0,ee.jsx)(Zc,{notification:e,isLastItem:t===y.data.length-1},e.id)}))})]}),"error"===y.status&&(0,ee.jsx)(Q.Z,{style:{textAlign:"left"},children:y.error})]})]})]})}var eu=!0;var tu=function(e){var t,n,r,i=e.routeContextStable,o=e.activeWorkspace,a=(0,Br.Z)(),s=null===(t=a.claims)||void 0===t?void 0:t.orgs[0],c=null===o||void 0===o||null===(n=o.blockedUsers)||void 0===n?void 0:n.includes((null===a||void 0===a||null===(r=a.claims)||void 0===r?void 0:r.id)||""),l=i.route;(0,u.useLayoutEffect)((function(){var e=i.params.workspace===o.id;if(!(0,Rs.Z)([$.Z6.workspaceCanceled,$.Z6.workspaceCanceledDelete,$.Z6.workspaceCanceledInvoices,$.Z6.workspaceCanceledRenew],l)&&e&&"canceled"===o.subscriptionStatus)return i.history.push((0,f.Gn)($.Z6.workspaceCanceled,{workspace:o.id}));if(e&&o.id&&c&&l!==$.Z6.workspaceBlocked)return i.history.push((0,f.Gn)($.Z6.workspaceBlocked,{workspace:o.id}));var t=l===$.Z6.root;if(a.userData&&t){var n=i.params.workspace||a.userData.defaultWorkspace||s;if(n){var r,u=null===(r=a.userData.preferences)||void 0===r?void 0:r.initialRedirect;if(u&&eu)switch(eu=!1,u){case"dashboard":return i.history.replace((0,f.Gn)($.Z6.workspaceDashboard,{workspace:n}));case"privateCollection":return i.history.replace((0,f.Gn)($.Z6.workspacePrivateCollection,{workspace:n}));case"lastEditedScene":var d=a.userData.lastEditedScenes;if(null!==d&&void 0!==d&&d.length)return i.history.replace((0,f.Gn)($.Z6.workspaceScene,{workspace:n,scene:d[0]}));break;case"lastVisitedScene":var h=a.userData.lastVisitedScenes;if(null!==h&&void 0!==h&&h.length)return i.history.replace((0,f.Gn)($.Z6.workspaceScene,{workspace:n,scene:h[0]}))}return i.history.replace((0,f.Gn)($.Z6.workspaceDashboard,{workspace:n}))}}}),[l,o.subscriptionStatus,o.id,a.userData,s,c,i.history,i.params.workspace,i.params.scene])},nu=n(19045),ru=function(){var e,t=(0,Br.Z)(),n=(0,u.useState)(!1),r=(0,a.Z)(n,2),i=r[0],o=r[1];return(0,u.useEffect)((function(){var e=new URLSearchParams(window.location.hash.slice(1));e.has($.ah.ossRedirect)&&(o(!0),e.delete($.ah.ossRedirect),window.location.hash="#".concat(e.toString()))}),[]),i&&null!==(e=t.claims)&&void 0!==e&&e.id&&!nu.m.get(nu.m.NO_AUTO_REDIRECT_MODAL)?(0,ee.jsxs)(q.u,{title:"Auto-redirect",autoFocus:!1,maxWidth:600,onCloseRequest:function(){return o(!1)},children:[(0,ee.jsx)("p",{className:"mt-2",children:"Should we automatically redirect you to Excalidraw Plus when accessing excalidraw.com?"}),(0,ee.jsxs)("p",{className:"my-3",children:["You can change this in your"," ",(0,ee.jsx)(H.rU,{to:(0,f.Gn)($.Z6.userPreferences),children:"preferences"}),", later."]}),(0,ee.jsx)("video",{src:"https://excalidraw.nyc3.cdn.digitaloceanspaces.com/excalidrawplus/excalidrawplus-autoredirect-overview.mp4",autoPlay:!0,muted:!0,playsInline:!0,loop:!0,className:"border shadow-md shadow-gray-300 border-solid border-gray-300 rounded-md mb-4"}),(0,ee.jsxs)("div",{className:"flex justify-end items-center gap-4",children:[(0,ee.jsx)(pe.Z,{type:"plain",onClick:function(){return o(!1)},children:"Ask me later"}),(0,ee.jsx)(pe.Z,{autoFocus:!0,onClick:function(){var e;Mi.Z.setAutoRedirectFromOssEditor({shouldRedirect:!0,user:null===(e=t.claims)||void 0===e?void 0:e.id}),nu.m.set(nu.m.NO_AUTO_REDIRECT_MODAL,!0),o(!1)},children:"Redirect me automatically"})]}),(0,ee.jsxs)("div",{className:"ml-auto mt-2 text-gray-60 cursor-pointer text-xs hover:underline",onClick:function(){nu.m.set(nu.m.NO_AUTO_REDIRECT_MODAL,!0),o(!1)},children:["Do not show me this message again"," "]})]}):null},iu=n(6427),ou=(0,Y.cn)(!1),au=(0,Y.cn)({}),su=(0,Y.cn)(!1),cu=(0,Y.cn)({}),uu=(0,Y.cn)(null),lu=(0,Y.cn)({status:"initializing",error:null,id:null,roles:null,name:null,subscriptionStatus:null,willCancelAt:null,blockedUsers:[],isAdmin:null}),du=(0,Y.cn)({status:"loading",error:null,userList:[],inviteList:[]}),fu=(0,Y.cn)({workspace:null,scenes:[],status:"loading",error:null}),hu=new Map;function pu(){var e,t,n,s,h,p,m=(0,vc.B)((0,fc.s)()),v=(0,Y.KO)(lu),g=(0,a.Z)(v,2),y=g[0],b=g[1],w=(0,Y.KO)(du),x=(0,a.Z)(w,2)[1],_=(0,Y.KO)(fu),E=(0,a.Z)(_,2)[1],k=(0,Y.KO)(fi),C=(0,a.Z)(k,1)[0],S=(0,Br.Z)(),j=(0,f.k6)(),A=null===(e=S.claims)||void 0===e?void 0:e.orgs[0],T=(null===(t=S.claims)||void 0===t?void 0:t.orgs.join(","))||"",I=(0,vc.B)({id:null===(n=S.claims)||void 0===n?void 0:n.id});(0,Te.l)({workspace:m.params.workspace});var O=(0,Y.KO)(uu),D=(0,a.Z)(O,1)[0];(0,iu.L)();var N=(0,Gi.n)({workspace:m.params.workspace||null,scene:m.params.scene||null}).activeScene;(0,u.useEffect)((function(){var e;m.params.workspace&&m.params.scene&&m.route===$.Z6.workspaceScene&&(null===(e=S.claims)||void 0===e||!e.orgs.includes(m.params.workspace))&&null!==N&&void 0!==N&&N.linkSharing&&m.history.replace((0,f.Gn)($.Z6.linkSharedScene,{workspace:m.params.workspace,scene:m.params.scene}))}),[null===(s=S.claims)||void 0===s?void 0:s.orgs,N,m]),tu({activeWorkspace:y,routeContextStable:m}),(0,u.useEffect)((function(){var e,t=m.params.workspace;if(t&&D&&null!==(e=S.claims)&&void 0!==e&&e.id&&T.includes(t)){var n=l.ZP.firestore().collection("scenes").where("workspace","==",t);n=D===me.qj.private?n.where("isPrivate","==",!0).where("creator","==",S.claims.id):n.where("isPrivate","==",!1).where("collection","==",D);var r=hu.get(D);r&&E({workspace:t,scenes:r,status:"loaded",error:null});var i=n.onSnapshot((function(e){!function(e,n){var r=[];e.forEach((function(e){var t=e.data();if(!t.isDeleted){var n=(0,ie.dm)(e.id,t);hc.T.set(e.id,(function(e){return!!e&&(0,o.Z)((0,o.Z)({},e),n)})),r.push(n)}})),r=(0,Me.Z)(r,"created","desc"),E((function(){return{workspace:t,scenes:r,status:"loaded",error:null}})),hu.set(n,r),e.docChanges().forEach((function(e){if("removed"===e.type&&m.params.scene===e.doc.id){var t=(0,ie.dm)(e.doc.id,e.doc.data()),n=(0,Me.Z)(r.filter((function(e){return e.collection===t.collection})),"created","desc").find((function(e){return!e.isDeleted}));m.history.replace(n?"/s/".concat(n.workspace,"/").concat(n.id):void 0!==t.collection?"/o/".concat(t.workspace,"/").concat(t.collection):"/o/".concat(t.workspace))}}))}(e,D)}),(function(e){console.error("scene snapshot subscription error",e),E({workspace:t,scenes:[],status:"error",error:e})}));return function(){E({workspace:null,scenes:[],status:"loading",error:null}),i()}}}),[null===(h=S.claims)||void 0===h?void 0:h.id,m.params.workspace,D,m,I,T,E]),(0,u.useEffect)((function(){var e,t=m.params.workspace;if(null!==(e=S.claims)&&void 0!==e&&e.id){if(t){var n=l.ZP.firestore().collection("workspaces").doc(t).onSnapshot(function(){var e=(0,i.Z)(c().mark((function e(n){var r,i,o,a,s,u,l,f,h,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.exists?(r=n.data(),i=r.name,o=r.roles,a=r.picture,s=r.subscriptionStatus,u=r.apiVersion,l=r.willCancelAt,f=r.blockedUsers,h=r.flags,d.v("workspace",{name:i||"unknown",id:n.id||"unknown",subscriptionStatus:s||"unknown"}),p=o||{},b({status:"loaded",error:null,id:n.id,name:i,picture:a,roles:p,subscriptionStatus:s,apiVersion:u||"2",willCancelAt:l||null,blockedUsers:f||[],flags:h,isAdmin:"admin"===(0,zr.D$)(p,S.claims.id)})):b({status:"error",error:new le.dR("Workspace doesn't exist"),id:t,name:null,roles:null,isAdmin:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){b({status:"error",error:new Error("Workspace doesn't exist or you don't have permission to access it"),id:t,name:null,roles:null,isAdmin:null})}));return function(){n(),b({status:"idle",error:null,id:null,roles:null,name:null,isAdmin:null})}}b({status:"idle",error:null,id:null,roles:null,name:null,isAdmin:null})}}),[m,m.params.workspace,b,j,null===(p=S.claims)||void 0===p?void 0:p.id]);var P=(0,Y.KO)(pc.C),M=(0,a.Z)(P,1)[0],L=(0,Y.b9)(cu);(0,u.useEffect)((function(){if("connected"===M.status&&"loaded"===y.status){var e=function(e){var t,n={},i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.roomId,s=o.users;if(s.length)n[a.match(/\/s\/(.*)/)[1]]=(0,dc.Z)(s,"id").map((function(e){return{picture:e.picture||(0,Pe.Zd)({name:e.name}),name:e.name||"Unknown user",id:e.id||e.socketId,socketId:e.socketId}}))}}catch(c){i.e(c)}finally{i.f()}L(n)};return M.socket.on(mc.e.roomUsersChangeGlobal,e),M.socket.emit(mc.e.workspaceJoin,{workspace:y.id}),function(){L({}),M.socket.off(mc.e.roomUsersChangeGlobal,e),M.socket.emit(mc.e.workspaceLeave,{workspace:y.id})}}}),[M,y.status,y.id,L]);var R=(0,Y.KO)(fi),Z=(0,a.Z)(R,2)[1],F=jc({workspaceId:y.id}).createPrivateScene,U=(0,u.useState)(null),z=(0,a.Z)(U,2),B=z[0],V=z[1];return(0,u.useEffect)((function(){if(!B)return(0,ii.d)("Alt+a",function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,to.s)(t.target)){e.next=2;break}return e.abrupt("return");case 2:return V({message:"Creating a new scene..."}),e.prev=3,e.next=6,F({onPreCreate:function(){V(null)}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:V(null);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}())}),[B,F]),(0,u.useEffect)((function(){var e=function(e){e.preventDefault(),e.stopImmediatePropagation(),Z(!0)};return(0,ii.d)({"$mod+p":e,"$mod+/":e})}),[Z,F]),(0,u.useEffect)((function(){Mi.Z.setDefaultWorkspace({activeWorkspace:y,auth:S})}),[y,S]),(0,u.useEffect)((function(){y.id&&he.Z.get("/workspace/".concat(y.id,"/users")).then((function(e){var t=e.users,n=e.invites;x({status:"loaded",error:null,userList:(0,Me.Z)(t,"role","asc"),inviteList:(0,Me.Z)(n,"role","asc")})})).catch((function(e){x({status:"loaded",error:new Error(e.message||"Couldn't load workspace members. Try again later..."),userList:[],inviteList:[]})}))}),[y.id,x]),"initializing"===y.status?(0,ee.jsx)(Ki.Z,{}):S.noMembership?"refreshing"===S.status?(0,ee.jsx)(K.Z,{synchronized:!0}):(0,ee.jsx)(gc,{}):"error"===y.status?(0,ee.jsx)(wc,{firstAvailableWorkspace:A,user:S.userData}):(0,ee.jsxs)(ee.Fragment,{children:[C&&(0,ee.jsx)(pi,{activeWorkspace:y}),(0,ee.jsx)(ru,{}),B&&(0,ee.jsxs)("div",{className:"fixed w-full h-full bg-white  bg-opacity-60 dark:bg-black dark:bg-opacity-60 z-[9999] flex flex-col items-center justify-center",children:[(0,ee.jsx)("div",{children:(0,ee.jsx)(K.Z,{})}),(0,ee.jsx)("div",{className:"mt-2 text-sm",children:B.message})]}),(0,ee.jsxs)(f.rs,{children:[(0,ee.jsx)(f.AW,{path:$.Z6.workspaceBlocked,component:Ha}),(0,ee.jsx)(f.AW,{path:$.Z6.workspaceSettings,component:Ua}),(0,ee.jsx)(f.AW,{path:$.Z6.workspaceCanceled,component:lc}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceScene,component:oo}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceCollection,component:Bi}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceDashboard,component:Nc}),(0,ee.jsx)(f.AW,{exact:!0,path:$.Z6.workspaceNotifications,component:Jc}),(0,ee.jsx)(f.AW,{render:function(){return(0,ee.jsx)(f.l_,{to:$.Z6.root})}})]}),(0,ee.jsx)(yc,{})]})}},21349:function(e,t,n){"use strict";n.d(t,{E7:function(){return h},PP:function(){return f},ZP:function(){return v}});var r=n(33032),i=n(29675),o=n(89384),a=n(81020);function s(){s=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var a=new RegExp(e,r);return t.set(a,i||t.get(e)),(0,o.Z)(a,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,a.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,o){if("string"==typeof o){var a=t.get(this);return e[Symbol.replace].call(this,n,o.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof o){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,i.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,s)),o.apply(this,e)}))}return e[Symbol.replace].call(this,n,o)},s.apply(this,arguments)}var c=n(84322),u=n.n(c),l=n(84386),d=n(73679),f=/(@\[.*?\))/g,h=s(/@\[(.+)\]\((.+)\)/,{name:1,id:2}),p=s(/\((.+)\)/,{id:1}),m={getUsersInCollection:function(){var e=(0,r.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspace,r=t.collection,e.next=3,d.Z.get("/workspace/".concat(n,"/collection/").concat(r,"/users"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMentionedUserIdsFromThread:function(e){var t=e.thread;if(t.comments&&t.comments.length){var n=t.comments.map((function(e){var t=e.text.match(f);return null===t||void 0===t?void 0:t.map((function(e){var t,n;return null===(t=e.match(p))||void 0===t||null===(n=t.groups)||void 0===n?void 0:n.id})).filter((function(e){return void 0!==e}))}));return(0,l.Z)(n.flat())}return[]}},v=m},4827:function(e,t,n){"use strict";var r=n(33032),i=n(84322),o=n.n(i),a=n(14696),s=n(73679),c=n(87197),u=n(2624),l=new Map,d=new Map,f={createWorkspace:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspaceName,r=t.customerId,i=t.paymentMethodId,a=t.stripeSubscriptionId,s=t.priceId,e.prev=1,e.next=4,c.Z.create({type:"subscription",workspaceName:n,customerId:r,paymentMethodId:i,stripeSubscriptionId:a,priceId:s});case 4:return u=e.sent,l=u.workspaceId,e.abrupt("return",{workspaceId:l});case 9:throw e.prev=9,e.t0=e.catch(1),new Error(e.t0.message||"Something went wrong, please try again...");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),on3DSecureComplete:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.stripe,r=t.stripePaymentIntentSecret,i=t.transaction,n){e.next=3;break}throw new Error("Payment gateway is not yet initialized, please try again");case 3:return e.next=5,n.retrievePaymentIntent(r);case 5:if(!(a=e.sent).error){e.next=10;break}throw new Error(a.error.message||"Connection timeout. Please try again");case 10:if("succeeded"!==(null===a||void 0===a||null===(s=a.paymentIntent)||void 0===s?void 0:s.status)){e.next=12;break}return e.abrupt("return",a.paymentIntent);case 12:throw i&&d.delete(i),new Error("3DSecure authentication failed, please try again later or use a different card");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),confirmPaymentIntent:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.stripe,r=t.stripePaymentIntentSecret,e.next=3,n.confirmCardPayment(r);case 3:if(i=e.sent,!(a=i.error)){e.next=7;break}throw a;case 7:return e.next=9,this.on3DSecureComplete({stripe:n,stripePaymentIntentSecret:r});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),confirmCardPayment:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,s,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.stripe,r=t.stripePaymentIntentSecret,i=t.elements,s=t.transaction,e.prev=1,c=i.getElement(a.CardElement)){e.next=5;break}throw new Error("card element does not exist");case 5:return e.next=7,n.confirmCardPayment(r,{payment_method:{card:c}});case 7:if(u=e.sent,!(l=u.error)){e.next=11;break}throw l;case 11:return e.next=13,this.on3DSecureComplete({stripe:n,stripePaymentIntentSecret:r,transaction:s});case 13:return e.abrupt("return",e.sent);case 16:throw e.prev=16,e.t0=e.catch(1),console.error(e.t0),new Error(e.t0.message||"Couldn't confirm card payment");case 20:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),createCustomer:function(){var e=(0,r.Z)(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.has(n)){e.next=2;break}return e.abrupt("return",l.get(n));case 2:return e.next=4,s.Z.post("/create-customer",t);case 4:return r=e.sent,l.set(n,r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),createPaymentMethod:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,s,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.elements,r=t.stripe,i=t.transaction,e.prev=1,s=n.getElement(a.CardElement)){e.next=5;break}throw new Error("Couldn't create payment method");case 5:if(!d.has(i)){e.next=7;break}return e.abrupt("return",d.get(i));case 7:return e.next=9,r.createPaymentMethod({type:"card",card:s});case 9:if(c=e.sent,u=c.error,l=c.paymentMethod,!u){e.next=15;break}throw console.error(u),u;case 15:if(l){e.next=17;break}throw new Error("Couldn't create payment method");case 17:return d.set(i,l),e.abrupt("return",l);case 21:throw e.prev=21,e.t0=e.catch(1),console.error(e.t0),new Error(e.t0.message||"Couldn't create payment method");case 25:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),handleSubscription:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a,c,l,d,f,h,p,m,v,g,y,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.workspaceName,r=t.values,i=t.stripe,a=t.elements,c=t.transaction,l=t.creditCardOptional,i&&a){e.next=3;break}throw new Error("Form has not loaded yet");case 3:if(!l){e.next=7;break}e.t0=null,e.next=10;break;case 7:return e.next=9,this.createPaymentMethod({elements:a,stripe:i,transaction:c});case 9:e.t0=e.sent;case 10:return d=e.t0,e.next=13,this.createCustomer(r,c);case 13:return f=e.sent,e.prev=14,e.next=17,s.Z.post("/create-subscription",{customerId:f.id,paymentMethodId:null!==(h=null===d||void 0===d?void 0:d.id)&&void 0!==h?h:null,priceId:r.priceId,promotionCode:r.promotionCode});case 17:if(m=e.sent,v=null===(p=m.latest_invoice)||void 0===p?void 0:p.payment_intent,g=null===v||void 0===v?void 0:v.status,"requires_action"!==(null===v||void 0===v?void 0:v.status)){e.next=27;break}if(v.client_secret){e.next=23;break}throw new Error("Payment intent client secret not defined");case 23:return e.next=25,this.confirmCardPayment({stripePaymentIntentSecret:v.client_secret,elements:a,stripe:i,transaction:c});case 25:y=e.sent,g=null===y||void 0===y?void 0:y.status;case 27:if("succeeded"!==g&&(g||!(0,u.Z)(["active","trialing"],m.status))){e.next=31;break}return e.next=30,this.createWorkspace({workspaceName:n,customerId:f.id,paymentMethodId:null!==(b=null===d||void 0===d?void 0:d.id)&&void 0!==b?b:null,stripeSubscriptionId:m.id,priceId:r.priceId});case 30:return e.abrupt("return",e.sent);case 31:throw new Error("Payment failed. Please try again or use a different card");case 34:throw e.prev=34,e.t1=e.catch(14),console.error(e.t1),new Error(e.t1.message);case 38:case"end":return e.stop()}}),e,this,[[14,34]])})));return function(t){return e.apply(this,arguments)}}(),getCoupon:function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.promotionCode,e.abrupt("return",s.Z.get("/coupon/promotionCode/".concat(n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.Z=f},1265:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(89472),i=function(e,t,n){var r,i,o;return!(!t||!(t.id===(null===(r=e.editingElement)||void 0===r?void 0:r.id)||t.id===(null===(i=e.resizingElement)||void 0===i?void 0:i.id)||t.id===(null===(o=e.draggingElement)||void 0===o?void 0:o.id)||t.version>n.version||t.version===n.version&&t.versionNonce<n.versionNonce))},o=function(e,t,n){var o,a=e.reduce((function(e,t,n){return e[t.id]=[t,n],e}),{}),s=e.slice(),c=new WeakMap,u=0,l=0,d=-1,f=(0,r.Z)(t);try{for(f.s();!(o=f.n()).done;){var h,p=o.value;d++;var m=a[p.id];if(i(n,null===m||void 0===m?void 0:m[0],p))p.parent&&delete p.parent;else{m&&c.set(m[0],!0);var v=p.parent||(null===(h=t[d-1])||void 0===h?void 0:h.id)||"^";if(null!=v)if(delete p.parent,"^"===v)l++,0===u?(s.unshift(p),a[p.id]=[p,u-l]):(s.splice(u+1,0,p),a[p.id]=[p,u+1-l],u++);else{var g=a[v]?a[v][1]:null;null!=g&&(g+=l),null!=g&&g>=u?(s.splice(g+1,0,p),l++,a[p.id]=[p,g+1-l],u=g+1):null!=g?(s.splice(u+1,0,p),l++,a[p.id]=[p,u+1-l],u++):(s.push(p),a[p.id]=[p,s.length-1-l])}else s.push(p),a[p.id]=[p,s.length-1-l]}}}catch(y){f.e(y)}finally{f.f()}return s.filter((function(e){return!c.has(e)}))}},41155:function(e,t,n){"use strict";n.d(t,{eS:function(){return H},fx:function(){return W},aY:function(){return X},CO:function(){return Q},r4:function(){return $},im:function(){return U},Lm:function(){return se},dS:function(){return K},ei:function(){return re},Pp:function(){return M},dm:function(){return z},lY:function(){return ee},l_:function(){return J},ge:function(){return F},zk:function(){return ae},aq:function(){return Y},oF:function(){return oe}});var r=n(31303),i=n(18489),o=n(33032),a=n(50678),s=n(89472),c=n(84322),u=n.n(c),l=n(89860),d=n(24691),f=n(9066),h=n(63590),p=n(88880),m=n(84531),v=n(27853),g=(n(47313),(0,m.Z)((function e(){var t=this;(0,v.Z)(this,e),this.cache=[],this.subscribers=[],this.pushPromise=function(e){return t.cache.push(e),t.subscribers.forEach((function(t){return t(e)})),e.promise.finally((function(){t.cache=t.cache.filter((function(t){return t.promise!==e.promise})),t.subscribers.forEach((function(e){return e(null)}))}))},this.cancelPromise=function(e){var n;null===(n=t.find(e))||void 0===n||n.promise.cancel()},this.isEmpty=function(){return!t.cache.length},this.find=function(e){return"string"===typeof e?t.cache.find((function(t){return t.id===e})):t.cache[0]},this.get=function(){return t.cache},this.onChange=function(e){return t.subscribers.push(e),function(){t.subscribers.filter((function(t){return t!==e}))}}}))),y=n(51386),b=n(2466),w=n(38187),x=n(73679),_=n(78613),E=n(1265),k=n(69563),C=n(82751),S=n(75586),j=n.n(S),A=n(39214),T=function(){var e=(0,o.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,A.CH)(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){return(0,A.W2)(e)},O=function(e){var t,n=new Map,r=(0,s.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.set(i.id,i)}}catch(o){r.e(o)}finally{r.f()}return n},D=function(e){return{totalElements:e.length,deletedElements:e.length-se(e).length}},N=function(){function e(){(0,v.Z)(this,e)}return(0,m.Z)(e,null,[{key:"getLastRevisionData",value:function(){var t=(0,o.Z)(u().mark((function t(n,r,o){var a,s,c,l,d,f,h;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.lastRevisionCache.get(r))){t.next=6;break}if(a.revisionId!==o){t.next=5;break}return e.updateCache(r,o,a.revisionData),t.abrupt("return",a.revisionData);case 5:e.lastRevisionCache.delete(r);case 6:if(o){t.next=8;break}return t.abrupt("return",e.createInitialRevision(r));case 8:return t.prev=8,s=y.ZP.storage().ref(e.getRevisionPath({workspace:n,scene:r,revisionId:o})),t.next=12,s.getDownloadURL();case 12:return c=t.sent,t.next=15,fetch(c);case 15:if(l=t.sent,t.prev=16,"application/octet-stream"!==l.headers.get("content-type")){t.next=28;break}return t.next=20,l.blob();case 20:return f=t.sent,t.t0=I,t.next=24,f.arrayBuffer();case 24:t.t1=t.sent,d=(0,t.t0)(t.t1),t.next=40;break;case 28:return t.next=30,l.json();case 30:return h=t.sent,t.t2=i.Z,t.t3=(0,i.Z)({},h),t.t4={},t.next=36,s.getMetadata();case 36:t.t5=t.sent.timeCreated,t.t6={version:2,created:t.t5},t.t7=D(h.contents.elements),d=(0,t.t2)(t.t3,t.t4,t.t6,t.t7);case 40:return e.updateCache(r,o,d),t.abrupt("return",d);case 44:t.prev=44,t.t8=t.catch(16),console.warn(t.t8);case 47:t.next=52;break;case 49:t.prev=49,t.t9=t.catch(8),console.error(t.t9);case 52:return t.abrupt("return",e.createInitialRevision(r));case 53:case"end":return t.stop()}}),t,null,[[8,49],[16,44]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"handleSceneRevision",value:function(){var t=(0,o.Z)(u().mark((function t(n){var r,i,o,a,c,l,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.contents.elements.length){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.getLastRevisionData(n.workspace,n.scene,n.lastRevision);case 4:if(r=t.sent,!(Date.now()-new Date(r.created).getTime()>18e5)){t.next=10;break}return t.next=8,e.uploadSceneContentsRevision({triggerType:"time",workspace:n.workspace,scene:n.scene,user:n.user,contents:n.contents});case 8:t.next=18;break;case 10:i=0,o=O(r.contents.elements),a=(0,s.Z)(n.contents.elements);try{for(a.s();!(c=a.n()).done;)l=c.value,(null===(d=o.get(l.id))||void 0===d?void 0:d.isDeleted)!==l.isDeleted&&i++,d&&o.delete(d.id)}catch(u){a.e(u)}finally{a.f()}if(!((i+=o.size)>20)){t.next=18;break}return t.next=18,e.uploadSceneContentsRevision({triggerType:"changeCount",workspace:n.workspace,scene:n.scene,user:n.user,contents:n.contents});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();N.lastRevisionCache=new Map,N.updateCache=function(e,t,n){if(N.lastRevisionCache.set(e,{revisionData:n,accessedAt:Date.now(),revisionId:t}),N.lastRevisionCache.size>10){var r=0;N.lastRevisionCache.forEach((function(e,t){r>10||Date.now()-e.accessedAt>15e3?N.lastRevisionCache.delete(t):r++}))}},N.getRevisionPath=function(e){var t=e.workspace,n=e.scene,r=e.revisionId;return"/scene_revisions/".concat(t,"/").concat(n,"/").concat(r)},N.uploadSceneContentsRevision=function(){var e=(0,o.Z)(u().mark((function e(t){var n,r,o,a,s,c,l,d,f,h,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspace,r=t.scene,o=t.contents,a=t.triggerType,s=t.user,c=(0,i.Z)({version:2,triggerType:a,user:s,created:(0,_.hO)()},D(o.elements)),l=(0,i.Z)((0,i.Z)({},c),{},{contents:(0,i.Z)((0,i.Z)({},o),{},{appState:H(o.appState)})}),d=(0,C.x0)(30),f=N.getRevisionPath({workspace:n,scene:r,revisionId:d}),h=N.lastRevisionCache.get(r),N.updateCache(r,d,l),p=y.ZP.firestore().collection("scenes").doc(r),e.prev=8,e.t0=y.ZP.storage().ref(f),e.t1=Blob,e.next=13,T(l);case 13:return e.t2=e.sent,e.t3=[e.t2],e.t4={type:"application/octet-stream"},e.t5=new e.t1(e.t3,e.t4),e.next=19,e.t0.put.call(e.t0,e.t5);case 19:return e.next=21,p.collection("revisions").doc(d).set(c);case 21:return e.next=23,p.update({lastRevision:d,revisionCount:y.ZP.firestore.FieldValue.increment(1)});case 23:e.next=30;break;case 25:return e.prev=25,e.t6=e.catch(8),h&&N.lastRevisionCache.set(r,h),console.error("error saving revision",e.t6),e.abrupt("return",null);case 30:return e.abrupt("return",d);case 31:case"end":return e.stop()}}),e,null,[[8,25]])})));return function(t){return e.apply(this,arguments)}}(),N.createInitialRevision=function(){var e=(0,o.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.ZP.firestore().collection("scenes").doc(t).get();case 2:if(n=e.sent.data()){e.next=5;break}throw new Error("error creating initial revision: scene doesn't exist or unauthorized");case 5:return r=J(),e.abrupt("return",(0,i.Z)({version:2,triggerType:null,user:n.creator,created:n.created,contents:r},D(r.elements)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var P=n(95576),M=new g,L=new g,R=new g,Z=new g,F=new h.Q({initialState:"saved",updateOnChangeOnly:!0}),U=function(){return{viewBackgroundColor:"#FFF"}},z=function(e,t){var n,r,i,o,a,s,c;return{id:e,workspace:t.workspace,name:t.name,created:t.created,updated:t.updated,previewFilename:t.previewFilename||null,previewUrl:t.previewUrl||null,previewBackground:t.previewBackground||"#FFF",isPrivate:null!=t.isPrivate&&t.isPrivate,isDeleted:null!=t.isDeleted&&t.isDeleted,sceneVersion:"string"===typeof t.sceneVersion?t.sceneVersion:"",linkSharing:null!==(n=t.linkSharing)&&void 0!==n?n:w.rd.none,collection:t.isPrivate?w.qj.private:t.collection||w.qj.legacyDefault,creator:t.creator||null,updater:t.updater||null,updateCount:null!==(r=t.updateCount)&&void 0!==r?r:0,revisionCount:null!==(i=t.revisionCount)&&void 0!==i?i:0,lastRevision:t.lastRevision?t.lastRevision.startsWith("/")?(null===(o=t.lastRevision.match(/\/([^/]+)$/))||void 0===o?void 0:o[1])||null:t.lastRevision:null,totalElements:null!==(a=t.totalElements)&&void 0!==a?a:0,deletedElements:null!==(s=t.deletedElements)&&void 0!==s?s:0,pinned:null!==(c=t.pinned)&&void 0!==c&&c}},B={isSidebarDocked:{browser:!0,database:!1},pendingImageElementId:{browser:!1,database:!1},theme:{browser:!1,database:!1},collaborators:{browser:!1,database:!1},currentChartType:{browser:!0,database:!1},currentItemBackgroundColor:{browser:!0,database:!1},currentItemEndArrowhead:{browser:!0,database:!1},currentItemFillStyle:{browser:!0,database:!1},currentItemFontFamily:{browser:!0,database:!1},currentItemFontSize:{browser:!0,database:!1},currentItemRoundness:{browser:!0,database:!1},currentItemOpacity:{browser:!0,database:!1},currentItemRoughness:{browser:!0,database:!1},currentItemStartArrowhead:{browser:!0,database:!1},currentItemStrokeColor:{browser:!0,database:!1},currentItemStrokeStyle:{browser:!0,database:!1},currentItemStrokeWidth:{browser:!0,database:!1},currentItemTextAlign:{browser:!0,database:!1},cursorButton:{browser:!1,database:!1},draggingElement:{browser:!1,database:!1},editingElement:{browser:!1,database:!1},editingGroupId:{browser:!1,database:!1},editingLinearElement:{browser:!1,database:!1},selectedLinearElement:{browser:!1,database:!1},activeTool:{browser:!0,database:!1},errorMessage:{browser:!1,database:!1},exportBackground:{browser:!0,database:!1},exportEmbedScene:{browser:!0,database:!1},exportWithDarkMode:{browser:!0,database:!1},fileHandle:{browser:!1,database:!1},gridSize:{browser:!0,database:!1},height:{browser:!1,database:!1},isBindingEnabled:{browser:!1,database:!1},contextMenu:{browser:!1,database:!1},openSidebar:{browser:!0,database:!1},isLoading:{browser:!1,database:!1},isResizing:{browser:!1,database:!1},isRotating:{browser:!1,database:!1},lastPointerDownWith:{browser:!1,database:!1},multiElement:{browser:!1,database:!1},name:{browser:!1,database:!1},offsetLeft:{browser:!1,database:!1},offsetTop:{browser:!1,database:!1},openMenu:{browser:!1,database:!1},pasteDialog:{browser:!1,database:!1},previousSelectedElementIds:{browser:!1,database:!1},resizingElement:{browser:!1,database:!1},scrolledOutside:{browser:!1,database:!1},scrollX:{browser:!1,database:!1},scrollY:{browser:!1,database:!1},selectedElementIds:{browser:!1,database:!1},selectedGroupIds:{browser:!1,database:!1},selectionElement:{browser:!1,database:!1},shouldCacheIgnoreZoom:{browser:!1,database:!1},openDialog:{browser:!1,database:!1},showStats:{browser:!0,database:!1},startBoundElement:{browser:!1,database:!1},suggestedBindings:{browser:!1,database:!1},toast:{browser:!1,database:!1},viewBackgroundColor:{browser:!1,database:!0},width:{browser:!1,database:!1},zenModeEnabled:{browser:!1,database:!1},zoom:{browser:!1,database:!1},viewModeEnabled:{browser:!1,database:!1},exportScale:{browser:!0,database:!1},openPopup:{browser:!1,database:!1},penMode:{browser:!1,database:!1},penDetected:{browser:!1,database:!1},showHyperlinkPopup:{browser:!1,database:!1},showWelcomeScreen:{browser:!1,database:!1}},V=function(e,t){var n,r={},i=(0,s.Z)(Object.keys(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=B[o];null!==a&&void 0!==a&&a[t]&&(r[o]=e[o])}}catch(c){i.e(c)}finally{i.f()}return r},W=function(e){return V(e,"browser")},H=function(e){return V(e,"database")},q=function(){var e=(0,o.Z)(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.post("/scene/".concat(t,"/").concat(n,"/contents"),{contents:r});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),G=function(e){var t=H(e.appState);return(0,i.Z)({elements:e.elements,appState:t,sceneVersion:(0,p.U)({elements:e.elements,appState:t},"database")},k.yP)},Y=(0,d.Z)(function(){var e=(0,o.Z)(u().mark((function e(t){var n,r,a,s,c,l,d,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.workspace,s=t.elements,c=t.appState,l=t.user,F.trigger("saving"),e.next=4,null===(n=R.find(r))||void 0===n?void 0:n.promise;case 4:return e.next=6,p.T.get(r);case 6:if(d=e.sent){e.next=11;break}return L.isEmpty()&&F.trigger("saved"),console.warn('trying to update nonexisting scene "'.concat(r,'"')),e.abrupt("return");case 11:if(p.T.isChanged(r,{elements:s,appState:c})){e.next=15;break}return L.isEmpty()&&F.trigger("saved"),e.abrupt("return");case 15:return e.prev=15,f=L.pushPromise({id:r,promise:new Promise(function(){var e=(0,o.Z)(u().mark((function e(t,n){var o,f,h,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(a,r);case 3:return o=e.sent,N.handleSceneRevision({scene:r,user:l,workspace:a,lastRevision:d.lastRevision,contents:(0,i.Z)((0,i.Z)({},d.contents),{},{elements:s,appState:c})}).catch((function(e){console.error("error handling scene revision on scene update",e)})),f=(0,E.V)(o.elements,s,c),h=G({elements:f,appState:c||d.contents.appState}),m=(0,i.Z)((0,i.Z)({},d),{},{updated:(0,_.hO)(),sceneVersion:(0,p.U)(h,"database"),contents:h}),e.next=10,y.ZP.firestore().collection("scenes").doc(r).update({sceneVersion:m.sceneVersion,updated:m.updated,updater:l,updateCount:y.ZP.firestore.FieldValue.increment(1),totalElements:s.length,deletedElements:s.length-se(s).length});case 10:return e.next=12,q(a,r,m.contents);case 12:t(m),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),n(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}())}),p.T.set(r,f),e.next=20,f;case 20:L.isEmpty()&&F.trigger("saved"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(15),console.error({error:e.t0}),F.trigger("error");case 27:case"end":return e.stop()}}),e,null,[[15,23]])})));return function(t){return e.apply(this,arguments)}}(),1e3),K=function(e){return"excalidraw"===(null===e||void 0===e?void 0:e.type)&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"===typeof e.appState))},Q=function(){var e=(0,o.Z)(u().mark((function e(t){var n,r,i,o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.workspace,i=t.collection,!("text"in n)){e.next=7;break}return e.next=4,n.text();case 4:o=e.sent,e.next=10;break;case 7:return e.next=9,new Promise((function(e){var t=new FileReader;t.readAsText(n,"utf8"),t.onloadend=function(){t.readyState===FileReader.DONE&&e(t.result)}}));case 9:o=e.sent;case 10:if(e.prev=10,a=JSON.parse(o),K(a)){e.next=14;break}throw new Error("invalid");case 14:e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(10),(s=new Error("The file doesn't seem to be a valid Excalidraw file.")).name="InvalidExcalidrawFile",s;case 21:return e.abrupt("return",X({name:n.name.replace(/\.[^.]+$/,""),workspace:r,sceneData:J(a),forceCreate:!0,collection:i,files:a.files||null}));case 22:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,o.Z)(u().mark((function e(t){var n,s,c,l,d,h,m,v,g,b,E;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.forceCreate||R.isEmpty()){e.next=2;break}throw new f._L("request aborted as duplicate");case 2:if(null===(n=y.ZP.auth().currentUser)||void 0===n?void 0:n.uid){e.next=5;break}throw new f.yj;case 5:return c=J(t.sceneData),l=new Map,d=c.elements.reduce((function(e,n){if("image"===n.type){var r,i;if((0,P.wi)(n)&&null!==(r=t.files)&&void 0!==r&&r[n.fileId])e.push(n),l.set(n.fileId,null===(i=t.files)||void 0===i?void 0:i[n.fileId]);return e}return e.push(n),e}),[]),h=(0,i.Z)((0,i.Z)({},c),{},{elements:d,appState:H(c.appState)}),m=(0,_.hO)(),v={created:m,updated:m,name:t.name||k.C1,previewFilename:null,previewUrl:null,previewBackground:"#FFF",workspace:t.workspace,sceneVersion:h.sceneVersion,linkSharing:w.rd.none,collection:t.collection,isDeleted:!1,updateCount:0,revisionCount:0,lastRevision:null,totalElements:h.elements.length,deletedElements:h.elements.length-se(h.elements).length,pinned:!1},e.next=13,x.Z.post("/scene",v);case 13:return g=e.sent,b=(0,i.Z)((0,i.Z)({},v),{},{id:g.id,isPrivate:g.isPrivate,contents:h,creator:null,updater:null,files:Object.fromEntries(l.entries())}),p.T.set(b.id,b),null===(s=t.onPreCreate)||void 0===s||s.call(t,b),E=function(){var e=(0,o.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t.workspace,b.id,b.contents);case 3:return e.next=5,Promise.all((0,r.Z)(l).map(function(){var e=(0,o.Z)(u().mark((function e(n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,a.Z)(n,2),r[0],i=r[1],e.prev=1,e.next=4,(0,P.VO)({workspace:t.workspace,scene:b.id,fileData:i});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 5:e.next=12;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),y.ZP.firestore().collection("scenes").doc(g.id).delete(),e.t0;case 12:return e.abrupt("return",b);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",R.pushPromise({promise:E(),id:b.id}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=(0,o.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=R.find(t.id))||void 0===n?void 0:n.promise;case 2:if(!Z.find(t.id)){e.next=4;break}throw new f._L("request aborted as duplicate");case 4:return r=new Promise(function(){var e=(0,o.Z)(u().mark((function e(n,r){var i,o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,e.prev=1,o=y.ZP.firestore().collection("scenes").doc(t.id),e.next=5,p.T.get(t.id);case 5:if(!(a=e.sent)){e.next=10;break}i=a.previewFilename,e.next=14;break;case 10:return e.next=12,o.get();case 12:s=e.sent.data(),i=(null===s||void 0===s?void 0:s.previewFilename)||null;case 14:return e.next=16,y.ZP.firestore().collection("scenes_deleted").doc(t.id).set({workspace:t.workspace});case 16:return e.next=18,o.delete();case 18:return p.T.delete(t.id),e.next=21,Promise.all([y.ZP.storage().ref("/scenes/".concat(t.workspace,"/").concat(t.id,".json")).delete(),i&&y.ZP.storage().ref("/previews/".concat(t.workspace,"/").concat(i)).delete()]);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),r(e.t0);case 26:n();case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",Z.pushPromise({id:t.id,promise:r}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=(0,b.restore)(e||null,null,null);return{appState:t.appState,elements:t.elements,type:k.yP.type,version:k.yP.version,source:(null===e||void 0===e?void 0:e.source)||k.yP.source,sceneVersion:(null===e||void 0===e?void 0:e.sceneVersion)||(0,p.U)(t,"database")}},ee=function(e){return(0,b.restoreAppState)(e,null)},te=function(){var e=(0,o.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.get("/scene/".concat(t,"/").concat(n,"/contents"));case 2:return r=e.sent,e.abrupt("return",J(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=(0,o.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.ZP.firestore().collection("scenes").doc(t),e.next=3,n.get();case 3:return r=e.sent.data(),e.abrupt("return",z(n.id,r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,o.Z)(u().mark((function e(t,n){var r,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.T.get(n);case 2:if(!(r=e.sent)||r.sceneVersion!==r.contents.sceneVersion){e.next=5;break}return e.abrupt("return",r);case 5:if(!(s=M.find(n))){e.next=8;break}return e.abrupt("return",s.promise);case 8:return c=new(j())(function(){var e=(0,o.Z)(u().mark((function e(r,o){var s,c,l,d,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([ne(n),te(t,n)]);case 3:if(s=e.sent,c=(0,a.Z)(s,2),l=c[0],d=c[1],l){e.next=9;break}throw new f.dR('metadata not found for scene "'.concat(n,'"'));case 9:h=(0,i.Z)((0,i.Z)({},l),{},{contents:d,files:{}}),p.T.set(n,h),h.previewUrl&&p.T.setVersionCache("preview",n,d),r(h),e.next=24;break;case 15:if(e.prev=15,e.t0=e.catch(0),"storage/object-not-found"!==e.t0.code){e.next=19;break}return e.abrupt("return",o(new f.dR));case 19:if(!["permission-denied","storage/unauthorized"].includes(e.t0.code)){e.next=22;break}return console.warn(e.t0),e.abrupt("return",o(new f.yj));case 22:console.error(e.t0),o(new Error("Couldn't load scene"));case 24:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",M.pushPromise({id:n,promise:c}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(e){try{var t=document.createElement("canvas").getContext("2d");t.fillStyle=e;var n=t.fillStyle.match(/rgba\( *([\d.]+), *([\d.]+), *([\d.]+), *([\d.]+)\)/);if(n){var r=parseFloat(n[4]),i=Math.floor(parseFloat(n[1])*r+255*(1-r)),o=Math.floor(parseFloat(n[2])*r+255*(1-r)),a=Math.floor(parseFloat(n[3])*r+255*(1-r));return"#".concat((i<<16|o<<8|a).toString(16))}return e}catch(s){return console.error(s),e}},oe=(0,d.Z)(function(){var e=(0,o.Z)(u().mark((function e(t){var n,r,a,s,c,d,f,h,m,v,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.workspace,a=t.elements,s=t.appState,c=t.files,d={elements:a,appState:s},e.next=4,p.T.get(n);case 4:if(f=e.sent,h=p.T.setVersionCache("preview",n,d),!f||!h){e.next=16;break}if(d.elements.length){e.next=10;break}return f.previewUrl&&y.ZP.firestore().collection("scenes").doc(n).update({previewUrl:null}),e.abrupt("return");case 10:return m=ie(s.viewBackgroundColor||"#fff"),e.next=13,(0,l.Fl)({elements:a,appState:(0,i.Z)((0,i.Z)({},s),{},{exportWithDarkMode:!1,exportBackground:!0,viewBackgroundColor:m}),files:c,maxWidth:500,maxHeight:500,mimeType:"image/jpeg",quality:.7});case 13:v=e.sent,g=f.previewFilename||(0,C.x0)(40),v&&y.ZP.storage().ref("/previews/".concat(r,"/").concat(g)).put(v,{cacheControl:"public, max-age=86400",customMetadata:{linkSharing:String(f.linkSharing),scene:n}}).then(function(){var e=(0,o.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y.ZP.firestore().collection("scenes").doc(n),e.t1=g,e.next=4,t.ref.getDownloadURL();case 4:e.t2=e.sent,e.t3=m,e.t4={previewFilename:e.t1,previewUrl:e.t2,previewBackground:e.t3},e.t0.update.call(e.t0,e.t4);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),5e3),ae=function(){var e=(0,o.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.ZP.firestore().collection("scenes").doc(t.id).update({pinned:!t.pinned});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){return e.filter((function(e){return!e.isDeleted}))}},70377:function(e,t,n){"use strict";var r=n(31303),i=n(89472),o=n(36222),a=n(33032),s=n(18489),c=n(84322),u=n.n(c),l=n(51386),d=n(84386),f=n(11805),h=n(82751),p=n(78613),m=n(69563),v=n(73679),g=n(72917),y=n(38187),b=n(21349),w={getCommentLink:function(e){var t=e.commentId;return"".concat(window.location.origin).concat(window.location.pathname,"?comment=").concat(t)},calculatePopupCoords:function(e){var t=e.popupContainer,n=e.pin,r=e.excalidrawAPI,i=e.viewportMargin,o=void 0===i?0:i,a=e.pinMargin,s=void 0===a?0:a;if(n){var c=t.getBoundingClientRect(),u=n.getBoundingClientRect(),l=r.getAppState(),d=l.offsetLeft,f=l.offsetTop,h=l.width,p=l.height,m=d+h-293<u.right+s+c.width+o,v=f+p<c.height+o+(m?u.bottom+s:u.top),g=d>u.left-s-o-c.width;return m&&v?g?{x:o-293,y:u.top-s-c.height}:{x:u.left-s-d-c.width,y:p-c.height-o}:v?{x:u.right+s-d,y:p-c.height-o}:m?{x:h-c.width-o-293,y:u.bottom+s-f}:{x:u.right+s-d,y:u.top-f}}return{x:0,y:0}},scrollThreadToCenter:function(e){var t=e.thread,n=e.excalidrawAPI,r=t.x+m.gP/2,i=t.y+m.gP/2,o=n.getAppState(),a=o.width/2*(1/o.zoom.value)-r,c=o.height/2*(1/o.zoom.value)-i;n.updateScene({appState:(0,s.Z)((0,s.Z)({},o),{},{scrollX:a,scrollY:c})})},removeThread:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,a,s,c,d,f,h,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.threadId,r=t.sceneId,a=l.ZP.firestore().collection("scene_comments").doc(r),e.t0=g.w,e.next=5,a.get();case 5:return e.t1=e.sent,e.next=8,(0,e.t0)(e.t1);case 8:if(!(s=e.sent)){e.next=16;break}c=(0,o.Z)({},"threads.".concat(n),l.ZP.firestore.FieldValue.delete()),d=Object.values(s.comments).filter((function(e){return e.parentId===n})),f=(0,i.Z)(d);try{for(f.s();!(h=f.n()).done;)p=h.value,c["comments.".concat(p.id)]=l.ZP.firestore.FieldValue.delete()}catch(u){f.e(u)}finally{f.f()}return e.next=16,a.update(c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeComment:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sceneId,r=t.commentId,e.next=3,l.ZP.firestore().collection("scene_comments").doc(n).update((0,o.Z)({},"comments.".concat(r),l.ZP.firestore.FieldValue.delete()));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addComment:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sceneId,r=t.threadId,i=t.userData,a=t.text,s=(0,h.x0)(12),c={created:(0,p.hO)(),text:a,creator:i.id,parentId:r,id:s},e.next=5,l.ZP.firestore().collection("scene_comments").doc(n).update((0,o.Z)({},"comments.".concat(s),c));case 5:return e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateComment:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sceneId,i=t.commentId,a=t.text,e.next=3,l.ZP.firestore().collection("scene_comments").doc(r).update((n={},(0,o.Z)(n,"comments.".concat(i,".text"),a),(0,o.Z)(n,"comments.".concat(i,".updated"),(0,p.hO)()),n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addThread:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i,a,s,c,d,f,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.workspaceId,r=t.sceneId,i=t.userData,a=t.x,s=t.y,c=t.isFirstThread,d=(0,h.x0)(12),f={created:(0,p.hO)(),creator:i.id,id:d,x:a,y:s,version:1},!c){e.next=8;break}return m={workspace:n,scene:r,threads:(0,o.Z)({},d,f),comments:{}},e.next=7,l.ZP.firestore().collection("scene_comments").doc(r).set(m);case 7:case 10:return e.abrupt("return",d);case 8:return e.next=10,l.ZP.firestore().collection("scene_comments").doc(r).update((0,o.Z)({},"threads.".concat(d),f));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),notifyUsers:function(){var e=(0,a.Z)(u().mark((function e(t){var n,i,o,a,s,c,l,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.thread,i=t.scene,o=t.userData,a=t.commentId,s=t.mentionedUsers,c=t.notificationType,l=[],l=n?(0,d.Z)((0,f.Z)([].concat((0,r.Z)(n?n.comments.map((function(e){return e.creator})):[]),[i.creator,i.updater]).filter((function(e){return e!==o.id})))):(0,f.Z)((0,d.Z)([i.creator,i.updater])).filter((function(e){return e!==o.id})),h=[],s&&s.length&&(h=(0,d.Z)((0,f.Z)(s)).filter((function(e){return e!==o.id}))),l.length||h.length){e.next=8;break}return console.warn("No users to notify - skipping"),e.abrupt("return");case 8:return e.next=10,v.Z.post("/notification/scene/comment",{users:l,mentionedUsers:h,notificationType:c,contentData:{scene:i.id,workspace:i.workspace,sceneName:i.name},contentId:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateCoords:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sceneId,i=t.threadId,a=t.x,s=t.y,e.next=3,l.ZP.firestore().collection("scene_comments").doc(r).update((n={},(0,o.Z)(n,"threads.".concat(i,".x"),a),(0,o.Z)(n,"threads.".concat(i,".y"),s),n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),toggleResolveThread:function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,i,a,s,c,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.thread,r=t.activeScene,i=t.resolved,a=t.userData,s=l.ZP.firestore().collection("scene_comments").doc(r.id),c=n.comments[n.comments.length-1].id,d=b.ZP.getMentionedUserIdsFromThread({thread:n}),e.next=6,s.update((0,o.Z)({},"threads.".concat(n.id,".resolved"),!i));case 6:try{w.notifyUsers({thread:n,scene:r,notificationType:i?y.GT.SCENE_COMMENT_REOPENED:y.GT.SCENE_COMMENT_RESOLVED,userData:a,commentId:c,mentionedUsers:d||[]})}catch(u){console.error(u)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.Z=w},6046:function(e,t){"use strict";var n={trackEvent:function(){try{for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=window.umami)||void 0===e?void 0:e.trackEvent.apply(e,n)}catch(i){console.warn(i)}},trackView:function(){try{for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=window.umami)||void 0===e?void 0:e.trackView.apply(e,n)}catch(i){console.warn(i)}}};t.Z=n},14965:function(e,t,n){"use strict";var r=n(36222),i=n(31303),o=n(33032),a=n(84322),s=n.n(a),c=n(84386),u=n(11824),l=n(69563),d=n(98090),f=n(51386),h=n(30162),p=n(6046),m=null,v=new Map,g=function(e,t){return t===v.get(e)||(v.set(e,t),!1)},y=function(e){var t=e.workspace,n=e.user;if(!g("defaultWorkspace",t)){var r={defaultWorkspace:t};return(0,f.Dp)(f.RZ.collection("users").doc(n),r)}},b=function(){var e=(0,o.Z)(s().mark((function e(t){var n,o,a,u,l,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userData,o=t.scene,a=t.key,!g(a,o)){e.next=3;break}return e.abrupt("return");case 3:if((u=n[a]||[])[0]!==o){e.next=6;break}return e.abrupt("return");case 6:if(u=(0,c.Z)([o].concat((0,i.Z)(u))).slice(0,10),l=(0,r.Z)({},a,u),"lastEditedScenes"===a&&(d=n.lastVisitedScenes||[]).includes(o)&&(l.lastVisitedScenes=d.filter((function(e){return e!==o}))),"lastVisitedScenes"!==a){e.next=13;break}if((n.lastEditedScenes||[])[0]!==o){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,(0,f.Dp)(f.RZ.collection("users").doc(n.id),l);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={signOut:function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==t&&void 0!==t&&t.params?h.m.push("".concat(l.Z6.signIn,"?").concat(new URLSearchParams(t.params).toString())):h.m.push(l.Z6.signIn),e.next=3,f.ZP.auth().signOut();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setDefaultWorkspace:function(e){return(0,o.Z)(s().mark((function t(){var n,r,i,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.auth,i=e.activeWorkspace,null!==(n=r.claims)&&void 0!==n&&n.id&&r.userData&&(a=null===(o=r.userData)||void 0===o?void 0:o.defaultWorkspace,"error"===i.status||"canceled"===i.subscriptionStatus?i.id===a&&y({workspace:null,user:r.claims.id}):"loaded"===i.status&&y({workspace:i.id,user:r.claims.id}));case 2:case"end":return t.stop()}}),t)})))()},updateUserPreferenceKey:function(){var e=(0,o.Z)(s().mark((function e(t){var n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.key,i=t.value,o=t.user,e.next=3,f.RZ.collection("users").doc(o).update((0,r.Z)({},"preferences.".concat(n),i));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setAutoRedirectFromOssEditor:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.shouldRedirect,r=t.user,w.updateUserPreferenceKey({key:"ossAutoRedirect",value:n,user:r}),u.ZP.event({category:"autoredirect",action:"preferences_redirect_from_oss (".concat(n?"enabled":"disabled",")")}),p.Z.trackEvent("user_preferences",{category:"redirect_from_oss",action:n?"enabled":"disabled"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setLastEditedScene:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userData,r=t.scene,m!==r){e.next=3;break}return e.abrupt("return");case 3:return m=r,e.prev=4,e.next=7,b({userData:n,scene:r,key:"lastEditedScenes"});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),m=null,console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}(),setLastVisitedScene:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userData,r=t.scene,e.next=3,b({userData:n,scene:r,key:"lastVisitedScenes"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeLastScene:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.userData,o=t.scene,!(null!==(n=i.lastVisitedScenes)&&void 0!==n&&n.includes(o)||null!==(r=i.lastEditedScenes)&&void 0!==r&&r.includes(o))){e.next=4;break}return e.next=4,(0,f.Dp)(f.RZ.collection("users").doc(i.id),{lastVisitedScenes:f.ZP.firestore.FieldValue.arrayRemove(o),lastEditedScenes:f.ZP.firestore.FieldValue.arrayRemove(o)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),refreshAutoRedirectCookie:function(e){var t,n=e.userData;void 0!==(null===(t=n.preferences)||void 0===t?void 0:t.ossAutoRedirect)&&(n.preferences.ossAutoRedirect?d.V.set(d.V.AUTOREDIRECT_FROM_EXCALIDRAW,!0,1825):d.V.delete(d.V.AUTOREDIRECT_FROM_EXCALIDRAW))}};t.Z=w},87197:function(e,t,n){"use strict";var r=n(33032),i=n(84322),o=n.n(i),a=n(73679),s={create:function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.post("/workspace",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isNameAvailable:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,a.Z.get("/workspace/available",{name:n});case 5:return r=e.sent,i=r.available,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPaymentMethod:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspace,e.next=3,a.Z.get("/workspace/".concat(n,"/credit-card"));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.Z=s},9066:function(e,t,n){"use strict";n.d(t,{_L:function(){return c},yj:function(){return u},dR:function(){return l},p8:function(){return d},Lu:function(){return f},Ie:function(){return h},N0:function(){return p}});var r=n(84531),i=n(27853),o=n(81020),a=n(18334),s=n(52839),c=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request aborted";return(0,i.Z)(this,n),(e=t.call(this)).name="AbortError",e.message=r,e}return(0,r.Z)(n)}((0,s.Z)(Error)),u=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unauthorized";return(0,i.Z)(this,n),(e=t.call(this)).status=void 0,e.name="UnauthorizedError",e.message=r,e.status=401,e}return(0,r.Z)(n)}((0,s.Z)(Error)),l=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not found";return(0,i.Z)(this,n),(e=t.call(this)).status=void 0,e.name="NotFoundError",e.message=r,e.status=404,e}return(0,r.Z)(n)}((0,s.Z)(Error)),d=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Does not validate",o=arguments.length>1?arguments[1]:void 0;return(0,i.Z)(this,n),(e=t.call(this)).status=void 0,e.path=void 0,e.inner=void 0,e.name="ValidationError",e.message=r,e.status=400,o&&(e.path=o,e.inner=[]),e}return(0,r.Z)(n)}((0,s.Z)(Error)),f=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.message,a=void 0===o?"Something went wrong":o,s=r.status,c=void 0===s?500:s,u=r.data;return(0,i.Z)(this,n),(e=t.call(this)).status=void 0,e.data=void 0,e.name="RequestError",e.data=u,e.message=a,e.status=c,e}return(0,r.Z)(n,[{key:"toObject",value:function(){return{name:this.name,status:this.status,message:this.message,data:this.data}}}]),n}((0,s.Z)(Error)),h=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Payload too large";return(0,i.Z)(this,n),(e=t.call(this)).status=void 0,e.name="PayloadTooLargeError",e.message=r,e.status=413,e}return(0,r.Z)(n)}((0,s.Z)(Error)),p=function(e,t){return void 0!==t?"RequestError"===e.name&&e.message===t:"RequestError"===e.name}},54146:function(e,t,n){"use strict";n.d(t,{l:function(){return d},b:function(){return f}});var r=n(18489),i=n(89472),o=n(33032),a=n(50678),s=n(84322),c=n.n(s),u=n(48688),l=n(47313),d=(0,u.cn)(null),f=function(e){var t=(0,u.KO)(d),n=(0,a.Z)(t,2),s=n[0],f=n[1],h=(0,l.useRef)(null);h.current=s;var p=(0,l.useCallback)(function(){var e=(0,o.Z)(c().mark((function e(t){var n,r,o,a,s,u,l,d,p,m,v,g,y,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.userData,r=[],o=[],a=(0,i.Z)(n.workspaces||[]);try{for(u=function(){var e,t=s.value,n=null===(e=h.current)||void 0===e?void 0:e.find((function(e){return e.id===t.id}));n&&!n.cached?o.push(n):r.push(t.get())},a.s();!(s=a.n()).done;)u()}catch(c){a.e(c)}finally{a.f()}return e.t0=i.Z,e.next=8,Promise.allSettled(r);case 8:e.t1=e.sent,l=(0,e.t0)(e.t1),e.prev=10,l.s();case 12:if((d=l.n()).done){e.next=20;break}if("fulfilled"===(p=d.value).status){e.next=16;break}return e.abrupt("return");case 16:(m=p.value).exists&&(v=m.data(),g=v.roles,y=v.name,b=v.picture,o.push({id:m.id,roles:g,name:y,picture:b}));case 18:e.next=12;break;case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(10),l.e(e.t2);case 25:return e.prev=25,l.f(),e.finish(25);case 28:localStorage.setItem("workspaceList-".concat(n.id),JSON.stringify(o.map((function(e){return{id:e.id,name:e.name,picture:e.picture}})))),f(o);case 30:case"end":return e.stop()}}),e,null,[[10,22,25,28]])})));return function(t){return e.apply(this,arguments)}}(),[f]);return(0,l.useEffect)((function(){if(e&&!s){var t=localStorage.getItem("workspaceList-".concat(e));if(t)try{var n=JSON.parse(t);f(n.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{cached:!0,roles:void 0})})))}catch(i){console.error(i)}}}),[s,e,f]),(0,l.useEffect)((function(){return function(){f(null)}}),[f]),[s,p]}},98090:function(e,t,n){"use strict";n.d(t,{V:function(){return u}});var r=n(27853),i=n(84531);function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var a=function e(t,n){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=o({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in i)i[s]&&(a+="; "+s,!0!==i[s]&&(a+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(c){}}return e?r[e]:r}},remove:function(e,t){r(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),s=a,c={"excplus-auth":{name:"excplus-auth",encoded:!0},"excplus-autoredirect":{name:"excplus-autoredirect",encoded:!1}},u=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"has",value:function(e){return!!s.get(e)}},{key:"get",value:function(e){var t=s.get(e);return t?(c[e].encoded&&(t=window.atob(t)),JSON.parse(t)):null}}]),e}();u.AUTH_STATE_COOKIE=c["excplus-auth"].name,u.AUTOREDIRECT_FROM_EXCALIDRAW=c["excplus-autoredirect"].name,u.domain=window.location.hostname.split(".").slice(-2).join("."),u.set=function(e,t,n){t=c[e].encoded?window.btoa(JSON.stringify(t)).replace(/={1,2}$/,""):JSON.stringify(t),s.set(e,t,{expires:n,domain:u.domain})},u.delete=function(e){s.remove(e,{domain:u.domain})}},95576:function(e,t,n){"use strict";n.d(t,{wi:function(){return g},pW:function(){return b},tW:function(){return x},jx:function(){return _},VO:function(){return E},uB:function(){return k},I:function(){return C}});var r=n(18489),i=n(31303),o=n(50678),a=n(89472),s=n(33032),c=n(27853),u=n(84531),l=n(84322),d=n.n(l),f=n(51386),h=n(71188),p=n(39214),m=n(82751),v=n(2466),g=function(e){return"image"===e.type&&!!e.fileId},y=function(e){var t=e.workspace,n=e.scene,r=e.fileId,i=e.encode,o="/files/".concat(t,"/").concat(n,"/").concat(r);return i?encodeURIComponent(o.replace(/^\//,"")):o},b=function(){function e(){var t=this;(0,c.Z)(this,e),this.fetchingFiles=new Map,this.savingFiles=new Map,this.savedFiles=new Map,this.erroredFiles=new Map,this.isFileHandled=function(e){return t.savedFiles.has(e)||t.fetchingFiles.has(e)||t.savingFiles.has(e)||t.erroredFiles.has(e)},this.isFileSaved=function(e){return t.savedFiles.has(e)},this.saveFiles=function(){var e=(0,s.Z)(d().mark((function e(n){var r,i,s,c,u,l,f,h,p,m,v,y,b,w,x,_,k,C,S,j,A,T,I;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.workspace,i=n.scene,s=n.elements,c=n.files,u=new Map,l=(0,a.Z)(s);try{for(l.s();!(f=l.n()).done;)h=f.value,g(h)&&c[h.fileId]&&!t.isFileHandled(h.fileId)&&(u.set(h.fileId,c[h.fileId]),t.savingFiles.set(h.fileId,!0))}catch(d){l.e(d)}finally{l.f()}e.prev=4,p=new Map,m=new Map,v=(0,a.Z)(u),e.prev=8,v.s();case 10:if((y=v.n()).done){e.next=24;break}return b=(0,o.Z)(y.value,2),w=b[0],x=b[1],e.prev=12,e.next=15,E({workspace:r,scene:i,fileData:x});case 15:m.set(w,!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(12),console.error(e.t0),p.set(w,!0);case 22:e.next=10;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(8),v.e(e.t1);case 29:return e.prev=29,v.f(),e.finish(29);case 32:_=(0,a.Z)(m);try{for(_.s();!(k=_.n()).done;)C=(0,o.Z)(k.value,1),S=C[0],t.savedFiles.set(S,!0)}catch(d){_.e(d)}finally{_.f()}return e.abrupt("return",{savedFiles:m,erroredFiles:p});case 35:e.prev=35,j=(0,a.Z)(u);try{for(j.s();!(A=j.n()).done;)T=(0,o.Z)(A.value,1),I=T[0],t.savingFiles.delete(I)}catch(d){j.e(d)}finally{j.f()}return e.finish(35);case 39:case"end":return e.stop()}}),e,null,[[4,,35,39],[8,26,29,32],[12,18]])})));return function(t){return e.apply(this,arguments)}}(),this.getFiles=function(){var e=(0,s.Z)(d().mark((function e(n){var r,c,u,l,f,p,m,v,b,x,_,E,k,C,S,j,A,T,I;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.workspace,c=n.scene,u=n.elements,l=[],f=new Map,(p=u.filter((function(e){return g(e)&&!t.isFileHandled(e.fileId)&&!e.isDeleted&&"pending"!==e.status})).map((function(e){return e.fileId}))).length){e.next=6;break}return e.abrupt("return",{loadedFiles:l,erroredFiles:f});case 6:m=(0,a.Z)(p);try{for(m.s();!(v=m.n()).done;)b=v.value,t.fetchingFiles.set(b,!0)}catch(O){m.e(O)}finally{m.f()}return e.prev=8,e.next=11,Promise.all((0,i.Z)(new Set(p)).map(function(){var e=(0,s.Z)(d().mark((function e(t){var n,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w({fileId:t,decryptionKey:null,url:"https://firebasestorage.googleapis.com/v0/b/".concat(h.q.storageBucket,"/o/").concat(y({workspace:r,scene:c,fileId:t,encode:!0}),"?alt=media")});case 3:n=e.sent,i=n.dataURL,o=n.metadata,l.push({mimeType:o.mimeType,id:t,dataURL:i,created:(null===o||void 0===o?void 0:o.created)||Date.now()}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),f.set(t,!0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));case 11:for(x=0,_=l;x<_.length;x++)E=_[x],t.savedFiles.set(E.id,!0);k=(0,a.Z)(f);try{for(k.s();!(C=k.n()).done;)S=(0,o.Z)(C.value,1),j=S[0],t.erroredFiles.set(j,!0)}catch(O){k.e(O)}finally{k.f()}return e.abrupt("return",{loadedFiles:l,erroredFiles:f});case 15:e.prev=15,A=(0,a.Z)(p);try{for(A.s();!(T=A.n()).done;)I=T.value,t.fetchingFiles.delete(I)}catch(O){A.e(O)}finally{A.f()}return e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[8,,15,19]])})));return function(t){return e.apply(this,arguments)}}(),this.shouldPreventUnload=function(){return!!t.savingFiles.size},this.shouldUpdateImageElementStatus=function(e){return g(e)&&t.isFileSaved(e.fileId)&&"pending"===e.status}}return(0,u.Z)(e,[{key:"reset",value:function(){this.fetchingFiles.clear(),this.savingFiles.clear(),this.savedFiles.clear(),this.erroredFiles.clear()}}]),e}(),w=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,i,o,a,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.url);case 2:if(!((n=e.sent).status>=400)){e.next=5;break}throw new Error('error fetching file "'.concat(t.fileId,'"'));case 5:return e.next=7,n.arrayBuffer();case 7:return r=e.sent,e.next=10,(0,p.xi)(new Uint8Array(r),{decryptionKey:t.decryptionKey});case 10:return i=e.sent,o=i.data,a=i.metadata,s=(new TextDecoder).decode(o),e.abrupt("return",{dataURL:s,metadata:a});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=window.crypto.subtle,e.next=4,t.arrayBuffer();case 4:return e.t1=e.sent,e.next=7,e.t0.digest.call(e.t0,"SHA-384",e.t1);case 7:r=e.sent,n=Array.from(new Uint8Array(r)).map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.next=15;break;case 11:e.prev=11,e.t2=e.catch(0),console.error(e.t2),n=(0,m.x0)(80);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){return(0,m.x0)(80)},E=function(){var e=(0,s.Z)(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspace,r=t.scene,i=t.fileData,e.t0=f.ZP.storage().ref(y({workspace:n,scene:r,fileId:i.id})),e.t1=Blob,e.t2=Uint8Array,e.next=6,(0,p.el)((new TextEncoder).encode(i.dataURL),{metadata:{id:i.id,created:i.created,mimeType:i.mimeType},encryptionKey:null});case 6:return e.t3=e.sent,e.t4=new e.t2(e.t3),e.t5=[e.t4],e.t6={type:"application/octet-stream"},e.t7=new e.t1(e.t5,e.t6),e.t8={cacheControl:"public, max-age=".concat(2592e3)},e.next=14,e.t0.put.call(e.t0,e.t7,e.t8);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.Z)(d().mark((function e(t){var n,i,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="elements"in t?t.elements.filter((function(e){return g(e)})).map((function(e){return e.fileId})):t.fileIds,i=new Map,o=new Map,e.next=5,Promise.all(n.map(function(){var e=(0,s.Z)(d().mark((function e(n){var a,s,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t.getPath(n),"?alt=media"),e.prev=1,e.next=4,w({fileId:n,url:a,decryptionKey:t.decryptionKey});case 4:s=e.sent,c=s.dataURL,u=s.metadata,i.set(n,(0,r.Z)((0,r.Z)({},u),{},{dataURL:c})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),o.set(n,!0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",{loadedFiles:i,erroredFiles:o});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){e.erroredFiles.size&&e.excalidrawAPI.updateScene({elements:e.excalidrawAPI.getSceneElementsIncludingDeleted().map((function(t){return g(t)&&e.erroredFiles.has(t.fileId)?(0,v.mutateElement)(t,{status:"error"},!1):t}))})}},19045:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(27853),i=n(84531),o="excplus-lstp",a="excplus-no-auto-redirect-modal",s=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"has",value:function(e){try{return!!window.localStorage.getItem(e)}catch(t){return console.warn("localStorage.getItem error: ".concat(t.message)),!1}}},{key:"get",value:function(e){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(n){return console.warn("localStorage.getItem error: ".concat(n.message)),null}}}]),e}();s.LAST_AUTH_PROVIDER=o,s.NO_AUTO_REDIRECT_MODAL=a,s.set=function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("localStorage.setItem error: ".concat(n.message))}},s.delete=function(e){try{window.localStorage.removeItem(e)}catch(t){console.warn("localStorage.removeItem error: ".concat(t.message))}}},63590:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var r=n(31303),i=n(27853),o=n(84531),a=n(64322),s=n(35210),c=n(71299),u=(0,s.Z)((function(e,t){return(0,c.Z)(e)?(0,a.Z)(e,t):[]})),l=function(){function e(t){var n;(0,i.Z)(this,e),this.subscribers=[],this.value=void 0,this.updateOnChangeOnly=void 0,this.updateOnChangeOnly=null!==(n=null===t||void 0===t?void 0:t.updateOnChangeOnly)&&void 0!==n&&n,this.value=null===t||void 0===t?void 0:t.initialState}return(0,o.Z)(e,[{key:"on",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=i.flat().filter((function(e){return"function"===typeof e}));return(e=this.subscribers).push.apply(e,(0,r.Z)(a)),function(){return t.off(a)}}},{key:"once",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.flat().filter((function(e){return"function"===typeof e})),o=this.on.apply(this,(0,r.Z)(i));return i.push((function(){return o()})),o}},{key:"off",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.subscribers=u.apply(void 0,[this.subscribers].concat((0,r.Z)(t.flat())))}},{key:"trigger",value:function(e){return this.updateOnChangeOnly&&this.value===e?[]:(this.value=e,this.subscribers.map((function(t){return t(e)})))}}]),e}()},48545:function(e,t,n){"use strict";n.d(t,{q6:function(){return c},ow:function(){return u}});var r=n(33032),i=n(84322),o=n.n(i),a=function(){var e=new Uint8Array(12);return window.crypto.getRandomValues(e)},s=function(e,t){return window.crypto.subtle.importKey("jwk",{alg:"A128GCM",ext:!0,k:e,key_ops:["encrypt","decrypt"],kty:"oct"},{name:"AES-GCM",length:128},!1,[t])},c=function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,i,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,"encrypt");case 2:if(r=e.sent,i=a(),"string"!==typeof n){e.next=8;break}e.t0=(new TextEncoder).encode(n),e.next=21;break;case 8:if(!(n instanceof Uint8Array)){e.next=12;break}e.t1=n,e.next=20;break;case 12:if(!(n instanceof Blob)){e.next=18;break}return e.next=15,n.arrayBuffer();case 15:e.t2=e.sent,e.next=19;break;case 18:e.t2=n;case 19:e.t1=e.t2;case 20:e.t0=e.t1;case 21:return c=e.t0,e.next=24,window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},r,c);case 24:return u=e.sent,e.abrupt("return",{encryptedBuffer:u,iv:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(r,"decrypt");case 2:return i=e.sent,e.abrupt("return",window.crypto.subtle.decrypt({name:"AES-GCM",iv:t},i,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},33376:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(2466);var i=function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},o=n(6135);var a=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=(0,o.Z)(n))===n?n:0),void 0!==t&&(t=(t=(0,o.Z)(t))===t?t:0),i((0,o.Z)(e),t,n)},s={viewportCoordsToSceneCoords:function(e,t){var n=e.clientX,i=e.clientY,o=(0,r.viewportCoordsToSceneCoords)({clientX:n,clientY:i},t);return{x:o.x,y:o.y}},sceneCoordsToExcalidrawViewportCoords:function(e){var t=e.sceneX,n=e.sceneY,i=e.offsetY,o=e.excalidrawState,a=(0,r.sceneCoordsToViewportCoords)({sceneX:t,sceneY:n},o),s=a.x,c=a.y;return{x:s-o.offsetLeft,y:c-o.offsetTop+i}},getItemDragOffsetCoords:function(e){var t=e.target.getBoundingClientRect();return{x:a(e.clientX-t.left,0,t.width),y:a(e.clientY-t.top,0,t.height)}},eventCoordsToViewportCoords:function(e){var t=e.event,n=e.excalidrawCoords;return{x:t.clientX-(null===n||void 0===n?void 0:n.offsetLeft)||0,y:t.clientY-(null===n||void 0===n?void 0:n.offsetTop)||0}},isOutsideViewport:function(e){var t=e.top,n=e.left,r=e.offset,i=e.excalidrawAPI;if(!i.app.canvas)return!0;var o=r||0,a=i.app.canvas.getBoundingClientRect(),s=a.width,c=a.height;return t<-o||n<-o||n>s+o||t>c+o}}},88880:function(e,t,n){"use strict";n.d(t,{T:function(){return de},U:function(){return le}});var r=n(33032),i=n(84531),o=n(27853),a=n(84322),s=n.n(a),c=n(81511);var u=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},l=n(63490),d=n(57150),f=n(17476);var h=function(e,t){return e&&(0,d.Z)(t,(0,f.Z)(t),e)},p=n(41078);var m=function(e,t){return e&&(0,d.Z)(t,(0,p.Z)(t),e)},v=n(23999),g=n(94948),y=n(76210);var b=function(e,t){return(0,d.Z)(e,(0,y.Z)(e),t)},w=n(89670);var x=function(e,t){return(0,d.Z)(e,(0,w.Z)(e),t)},_=n(11972),E=n(86778),k=n(17473),C=Object.prototype.hasOwnProperty;var S=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&C.call(e,"index")&&(n.index=e.index,n.input=e.input),n},j=n(28044);var A=function(e,t){var n=t?(0,j.Z)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},T=/\w*$/;var I=function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t},O=n(62393),D=O.Z?O.Z.prototype:void 0,N=D?D.valueOf:void 0;var P=function(e){return N?Object(N.call(e)):{}},M=n(477);var L=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,j.Z)(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return A(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,M.Z)(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return I(e);case"[object Symbol]":return P(e)}},R=n(16982),Z=n(64251),F=n(27114),U=n(99154);var z=function(e){return(0,U.Z)(e)&&"[object Map]"==(0,k.Z)(e)},B=n(91801),V=n(76018),W=V.Z&&V.Z.isMap,H=W?(0,B.Z)(W):z,q=n(77955);var G=function(e){return(0,U.Z)(e)&&"[object Set]"==(0,k.Z)(e)},Y=V.Z&&V.Z.isSet,K=Y?(0,B.Z)(Y):G,Q="[object Arguments]",X="[object Function]",$="[object Object]",J={};J[Q]=J["[object Array]"]=J["[object ArrayBuffer]"]=J["[object DataView]"]=J["[object Boolean]"]=J["[object Date]"]=J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Map]"]=J["[object Number]"]=J[$]=J["[object RegExp]"]=J["[object Set]"]=J["[object String]"]=J["[object Symbol]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J["[object Error]"]=J[X]=J["[object WeakMap]"]=!1;var ee=function e(t,n,r,i,o,a){var s,d=1&n,y=2&n,w=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!(0,q.Z)(t))return t;var C=(0,Z.Z)(t);if(C){if(s=S(t),!d)return(0,g.Z)(t,s)}else{var j=(0,k.Z)(t),A=j==X||"[object GeneratorFunction]"==j;if((0,F.Z)(t))return(0,v.Z)(t,d);if(j==$||j==Q||A&&!o){if(s=y||A?{}:(0,R.Z)(t),!d)return y?x(t,m(s,t)):b(t,h(s,t))}else{if(!J[j])return o?t:{};s=L(t,j,d)}}a||(a=new c.Z);var T=a.get(t);if(T)return T;a.set(t,s),K(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):H(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var I=w?y?E.Z:_.Z:y?p.Z:f.Z,O=C?void 0:I(t);return u(O||t,(function(i,o){O&&(i=t[o=i]),(0,l.Z)(s,o,e(i,n,r,o,t,a))})),s};var te=function(e){return ee(e,5)},ne=n(51544),re=n.n(ne),ie=n(60729),oe=n(63590),ae={isSidebarDocked:{change:!0,ws:!1,preview:!1,database:!1},pendingImageElementId:{change:!0,ws:!1,preview:!1,database:!1},viewBackgroundColor:{change:!0,ws:!0,preview:!0,database:!0},scrollX:{change:!0,ws:!1,preview:!1,database:!1},scrollY:{change:!0,ws:!1,preview:!1,database:!1},draggingElement:{change:!0,ws:!1,preview:!1,database:!1},resizingElement:{change:!0,ws:!1,preview:!1,database:!1},editingElement:{change:!0,ws:!1,preview:!1,database:!1},selectedElementIds:{change:!0,ws:!1,preview:!1,database:!1},collaborators:{change:!1,ws:!1,preview:!1,database:!1},theme:{change:!1,ws:!1,preview:!1,database:!1},currentChartType:{change:!1,ws:!1,preview:!1,database:!1},currentItemBackgroundColor:{change:!1,ws:!1,preview:!1,database:!1},currentItemEndArrowhead:{change:!1,ws:!1,preview:!1,database:!1},currentItemFillStyle:{change:!1,ws:!1,preview:!1,database:!1},currentItemFontFamily:{change:!1,ws:!1,preview:!1,database:!1},currentItemFontSize:{change:!1,ws:!1,preview:!1,database:!1},currentItemRoundness:{change:!1,ws:!1,preview:!1,database:!1},currentItemOpacity:{change:!1,ws:!1,preview:!1,database:!1},currentItemRoughness:{change:!1,ws:!1,preview:!1,database:!1},currentItemStartArrowhead:{change:!1,ws:!1,preview:!1,database:!1},currentItemStrokeColor:{change:!1,ws:!1,preview:!1,database:!1},currentItemStrokeStyle:{change:!1,ws:!1,preview:!1,database:!1},currentItemStrokeWidth:{change:!1,ws:!1,preview:!1,database:!1},currentItemTextAlign:{change:!1,ws:!1,preview:!1,database:!1},cursorButton:{change:!1,ws:!1,preview:!1,database:!1},editingGroupId:{change:!1,ws:!1,preview:!1,database:!1},editingLinearElement:{change:!1,ws:!1,preview:!1,database:!1},selectedLinearElement:{change:!1,ws:!1,preview:!1,database:!1},activeTool:{change:!0,ws:!1,preview:!1,database:!1},errorMessage:{change:!1,ws:!1,preview:!1,database:!1},exportBackground:{change:!1,ws:!1,preview:!1,database:!1},exportEmbedScene:{change:!1,ws:!1,preview:!1,database:!1},exportWithDarkMode:{change:!1,ws:!1,preview:!1,database:!1},fileHandle:{change:!1,ws:!1,preview:!1,database:!1},gridSize:{change:!1,ws:!1,preview:!1,database:!1},height:{change:!1,ws:!1,preview:!1,database:!1},isBindingEnabled:{change:!1,ws:!1,preview:!1,database:!1},openSidebar:{change:!0,ws:!1,preview:!1,database:!1},isLoading:{change:!1,ws:!1,preview:!1,database:!1},isResizing:{change:!1,ws:!1,preview:!1,database:!1},isRotating:{change:!1,ws:!1,preview:!1,database:!1},lastPointerDownWith:{change:!1,ws:!1,preview:!1,database:!1},multiElement:{change:!1,ws:!1,preview:!1,database:!1},name:{change:!1,ws:!1,preview:!1,database:!1},offsetLeft:{change:!1,ws:!1,preview:!1,database:!1},offsetTop:{change:!1,ws:!1,preview:!1,database:!1},openMenu:{change:!1,ws:!1,preview:!1,database:!1},pasteDialog:{change:!1,ws:!1,preview:!1,database:!1},previousSelectedElementIds:{change:!1,ws:!1,preview:!1,database:!1},scrolledOutside:{change:!1,ws:!1,preview:!1,database:!1},selectedGroupIds:{change:!1,ws:!1,preview:!1,database:!1},selectionElement:{change:!1,ws:!1,preview:!1,database:!1},shouldCacheIgnoreZoom:{change:!1,ws:!1,preview:!1,database:!1},contextMenu:{change:!1,ws:!1,preview:!1,database:!1},openDialog:{change:!1,ws:!1,preview:!1,database:!1},showStats:{change:!1,ws:!1,preview:!1,database:!1},startBoundElement:{change:!1,ws:!1,preview:!1,database:!1},suggestedBindings:{change:!1,ws:!1,preview:!1,database:!1},toast:{change:!1,ws:!1,preview:!1,database:!1},width:{change:!1,ws:!1,preview:!1,database:!1},zenModeEnabled:{change:!0,ws:!1,preview:!1,database:!1},zoom:{change:!0,ws:!1,preview:!1,database:!1},viewModeEnabled:{change:!1,ws:!1,preview:!1,database:!1},exportScale:{change:!0,ws:!1,preview:!1,database:!1},openPopup:{change:!1,ws:!1,preview:!1,database:!1},penMode:{change:!1,ws:!1,preview:!1,database:!1},penDetected:{change:!1,ws:!1,preview:!1,database:!1},showHyperlinkPopup:{change:!1,ws:!1,preview:!1,database:!1},showWelcomeScreen:{change:!1,ws:!1,preview:!1,database:!1}},se=Object.keys(ae),ce=["change","ws","preview","database"].reduce((function(e,t){return e[t]=se.reduce((function(e,n){var r=ae[n][t];return r&&(e[n]=r),e}),{}),e}),{}),ue=function e(t,n){return Array.isArray(t)?JSON.stringify(t.map((function(t){return e(t)}))):"object"===typeof t&&null!==t?(t instanceof Map||t instanceof Set?Array.from(t):Object.keys(t)).sort().reduce((function(r,i){return!n||n[i]?"".concat(r).concat(i,":").concat(e(t[i]),","):r}),""):String(t)},le=function(e,t){var n="";return e.appState&&(n+=ue(e.appState,ce[t])),function(e){return re().h32(e,0).toString(16)}(n+=String(e.elements.reduce((function(e,t){return ie.BigInteger.add(e,t.versionNonce)}),0)))},de=(0,i.Z)((function e(){(0,o.Z)(this,e)}));de.sceneCache=new Map,de.versionCache=new Map,de.emitters=new Map,de.onUpdate=function(e,t){var n=de.emitters.get(e)||(de.emitters.set(e,new oe.Q),de.emitters.get(e)),r=n.on(t);return function(){r(),n.subscribers.length||de.emitters.delete(e)}},de.updateSceneCacheValue=function(e,t){var n;de.sceneCache.set(e,t),null===(n=de.emitters.get(e))||void 0===n||n.trigger(t)},de.set=function(){var e=(0,r.Z)(s().mark((function e(t,n){var i,o,a,c,u,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"function"!==typeof n||"then"in n?"then"in n?(c=de.sceneCache.get(t),u=n,l=new Promise(function(){var e=(0,r.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u;case 3:r=e.sent,de.sceneCache.set(t,te(r)),de._setVersionCache("database",t,r.contents),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c?de.sceneCache.set(t,c):de.sceneCache.delete(t);case 11:n(de.sceneCache.get(t));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()).then((function(e){return de.updateSceneCacheValue(t,e),de.sceneCache.get(t)})),de.sceneCache.set(t,l)):(n=te(n),de.updateSceneCacheValue(t,n),de._setVersionCache("database",t,n.contents)):(i=n,o=function(e){e&&("then"in e?e.then((function(e){de.updateSceneCacheValue(t,e)})):de.updateSceneCacheValue(t,e))},(a=de.sceneCache.get(t))&&"then"in a?a.then((function(e){o(i(e))})):o(i(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de.get=function(e){return de.sceneCache.get(e)},de.isChanged=function(e,t){return de.getVersionCache("database",e)!==le(t,"database")},de.delete=function(e){de.sceneCache.delete(e),de.versionCache.delete(e)},de.getVersionCache=function(e,t){var n;return null===(n=de.versionCache.get(t))||void 0===n?void 0:n.get(e)},de._setVersionCache=function(e,t,n,r){var i=de.getVersionCache(e,t),o=le(n,e),a=i!==o;if(a){var s=de.versionCache.get(t);s||(s=new Map,de.versionCache.set(t,s)),s.set(e,o)}return a},de.setVersionCache=function(e,t,n,r){return de._setVersionCache(e,t,n,r)}},51386:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Wn},RZ:function(){return Hn},Dp:function(){return qn}});var r=n(33032),i=n(84322),o=n.n(i),a=n(10859),s=n(64760),c=n(66797),u=n(38164),l="firebasestorage.googleapis.com",d=function(){function e(e,t){this.code_=I(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return I(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),e}(),f="unknown",h="object-not-found",p="quota-exceeded",m="unauthenticated",v="unauthorized",g="retry-limit-exceeded",y="canceled",b="invalid-url",w="invalid-default-bucket",x="cannot-slice-blob",_="server-file-wrong-size",E="no-download-url",k="invalid-argument",C="invalid-argument-count",S="app-deleted",j="invalid-root-operation",A="invalid-format",T="internal-error";function I(e){return"storage/"+e}function O(){return new d(f,"An unknown error occurred, please check the error payload for server response.")}function D(){return new d(y,"User canceled the upload/download.")}function N(){return new d(x,"Cannot slice blob for upload. Please retry the upload.")}function P(){return new d(E,"The given file does not have any download URLs.")}function M(e,t,n){return new d(k,"Invalid argument in `"+t+"` at index "+e+": "+n)}function L(){return new d(S,"The Firebase app was deleted.")}function R(e,t){return new d(A,"String does not match format '"+e+"': "+t)}function Z(e){throw new d(T,"Internal error: "+e)}var F={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function U(e){switch(e){case F.RAW:case F.BASE64:case F.BASE64URL:case F.DATA_URL:return;default:throw"Expected one of the event types: ["+F.RAW+", "+F.BASE64+", "+F.BASE64URL+", "+F.DATA_URL+"]."}}var z=function(e,t){this.data=e,this.contentType=t||null};function B(e,t){switch(e){case F.RAW:return new z(V(t));case F.BASE64:case F.BASE64URL:return new z(W(e,t));case F.DATA_URL:return new z(function(e){var t=new H(e);return t.base64?W(F.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw R(F.DATA_URL,"Malformed data URL.")}return V(t)}(t.rest)}(t),new H(t).contentType)}throw O()}function V(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function W(e,t){switch(e){case F.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw R(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case F.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw R(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(u){throw R(e,"Invalid character found")}for(var s=new Uint8Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}var H=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw R(F.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var q,G={STATE_CHANGED:"state_changed"},Y="running",K="pausing",Q="paused",X="success",$="canceling",J="canceled",ee="error",te={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ne(e){switch(e){case Y:case K:case $:return te.RUNNING;case Q:return te.PAUSED;case X:return te.SUCCESS;case J:return te.CANCELED;default:return te.ERROR}}function re(e){return null!=e}function ie(e){return void 0!==e}function oe(e){return"function"===typeof e}function ae(e){return"object"===typeof e}function se(e){return ae(e)&&null!==e}function ce(e){return"string"===typeof e||e instanceof String}function ue(e){return le(e)&&Number.isInteger(e)}function le(e){return"number"===typeof e||e instanceof Number}function de(e){return fe()&&e instanceof Blob}function fe(){return"undefined"!==typeof Blob}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(q||(q={}));var he=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=q.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=q.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=q.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Z("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),re(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return re(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Z("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Z("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Z("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){re(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){re(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),pe=function(){function e(){}return e.prototype.createXhrIo=function(){return new he},e}();function me(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=me();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(fe())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var ge=function(){function e(e,t){var n=0,r="";de(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(de(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(fe()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(ve.apply(null,r))}var i=t.map((function(e){return ce(e)?B(F.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),ye=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new d(w,"Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=l.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var u=s[c],f=u.regex.exec(t);if(f){var h=f[u.indices.bucket],p=f[u.indices.path];p||(p=""),n=new e(h,p),u.postModify(n);break}}if(null==n)throw function(e){return new d(b,"Invalid URL '"+e+"'.")}(t);return n},e}();function be(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return ae(n=t)&&!Array.isArray(n)?t:null}function we(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function xe(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function _e(e){return"https://"+l+"/v0"+e}function Ee(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function ke(e,t){return t}var Ce=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ke},Se=null;function je(){if(Se)return Se;var e=[];e.push(new Ce("bucket")),e.push(new Ce("generation")),e.push(new Ce("metageneration")),e.push(new Ce("name","fullPath",!0));var t=new Ce("name");t.xform=function(e,t){return function(e){return!ce(e)||e.length<2?e:xe(e)}(t)},e.push(t);var n=new Ce("size");return n.xform=function(e,t){return re(t)?Number(t):t},e.push(n),e.push(new Ce("timeCreated")),e.push(new Ce("updated")),e.push(new Ce("md5Hash",null,!0)),e.push(new Ce("cacheControl",null,!0)),e.push(new Ce("contentDisposition",null,!0)),e.push(new Ce("contentEncoding",null,!0)),e.push(new Ce("contentLanguage",null,!0)),e.push(new Ce("contentType",null,!0)),e.push(new Ce("metadata","customMetadata",!0)),Se=e}function Ae(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ye(n,r);return t.makeStorageReference(i)}})}(r,e),r}function Te(e,t,n){var r=be(t);return null===r?null:Ae(e,r,n)}function Ie(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Oe(e){if(!ae(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!ae(n))throw"Expected object for 'customMetadata' mapping."}else if(se(n))throw"Mapping for '"+t+"' cannot be an object."}}var De="maxResults",Ne="pageToken";function Pe(e,t,n){var r=be(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e.makeStorageReference(new ye(t,a));r.prefixes.push(s)}if(n.items)for(var c=0,u=n.items;c<u.length;c++){var l=u[c];s=e.makeStorageReference(new ye(t,l.name)),r.items.push(s)}return r}(e,t,r)}function Me(e){if(!ae(e)||!e)throw"Expected ListOptions object.";for(var t in e)if(t===De){if(!ue(e.maxResults)||e.maxResults<=0)throw"Expected maxResults to be a positive number.";if(e.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if(t!==Ne)throw"Unknown option: "+t;if(e.pageToken&&!ce(e.pageToken))throw"Expected pageToken to be string."}}var Le=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Re(e){if(!e)throw O()}function Ze(e,t){return function(n,r){var i=Te(e,r,t);return Re(null!==i),i}}function Fe(e,t){return function(n,r){var i=Te(e,r,t);return Re(null!==i),function(e,t){var n=be(t);if(null===n)return null;if(!ce(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.bucket,r=e.fullPath;return _e("/b/"+i(n)+"/o/"+i(r))+Ee({alt:"media",token:t})}))[0]}(i,r)}}function Ue(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new d(m,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new d(p,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new d(v,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function ze(e){var t=Ue(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new d(h,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Be(e,t,n){var r=_e(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new Le(r,"GET",Ze(e,n),i);return o.errorHandler=ze(t),o}function Ve(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=_e(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime,c=new Le(a,"GET",function(e,t){return function(n,r){var i=Pe(e,t,r);return Re(null!==i),i}}(e,t.bucket),s);return c.urlParams=o,c.errorHandler=Ue(t),c}function We(e,t,n){var r=_e(t.fullServerUrl()),i=e.maxOperationRetryTime,o=new Le(r,"GET",Fe(e,n),i);return o.errorHandler=ze(t),o}function He(e,t,n,r){var i=_e(t.fullServerUrl()),o=Ie(n,r),a=e.maxOperationRetryTime,s=new Le(i,"PATCH",Ze(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=ze(t),s}function qe(e,t){var n=_e(t.fullServerUrl()),r=e.maxOperationRetryTime;var i=new Le(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ze(t),i}function Ge(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Ye=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Ke(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Re(!1)}return Re(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Qe=262144;function Xe(e,t,n,r,i,o,a,s){var c=new Ye(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new d(_,"Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var f=c.current,h=f+l,p={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},m=r.slice(f,h);if(null===m)throw N();var v=t.maxUploadRetryTime,g=new Le(n,"POST",(function(e,n){var i,a=Ke(e,["active","final"]),s=c.current+l,u=r.size();return i="final"===a?Ze(t,o)(e,n):null,new Ye(s,u,"final"===a,i)}),v);return g.headers=p,g.body=m.uploadData(),g.progressCallback=s||null,g.errorHandler=Ue(e),g}var $e=function(e,t,n){if(oe(e)||re(t)||re(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},Je=function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o};function et(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw function(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new d(C,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}(r,i,e,n.length);for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(a){throw a instanceof Error?M(o,e,a.message):M(o,e,a)}}var tt=function(e,t){var n=this;this.validator=function(t){n.optional&&!ie(t)||e(t)},this.optional=!!t};function nt(e,t){function n(e){if(!ce(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new tt(r,t)}function rt(){return new tt((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||fe()&&e instanceof Blob))throw"Expected Blob or File."}))}function it(e){return new tt(Oe,e)}function ot(e){return new tt(Me,e)}function at(){return new tt((function(e){if(!(le(e)&&e>=0))throw"Expected a number 0 or greater."}))}function st(e,t){return new tt((function(t){if(!(null===t||re(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}),t)}function ct(e){return new tt((function(e){if(!(null===e||oe(e)))throw"Expected a Function."}),e)}function ut(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var lt=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.service_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=Y,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(y)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(ee))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(y)?a.completeTransitions_():(a.error_=e,a.transition_(ee))},this.promise_=new Promise((function(e,t){a.resolve_=e,a.reject_=t,a.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===Y&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.service_.getAuthToken().then((function(n){switch(t.state_){case Y:e(n);break;case $:t.transition_(J);break;case K:t.transition_(Q)}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Ge(t,r,i),s={name:a.fullPath},c=_e(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ie(a,n),d=e.maxUploadRetryTime,f=new Le(c,"POST",(function(e){var t;Ke(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Re(!1)}return Re(ce(t)),t}),d);return f.urlParams=s,f.headers=u,f.body=l,f.errorHandler=Ue(t),f}(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Le(n,"POST",(function(e){var t=Ke(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Re(!1)}n||Re(!1);var i=Number(n);return Re(!isNaN(i)),new Ye(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Ue(t),o}(e.service_,e.location_,t,e.blob_),i=e.service_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=Qe*this.chunkMultiplier_,n=new Ye(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=Xe(e.location_,e.service_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(s){return e.error_=s,void e.transition_(ee)}var a=e.service_.makeRequest(o,i);e.request_=a,a.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(X)):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){Qe*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=Be(e.service_,e.location_,e.mappings_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_(X)}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var c=Ge(t,r,i),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ie(c,n)+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",l="\r\n--"+s+"--",d=ge.getBlob(u,r,l);if(null===d)throw N();var f={name:c.fullPath},h=_e(o),p=e.maxUploadRetryTime,m=new Le(h,"POST",Ze(e,n),p);return m.urlParams=f,m.headers=a,m.body=d.uploadData(),m.errorHandler=Ue(t),m}(e.service_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.service_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(X)}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case $:case K:this.state_=e,null!==this.request_&&this.request_.cancel();break;case Y:var t=this.state_===Q;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case Q:this.state_=e,this.notifyObservers_();break;case J:this.error_=D(),this.state_=e,this.notifyObservers_();break;case ee:case X:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case K:this.transition_(Q);break;case $:this.transition_(J);break;case Y:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=ne(this.state_);return new Je(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==G.STATE_CHANGED)throw"Expected one of the event types: ["+G.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=ct(!0).validator,s=st(null,!0).validator;function c(e){try{return void a(e)}catch(t){}try{if(s(e),!(ie(e.next)||ie(e.error)||ie(e.complete)))throw"";return}catch(t){throw o}}var u=[nt(i),st(c,!0),ct(!0),ct(!0)];et("on",u,arguments);var l=this;function d(e){return function(t,n,i){null!==e&&et("on",e,arguments);var o=new $e(t,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(e){if(null===e)throw o;c(e)}var h=[st(f),ct(!0),ct(!0)],p=!(ie(t)||ie(n)||ie(r));return p?d(h):d(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach((function(t){e.notifyObserver_(t)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(ne(this.state_)){case te.SUCCESS:ut(this.resolve_.bind(null,this.snapshot))();break;case te.CANCELED:case te.ERROR:ut(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(ne(this.state_)){case te.RUNNING:case te.PAUSED:e.next&&ut(e.next.bind(e,this.snapshot))();break;case te.SUCCESS:e.complete&&ut(e.complete.bind(e))();break;default:e.error&&ut(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){et("resume",[],arguments);var e=this.state_===Q||this.state_===K;return e&&this.transition_(Y),e},e.prototype.pause=function(){et("pause",[],arguments);var e=this.state_===Y;return e&&this.transition_(K),e},e.prototype.cancel=function(){et("cancel",[],arguments);var e=this.state_===Y||this.state_===K;return e&&this.transition_($),e},e}(),dt=function(){function e(e,t){this.service=e,this.location=t instanceof ye?t:ye.makeFromUrl(t)}return e.prototype.toString=function(){return et("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return je()},e.prototype.child=function(e){et("child",[nt()],arguments);var t=we(this.location.path,e),n=new ye(this.location.bucket,t);return this.newRef(this.service,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new ye(this.location.bucket,e);return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new ye(this.location.bucket,"");return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return xe(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),et("put",[rt(),it(!0)],arguments),this.throwIfRoot_("put"),new lt(this,this.service,this.location,this.mappings(),new ge(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=F.RAW),et("putString",[nt(),nt(U,!0),it(!0)],arguments),this.throwIfRoot_("putString");var r=B(t,e),i=Object.assign({},n);return!re(i.contentType)&&re(r.contentType)&&(i.contentType=r.contentType),new lt(this,this.service,this.location,this.mappings(),new ge(r.data,!0),i)},e.prototype.delete=function(){var e=this;return et("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(t){var n=qe(e.service,e.location);return e.service.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){et("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return n={pageToken:t},[4,this.list(n)];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},e.prototype.list=function(e){et("list",[ot(!0)],arguments);var t=this;return this.service.getAuthToken().then((function(n){var r=e||{},i=Ve(t.service,t.location,"/",r.pageToken,r.maxResults);return t.service.makeRequest(i,n).getPromise()}))},e.prototype.getMetadata=function(){var e=this;return et("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(t){var n=Be(e.service,e.location,e.mappings());return e.service.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){var t=this;return et("updateMetadata",[it()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=He(t.service,t.location,e,t.mappings());return t.service.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){var e=this;return et("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(t){var n=We(e.service,e.location,e.mappings());return e.service.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw P();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new d(j,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),ft=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();var ht=function(){function e(e,t,n,r,i,o,a,s,c,u,l){var d=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());ie(s)?i(s):i()}catch(c){o(c)}else null!==a?((r=O()).setServerResponseProp(a.getResponseText()),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?L():D()):o(r=new d(g,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new pt(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function d(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)l.call.apply(l,(0,c.__spreadArrays)([null,e],t));else{var i;s()||o?l.call.apply(l,(0,c.__spreadArrays)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),d(i))}}var h=!1;function p(e){h||(h=!0,u||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new pt(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=n.getErrorCode()===q.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new pt(a,n))}else{var s=n.getErrorCode()===q.ABORT;t(!1,new pt(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),pt=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function mt(e,t,n,r){var i=Ee(e.urlParams),o=e.url+i,a=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(a,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(a,n),function(e){var t="undefined"!==typeof s.default?s.default.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}(a),new ht(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}var vt=function(){function e(t,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?ye.makeFromBucketSpec(i):e.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new gt(this)}return e.extractBucket_=function(e){var t=null===e||void 0===e?void 0:e.storageBucket;return null==t?null:ye.makeFromBucketSpec(t)},e.prototype.getAuthToken=function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return(e=this.authProvider_.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(e){return e.cancel()})),this.requests_.clear()},e.prototype.makeStorageReference=function(e){return new dt(this,e)},e.prototype.makeRequest=function(e,t){var n=this;if(this.deleted_)return new ft(L());var r=mt(e,this.appId_,t,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},e.prototype.ref=function(e){function t(e){if("string"!==typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(et("ref",[nt(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new dt(this,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!==typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{ye.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return et("refFromURL",[nt(t,!1)],arguments),new dt(this,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){et("setMaxUploadRetryTime",[at()],arguments),this.maxUploadRetryTime_=e},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){et("setMaxOperationRetryTime",[at()],arguments),this.maxOperationRetryTime_=e},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),e}(),gt=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},e}();function yt(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new vt(n,r,new pe,t)}!function(e){var t={TaskState:te,TaskEvent:G,StringFormat:F,Storage:vt,Reference:dt};e.INTERNAL.registerComponent(new u.Component("storage",yt,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.3.43")}(s.default);n(52769),n(40089),n(57702);var bt,wt=n(42517),xt=n(64890),_t="0.4.17",Et=1e4,kt="w:0.4.17",Ct="FIS_v2",St=36e5,jt=((bt={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',bt["not-registered"]="Firebase Installation is not registered.",bt["installation-not-found"]="Firebase Installation not found.",bt["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',bt["app-offline"]="Could not process request. Application offline.",bt["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",bt),At=new wt.ErrorFactory("installations","Installations",jt);function Tt(e){return e instanceof wt.FirebaseError&&e.code.includes("request-failed")}function It(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function Ot(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Dt(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,At.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Nt(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Pt(e,t){var n=t.refreshToken,r=Nt(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function Mt(e){return(0,c.__awaiter)(this,void 0,void 0,(function(){var t;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Lt(e,t){var n=t.fid;return(0,c.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return t=It(e),r=Nt(e),i={fid:n,authVersion:Ct,appId:e.appId,sdkVersion:kt},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Mt((function(){return fetch(t,o)}))];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return s=c.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:Ot(s.authToken)}];case 3:return[4,Dt("Create Installation",a)];case 4:throw c.sent()}}))}))}function Rt(e){return new Promise((function(t){setTimeout(t,e)}))}var Zt=/^[cdef][\w-]{21}$/;function Ft(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,c.__spread)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return Zt.test(t)?t:""}catch(bt){return""}}function Ut(e){return e.appName+"!"+e.appId}var zt=new Map;function Bt(e,t){var n=Ut(e);Vt(n,t),function(e,t){var n=Ht();n&&n.postMessage({key:e,fid:t});qt()}(n,t)}function Vt(e,t){var n,r,i=zt.get(e);if(i)try{for(var o=(0,c.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Wt=null;function Ht(){return!Wt&&"BroadcastChannel"in self&&((Wt=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Vt(e.data.key,e.data.fid)}),Wt}function qt(){0===zt.size&&Wt&&(Wt.close(),Wt=null)}var Gt,Yt="firebase-installations-store",Kt=null;function Qt(){return Kt||(Kt=(0,xt.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Yt)}))),Kt}function Xt(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return n=Ut(e),[4,Qt()];case 1:return r=s.sent(),i=r.transaction(Yt,"readwrite"),[4,(o=i.objectStore(Yt)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||Bt(e,t.fid),[2,t]}}))}))}function $t(e){return(0,c.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return t=Ut(e),[4,Qt()];case 1:return n=i.sent(),[4,(r=n.transaction(Yt,"readwrite")).objectStore(Yt).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Jt(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=Ut(e),[4,Qt()];case 1:return r=c.sent(),i=r.transaction(Yt,"readwrite"),[4,(o=i.objectStore(Yt)).get(n)];case 2:return a=c.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!s||a&&a.fid===s.fid||Bt(e,s.fid),[2,s]}}))}))}function en(e){return(0,c.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return[4,Jt(e,(function(n){var r=function(e){return rn(e||{fid:Ft(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(At.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Lt(e,t)];case 1:return n=i.sent(),[2,Xt(e,n)];case 2:return Tt(r=i.sent())&&409===r.serverCode?[4,$t(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Xt(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:tn(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function tn(e){return(0,c.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return[4,nn(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Rt(100)];case 3:return o.sent(),[4,nn(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,en(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function nn(e){return Jt(e,(function(e){if(!e)throw At.create("installation-not-found");return rn(e)}))}function rn(e){return 1===(t=e).registrationStatus&&t.registrationTime+Et<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function on(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,c.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,l;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return e=function(e,t){var n=t.fid;return It(e)+"/"+n+"/authTokens:generate"}(n,t),i=Pt(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:kt}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,Mt((function(){return fetch(e,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return l=c.sent(),[2,Ot(l)];case 3:return[4,Dt("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function an(e,t){return void 0===t&&(t=!1),(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return[4,Jt(e.appConfig,(function(r){if(!cn(r))throw At.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+St}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return[4,sn(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Rt(100)];case 3:return i.sent(),[4,sn(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,an(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw At.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,c.__assign)((0,c.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,on(e,t)];case 1:return n=o.sent(),i=(0,c.__assign)((0,c.__assign)({},t),{authToken:n}),[4,Xt(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Tt(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,$t(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,c.__assign)((0,c.__assign)({},t),{authToken:{requestStatus:0}}),[4,Xt(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function sn(e){return Jt(e,(function(e){if(!cn(e))throw At.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Et<Date.now()?(0,c.__assign)((0,c.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function cn(e){return void 0!==e&&2===e.registrationStatus}function un(e){return(0,c.__awaiter)(this,void 0,void 0,(function(){var t;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,en(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function ln(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return It(e)+"/"+n}(e,t),r=Pt(e,t),i={method:"DELETE",headers:r},[4,Mt((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Dt("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function dn(e,t){var n=e.appConfig;return function(e,t){Ht();var n=Ut(e),r=zt.get(n);r||(r=new Set,zt.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Ut(e),r=zt.get(n);r&&(r.delete(t),0===r.size&&zt.delete(n),qt())}(n,t)}}function fn(e){return At.create("missing-app-config-values",{valueName:e})}(Gt=s.default).INTERNAL.registerComponent(new u.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw fn("App Configuration");if(!e.name)throw fn("App Name");try{for(var r=(0,c.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw fn(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,c.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return[4,en(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):an(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,c.__awaiter)(this,void 0,void 0,(function(){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,un(e.appConfig)];case 1:return n.sent(),[4,an(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,c.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return[4,Jt(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw At.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw At.create("app-offline");case 3:return[4,ln(t,n)];case 4:return r.sent(),[4,$t(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return dn(r,e)}};return i}),"PUBLIC")),Gt.registerVersion("@firebase/installations",_t);var hn,pn,mn=n(98138),vn="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(hn||(hn={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(pn||(pn={}));var gn,yn=new mn.Logger("@firebase/analytics");function bn(e,t,n,r,i,o){return(0,c.__awaiter)(this,void 0,void 0,(function(){var a,s,u,l;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:a=r[i],c.label=1;case 1:return c.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return c.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=c.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:c.sent(),c.label=6;case 6:return[3,8];case 7:return l=c.sent(),yn.error(l),[3,8];case 8:return e(hn.CONFIG,i,o),[2]}}))}))}function wn(e,t,n,r,i){return(0,c.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,l,d,f,h;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=c.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,d=a;l<d.length&&(f=d[l],"break"!==u(f));l++);c.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return c.sent(),e(hn.EVENT,r,i||{}),[3,5];case 4:return h=c.sent(),yn.error(h),[3,5];case 5:return[2]}}))}))}function xn(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,c.__awaiter)(this,void 0,void 0,(function(){var s;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==hn.EVENT?[3,2]:[4,wn(e,t,n,o,a)];case 1:return c.sent(),[3,5];case 2:return i!==hn.CONFIG?[3,4]:[4,bn(e,t,n,r,o,a)];case 3:return c.sent(),[3,5];case 4:e(hn.SET,o),c.label=5;case 5:return[3,7];case 6:return s=c.sent(),yn.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var _n=((gn={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",gn["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",gn["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",gn["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",gn["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",gn["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",gn["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",gn["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',gn["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',gn),En=new wt.ErrorFactory("analytics","Analytics",_n),kn=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function Cn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Sn(e){var t;return(0,c.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Cn(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw En.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function jn(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=kn),(0,c.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,l,d,f;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:t=e.appId,a=e.measurementId,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,An(n,i)];case 2:return c.sent(),[3,4];case 3:if(s=c.sent(),a)return yn.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return c.trys.push([4,6,,7]),[4,Sn(e)];case 5:return u=c.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof wt.FirebaseError))return!1;var t=Number(e.httpStatus);return 429===t||500===t||503===t||504===t}(l=c.sent())){if(r.deleteThrottleMetadata(t),a)return yn.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:t,measurementId:a}];throw l}return d=503===Number(l.httpStatus)?(0,wt.calculateBackoffMillis)(o,r.intervalMillis,30):(0,wt.calculateBackoffMillis)(o,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},r.setThrottleMetadata(t,f),yn.debug("Calling attemptFetch again in "+d+" millis"),[2,jn(e,f,n,r)];case 7:return[2]}}))}))}function An(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(En.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Tn=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function In(e,t,n,r,i){return(0,c.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,l,d,f;return(0,c.__generator)(this,(function(h){switch(h.label){case 0:return o=function(e,t,n){return void 0===t&&(t=kn),(0,c.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,l=this;return(0,c.__generator)(this,(function(d){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw En.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw En.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Tn,setTimeout((function(){return(0,c.__awaiter)(l,void 0,void 0,(function(){return(0,c.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,jn({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),o.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&yn.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return yn.error(e)})),t.push(o),a=function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return(0,wt.isIndexedDBAvailable)()?[3,1]:(yn.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,wt.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),yn.warn(En.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([o,a])];case 1:return s=h.sent(),u=s[0],l=s[1],i("js",new Date),(f={}).origin="firebase",f.update=!0,d=f,null!=l&&(d.firebase_id=l),i(hn.CONFIG,u.measurementId,d),[2,u.measurementId]}}))}))}var On,Dn,Nn={},Pn=[],Mn={},Ln="dataLayer",Rn="gtag",Zn=!1;function Fn(e){if(Zn)throw En.create("already-initialized");e.dataLayerName&&(Ln=e.dataLayerName),e.gtagName&&(Rn=e.gtagName)}function Un(e,t){!function(){var e=[];if((0,wt.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,wt.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=En.create("invalid-analytics-context",{errorInfo:t});yn.warn(n.message)}}();var n=e.options.appId;if(!n)throw En.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw En.create("no-api-key");yn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Nn[n])throw En.create("already-exists",{id:n});if(!Zn){(function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(vn))return r}return null})()||function(e){var t=document.createElement("script");t.src=vn+"?l="+e,t.async=!0,document.head.appendChild(t)}(Ln),function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ln);var r=xn(Nn,Pn,Mn,Ln,Rn),i=r.wrappedGtag,o=r.gtagCore;Dn=i,On=o,Zn=!0}Nn[n]=In(e,Pn,Mn,t,On);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,c.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(hn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,c.__assign)((0,c.__assign)({},r),{send_to:o}),e(hn.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Dn,Nn[n],e,t,r).catch((function(e){return yn.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,c.__awaiter)(this,void 0,void 0,(function(){var i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(hn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(hn.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Dn,Nn[n],e,t).catch((function(e){return yn.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,c.__awaiter)(this,void 0,void 0,(function(){var i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(hn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(hn.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Dn,Nn[n],e,t).catch((function(e){return yn.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,c.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(hn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(hn.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Dn,Nn[n],e,t).catch((function(e){return yn.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){var n;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Nn[n],e).catch((function(e){return yn.error(e)}))},INTERNAL:{delete:function(){return delete Nn[n],Promise.resolve()}}};return a}var zn="analytics";function Bn(){return(0,c.__awaiter)(this,void 0,void 0,(function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:if((0,wt.isBrowserExtension)())return[2,!1];if(!(0,wt.areCookiesEnabled)())return[2,!1];if(!(0,wt.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,wt.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new u.Component(zn,(function(e){return Un(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Fn,EventName:pn,isSupported:Bn})),e.INTERNAL.registerComponent(new u.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(zn).getImmediate().logEvent}}catch(t){throw En.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.0")}(s.default);var Vn=n(71188);a.initializeApp(Vn.q),a.analytics();var Wn=a;window.firebase=a,window.firebaseConfig=Vn.q;var Hn=a.firestore(),qn=function(e,t){return Hn.runTransaction(function(){var n=(0,r.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.update(e,t);case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},30162:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var r=(0,n(77480).lX)()},9491:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var r=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)}},82829:function(e,t,n){"use strict";n.d(t,{m:function(){return c},d:function(){return p}});var r=n(50678),i=n(84023),o=n(78613),a=Object.entries({Escape:"Escape",Enter:"Enter",Tab:"Tab","`":"Backquote",a:"KeyA",c:"KeyC",d:"KeyD",p:"KeyP",k:"KeyK","/":"Slash",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",ArrowUp:"ArrowUp"}).reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0];return e[n[1]]=i,e}),{});try{var s;if(navigator.keyboard)null===(s=navigator.keyboard)||void 0===s||s.getLayoutMap().then((function(e){Object.assign(a,Object.fromEntries(e))}))}catch(m){console.warn("couldn't read keyboard layout: ".concat(m.message))}function c(e){var t=e.shortcut;return t=t.replace(/(?:\$mod|\bctrl)\b/gi,o.Um?"\u2318":"Ctrl"),o.Um&&(t=t.replace(/\balt\b/gi,"\u2325").replace(/\bshift\b/gi,"\u21e7")),t}new URLSearchParams;var u=!1,l=function(e){var t=function(e){var t=!1,n="";if((e.ctrlKey||e.metaKey)&&(n+="$mod+"),e.altKey&&(o.Um&&!n&&(t=!0),n+="Alt+"),e.shiftKey&&(n+="Shift+"),t){var r=a[e.code]||e.key;e.shiftKey&&(r=r.toLocaleUpperCase()),n+=r}else n+=e.key;return n}(e),n=d.get(t);null!==n&&void 0!==n&&n.length&&(e.stopImmediatePropagation(),n[n.length-1].handler(e))},d=new Map,f=function(e,t){var n=(d.get(e)||[]).filter((function(e){return e.handler!==t}));n.length?d.set(e,n):d.delete(e)};function h(e,t){if("object"===typeof e)for(var n=0,i=Object.entries(e);n<i.length;n++){var o=(0,r.Z)(i[n],2),a=o[0],s=o[1];f(a,s)}else f(e,t);d.size||(u=!1,document.removeEventListener("keydown",l))}function p(e,t,n){if(u||document.addEventListener("keydown",l),"object"===typeof t&&(n=t),(n=n||{priority:0}).priority||(n.priority=0),"string"===typeof e&&"function"===typeof t){var o,a=(d.get(e)||[]).concat({handler:t,options:n});return"number"===typeof(null===(o=n)||void 0===o?void 0:o.priority)&&(a=(0,i.Z)(a,(function(e){return e.options.priority}))),d.set(e,a),function(){return h(e,t)}}if("object"===typeof e){for(var s=0,c=Object.entries(e);s<c.length;s++){var f,p=(0,r.Z)(c[s],2),m=p[0],v=p[1],g=(d.get(m)||[]).concat({handler:v,options:n});"number"===typeof(null===(f=n)||void 0===f?void 0:f.priority)&&(g=(0,i.Z)(g,(function(e){return e.options.priority}))),d.set(m,g)}return function(){return h(e)}}}},58501:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(33032),i=n(84322),o=n.n(i),a=n(47313);function s(e,t){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.maxRetries,i=n.wait,e.prev=1,e.next=4,t();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),console.error(e.t0),!r){e.next=14;break}return e.next=13,new Promise((function(e){return setTimeout(e,i)}));case 13:return e.abrupt("return",s(t,{maxRetries:r-1,wait:i}));case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxRetries,r=void 0===n?3:n,i=t.wait,o=void 0===i?30:i;return a.lazy((function(){return s(e,{maxRetries:r,wait:o})}))}},17494:function(e,t){"use strict";var n=["years","months","weeks","days","hours","minutes","seconds"],r=function(e){return t=function(e){e instanceof Date?e=e.getTime()/1e3:"string"!==typeof e&&"number"!==typeof e||(e=new Date(e).getTime()/1e3);var t=(new Date).getTime()/1e3,n=t<e?e-t:t-e;return{days:Math.floor(n/86400),hours:Math.floor(n%86400/3600),minutes:Math.floor(n%86400%3600/60),seconds:Math.floor(n%86400%3600%60)}}(e),0===t.days?[0,0,0,t.days,t.hours,t.minutes,t.seconds]:[Math.floor(t.days/365),Math.floor(t.days/30),Math.floor(t.days/7),t.days,t.hours,t.minutes,t.seconds];var t};t.Z=function(e,t){if(null===e)return"Some time ago...";if(null!==t&&void 0!==t&&t.format){var i=new Date(e),o=/Z\b/.test(t.format);if(/TZH(:?TZM)?/.test(t.format)){if(o)throw new Error('prettyDate \u2192 cannot use "offs" with UTC output');var a=-1*i.getTimezoneOffset(),s="0".concat(Math.floor(a/60)).slice(-2),c="0".concat(a%60).slice(-2);t.format=t.format.replace(/TZH/,a<0?"-".concat(s):"+".concat(s)),t.format=t.format.replace(/(:)?TZM/,"$1".concat(c))}return t.format.replace("YYYY",i[o?"getUTCFullYear":"getFullYear"]().toString()).replace("YY",i[o?"getUTCFullYear":"getFullYear"]().toString().slice(-2)).replace("MM","0".concat(i[o?"getUTCMonth":"getMonth"]()+1).slice(-2)).replace("DD","0".concat(i[o?"getUTCDate":"getDate"]()).slice(-2)).replace("HH","0".concat(i[o?"getUTCHours":"getHours"]()).slice(-2)).replace("MI","0".concat(i[o?"getUTCMinutes":"getMinutes"]()).slice(-2)).replace("SS","0".concat(i[o?"getUTCSeconds":"getSeconds"]()).slice(-2)).replace("sss",i[o?"getUTCMilliseconds":"getMilliseconds"]().toString()).trim()}if(Date.now()-new Date(e).getTime()<6e4)return null!==t&&void 0!==t&&t.label?"".concat(t.label," just now..."):"just now";var u=r(e),l=function(e){for(var t=0;t<e.length;t++)if(0!==e[t])return t;return-1}(u),d=u[l],f=1===d?n[l].slice(0,-1):n[l];return"".concat(d," ").concat(f," ago")}},73679:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(33032),i=n(84322),o=n.n(i),a=n(9066),s=n(51386),c=n(18346);var u=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}},l=n(8699),d=n(29842),f=n(63490),h=n(62661),p=n(35562),m=n(77955),v=n(57956);var g=function(e,t,n,r){if(!(0,m.Z)(e))return e;for(var i=-1,o=(t=(0,h.Z)(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=(0,v.Z)(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=(0,m.Z)(l)?l:(0,p.Z)(t[i+1])?[]:{})}(0,f.Z)(s,c,u),s=s[c]}return e};var y=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=(0,d.Z)(e,a);n(s,a)&&g(o,(0,h.Z)(a,e),s)}return o},b=n(86778);var w=function(e,t){if(null==e)return{};var n=(0,l.Z)((0,b.Z)(e),(function(e){return[e]}));return t=(0,c.Z)(t),y(e,n,(function(e,n){return t(e,n[0])}))};var x=function(e,t){return w(e,u((0,c.Z)(t)))};var _=function(e){return void 0===e},E=n(83238),k=n(47733),C=n(74776),S=n.n(C),j=n(60623),A=function(e){if(1.2*e>10485760)throw new a.Ie},T=window.localStorage.getItem("debug-backend-url"),I=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,c,u,l,d,f,h,p,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.method,r=t.path,i=t.payload,c=t.options,e.prev=1,r.startsWith("/")){e.next=4;break}throw new a.p8('path "'.concat(r,'" must start with "/"'));case 4:return e.next=6,null===(u=s.ZP.auth().currentUser)||void 0===u?void 0:u.getIdToken();case 6:return l=e.sent,c=(0,E.Z)({method:n,headers:x({Authorization:l&&"Bearer ".concat(l),"Content-Type":i instanceof Blob?void 0:"application/json","X-API-Version":j.G},_)},c),i instanceof Blob?((f=new window.FormData).append("file",i),A(i.size),c.body=f):i&&!(0,k.Z)(i)&&("GET"===n?(d=S().stringify(i),A(d.length)):(c.body=JSON.stringify(i),A(c.body.length))),e.next=11,fetch("".concat(T||"https://backend.excalidraw.com","/api").concat(r).concat(d?"?".concat(d):""),c);case 11:if(h=e.sent,p=h.headers.get("content-type"),!h.ok){e.next=24;break}if(null===p||void 0===p||!p.includes("application/json")){e.next=20;break}return e.next=17,h.json();case 17:e.t0=e.sent,e.next=23;break;case 20:return e.next=22,h.text();case 22:e.t0=e.sent;case 23:return e.abrupt("return",e.t0);case 24:if(null===p||void 0===p||!p.includes("application/json")){e.next=31;break}return e.next=27,h.json();case 27:throw m=e.sent,new a.Lu({message:m.message,status:m.status,data:m.data});case 31:return e.t1=a.Lu,e.next=34,h.text();case 34:throw e.t2=e.sent,e.t3={message:e.t2,status:500},new e.t1(e.t3);case 37:e.next=42;break;case 39:throw e.prev=39,e.t4=e.catch(1),e.t4;case 42:case"end":return e.stop()}}),e,null,[[1,39]])})));return function(t){return e.apply(this,arguments)}}(),O={get:function(e,t,n){return I({method:"GET",path:e,payload:t,options:n})},post:function(e,t,n){return I({method:"POST",path:e,payload:t,options:n})},patch:function(e,t,n){return I({method:"PATCH",path:e,payload:t,options:n})},delete:function(e,t,n){return I({method:"DELETE",path:e,payload:t,options:n})}}},39214:function(e,t,n){"use strict";n.d(t,{el:function(){return hn},CH:function(){return vn},xi:function(){return mn},W2:function(){return gn}});var r=n(50678),i=n(33032),o=n(84322),a=n.n(o);function s(e){for(var t=e.length;--t>=0;)e[t]=0}var c=256,u=286,l=30,d=15,f=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),m=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=new Array(576);s(v);var g=new Array(60);s(g);var y=new Array(512);s(y);var b=new Array(256);s(b);var w=new Array(29);s(w);var x,_,E,k=new Array(l);function C(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}s(k);var j=function(e){return e<256?y[e]:y[256+(e>>>7)]},A=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},T=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,A(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},I=function(e,t,n){T(e,n[2*t],n[2*t+1])},O=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},D=function(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=d;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=O(o[s]++,s))}},N=function(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<l;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},P=function(e){e.bi_valid>8?A(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},M=function(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},L=function(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&M(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!M(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},R=function(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?I(e,i,t):(o=b[i],I(e,o+c+1,t),0!==(a=f[o])&&(i-=w[o],T(e,i,a)),r--,o=j(r),I(e,o,n),0!==(a=h[o])&&(r-=k[o],T(e,r,a)))}while(s<e.last_lit);I(e,256,t)},Z=function(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)L(e,o,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,L(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(o=0;o<=d;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=c[2*c[2*(r=e.heap[n])+1]+1]+1)>m&&(o=m,v++),c[2*r+1]=o,r>u||(e.bl_count[o]++,a=0,r>=p&&(a=h[r-p]),s=c[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==v){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,v-=2}while(v>0);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(e,t),D(o,u,e.bl_count)},F=function(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))},U=function(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<u)do{I(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(I(e,i,e.bl_tree),s--),I(e,16,e.bl_tree),T(e,s-3,2)):s<=10?(I(e,17,e.bl_tree),T(e,s-3,3)):(I(e,18,e.bl_tree),T(e,s-11,7));s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}},z=!1,B=function(e,t,n,r){T(e,0+(r?1:0),3),function(e,t,n,r){P(e),r&&(A(e,n),A(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},V=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Z(e,e.l_desc),Z(e,e.d_desc),a=function(e){var t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),Z(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*m[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?B(e,t,n,r):4===e.strategy||o===i?(T(e,2+(r?1:0),3),R(e,v,g)):(T(e,4+(r?1:0),3),function(e,t,n,r){var i;for(T(e,t-257,5),T(e,n-1,5),T(e,r-4,4),i=0;i<r;i++)T(e,e.bl_tree[2*m[i]+1],3);U(e,e.dyn_ltree,t-1),U(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),R(e,e.dyn_ltree,e.dyn_dtree)),N(e),r&&P(e)},W={_tr_init:function(e){z||(!function(){var e,t,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(w[r]=n,e=0;e<1<<f[r];e++)b[n++]=r;for(b[n-1]=r,i=0,r=0;r<16;r++)for(k[r]=i,e=0;e<1<<h[r];e++)y[i++]=r;for(i>>=7;r<l;r++)for(k[r]=i<<7,e=0;e<1<<h[r]-7;e++)y[256+i++]=r;for(t=0;t<=d;t++)o[t]=0;for(e=0;e<=143;)v[2*e+1]=8,e++,o[8]++;for(;e<=255;)v[2*e+1]=9,e++,o[9]++;for(;e<=279;)v[2*e+1]=7,e++,o[7]++;for(;e<=287;)v[2*e+1]=8,e++,o[8]++;for(D(v,287,o),e=0;e<l;e++)g[2*e+1]=5,g[2*e]=O(e,5);x=new C(v,f,257,u,d),_=new C(g,h,0,l,d),E=new C(new Array(0),p,0,19,7)}(),z=!0),e.l_desc=new S(e.dyn_ltree,x),e.d_desc=new S(e.dyn_dtree,_),e.bl_desc=new S(e.bl_tree,E),e.bi_buf=0,e.bi_valid=0,N(e)},_tr_stored_block:B,_tr_flush_block:V,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(b[n]+c+1)]++,e.dyn_dtree[2*j(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){T(e,2,3),I(e,256,v),function(e){16===e.bi_valid?(A(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},H=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0},q=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),G=function(e,t,n,r){var i=q,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},Y={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Q=W._tr_init,X=W._tr_stored_block,$=W._tr_flush_block,J=W._tr_tally,ee=W._tr_align,te=K.Z_NO_FLUSH,ne=K.Z_PARTIAL_FLUSH,re=K.Z_FULL_FLUSH,ie=K.Z_FINISH,oe=K.Z_BLOCK,ae=K.Z_OK,se=K.Z_STREAM_END,ce=K.Z_STREAM_ERROR,ue=K.Z_DATA_ERROR,le=K.Z_BUF_ERROR,de=K.Z_DEFAULT_COMPRESSION,fe=K.Z_FILTERED,he=K.Z_HUFFMAN_ONLY,pe=K.Z_RLE,me=K.Z_FIXED,ve=K.Z_DEFAULT_STRATEGY,ge=K.Z_UNKNOWN,ye=K.Z_DEFLATED,be=258,we=262,xe=103,_e=113,Ee=666,ke=function(e,t){return e.msg=Y[t],t},Ce=function(e){return(e<<1)-(e>4?9:0)},Se=function(e){for(var t=e.length;--t>=0;)e[t]=0},je=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Ae=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Te=function(e,t){$(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ae(e.strm)},Ie=function(e,t){e.pending_buf[e.pending++]=t},Oe=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},De=function(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=H(e.adler,t,i,n):2===e.state.wrap&&(e.adler=G(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Ne=function(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-we?e.strstart-(e.w_size-we):0,u=e.window,l=e.w_mask,d=e.prev,f=e.strstart+be,h=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=be-(f-o),o=f-be,r>a){if(e.match_start=t,a=r,r>=s)break;h=u[o+a-1],p=u[o+a]}}}while((t=d[t&l])>c&&0!==--i);return a<=e.lookahead?a:e.lookahead},Pe=function(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-we)){e.window.set(e.window.subarray(a,a+a),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=De(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=je(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=je(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<we&&0!==e.strm.avail_in)},Me=function(e,t){for(var n,r;;){if(e.lookahead<we){if(Pe(e),e.lookahead<we&&t===te)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=je(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-we&&(e.match_length=Ne(e,n)),e.match_length>=3)if(r=J(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=je(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=je(e,e.ins_h,e.window[e.strstart+1]);else r=J(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Te(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ie?(Te(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Te(e,!1),0===e.strm.avail_out)?1:2},Le=function(e,t){for(var n,r,i;;){if(e.lookahead<we){if(Pe(e),e.lookahead<we&&t===te)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=je(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-we&&(e.match_length=Ne(e,n),e.match_length<=5&&(e.strategy===fe||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=J(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=je(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Te(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=J(e,0,e.window[e.strstart-1]))&&Te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=J(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ie?(Te(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Te(e,!1),0===e.strm.avail_out)?1:2};function Re(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var Ze=[new Re(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Pe(e),0===e.lookahead&&t===te)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Te(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-we&&(Te(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ie?(Te(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Te(e,!1),e.strm.avail_out),1)})),new Re(4,4,8,4,Me),new Re(4,5,16,8,Me),new Re(4,6,32,32,Me),new Re(4,4,16,16,Le),new Re(8,16,32,32,Le),new Re(8,16,128,128,Le),new Re(8,32,128,256,Le),new Re(32,128,258,1024,Le),new Re(32,258,258,4096,Le)];function Fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ye,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ue=function(e){if(!e||!e.state)return ke(e,ce);e.total_in=e.total_out=0,e.data_type=ge;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:_e,e.adler=2===t.wrap?0:1,t.last_flush=te,Q(t),ae},ze=function(e){var t,n=Ue(e);return n===ae&&((t=e.state).window_size=2*t.w_size,Se(t.head),t.max_lazy_match=Ze[t.level].max_lazy,t.good_match=Ze[t.level].good_length,t.nice_match=Ze[t.level].nice_length,t.max_chain_length=Ze[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},Be=function(e,t,n,r,i,o){if(!e)return ce;var a=1;if(t===de&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==ye||r<8||r>15||t<0||t>9||o<0||o>me)return ke(e,ce);8===r&&(r=9);var s=new Fe;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,ze(e)},Ve={deflateInit:function(e,t){return Be(e,t,ye,15,8,ve)},deflateInit2:Be,deflateReset:ze,deflateResetKeep:Ue,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?ce:(e.state.gzhead=t,ae):ce},deflate:function(e,t){var n,r;if(!e||!e.state||t>oe||t<0)return e?ke(e,ce):ce;var i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===Ee&&t!==ie)return ke(e,0===e.avail_out?le:ce);i.strm=e;var o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Ie(i,31),Ie(i,139),Ie(i,8),i.gzhead?(Ie(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Ie(i,255&i.gzhead.time),Ie(i,i.gzhead.time>>8&255),Ie(i,i.gzhead.time>>16&255),Ie(i,i.gzhead.time>>24&255),Ie(i,9===i.level?2:i.strategy>=he||i.level<2?4:0),Ie(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Ie(i,255&i.gzhead.extra.length),Ie(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=G(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Ie(i,0),Ie(i,0),Ie(i,0),Ie(i,0),Ie(i,0),Ie(i,9===i.level?2:i.strategy>=he||i.level<2?4:0),Ie(i,3),i.status=_e);else{var a=ye+(i.w_bits-8<<4)<<8;a|=(i.strategy>=he||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=_e,Oe(i,a),0!==i.strstart&&(Oe(i,e.adler>>>16),Oe(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),Ae(e),n=i.pending,i.pending!==i.pending_buf_size));)Ie(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),Ae(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Ie(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),Ae(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Ie(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=G(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=xe)}else i.status=xe;if(i.status===xe&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ae(e),i.pending+2<=i.pending_buf_size&&(Ie(i,255&e.adler),Ie(i,e.adler>>8&255),e.adler=0,i.status=_e)):i.status=_e),0!==i.pending){if(Ae(e),0===e.avail_out)return i.last_flush=-1,ae}else if(0===e.avail_in&&Ce(t)<=Ce(o)&&t!==ie)return ke(e,le);if(i.status===Ee&&0!==e.avail_in)return ke(e,le);if(0!==e.avail_in||0!==i.lookahead||t!==te&&i.status!==Ee){var s=i.strategy===he?function(e,t){for(var n;;){if(0===e.lookahead&&(Pe(e),0===e.lookahead)){if(t===te)return 1;break}if(e.match_length=0,n=J(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Te(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ie?(Te(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Te(e,!1),0===e.strm.avail_out)?1:2}(i,t):i.strategy===pe?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=be){if(Pe(e),e.lookahead<=be&&t===te)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+be;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=be-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=J(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=J(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Te(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ie?(Te(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Te(e,!1),0===e.strm.avail_out)?1:2}(i,t):Ze[i.level].func(i,t);if(3!==s&&4!==s||(i.status=Ee),1===s||3===s)return 0===e.avail_out&&(i.last_flush=-1),ae;if(2===s&&(t===ne?ee(i):t!==oe&&(X(i,0,0,!1),t===re&&(Se(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ae(e),0===e.avail_out))return i.last_flush=-1,ae}return t!==ie?ae:i.wrap<=0?se:(2===i.wrap?(Ie(i,255&e.adler),Ie(i,e.adler>>8&255),Ie(i,e.adler>>16&255),Ie(i,e.adler>>24&255),Ie(i,255&e.total_in),Ie(i,e.total_in>>8&255),Ie(i,e.total_in>>16&255),Ie(i,e.total_in>>24&255)):(Oe(i,e.adler>>>16),Oe(i,65535&e.adler)),Ae(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ae:se)},deflateEnd:function(e){if(!e||!e.state)return ce;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==xe&&t!==_e&&t!==Ee?ke(e,ce):(e.state=null,t===_e?ke(e,ue):ae)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return ce;var r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return ce;if(1===i&&(e.adler=H(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Se(r.head),r.strstart=0,r.block_start=0,r.insert=0);var o=new Uint8Array(r.w_size);o.set(t.subarray(n-r.w_size,n),0),t=o,n=r.w_size}var a=e.avail_in,s=e.next_in,c=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Pe(r);r.lookahead>=3;){var u=r.strstart,l=r.lookahead-2;do{r.ins_h=je(r,r.ins_h,r.window[u+3-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++}while(--l);r.strstart=u,r.lookahead=2,Pe(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=c,e.avail_in=a,r.wrap=i,ae},deflateInfo:"pako deflate (from Nodeca project)"},We=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},He=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)We(n,r)&&(e[r]=n[r])}}return e},qe=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var i=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var c=e[o];i.set(c,a),a+=c.length}return i},Ge=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(yn){Ge=!1}for(var Ye=new Uint8Array(256),Ke=0;Ke<256;Ke++)Ye[Ke]=Ke>=252?6:Ke>=248?5:Ke>=240?4:Ke>=224?3:Ke>=192?2:1;Ye[254]=Ye[254]=1;var Qe=function(e){var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320===(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320===(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Xe=function(e,t){var n,r,i=t||e.length,o=new Array(2*i);for(r=0,n=0;n<i;){var a=e[n++];if(a<128)o[r++]=a;else{var s=Ye[a];if(s>4)o[r++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<i;)a=a<<6|63&e[n++],s--;s>1?o[r++]=65533:a<65536?o[r++]=a:(a-=65536,o[r++]=55296|a>>10&1023,o[r++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&Ge)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}(o,r)},$e=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+Ye[e[n]]>t?n:t};var Je=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},et=Object.prototype.toString,tt=K.Z_NO_FLUSH,nt=K.Z_SYNC_FLUSH,rt=K.Z_FULL_FLUSH,it=K.Z_FINISH,ot=K.Z_OK,at=K.Z_STREAM_END,st=K.Z_DEFAULT_COMPRESSION,ct=K.Z_DEFAULT_STRATEGY,ut=K.Z_DEFLATED;function lt(e){this.options=He({level:st,method:ut,chunkSize:16384,windowBits:15,memLevel:8,strategy:ct},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Je,this.strm.avail_out=0;var n=Ve.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ot)throw new Error(Y[n]);if(t.header&&Ve.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"===typeof t.dictionary?Qe(t.dictionary):"[object ArrayBuffer]"===et.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=Ve.deflateSetDictionary(this.strm,r))!==ot)throw new Error(Y[n]);this._dict_set=!0}}function dt(e,t){var n=new lt(t);if(n.push(e,!0),n.err)throw n.msg||Y[n.err];return n.result}lt.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?it:tt,"string"===typeof e?i.input=Qe(e):"[object ArrayBuffer]"===et.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r===nt||r===rt)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((n=Ve.deflate(i,r))===at)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=Ve.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===ot;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},lt.prototype.onData=function(e){this.chunks.push(e)},lt.prototype.onEnd=function(e){e===ot&&(this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ft={Deflate:lt,deflate:dt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,dt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,dt(e,t)},constants:K},ht=function(e,t){var n,r,i,o,a,s,c,u,l,d,f,h,p,m,v,g,y,b,w,x,_,E,k,C,S=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),i=e.next_out,C=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=S.dmax,c=S.wsize,u=S.whave,l=S.wnext,d=S.window,f=S.hold,h=S.bits,p=S.lencode,m=S.distcode,v=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;e:do{h<15&&(f+=k[n++]<<h,h+=8,f+=k[n++]<<h,h+=8),y=p[f&v];t:for(;;){if(f>>>=b=y>>>24,h-=b,0===(b=y>>>16&255))C[i++]=65535&y;else{if(!(16&b)){if(0===(64&b)){y=p[(65535&y)+(f&(1<<b)-1)];continue t}if(32&b){S.mode=12;break e}e.msg="invalid literal/length code",S.mode=30;break e}w=65535&y,(b&=15)&&(h<b&&(f+=k[n++]<<h,h+=8),w+=f&(1<<b)-1,f>>>=b,h-=b),h<15&&(f+=k[n++]<<h,h+=8,f+=k[n++]<<h,h+=8),y=m[f&g];n:for(;;){if(f>>>=b=y>>>24,h-=b,!(16&(b=y>>>16&255))){if(0===(64&b)){y=m[(65535&y)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",S.mode=30;break e}if(x=65535&y,h<(b&=15)&&(f+=k[n++]<<h,(h+=8)<b&&(f+=k[n++]<<h,h+=8)),(x+=f&(1<<b)-1)>s){e.msg="invalid distance too far back",S.mode=30;break e}if(f>>>=b,h-=b,x>(b=i-o)){if((b=x-b)>u&&S.sane){e.msg="invalid distance too far back",S.mode=30;break e}if(_=0,E=d,0===l){if(_+=c-b,b<w){w-=b;do{C[i++]=d[_++]}while(--b);_=i-x,E=C}}else if(l<b){if(_+=c+l-b,(b-=l)<w){w-=b;do{C[i++]=d[_++]}while(--b);if(_=0,l<w){w-=b=l;do{C[i++]=d[_++]}while(--b);_=i-x,E=C}}}else if(_+=l-b,b<w){w-=b;do{C[i++]=d[_++]}while(--b);_=i-x,E=C}for(;w>2;)C[i++]=E[_++],C[i++]=E[_++],C[i++]=E[_++],w-=3;w&&(C[i++]=E[_++],w>1&&(C[i++]=E[_++]))}else{_=i-x;do{C[i++]=C[_++],C[i++]=C[_++],C[i++]=C[_++],w-=3}while(w>2);w&&(C[i++]=C[_++],w>1&&(C[i++]=C[_++]))}break}}break}}while(n<r&&i<a);n-=w=h>>3,f&=(1<<(h-=w<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),S.hold=f,S.bits=h},pt=15,mt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),bt=function(e,t,n,r,i,o,a,s){var c,u,l,d,f,h,p,m,v,g=s.bits,y=0,b=0,w=0,x=0,_=0,E=0,k=0,C=0,S=0,j=0,A=null,T=0,I=new Uint16Array(16),O=new Uint16Array(16),D=null,N=0;for(y=0;y<=pt;y++)I[y]=0;for(b=0;b<r;b++)I[t[n+b]]++;for(_=g,x=pt;x>=1&&0===I[x];x--);if(_>x&&(_=x),0===x)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(w=1;w<x&&0===I[w];w++);for(_<w&&(_=w),C=1,y=1;y<=pt;y++)if(C<<=1,(C-=I[y])<0)return-1;if(C>0&&(0===e||1!==x))return-1;for(O[1]=0,y=1;y<pt;y++)O[y+1]=O[y]+I[y];for(b=0;b<r;b++)0!==t[n+b]&&(a[O[t[n+b]]++]=b);if(0===e?(A=D=a,h=19):1===e?(A=mt,T-=257,D=vt,N-=257,h=256):(A=gt,D=yt,h=-1),j=0,b=0,y=w,f=o,E=_,k=0,l=-1,d=(S=1<<_)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=y-k,a[b]<h?(m=0,v=a[b]):a[b]>h?(m=D[N+a[b]],v=A[T+a[b]]):(m=96,v=0),c=1<<y-k,w=u=1<<E;do{i[f+(j>>k)+(u-=c)]=p<<24|m<<16|v|0}while(0!==u);for(c=1<<y-1;j&c;)c>>=1;if(0!==c?(j&=c-1,j+=c):j=0,b++,0===--I[y]){if(y===x)break;y=t[n+a[b]]}if(y>_&&(j&d)!==l){for(0===k&&(k=_),f+=w,C=1<<(E=y-k);E+k<x&&!((C-=I[E+k])<=0);)E++,C<<=1;if(S+=1<<E,1===e&&S>852||2===e&&S>592)return 1;i[l=j&d]=_<<24|E<<16|f-o|0}}return 0!==j&&(i[f+j]=y-k<<24|64<<16|0),s.bits=_,0},wt=K.Z_FINISH,xt=K.Z_BLOCK,_t=K.Z_TREES,Et=K.Z_OK,kt=K.Z_STREAM_END,Ct=K.Z_NEED_DICT,St=K.Z_STREAM_ERROR,jt=K.Z_DATA_ERROR,At=K.Z_MEM_ERROR,Tt=K.Z_BUF_ERROR,It=K.Z_DEFLATED,Ot=12,Dt=30,Nt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Pt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Mt,Lt,Rt=function(e){if(!e||!e.state)return St;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Et},Zt=function(e){if(!e||!e.state)return St;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Rt(e)},Ft=function(e,t){var n;if(!e||!e.state)return St;var r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?St:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Zt(e))},Ut=function(e,t){if(!e)return St;var n=new Pt;e.state=n,n.window=null;var r=Ft(e,t);return r!==Et&&(e.state=null),r},zt=!0,Bt=function(e){if(zt){Mt=new Int32Array(512),Lt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(bt(1,e.lens,0,288,Mt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;bt(2,e.lens,0,32,Lt,0,e.work,{bits:5}),zt=!1}e.lencode=Mt,e.lenbits=9,e.distcode=Lt,e.distbits=5},Vt=function(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Wt={inflateReset:Zt,inflateReset2:Ft,inflateResetKeep:Rt,inflateInit:function(e){return Ut(e,15)},inflateInit2:Ut,inflate:function(e,t){var n,r,i,o,a,s,c,u,l,d,f,h,p,m,v,g,y,b,w,x,_,E,k,C,S=0,j=new Uint8Array(4),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return St;(n=e.state).mode===Ot&&(n.mode=13),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,d=s,f=c,E=Et;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===u){n.check=0,j[0]=255&u,j[1]=u>>>8&255,n.check=G(n.check,j,2,0),u=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Dt;break}if((15&u)!==It){e.msg="unknown compression method",n.mode=Dt;break}if(l-=4,_=8+(15&(u>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=Dt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&u?10:Ot,u=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==It){e.msg="unknown compression method",n.mode=Dt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Dt;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(j[0]=255&u,j[1]=u>>>8&255,n.check=G(n.check,j,2,0)),u=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&(j[0]=255&u,j[1]=u>>>8&255,j[2]=u>>>16&255,j[3]=u>>>24&255,n.check=G(n.check,j,4,0)),u=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(j[0]=255&u,j[1]=u>>>8&255,n.check=G(n.check,j,2,0)),u=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(j[0]=255&u,j[1]=u>>>8&255,n.check=G(n.check,j,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),_)),512&n.flags&&(n.check=G(n.check,r,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{_=r[o+h++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&h<s);if(512&n.flags&&(n.check=G(n.check,r,h,o)),s-=h,o+=h,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{_=r[o+h++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&h<s);if(512&n.flags&&(n.check=G(n.check,r,h,o)),s-=h,o+=h,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Dt;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ot;break;case 10:for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}e.adler=n.check=Nt(u),u=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,Ct;e.adler=n.check=1,n.mode=Ot;case Ot:if(t===xt||t===_t)break e;case 13:if(n.last){u>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}switch(n.last=1&u,l-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(Bt(n),n.mode=20,t===_t){u>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Dt}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if((65535&u)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Dt;break}if(n.length=65535&u,u=0,l=0,n.mode=15,t===_t)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>s&&(h=s),h>c&&(h=c),0===h)break e;i.set(r.subarray(o,o+h),a),s-=h,o+=h,c-=h,a+=h,n.length-=h;break}n.mode=Ot;break;case 17:for(;l<14;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Dt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.lens[A[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},E=bt(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,E){e.msg="invalid code lengths set",n.mode=Dt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;g=(S=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&S,!((v=S>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(y<16)u>>>=v,l-=v,n.lens[n.have++]=y;else{if(16===y){for(C=v+2;l<C;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u>>>=v,l-=v,0===n.have){e.msg="invalid bit length repeat",n.mode=Dt;break}_=n.lens[n.have-1],h=3+(3&u),u>>>=2,l-=2}else if(17===y){for(C=v+3;l<C;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}l-=v,_=0,h=3+(7&(u>>>=v)),u>>>=3,l-=3}else{for(C=v+7;l<C;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}l-=v,_=0,h=11+(127&(u>>>=v)),u>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Dt;break}for(;h--;)n.lens[n.have++]=_}}if(n.mode===Dt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Dt;break}if(n.lenbits=9,k={bits:n.lenbits},E=bt(1,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,E){e.msg="invalid literal/lengths set",n.mode=Dt;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},E=bt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,E){e.msg="invalid distances set",n.mode=Dt;break}if(n.mode=20,t===_t)break e;case 20:n.mode=21;case 21:if(s>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,ht(e,f),a=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,u=n.hold,l=n.bits,n.mode===Ot&&(n.back=-1);break}for(n.back=0;g=(S=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&S,!((v=S>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(g&&0===(240&g)){for(b=v,w=g,x=y;g=(S=n.lencode[x+((u&(1<<b+w)-1)>>b)])>>>16&255,y=65535&S,!(b+(v=S>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=v,l-=v,n.back+=v,n.length=y,0===g){n.mode=26;break}if(32&g){n.back=-1,n.mode=Ot;break}if(64&g){e.msg="invalid literal/length code",n.mode=Dt;break}n.extra=15&g,n.mode=22;case 22:if(n.extra){for(C=n.extra;l<C;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;g=(S=n.distcode[u&(1<<n.distbits)-1])>>>16&255,y=65535&S,!((v=S>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(0===(240&g)){for(b=v,w=g,x=y;g=(S=n.distcode[x+((u&(1<<b+w)-1)>>b)])>>>16&255,y=65535&S,!(b+(v=S>>>24)<=l);){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=v,l-=v,n.back+=v,64&g){e.msg="invalid distance code",n.mode=Dt;break}n.offset=y,n.extra=15&g,n.mode=24;case 24:if(n.extra){for(C=n.extra;l<C;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Dt;break}n.mode=25;case 25:if(0===c)break e;if(h=f-c,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Dt;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=i,p=a-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do{i[a++]=m[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===c)break e;i[a++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,u|=r[o++]<<l,l+=8}if(f-=c,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?G(n.check,i,f,a-f):H(n.check,i,f,a-f)),f=c,(n.flags?u:Nt(u))!==n.check){e.msg="incorrect data check",n.mode=Dt;break}u=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,u+=r[o++]<<l,l+=8}if(u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Dt;break}u=0,l=0}n.mode=29;case 29:E=kt;break e;case Dt:E=jt;break e;case 31:return At;default:return St}return e.next_out=a,e.avail_out=c,e.next_in=o,e.avail_in=s,n.hold=u,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<Dt&&(n.mode<27||t!==wt))&&Vt(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?G(n.check,i,f,e.next_out-f):H(n.check,i,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ot?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===f||t===wt)&&E===Et&&(E=Tt),E},inflateEnd:function(e){if(!e||!e.state)return St;var t=e.state;return t.window&&(t.window=null),e.state=null,Et},inflateGetHeader:function(e,t){if(!e||!e.state)return St;var n=e.state;return 0===(2&n.wrap)?St:(n.head=t,t.done=!1,Et)},inflateSetDictionary:function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?St:11===n.mode&&H(1,t,r,0)!==n.check?jt:Vt(e,t,r,r)?(n.mode=31,At):(n.havedict=1,Et):St},inflateInfo:"pako inflate (from Nodeca project)"};var Ht=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},qt=Object.prototype.toString,Gt=K.Z_NO_FLUSH,Yt=K.Z_FINISH,Kt=K.Z_OK,Qt=K.Z_STREAM_END,Xt=K.Z_NEED_DICT,$t=K.Z_STREAM_ERROR,Jt=K.Z_DATA_ERROR,en=K.Z_MEM_ERROR;function tn(e){this.options=He({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Je,this.strm.avail_out=0;var n=Wt.inflateInit2(this.strm,t.windowBits);if(n!==Kt)throw new Error(Y[n]);if(this.header=new Ht,Wt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Qe(t.dictionary):"[object ArrayBuffer]"===qt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Wt.inflateSetDictionary(this.strm,t.dictionary))!==Kt))throw new Error(Y[n])}function nn(e,t){var n=new tn(t);if(n.push(e),n.err)throw n.msg||Y[n.err];return n.result}tn.prototype.push=function(e,t){var n,r,i,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?Yt:Gt,"[object ArrayBuffer]"===qt.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=Wt.inflate(o,r))===Xt&&s&&((n=Wt.inflateSetDictionary(o,s))===Kt?n=Wt.inflate(o,r):n===Jt&&(n=Xt));o.avail_in>0&&n===Qt&&o.state.wrap>0&&0!==e[o.next_in];)Wt.inflateReset(o),n=Wt.inflate(o,r);switch(n){case $t:case Jt:case Xt:case en:return this.onEnd(n),this.ended=!0,!1}if(i=o.avail_out,o.next_out&&(0===o.avail_out||n===Qt))if("string"===this.options.to){var c=$e(o.output,o.next_out),u=o.next_out-c,l=Xe(o.output,c);o.next_out=u,o.avail_out=a-u,u&&o.output.set(o.output.subarray(c,c+u),0),this.onData(l)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==Kt||0!==i){if(n===Qt)return n=Wt.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},tn.prototype.onData=function(e){this.chunks.push(e)},tn.prototype.onEnd=function(e){e===Kt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var rn={Inflate:tn,inflate:nn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,nn(e,t)},ungzip:nn,constants:K},on=ft.deflate,an=rn.inflate,sn=n(48545),cn={1:8,2:16,4:32};function un(e,t,n,r){if(null!=r){if(r>Math.pow(2,cn[t])-1)throw new Error("attempting to set value higher than the allocated bytes (value: ".concat(r,", bytes: ").concat(t,")"));var i="setUint".concat(cn[t]);return new DataView(e.buffer)[i](n,r),e}var o="getUint".concat(cn[t]);return new DataView(e.buffer)[o](n)}var ln=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Uint8Array(4+4*t.length+t.reduce((function(e,t){return e+t.byteLength}),0)),i=0;un(r,4,i,1),i+=4;for(var o=0,a=t;o<a.length;o++){var s=a[o];un(r,4,i,s.byteLength),i+=4,r.set(s,i),i+=s.byteLength}return r},dn=function(e){var t=[],n=0;for(n+=4;;){var r=un(e,4,n);if(n+=4,t.push(e.slice(n,n+r)),(n+=r)>=e.byteLength)break}return t},fn=function(){var e=(0,i.Z)(a().mark((function e(t,n){var r,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=on(t),!n){e.next=8;break}return e.next=4,(0,sn.q6)(n,r);case 4:return i=e.sent,o=i.encryptedBuffer,s=i.iv,e.abrupt("return",{iv:s,buffer:new Uint8Array(o)});case 8:return e.abrupt("return",{iv:null,buffer:r});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hn=function(){var e=(0,i.Z)(a().mark((function e(t,n){var r,i,o,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={version:2,origin:"plus.excalidraw.com",compression:"pako@2",encryption:n.encryptionKey?"AES-GCM":null},i=(new TextEncoder).encode(JSON.stringify(r)),o=(new TextEncoder).encode(JSON.stringify(n.metadata||null)),e.next=5,fn(ln(o,t),n.encryptionKey);case 5:return s=e.sent,c=s.iv,u=s.buffer,e.abrupt("return",c?ln(i,c,u):ln(i,u));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pn=function(){var e=(0,i.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.contentsBuffer,!t.decryptionKey){e.next=7;break}return e.t0=Uint8Array,e.next=5,(0,sn.ow)(t.iv,t.contentsBuffer,t.decryptionKey);case 5:e.t1=e.sent,n=new e.t0(e.t1);case 7:return t.compression&&(n=an(n)),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mn=function(){var e=(0,i.Z)(a().mark((function e(t,n){var i,o,s,c,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dn(t),!(o=JSON.parse((new TextDecoder).decode(i[0]))).encryption||"string"===typeof n.decryptionKey){e.next=4;break}throw new Error("Buffer is encrypted by no decryptionKey was supplied");case 4:if(e.t0=dn,!o.encryption){e.next=11;break}return e.next=8,pn({decryptionKey:n.decryptionKey,iv:i[1],contentsBuffer:i[2],compression:o.compression});case 8:e.t1=e.sent,e.next=14;break;case 11:return e.next=13,pn({decryptionKey:null,iv:null,contentsBuffer:i[1],compression:o.compression});case 13:e.t1=e.sent;case 14:return e.t2=e.t1,s=(0,e.t0)(e.t2),c=(0,r.Z)(s,2),u=c[0],l=c[1],e.abrupt("return",{metadata:JSON.parse((new TextDecoder).decode(u)),data:l});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),vn=function(e){var t=on(JSON.stringify(e)),n=(new TextEncoder).encode(JSON.stringify({version:1,compression:"pako@2"})),r=new Uint8Array(4+n.length+t.length);return new DataView(r.buffer).setUint32(0,n.length),r.set(n,4),r.set(t,4+n.length),r.buffer},gn=function(e){var t=new Uint8Array(e),n=new DataView(t.buffer).getUint32(0),r=t.slice(4+n);return JSON.parse(an(r,{to:"string"}))}},71631:function(e,t,n){var r,i,o=n(89137).default,a=n(53744).default,s=n(48485).default,c=n(48064).default,u=n(18231).default,l=n(51955).default,d=n(94534).default,f=n(89504).default;self,e.exports=(r=n(47313),i=n(1168),function(){var e,t,n,h,p={45:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},6233:function(e,t){var n;n=function(e){e.version="0.3.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n="undefined"!=typeof Buffer;function r(e){for(var n=-1,r=0,i=e.length-7;r<i;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])];for(;r<i+7;)n=n>>>8^t[255&(n^e[r++])];return-1^n}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return r(new Buffer(e));for(var i=-1,o=e.length-1,a=0;a<o;)i=t[255&(i^e.charCodeAt(a++))]^i>>>8,i=t[255&(i^e.charCodeAt(a++))]^i>>>8;return a===o&&(i=i>>>8^t[255&(i^e.charCodeAt(a))]),-1^i},e.buf=function(e){if(e.length>1e4)return r(e);for(var n=-1,i=0,o=e.length-3;i<o;)n=(n=(n=(n=n>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])])>>>8^t[255&(n^e[i++])];for(;i<o+3;)n=n>>>8^t[255&(n^e[i++])];return-1^n},e.str=function(e){for(var n,r,i=-1,o=0,a=e.length;o<a;)(n=e.charCodeAt(o++))<128?i=i>>>8^t[255&(i^n)]:n<2048?i=(i=i>>>8^t[255&(i^(192|n>>6&31))])>>>8^t[255&(i^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&e.charCodeAt(o++),i=(i=(i=(i=i>>>8^t[255&(i^(240|n>>8&7))])>>>8^t[255&(i^(128|n>>2&63))])>>>8^t[255&(i^(128|r>>6&15|3&n))])>>>8^t[255&(i^(128|63&r))]):i=(i=(i=i>>>8^t[255&(i^(224|n>>12&15))])>>>8^t[255&(i^(128|n>>6&63))])>>>8^t[255&(i^(128|63&n))];return-1^i}},"undefined"==typeof DO_NOT_EXPORT_CRC?n(t):n({})},4739:function(e,t,n){"use strict";n.d(t,{KO:function(){return W},Vv:function(){return C},b9:function(){return V},cn:function(){return z},zt:function(){return F}});var r=n(9787),i=Symbol(),o=function(e){return!!e[i]},a=function(e){var t,n;null==(n=(t=e[i]).c)||n.call(t)},s=function e(t,n){var r=t[i].o,a=n[i].o;return r===a||t===a||o(r)&&e(r,n)},c=function(e){var t={o:e,c:null},n=new Promise((function(n){t.c=function(){t.c=null,n()},e.then(t.c,t.c)}));return n[i]=t,n},u=Object.defineProperty,h=Object.defineProperties,p=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},b=function(e){return"init"in e},w="r",x="w",_="c",E="s",k=function(e){var t,n,r,u=new WeakMap,k=new WeakMap,C=new Map;if(n=new Set,r=new Set,e){var S,j=f(e);try{for(j.s();!(S=j.n()).done;){var A=d(S.value,2),T=A[0],I={v:A[1],r:0,d:new Map};Object.freeze(I),b(T)||console.warn("Found initial value for derived atom which can cause unexpected behavior",T),u.set(T,I)}}catch(te){j.e(te)}finally{j.f()}}var O=new WeakMap,D=new WeakMap,N=function(e){var t=D.get(e);return t||(t=new Map,D.set(e,t)),t},P=function e(t,n){if(t){var r=N(t),i=r.get(n);return i||(i=e(t.p,n))&&("p"in i&&i.p.then((function(){return r.delete(n)})),r.set(n,i)),i}return u.get(n)},M=function(e,t,n){if(Object.freeze(n),e)N(e).set(t,n);else{var r=u.get(t);u.set(t,n),C.has(t)||C.set(t,r)}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2?arguments[2]:void 0;if(!n)return t;var r=new Map,i=!1;return n.forEach((function(n){var o,a=(null==(o=P(e,n))?void 0:o.r)||0;r.set(n,a),t.get(n)!==a&&(i=!0)})),t.size!==r.size||i?r:t},R=function(e,t,n,r,i){var o=P(e,t);if(o){if(i&&(!("p"in o)||!s(o.p,i)))return o;"p"in o&&a(o.p)}var c={v:n,r:(null==o?void 0:o.r)||0,d:L(e,null==o?void 0:o.d,r)};return o&&"v"in o&&Object.is(o.v,n)?c.d===o.d||c.d.size===o.d.size&&Array.from(c.d.keys()).every((function(e){return o.d.has(e)}))||Promise.resolve().then((function(){X(e)})):(++c.r,c.d.has(t)&&(c.d=new Map(c.d).set(t,c.r))),M(e,t,c),c},Z=function(e,t,n,r,i){var o=P(e,t);if(o){if(i&&(!("p"in o)||!s(o.p,i)))return o;"p"in o&&a(o.p)}var c={e:n,r:(null==o?void 0:o.r)||0,d:L(e,null==o?void 0:o.d,r)};return M(e,t,c),c},F=function(e,t,n,r){var i=P(e,t);if(i&&"p"in i){if(s(i.p,n))return i;a(i.p)}!function(e,t,n){var r=O.get(t);r||(r=new Map,O.set(t,r)),n.then((function(){r.get(e)===n&&(r.delete(e),r.size||O.delete(t))})),r.set(e,n)}(e,t,n);var o={p:n,r:(null==i?void 0:i.r)||0,d:L(e,null==i?void 0:i.d,r)};return M(e,t,o),o},U=function(e,t,n,r){if(n instanceof Promise){var i=c(n.then((function(n){R(e,t,n,r,i),X(e)})).catch((function(n){if(n instanceof Promise)return o(n)?n.then((function(){B(e,t,!0)})):n;Z(e,t,n,r,i),X(e)})));return F(e,t,i,r)}return R(e,t,n,r)},z=function(e,t){var n,r,i=P(e,t);if(i){"p"in i&&a(i.p);var o=(n=function(e,t){for(var n in t||(t={}))v.call(t,n)&&y(e,n,t[n]);if(m){var r,i=f(m(t));try{for(i.s();!(r=i.n()).done;)n=r.value,g.call(t,n)&&y(e,n,t[n])}catch(te){i.e(te)}finally{i.f()}}return e}({},i),r={i:i.r},h(n,p(r)));M(e,t,o)}else console.warn("[Bug] could not invalidate non existing atom",t)},B=function e(t,n,r){if(!r){var o=P(t,n);if(o){if(o.r!==o.i&&"p"in o&&o.p[i].c)return o;if(o.d.forEach((function(r,i){if(i!==n)if(k.has(i)){var o=P(t,i);o&&o.r===o.i&&e(t,i)}else e(t,i)})),Array.from(o.d).every((function(e){var n=d(e,2),r=n[0],i=n[1],o=P(t,r);return o&&"v"in o&&o.r===i})))return o}}var a=new Set;try{var s=n.read((function(r){a.add(r);var i=r===n?P(t,r):e(t,r);if(i){if("e"in i)throw i.e;if("p"in i)throw i.p;return i.v}if(b(r))return r.init;throw new Error("no atom init")}));return U(t,n,s,a)}catch(k){if(k instanceof Promise){var u=c(k);return F(t,n,u,a)}return Z(t,n,k,a)}},V=function(e,t){return B(t,e)},W=function(e,t){return!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e))},H=function e(t,n){var r=k.get(n);null==r||r.t.forEach((function(r){r!==n&&(z(t,r),e(t,r))}))},q=function e(t,n,r){var i=!0,o=function e(n,r){var i=B(t,n);if("e"in i)throw i.e;if("p"in i){if(null==r?void 0:r.unstable_promise)return i.p.then((function(){return e(n,r)}));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",n),i.p}if("v"in i)return i.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",n),new Error("no value found")},s=n.write(o,(function(r,o){var s;if(r===n){if(!b(r))throw new Error("atom not writable");var c=function(e){var t=new Set,n=O.get(e);return n&&(O.delete(e),n.forEach((function(e,n){a(e),t.add(n)}))),t}(r);c.forEach((function(e){e!==t&&U(e,r,o)})),U(t,r,o),H(t,r)}else s=e(t,r,o);return i||X(t),s}),r);return i=!1,t=void 0,s},G=function(e,t,n){var r=q(n,e,t);return X(n),r},Y=function e(t,n){var i={t:new Set(n&&[n]),l:new Set};if(k.set(t,i),r.add(t),B(void 0,t).d.forEach((function(n,r){var i=k.get(r);i?i.t.add(t):r!==t&&e(r,t)})),function(e){return!!e.write}(t)&&t.onMount){var o=function(e){return G(t,e)},a=t.onMount(o);a&&(i.u=a)}return i},K=function e(t){var n,i=null==(n=k.get(t))?void 0:n.u;i&&i(),k.delete(t),r.delete(t);var o=P(void 0,t);o?o.d.forEach((function(n,r){if(r!==t){var i=k.get(r);i&&(i.t.delete(t),W(r,i)&&e(r))}})):console.warn("[Bug] could not find atom state to unmount",t)},Q=function(e,t,n){var r=new Set(t.d.keys());null==n||n.forEach((function(t,n){if(r.has(n))r.delete(n);else{var i=k.get(n);i&&(i.t.delete(e),W(n,i)&&K(n))}})),r.forEach((function(t){var n=k.get(t);n?n.t.add(e):k.has(e)&&Y(t,e)}))},X=function(e){if(e)N(e).forEach((function(t,n){if(t!==u.get(n)){var r=k.get(n);null==r||r.l.forEach((function(t){return t(e)}))}}));else{for(;C.size;){var t=Array.from(C);C.clear(),t.forEach((function(e){var t=d(e,2),n=t[0],r=t[1],i=P(void 0,n);i&&i.d!==(null==r?void 0:r.d)&&Q(n,i,null==r?void 0:r.d);var o=k.get(n);null==o||o.l.forEach((function(e){return e()}))}))}n.forEach((function(e){return e()}))}},$=function(e,t){t&&function(e){N(e).forEach((function(e,t){var n=u.get(t);(e.r>((null==n?void 0:n.r)||0)||"v"in e&&e.r===(null==n?void 0:n.r)&&e.d!==(null==n?void 0:n.d))&&(u.set(t,e),e.d!==(null==n?void 0:n.d)&&Q(t,e,null==n?void 0:n.d))}))}(t),X(void 0)},J=function(e,t){var n=function(e){var t=k.get(e);return t||(t=Y(e)),t}(e).l;return n.add(t),function(){n.delete(t),function(e){var t=k.get(e);t&&W(e,t)&&K(e)}(e)}},ee=function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=d(n.value,2),o=i[0],a=i[1];b(o)&&(U(t,o,a),H(t,o))}}catch(te){r.e(te)}finally{r.f()}X(t)};return l(t={},w,V),l(t,x,G),l(t,_,$),l(t,E,J),l(t,"h",ee),l(t,"n",(function(e){return n.add(e),function(){n.delete(e)}})),l(t,"l",(function(){return r.values()})),l(t,"a",(function(e){return u.get(e)})),l(t,"m",(function(e){return k.get(e)})),t},C=function(e){var t=k(e),n=function e(n){return new Promise((function(r,i){var o=t.r(n);"e"in o?i(o.e):r("p"in o?o.p.then((function(){return e(n)})):o.v)}))};return{get:function(e){var n=t.r(e);if("e"in n)throw n.e;if(!("p"in n))return n.v},asyncGet:n,set:function(e,n){return t.w(e,n)},sub:function(e,n){return t.s(e,n)},SECRET_INTERNAL_store:t}},S=function(e,t){return{s:t?t(e).SECRET_INTERNAL_store:k(e)}},j=new Map,A=function(e){return j.has(e)||j.set(e,(0,r.createContext)(S())),j.get(e)},T=Object.defineProperty,I=Object.defineProperties,O=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,M=function(e,t,n){return t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},L=function(e,t){for(var n in t||(t={}))N.call(t,n)&&M(e,n,t[n]);if(D){var r,i=f(D(t));try{for(i.s();!(r=i.n()).done;)n=r.value,P.call(t,n)&&M(e,n,t[n])}catch(o){i.e(o)}finally{i.f()}}return e},R=function(e){return e.debugLabel||e.toString()},Z=function(e){var t=d(e,2),n=t[0],r=t[1];return Object.fromEntries(r.flatMap((function(e){var t,r,i=null==(t=n.m)?void 0:t.call(n,e);if(!i)return[];var o,a,s=i.t,c=(null==(r=n.a)?void 0:r.call(n,e))||{};return[[R(e),(o=L(L(L({},"e"in c&&{error:c.e}),"p"in c&&{promise:c.p}),"v"in c&&{value:c.v}),a={dependents:Array.from(s).map(R)},I(o,O(a)))]]})))},F=function(e){var t=e.children,n=e.initialValues,i=e.scope,o=e.unstable_createStore,a=e.unstable_enableVersionedWrite,s=(0,r.useState)(),c=d(s,2),u=c[0],l=c[1];(0,r.useEffect)((function(){u&&(f.current.s.c(null,u),delete u.p)}),[u]);var f=(0,r.useRef)();f.current||(f.current=S(n,o),a&&(f.current.w=function(e){l((function(t){var n=t?{p:t}:{};return e(n),n}))})),a||function(e){var t=e.s,n=(0,r.useState)([]),i=d(n,2),o=i[0],a=i[1];(0,r.useEffect)((function(){var e,n=function(){var e;a(Array.from((null==(e=t.l)?void 0:e.call(t))||[]))},r=null==(e=t.n)?void 0:e.call(t,n);return n(),r}),[t]),(0,r.useDebugValue)([t,o],Z)}(f.current);var h=A(i);return(0,r.createElement)(h.Provider,{value:f.current},t)},U=0;function z(e,t){var n="atom"+ ++U,r={toString:function(){return n}};return"function"==typeof e?r.read=e:(r.init=e,r.read=function(e){return e(r)},r.write=function(e,t,n){return t(r,"function"==typeof n?n(e(r)):n)}),t&&(r.write=t),r}function B(e,t){var n=A(t),i=(0,r.useContext)(n).s,o=(0,r.useCallback)((function(t){var n=i.r(e,t);if("e"in n)throw n.e;if("p"in n)throw n.p;if("v"in n)return n.v;throw new Error("no atom value")}),[i,e]),a=(0,r.useReducer)((0,r.useCallback)((function(t,n){var r=o(n);return Object.is(t[1],r)&&t[2]===e?t:[n,r,e]}),[o,e]),void 0,(function(){var t=void 0;return[t,o(t),e]})),s=d(a,2),c=d(s[0],3),u=c[0],l=c[1],f=c[2],h=s[1];return f!==e&&h(void 0),(0,r.useEffect)((function(){var t=i.s(e,h);return h(void 0),t}),[i,e]),(0,r.useEffect)((function(){i.c(e,u)})),(0,r.useDebugValue)(l),l}function V(e,t){var n=A(t),i=(0,r.useContext)(n),o=i.s,a=i.w;return(0,r.useCallback)((function(t){if(!("write"in e))throw new Error("not writable atom");var n=function(n){return o.w(e,t,n)};return a?a(n):n()}),[o,a,e])}function W(e,t){return"scope"in e&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),t=e.scope),[B(e,t),V(e,t)]}},200:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,m=function(){return d.Date.now()};function v(e,t,n){var i,o,a,s,c,u,l=0,d=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=o;return i=o=void 0,l=t,s=e.apply(r,n)}function w(e){return l=e,c=setTimeout(_,t),d?b(e):s}function x(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=a}function _(){var e=m();if(x(e))return E(e);c=setTimeout(_,function(e){var n=t-(e-u);return f?p(n,a-(e-l)):n}(e))}function E(e){return c=void 0,v&&i?b(e):(i=o=void 0,s)}function k(){var e=m(),n=x(e);if(i=arguments,o=this,u=e,n){if(void 0===c)return w(u);if(f)return c=setTimeout(_,t),b(u)}return void 0===c&&(c=setTimeout(_,t)),s}return t=y(t)||0,g(n)&&(d=!!n.leading,a=(f="maxWait"in n)?h(y(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),k.cancel=function(){void 0!==c&&clearTimeout(c),l=0,i=u=o=c=void 0},k.flush=function(){return void 0===c?s:E(m())},k}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),v(e,t,{leading:i,maxWait:t,trailing:o})}},2744:function(e,t,n){"use strict";var r={};(0,n(9187).assign)(r,n(4395),n(578),n(2684)),e.exports=r},4395:function(e,t,n){"use strict";var r=n(7651),i=n(9187),o=n(8592),a=n(5604),s=n(249),c=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(a[n]);this._dict_set=!0}}function l(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=l,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)}},578:function(e,t,n){"use strict";var r=n(7823),i=n(9187),o=n(8592),a=n(2684),s=n(5604),c=n(249),u=n(9968),l=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,u,d,f=this.strm,h=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(h),f.next_out=0,f.avail_out=h),(n=r.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),u=f.next_out-c,d=o.buf2string(f.output,c),f.next_out=u,f.avail_out=h-u,u&&i.arraySet(f.output,f.output,c,u,0),this.onData(d)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},9187:function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},8592:function(e,t,n){"use strict";var r=n(9187),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=0,o=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return c(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},3693:function(e){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},2684:function(e){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(e){"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,i){var o=t,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^n[s])];return-1^e}},7651:function(e,t,n){"use strict";var r,i=n(9187),o=n(8676),a=n(3693),s=n(8464),c=n(5604),u=-2,l=258,d=262,f=103,h=113,p=666;function m(e,t){return e.msg=c[t],t}function v(e){return(e<<1)-(e>4?9:0)}function g(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function x(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,u=e.window,f=e.w_mask,h=e.prev,p=e.strstart+l,m=u[o+a-1],v=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===v&&u[n+a-1]===m&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<p);if(r=l-(p-o),o=p-l,r>a){if(e.match_start=t,a=r,r>=s)break;m=u[o+a-1],v=u[o+a]}}}while((t=h[t&f])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function E(e){var t,n,r,o,c,u,l,f,h,p,m=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-d)){i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=m?r-m:0}while(--n);t=n=m;do{r=e.prev[--t],e.prev[t]=r>=m?r-m:0}while(--n);o+=m}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,f=e.strstart+e.lookahead,h=o,p=void 0,(p=u.avail_in)>h&&(p=h),n=0===p?0:(u.avail_in-=p,i.arraySet(l,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=a(u.adler,l,p,f):2===u.state.wrap&&(u.adler=s(u.adler,l,p,f)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function k(e,t){for(var n,r;;){if(e.lookahead<d){if(E(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-d&&(e.match_length=_(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,i;;){if(e.lookahead<d){if(E(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-d&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function S(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:h,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):m(e,u)}function T(e){var t,n=A(e);return 0===n&&((t=e.state).window_size=2*t.w_size,g(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function I(e,t,n,r,o,a){if(!e)return u;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return m(e,u);8===r&&(r=9);var c=new j;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,T(e)}r=[new S(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(E(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new S(4,4,8,4,k),new S(4,5,16,8,k),new S(4,6,32,32,k),new S(4,4,16,16,C),new S(8,16,32,32,C),new S(8,16,128,128,C),new S(8,32,128,256,C),new S(32,128,258,1024,C),new S(32,258,258,4096,C)],t.deflateInit=function(e,t){return I(e,t,8,15,8,0)},t.deflateInit2=I,t.deflateReset=T,t.deflateResetKeep=A,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},t.deflate=function(e,t){var n,i,a,c;if(!e||!e.state||t>5||t<0)return e?m(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return m(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=h);else{var d=8+(i.w_bits-8<<4)<<8;d|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=h,x(i,d),0!==i.strstart&&(x(i,e.adler>>>16),x(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=h)):i.status=h),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&v(t)<=v(n)&&4!==t)return m(e,-5);if(i.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var _=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(E(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=l){if(E(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+l;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=l-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==_&&4!==_||(i.status=p),1===_||3===_)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(x(i,e.adler>>>16),x(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==h&&t!==p?m(e,u):(e.state=null,t===h?m(e,-3):0):u},t.deflateSetDictionary=function(e,t){var n,r,o,s,c,l,d,f,h=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=a(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,h-n.w_size,n.w_size,0),t=f,h=n.w_size),c=e.avail_in,l=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,E(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,E(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=d,e.avail_in=c,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},9968:function(e){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(e){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,c,u,l,d,f,h,p,m,v,g,y,b,w,x,_,E,k,C,S;n=e.state,r=e.next_in,C=e.input,i=r+(e.avail_in-5),o=e.next_out,S=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=C[r++]<<p,p+=8,h+=C[r++]<<p,p+=8),b=m[h&g];t:for(;;){if(h>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))S[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(w&=15)&&(p<w&&(h+=C[r++]<<p,p+=8),x+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=C[r++]<<p,p+=8,h+=C[r++]<<p,p+=8),b=v[h&y];n:for(;;){if(h>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&b,p<(w&=15)&&(h+=C[r++]<<p,(p+=8)<w&&(h+=C[r++]<<p,p+=8)),(_+=h&(1<<w)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=w,p-=w,_>(w=o-a)){if((w=_-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=0,k=f,0===d){if(E+=u-w,w<x){x-=w;do{S[o++]=f[E++]}while(--w);E=o-_,k=S}}else if(d<w){if(E+=u+d-w,(w-=d)<x){x-=w;do{S[o++]=f[E++]}while(--w);if(E=0,d<x){x-=w=d;do{S[o++]=f[E++]}while(--w);E=o-_,k=S}}}else if(E+=d-w,w<x){x-=w;do{S[o++]=f[E++]}while(--w);E=o-_,k=S}for(;x>2;)S[o++]=k[E++],S[o++]=k[E++],S[o++]=k[E++],x-=3;x&&(S[o++]=k[E++],x>1&&(S[o++]=k[E++]))}else{E=o-_;do{S[o++]=S[E++],S[o++]=S[E++],S[o++]=S[E++],x-=3}while(x>2);x&&(S[o++]=S[E++],x>1&&(S[o++]=S[E++]))}break}}break}}while(r<i&&o<s);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=p}},7823:function(e,t,n){"use strict";var r=n(9187),i=n(3693),o=n(8464),a=n(9365),s=n(6446),c=-2,u=12,l=30;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):c}function m(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):c}function v(e,t){var n,r;return e?(r=new f,e.state=r,r.window=null,0!==(n=m(e,t))&&(e.state=null),n):c}var g,y,b=!0;function w(e){if(b){var t;for(g=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=g,e.lenbits=9,e.distcode=y,e.distbits=5}function x(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=p,t.inflateReset2=m,t.inflateResetKeep=h,t.inflateInit=function(e){return v(e,15)},t.inflateInit2=v,t.inflate=function(e,t){var n,f,h,p,m,v,g,y,b,_,E,k,C,S,j,A,T,I,O,D,N,P,M,L,R=0,Z=new r.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(n=e.state).mode===u&&(n.mode=13),m=e.next_out,h=e.output,g=e.avail_out,p=e.next_in,f=e.input,v=e.avail_in,y=n.hold,b=n.bits,_=v,E=g,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,Z[0]=255&y,Z[1]=y>>>8&255,n.check=o(n.check,Z,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=l;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=l;break}if(b-=4,N=8+(15&(y>>>=4)),0===n.wbits)n.wbits=N;else if(N>n.wbits){e.msg="invalid window size",n.mode=l;break}n.dmax=1<<N,e.adler=n.check=1,n.mode=512&y?10:u,y=0,b=0;break;case 2:for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=l;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=l;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(Z[0]=255&y,Z[1]=y>>>8&255,n.check=o(n.check,Z,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(Z[0]=255&y,Z[1]=y>>>8&255,Z[2]=y>>>16&255,Z[3]=y>>>24&255,n.check=o(n.check,Z,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(Z[0]=255&y,Z[1]=y>>>8&255,n.check=o(n.check,Z,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(Z[0]=255&y,Z[1]=y>>>8&255,n.check=o(n.check,Z,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((k=n.length)>v&&(k=v),k&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,p,k,N)),512&n.flags&&(n.check=o(n.check,f,k,p)),v-=k,p+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;k=0;do{N=f[p+k++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N))}while(N&&k<v);if(512&n.flags&&(n.check=o(n.check,f,k,p)),v-=k,p+=k,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;k=0;do{N=f[p+k++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N))}while(N&&k<v);if(512&n.flags&&(n.check=o(n.check,f,k,p)),v-=k,p+=k,N)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=l;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=u;break;case 10:for(;b<32;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}e.adler=n.check=d(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=u;case u:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=l}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=l;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(k>v&&(k=v),k>g&&(k=g),0===k)break e;r.arraySet(h,f,p,k,m),v-=k,p+=k,g-=k,m+=k,n.length-=k;break}n.mode=u;break;case 17:for(;b<14;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=l;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.lens[F[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,P){e.msg="invalid code lengths set",n.mode=l;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(R=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&R,!((j=R>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(T<16)y>>>=j,b-=j,n.lens[n.have++]=T;else{if(16===T){for(L=j+2;b<L;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(y>>>=j,b-=j,0===n.have){e.msg="invalid bit length repeat",n.mode=l;break}N=n.lens[n.have-1],k=3+(3&y),y>>>=2,b-=2}else if(17===T){for(L=j+3;b<L;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}b-=j,N=0,k=3+(7&(y>>>=j)),y>>>=3,b-=3}else{for(L=j+7;b<L;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}b-=j,N=0,k=11+(127&(y>>>=j)),y>>>=7,b-=7}if(n.have+k>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=l;break}for(;k--;)n.lens[n.have++]=N}}if(n.mode===l)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=l;break}if(n.lenbits=9,M={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,P){e.msg="invalid literal/lengths set",n.mode=l;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,P){e.msg="invalid distances set",n.mode=l;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(v>=6&&g>=258){e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,a(e,E),m=e.next_out,h=e.output,g=e.avail_out,p=e.next_in,f=e.input,v=e.avail_in,y=n.hold,b=n.bits,n.mode===u&&(n.back=-1);break}for(n.back=0;A=(R=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,T=65535&R,!((j=R>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(A&&0==(240&A)){for(I=j,O=A,D=T;A=(R=n.lencode[D+((y&(1<<I+O)-1)>>I)])>>>16&255,T=65535&R,!(I+(j=R>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=j,b-=j,n.back+=j,n.length=T,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=u;break}if(64&A){e.msg="invalid literal/length code",n.mode=l;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(L=n.extra;b<L;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(R=n.distcode[y&(1<<n.distbits)-1])>>>16&255,T=65535&R,!((j=R>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(0==(240&A)){for(I=j,O=A,D=T;A=(R=n.distcode[D+((y&(1<<I+O)-1)>>I)])>>>16&255,T=65535&R,!(I+(j=R>>>24)<=b);){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=j,b-=j,n.back+=j,64&A){e.msg="invalid distance code",n.mode=l;break}n.offset=T,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(L=n.extra;b<L;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=l;break}n.mode=25;case 25:if(0===g)break e;if(k=E-g,n.offset>k){if((k=n.offset-k)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=l;break}k>n.wnext?(k-=n.wnext,C=n.wsize-k):C=n.wnext-k,k>n.length&&(k=n.length),S=n.window}else S=h,C=m-n.offset,k=n.length;k>g&&(k=g),g-=k,n.length-=k;do{h[m++]=S[C++]}while(--k);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;h[m++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===v)break e;v--,y|=f[p++]<<b,b+=8}if(E-=g,e.total_out+=E,n.total+=E,E&&(e.adler=n.check=n.flags?o(n.check,h,E,m-E):i(n.check,h,E,m-E)),E=g,(n.flags?y:d(y))!==n.check){e.msg="incorrect data check",n.mode=l;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===v)break e;v--,y+=f[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=l;break}y=0,b=0}n.mode=29;case 29:P=1;break e;case l:P=-3;break e;case 31:return-4;default:return c}return e.next_out=m,e.avail_out=g,e.next_in=p,e.avail_in=v,n.hold=y,n.bits=b,(n.wsize||E!==e.avail_out&&n.mode<l&&(n.mode<27||4!==t))&&x(e,e.output,e.next_out,E-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,E-=e.avail_out,e.total_in+=_,e.total_out+=E,n.total+=E,n.wrap&&E&&(e.adler=n.check=n.flags?o(n.check,h,E,e.next_out-E):i(n.check,h,E,e.next_out-E)),e.data_type=n.bits+(n.last?64:0)+(n.mode===u?128:0)+(20===n.mode||15===n.mode?256:0),(0===_&&0===E||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?c:(n.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,t,r,0)!==n.check?-3:x(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},6446:function(e,t,n){"use strict";var r=n(9187),i=15,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,l,d,f,h){var p,m,v,g,y,b,w,x,_,E=h.bits,k=0,C=0,S=0,j=0,A=0,T=0,I=0,O=0,D=0,N=0,P=null,M=0,L=new r.Buf16(16),R=new r.Buf16(16),Z=null,F=0;for(k=0;k<=i;k++)L[k]=0;for(C=0;C<u;C++)L[t[n+C]]++;for(A=E,j=i;j>=1&&0===L[j];j--);if(A>j&&(A=j),0===j)return l[d++]=20971520,l[d++]=20971520,h.bits=1,0;for(S=1;S<j&&0===L[S];S++);for(A<S&&(A=S),O=1,k=1;k<=i;k++)if(O<<=1,(O-=L[k])<0)return-1;if(O>0&&(0===e||1!==j))return-1;for(R[1]=0,k=1;k<i;k++)R[k+1]=R[k]+L[k];for(C=0;C<u;C++)0!==t[n+C]&&(f[R[t[n+C]]++]=C);if(0===e?(P=Z=f,b=19):1===e?(P=o,M-=257,Z=a,F-=257,b=256):(P=s,Z=c,b=-1),N=0,C=0,k=S,y=d,T=A,I=0,v=-1,g=(D=1<<A)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){w=k-I,f[C]<b?(x=0,_=f[C]):f[C]>b?(x=Z[F+f[C]],_=P[M+f[C]]):(x=96,_=0),p=1<<k-I,S=m=1<<T;do{l[y+(N>>I)+(m-=p)]=w<<24|x<<16|_|0}while(0!==m);for(p=1<<k-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,C++,0==--L[k]){if(k===j)break;k=t[n+f[C]]}if(k>A&&(N&g)!==v){for(0===I&&(I=A),y+=S,O=1<<(T=k-I);T+I<j&&!((O-=L[T+I])<=0);)T++,O<<=1;if(D+=1<<T,1===e&&D>852||2===e&&D>592)return 1;l[v=N&g]=A<<24|T<<16|y-d|0}}return 0!==N&&(l[y+N]=k-I<<24|64<<16|0),h.bits=A,0}},5604:function(e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(e,t,n){"use strict";var r=n(9187);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=256,a=286,s=30,c=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=new Array(576);i(h);var p=new Array(60);i(p);var m=new Array(512);i(m);var v=new Array(256);i(v);var g=new Array(29);i(g);var y,b,w,x=new Array(s);function _(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?m[e]:m[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function S(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function j(e,t,n){S(e,n[2*t],n[2*t+1])}function A(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function T(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=c;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=A(o[s]++,s))}}function I(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function D(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function N(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&D(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!D(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function P(e,t,n){var r,i,a,s,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?j(e,i,t):(j(e,(a=v[i])+o+1,t),0!==(s=u[a])&&S(e,i-=g[a],s),j(e,a=k(--r),n),0!==(s=l[a])&&S(e,r-=x[a],s))}while(c<e.last_lit);j(e,256,t)}function M(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)N(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,N(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,v=0;for(o=0;o<=c;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>m&&(o=m,v++),u[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=p&&(a=h[r-p]),s=u[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(d[2*r+1]+a)));if(0!==v){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,v-=2}while(v>0);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),T(o,l,e.bl_count)}function L(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function R(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<u)do{j(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(j(e,i,e.bl_tree),s--),j(e,16,e.bl_tree),S(e,s-3,2)):s<=10?(j(e,17,e.bl_tree),S(e,s-3,3)):(j(e,18,e.bl_tree),S(e,s-11,7));s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}}i(x);var Z=!1;function F(e,t,n,i){S(e,0+(i?1:0),3),function(e,t,n,i){O(e),i&&(C(e,n),C(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){Z||(function(){var e,t,n,r,i,o=new Array(16);for(n=0,r=0;r<28;r++)for(g[r]=n,e=0;e<1<<u[r];e++)v[n++]=r;for(v[n-1]=r,i=0,r=0;r<16;r++)for(x[r]=i,e=0;e<1<<l[r];e++)m[i++]=r;for(i>>=7;r<s;r++)for(x[r]=i<<7,e=0;e<1<<l[r]-7;e++)m[256+i++]=r;for(t=0;t<=c;t++)o[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,o[8]++;for(;e<=255;)h[2*e+1]=9,e++,o[9]++;for(;e<=279;)h[2*e+1]=7,e++,o[7]++;for(;e<=287;)h[2*e+1]=8,e++,o[8]++;for(T(h,287,o),e=0;e<s;e++)p[2*e+1]=5,p[2*e]=A(e,5);y=new _(h,u,257,a,c),b=new _(p,l,0,s,c),w=new _(new Array(0),d,0,19,7)}(),Z=!0),e.l_desc=new E(e.dyn_ltree,y),e.d_desc=new E(e.dyn_dtree,b),e.bl_desc=new E(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,I(e)},t._tr_stored_block=F,t._tr_flush_block=function(e,t,n,r){var i,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),s=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?F(e,t,n,r):4===e.strategy||a===i?(S(e,2+(r?1:0),3),P(e,h,p)):(S(e,4+(r?1:0),3),function(e,t,n,r){var i;for(S(e,t-257,5),S(e,n-1,5),S(e,r-4,4),i=0;i<r;i++)S(e,e.bl_tree[2*f[i]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),P(e,e.dyn_ltree,e.dyn_dtree)),I(e),r&&O(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(v[n]+o+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){S(e,2,3),j(e,256,h),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},249:function(e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(e){e.exports=function(e){e.data&&e.name&&(e=e.data);for(var t=!0,n="",r="",i=0;i<e.length;i++){var o=e[i];if(t)o?r+=String.fromCharCode(o):t=!1;else{if(!o)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");n+=String.fromCharCode(o)}}return{keyword:r,text:n}}},9686:function(e){e.exports=function(e,t){if(e=String(e),t=String(t),!/^[\x00-\xFF]+$/.test(e)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(e.length>=80)throw new Error('Keyword "'+e+'" is longer than the 79-character limit imposed by the PNG specification');for(var n,r=e.length+t.length+1,i=new Uint8Array(r),o=0,a=0;a<e.length;a++){if(!(n=e.charCodeAt(a)))throw new Error("0x00 character is not permitted in tEXt keywords");i[o++]=n}i[o++]=0;for(var s=0;s<t.length;s++){if(!(n=t.charCodeAt(s)))throw new Error("0x00 character is not permitted in tEXt content");i[o++]=n}return{name:"tEXt",data:i}}},1194:function(e,t,n){t.encode=n(9686),t.decode=n(9066)},3434:function(e,t,n){var r=n(5714),i=n(6233);e.exports=function(e){var t,n=8,c=n;for(t=0;t<e.length;t++)n+=e[t].data.length,n+=12;var u=new Uint8Array(n);for(u[0]=137,u[1]=80,u[2]=78,u[3]=71,u[4]=13,u[5]=10,u[6]=26,u[7]=10,t=0;t<e.length;t++){var l=e[t],d=l.name,f=l.data,h=f.length,p=[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)];s[0]=h,u[c++]=o[3],u[c++]=o[2],u[c++]=o[1],u[c++]=o[0],u[c++]=p[0],u[c++]=p[1],u[c++]=p[2],u[c++]=p[3];for(var m=0;m<h;)u[c++]=f[m++];var v=p.concat(r(f)),g=i.buf(v);a[0]=g,u[c++]=o[3],u[c++]=o[2],u[c++]=o[1],u[c++]=o[0]}return u};var o=new Uint8Array(4),a=new Int32Array(o.buffer),s=new Uint32Array(o.buffer)},2983:function(e,t,n){var r=n(6233);e.exports=function(e){if(137!==e[0])throw new Error("Invalid .png file header");if(80!==e[1])throw new Error("Invalid .png file header");if(78!==e[2])throw new Error("Invalid .png file header");if(71!==e[3])throw new Error("Invalid .png file header");if(13!==e[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==e[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==e[6])throw new Error("Invalid .png file header");if(10!==e[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var t=!1,n=[],s=8;s<e.length;){i[3]=e[s++],i[2]=e[s++],i[1]=e[s++],i[0]=e[s++];var c=a[0]+4,u=new Uint8Array(c);u[0]=e[s++],u[1]=e[s++],u[2]=e[s++],u[3]=e[s++];var l=String.fromCharCode(u[0])+String.fromCharCode(u[1])+String.fromCharCode(u[2])+String.fromCharCode(u[3]);if(!n.length&&"IHDR"!==l)throw new Error("IHDR header missing");if("IEND"===l){t=!0,n.push({name:l,data:new Uint8Array(0)});break}for(var d=4;d<c;d++)u[d]=e[s++];i[3]=e[s++],i[2]=e[s++],i[1]=e[s++],i[0]=e[s++];var f=o[0];if(r.buf(u)!==f)throw new Error("CRC values for "+l+" header do not match, PNG file is likely corrupted");var h=new Uint8Array(u.buffer.slice(4));n.push({name:l,data:h})}if(!t)throw new Error(".png file ended prematurely: no IEND header was found");return n};var i=new Uint8Array(4),o=new Int32Array(i.buffer),a=new Uint32Array(i.buffer)},1493:function(e,t,n){"use strict";function r(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function i(e,t,n){var i=r(t,n);if(0===i)return r(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return r(e,o(t,n,a=Math.max(0,Math.min(1,a))))}function o(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function a(e,t,n,i){var s,c,u=i||[];if(function(e,t){var n=e[t+0],r=e[t+1],i=e[t+2],o=e[t+3],a=3*r[0]-2*n[0]-o[0];a*=a;var s=3*r[1]-2*n[1]-o[1];s*=s;var c=3*i[0]-2*o[0]-n[0];c*=c;var u=3*i[1]-2*o[1]-n[1];return a<c&&(a=c),s<(u*=u)&&(s=u),a+s}(e,t)<n){var l=e[t+0];u.length?(s=u[u.length-1],c=l,Math.sqrt(r(s,c))>1&&u.push(l)):u.push(l),u.push(e[t+3])}else{var d=.5,f=e[t+0],h=e[t+1],p=e[t+2],m=e[t+3],v=o(f,h,d),g=o(h,p,d),y=o(p,m,d),b=o(v,g,d),w=o(g,y,d),x=o(b,w,d);a([f,v,b,x],0,n,u),a([x,w,y,m],0,n,u)}return u}function s(e,t){return c(e,0,e.length,t)}function c(e,t,n,r,o){for(var a=o||[],s=e[t],u=e[n-1],l=0,d=1,f=t+1;f<n-1;++f){var h=i(e[f],s,u);h>l&&(l=h,d=f)}return Math.sqrt(l)>r?(c(e,t,d+1,r,a),c(e,d,n,r,a)):(a.length||a.push(s),a.push(u)),a}function u(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],i=(e.length-1)/3,o=0;o<i;o++)a(e,3*o,t,r);return n&&n>0?c(r,0,r.length,n):r}n.d(t,{o:function(){return s},s:function(){return u}})},6094:function(e,t,n){"use strict";var r=n(9787),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},4512:function(e,t,n){"use strict";e.exports=n(6094)},8152:function(e,t,n){"use strict";function r(){return Math.floor(Math.random()*Math.pow(2,31))}n.d(t,{W:function(){return r},k:function(){return i}});var i=function(){function e(t){c(this,e),this.seed=t}return u(e,[{key:"next",value:function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()}}]),e}()},8234:function(e,t,n){"use strict";function r(e,t,n){if(e&&e.length){var r=d(t,2),i=r[0],o=r[1],a=Math.PI/180*n,s=Math.cos(a),c=Math.sin(a);e.forEach((function(e){var t=d(e,2),n=t[0],r=t[1];e[0]=(n-i)*s-(r-o)*c+i,e[1]=(n-i)*c+(r-o)*s+o}))}}function i(e){var t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function l(e,t){var n=t.hachureAngle+90,i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.max(i,.1);var o=[0,0];if(n){var a,c=f(e);try{for(c.s();!(a=c.n()).done;)r(a.value,o,n)}catch(h){c.e(h)}finally{c.f()}}var u=function(e,t){var n,r=[],i=f(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=s(o);a[0].join(",")!==a[a.length-1].join(",")&&a.push([a[0][0],a[0][1]]),a.length>2&&r.push(a)}}catch(h){i.e(h)}finally{i.f()}var c=[];t=Math.max(t,.1);for(var u=[],l=0,d=r;l<d.length;l++)for(var p=d[l],m=0;m<p.length-1;m++){var v=p[m],g=p[m+1];if(v[1]!==g[1]){var y=Math.min(v[1],g[1]);u.push({ymin:y,ymax:Math.max(v[1],g[1]),x:y===v[1]?v[0]:g[0],islope:(g[0]-v[0])/(g[1]-v[1])})}}if(u.sort((function(e,t){return e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)})),!u.length)return c;for(var b=[],w=u[0].ymin;b.length||u.length;){if(u.length){for(var x=-1,_=0;_<u.length&&!(u[_].ymin>w);_++)x=_;u.splice(0,x+1).forEach((function(e){b.push({s:w,edge:e})}))}if(b=b.filter((function(e){return!(e.edge.ymax<=w)})),b.sort((function(e,t){return e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)})),b.length>1)for(var E=0;E<b.length;E+=2){var k=E+1;if(k>=b.length)break;var C=b[E].edge,S=b[k].edge;c.push([[Math.round(C.x),w],[Math.round(S.x),w]])}w+=t,b.forEach((function(e){e.edge.x=e.edge.x+t*e.edge.islope}))}return c}(e,i);if(n){var l,d=f(e);try{for(d.s();!(l=d.n()).done;)r(l.value,o,-n)}catch(h){d.e(h)}finally{d.f()}!function(e,t,n){var i=[];e.forEach((function(e){return i.push.apply(i,s(e))})),r(i,t,n)}(u,o,-n)}return u}n.d(t,{Z:function(){return te}});var h=function(){function e(t){c(this,e),this.helper=t}return u(e,[{key:"fillPolygons",value:function(e,t){return this._fillPolygons(e,t)}},{key:"_fillPolygons",value:function(e,t){var n=l(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}},{key:"renderLines",value:function(e,t){var n,r=[],i=f(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push.apply(r,s(this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],t)))}}catch(a){i.e(a)}finally{i.f()}return r}}]),e}(),p=function(e){o(n,e);var t=a(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);var r,o=l(e,Object.assign({},t,{hachureGap:n})),a=Math.PI/180*t.hachureAngle,c=[],u=.5*n*Math.cos(a),h=.5*n*Math.sin(a),p=f(o);try{for(p.s();!(r=p.n()).done;){var m=d(r.value,2),v=m[0],g=m[1];i([v,g])&&c.push([[v[0]-u,v[1]+h],s(g)],[[v[0]+u,v[1]-h],s(g)])}}catch(y){p.e(y)}finally{p.f()}return{type:"fillSketch",ops:this.renderLines(c,t)}}}]),n}(h),m=function(e){o(n,e);var t=a(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"fillPolygons",value:function(e,t){var n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,r);return n.ops=n.ops.concat(i.ops),n}}]),n}(h),v=function(){function e(t){c(this,e),this.helper=t}return u(e,[{key:"fillPolygons",value:function(e,t){var n=l(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}},{key:"dotsOnLines",value:function(e,t){var n=[],r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);var o=t.fillWeight;o<0&&(o=t.strokeWidth/2);var a,c=r/4,u=f(e);try{for(u.s();!(a=u.n()).done;)for(var l=a.value,d=i(l),h=d/r,p=Math.ceil(h)-1,m=d-p*r,v=(l[0][0]+l[1][0])/2-r/4,g=Math.min(l[0][1],l[1][1]),y=0;y<p;y++){var b=g+m+y*r,w=v-c+2*Math.random()*c,x=b-c+2*Math.random()*c,_=this.helper.ellipse(w,x,o,o,t);n.push.apply(n,s(_.ops))}}catch(E){u.e(E)}finally{u.f()}return{type:"fillSketch",ops:n}}}]),e}(),g=function(){function e(t){c(this,e),this.helper=t}return u(e,[{key:"fillPolygons",value:function(e,t){var n=l(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}},{key:"dashedLine",value:function(e,t){var n=this,r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,o=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,a=[];return e.forEach((function(e){var c=i(e),u=Math.floor(c/(r+o)),l=(c+o-u*(r+o))/2,d=e[0],f=e[1];d[0]>f[0]&&(d=e[1],f=e[0]);for(var h=Math.atan((f[1]-d[1])/(f[0]-d[0])),p=0;p<u;p++){var m=p*(r+o),v=m+r,g=[d[0]+m*Math.cos(h)+l*Math.cos(h),d[1]+m*Math.sin(h)+l*Math.sin(h)],y=[d[0]+v*Math.cos(h)+l*Math.cos(h),d[1]+v*Math.sin(h)+l*Math.sin(h)];a.push.apply(a,s(n.helper.doubleLineOps(g[0],g[1],y[0],y[1],t)))}})),a}}]),e}(),y=function(){function e(t){c(this,e),this.helper=t}return u(e,[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,i=l(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(i,r,t)}}},{key:"zigzagLines",value:function(e,t,n){var r=this,o=[];return e.forEach((function(e){var a=i(e),c=Math.round(a/(2*t)),u=e[0],l=e[1];u[0]>l[0]&&(u=e[1],l=e[0]);for(var d=Math.atan((l[1]-u[1])/(l[0]-u[0])),f=0;f<c;f++){var h=2*f*t,p=2*(f+1)*t,m=Math.sqrt(2*Math.pow(t,2)),v=[u[0]+h*Math.cos(d),u[1]+h*Math.sin(d)],g=[u[0]+p*Math.cos(d),u[1]+p*Math.sin(d)],y=[v[0]+m*Math.cos(d+Math.PI/4),v[1]+m*Math.sin(d+Math.PI/4)];o.push.apply(o,s(r.helper.doubleLineOps(v[0],v[1],y[0],y[1],n)).concat(s(r.helper.doubleLineOps(y[0],y[1],g[0],g[1],n))))}})),o}}]),e}(),b={},w=n(8152),x={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function _(e,t){return e.type===t}function E(e){for(var t=[],n=function(e){for(var t=new Array;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:"".concat(parseFloat(RegExp.$1))},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e),r="BOD",i=0,o=n[i];!_(o,2);){var a=0,s=[];if("BOD"===r){if("M"!==o.text&&"m"!==o.text)return E("M0,0"+e);i++,a=x[o.text],r=o.text}else _(o,1)?a=x[r]:(i++,a=x[o.text],r=o.text);if(!(i+a<n.length))throw new Error("Path data ended short");for(var c=i;c<i+a;c++){var u=n[c];if(!_(u,1))throw new Error("Param not a number: "+r+","+u.text);s[s.length]=+u.text}if("number"!=typeof x[r])throw new Error("Bad segment: "+r);var l={key:r,data:s};t.push(l),o=n[i+=a],"M"===r&&(r="L"),"m"===r&&(r="l")}return t}function k(e){var t,n,r,i,o=0,a=0,c=0,u=0,l=[],h=f(e);try{for(h.s();!(i=h.n()).done;){var p=i.value,m=p.key,v=p.data;switch(m){case"M":l.push({key:"M",data:s(v)}),t=d(v,2),o=t[0],a=t[1],c=(n=d(v,2))[0],u=n[1];break;case"m":o+=v[0],a+=v[1],l.push({key:"M",data:[o,a]}),c=o,u=a;break;case"L":l.push({key:"L",data:s(v)}),r=d(v,2),o=r[0],a=r[1];break;case"l":o+=v[0],a+=v[1],l.push({key:"L",data:[o,a]});break;case"C":l.push({key:"C",data:s(v)}),o=v[4],a=v[5];break;case"c":var g=v.map((function(e,t){return t%2?e+a:e+o}));l.push({key:"C",data:g}),o=g[4],a=g[5];break;case"Q":l.push({key:"Q",data:s(v)}),o=v[2],a=v[3];break;case"q":var y=v.map((function(e,t){return t%2?e+a:e+o}));l.push({key:"Q",data:y}),o=y[2],a=y[3];break;case"A":l.push({key:"A",data:s(v)}),o=v[5],a=v[6];break;case"a":o+=v[5],a+=v[6],l.push({key:"A",data:[v[0],v[1],v[2],v[3],v[4],o,a]});break;case"H":l.push({key:"H",data:s(v)}),o=v[0];break;case"h":o+=v[0],l.push({key:"H",data:[o]});break;case"V":l.push({key:"V",data:s(v)}),a=v[0];break;case"v":a+=v[0],l.push({key:"V",data:[a]});break;case"S":l.push({key:"S",data:s(v)}),o=v[2],a=v[3];break;case"s":var b=v.map((function(e,t){return t%2?e+a:e+o}));l.push({key:"S",data:b}),o=b[2],a=b[3];break;case"T":l.push({key:"T",data:s(v)}),o=v[0],a=v[1];break;case"t":o+=v[0],a+=v[1],l.push({key:"T",data:[o,a]});break;case"Z":case"z":l.push({key:"Z",data:[]}),o=c,a=u}}}catch(w){h.e(w)}finally{h.f()}return l}function C(e){var t,n,r,i,o=[],a="",c=0,u=0,l=0,h=0,p=0,m=0,v=f(e);try{for(v.s();!(i=v.n()).done;){var g=i.value,y=g.key,b=g.data;switch(y){case"M":o.push({key:"M",data:s(b)}),c=(t=d(b,2))[0],u=t[1],l=(n=d(b,2))[0],h=n[1];break;case"C":o.push({key:"C",data:s(b)}),c=b[4],u=b[5],p=b[2],m=b[3];break;case"L":o.push({key:"L",data:s(b)}),c=(r=d(b,2))[0],u=r[1];break;case"H":c=b[0],o.push({key:"L",data:[c,u]});break;case"V":u=b[0],o.push({key:"L",data:[c,u]});break;case"S":var w=0,x=0;"C"===a||"S"===a?(w=c+(c-p),x=u+(u-m)):(w=c,x=u),o.push({key:"C",data:[w,x].concat(s(b))}),p=b[0],m=b[1],c=b[2],u=b[3];break;case"T":var _=d(b,2),E=_[0],k=_[1],C=0,S=0;"Q"===a||"T"===a?(C=c+(c-p),S=u+(u-m)):(C=c,S=u);var A=c+2*(C-c)/3,T=u+2*(S-u)/3,I=E+2*(C-E)/3,O=k+2*(S-k)/3;o.push({key:"C",data:[A,T,I,O,E,k]}),p=C,m=S,c=E,u=k;break;case"Q":var D=d(b,4),N=D[0],P=D[1],M=D[2],L=D[3],R=c+2*(N-c)/3,Z=u+2*(P-u)/3,F=M+2*(N-M)/3,U=L+2*(P-L)/3;o.push({key:"C",data:[R,Z,F,U,M,L]}),p=N,m=P,c=M,u=L;break;case"A":var z=Math.abs(b[0]),B=Math.abs(b[1]),V=b[2],W=b[3],H=b[4],q=b[5],G=b[6];0===z||0===B?(o.push({key:"C",data:[c,u,q,G,q,G]}),c=q,u=G):c===q&&u===G||(j(c,u,q,G,z,B,V,W,H).forEach((function(e){o.push({key:"C",data:e})})),c=q,u=G);break;case"Z":o.push({key:"Z",data:[]}),c=l,u=h}a=y}}catch(Y){v.e(Y)}finally{v.f()}return o}function S(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function j(e,t,n,r,i,o,a,s,c,u){var l,f=(l=a,Math.PI*l/180),h=[],p=0,m=0,v=0,g=0;if(u){var y=d(u,4);p=y[0],m=y[1],v=y[2],g=y[3]}else{var b,w,x,_;b=S(e,t,-f),e=(w=d(b,2))[0],t=w[1],x=S(n,r,-f);var E=(e-(n=(_=d(x,2))[0]))/2,k=(t-(r=_[1]))/2,C=E*E/(i*i)+k*k/(o*o);C>1&&(i*=C=Math.sqrt(C),o*=C);var A=i*i,T=o*o,I=A*T-A*k*k-T*E*E,O=A*k*k+T*E*E,D=(s===c?-1:1)*Math.sqrt(Math.abs(I/O));v=D*i*k/o+(e+n)/2,g=D*-o*E/i+(t+r)/2,p=Math.asin(parseFloat(((t-g)/o).toFixed(9))),m=Math.asin(parseFloat(((r-g)/o).toFixed(9))),e<v&&(p=Math.PI-p),n<v&&(m=Math.PI-m),p<0&&(p=2*Math.PI+p),m<0&&(m=2*Math.PI+m),c&&p>m&&(p-=2*Math.PI),!c&&m>p&&(m-=2*Math.PI)}var N=m-p;if(Math.abs(N)>120*Math.PI/180){var P=m,M=n,L=r;m=c&&m>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,h=j(n=v+i*Math.cos(m),r=g+o*Math.sin(m),M,L,i,o,a,0,c,[m,P,v,g])}N=m-p;var R=Math.cos(p),Z=Math.sin(p),F=Math.cos(m),U=Math.sin(m),z=Math.tan(N/4),B=4/3*i*z,V=4/3*o*z,W=[e,t],H=[e+B*Z,t-V*R],q=[n+B*U,r-V*F],G=[n,r];if(H[0]=2*W[0]-H[0],H[1]=2*W[1]-H[1],u)return[H,q,G].concat(h);h=[H,q,G].concat(h);for(var Y=[],K=0;K<h.length;K+=3){var Q=S(h[K][0],h[K][1],f),X=S(h[K+1][0],h[K+1][1],f),$=S(h[K+2][0],h[K+2][1],f);Y.push([Q[0],Q[1],X[0],X[1],$[0],$[1]])}return Y}var A={randOffset:function(e,t){return U(e,t)},randOffsetWithRange:function(e,t,n){return F(e,t,n)},ellipse:function(e,t,n,r,i){return P(e,t,i,N(n,r,i)).opset},doubleLineOps:function(e,t,n,r,i){return z(e,t,n,r,i,!0)}};function T(e,t,n,r,i){return{type:"path",ops:z(e,t,n,r,i)}}function I(e,t,n){var r=(e||[]).length;if(r>2){for(var i=[],o=0;o<r-1;o++)i.push.apply(i,s(z(e[o][0],e[o][1],e[o+1][0],e[o+1][1],n)));return t&&i.push.apply(i,s(z(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n))),{type:"path",ops:i}}return 2===r?T(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function O(e,t,n,r,i){return function(e,t){return I(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],i)}function D(e,t){var n=V(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){var r=V(e,1.5*(1+.22*t.roughness),function(e){var t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}(t));n=n.concat(r)}return{type:"path",ops:n}}function N(e,t,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),o=2*Math.PI/i,a=Math.abs(e/2),s=Math.abs(t/2),c=1-n.curveFitting;return{increment:o,rx:a+=U(a*c,n),ry:s+=U(s*c,n)}}function P(e,t,n,r){var i=H(r.increment,e,t,r.rx,r.ry,1,r.increment*F(.1,F(.4,1,n),n),n),o=d(i,2),a=o[0],s=o[1],c=W(a,null,n);if(!n.disableMultiStroke&&0!==n.roughness){var u=H(r.increment,e,t,r.rx,r.ry,1.5,0,n),l=W(d(u,1)[0],null,n);c=c.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:c}}}function M(e,t,n,r,i,o,a,c,u){var l=e,d=t,f=Math.abs(n/2),h=Math.abs(r/2);f+=U(.01*f,u),h+=U(.01*h,u);for(var p=i,m=o;p<0;)p+=2*Math.PI,m+=2*Math.PI;m-p>2*Math.PI&&(p=0,m=2*Math.PI);var v=2*Math.PI/u.curveStepCount,g=Math.min(v/2,(m-p)/2),y=q(g,l,d,f,h,p,m,1,u);if(!u.disableMultiStroke){var b=q(g,l,d,f,h,p,m,1.5,u);y.push.apply(y,s(b))}return a&&(c?y.push.apply(y,s(z(l,d,l+f*Math.cos(p),d+h*Math.sin(p),u)).concat(s(z(l,d,l+f*Math.cos(m),d+h*Math.sin(m),u)))):y.push({op:"lineTo",data:[l,d]},{op:"lineTo",data:[l+f*Math.cos(p),d+h*Math.sin(p)]})),{type:"path",ops:y}}function L(e,t){var n,r=[],i=f(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.length){var a=t.maxRandomnessOffset||0,s=o.length;if(s>2){r.push({op:"move",data:[o[0][0]+U(a,t),o[0][1]+U(a,t)]});for(var c=1;c<s;c++)r.push({op:"lineTo",data:[o[c][0]+U(a,t),o[c][1]+U(a,t)]})}}}}catch(u){i.e(u)}finally{i.f()}return{type:"fillPath",ops:r}}function R(e,t){return function(e,t){var n=e.fillStyle||"hachure";if(!b[n])switch(n){case"zigzag":b[n]||(b[n]=new p(t));break;case"cross-hatch":b[n]||(b[n]=new m(t));break;case"dots":b[n]||(b[n]=new v(t));break;case"dashed":b[n]||(b[n]=new g(t));break;case"zigzag-line":b[n]||(b[n]=new y(t));break;default:b[n="hachure"]||(b[n]=new h(t))}return b[n]}(t,A).fillPolygons(e,t)}function Z(e){return e.randomizer||(e.randomizer=new w.k(e.seed||0)),e.randomizer.next()}function F(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return n.roughness*r*(Z(n)*(t-e)+e)}function U(e,t){return F(-e,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function z(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?i.disableMultiStrokeFill:i.disableMultiStroke,a=B(e,t,n,r,i,!0,!1);if(o)return a;var s=B(e,t,n,r,i,!0,!0);return a.concat(s)}function B(e,t,n,r,i,o,a){var s=Math.pow(e-n,2)+Math.pow(t-r,2),c=Math.sqrt(s),u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;var l=i.maxRandomnessOffset||0;l*l*100>s&&(l=c/10);var d=l/2,f=.2+.2*Z(i),h=i.bowing*i.maxRandomnessOffset*(r-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-n)/200;h=U(h,i,u),p=U(p,i,u);var m=[],v=function(){return U(d,i,u)},g=function(){return U(l,i,u)},y=i.preserveVertices;return o&&(a?m.push({op:"move",data:[e+(y?0:v()),t+(y?0:v())]}):m.push({op:"move",data:[e+(y?0:U(l,i,u)),t+(y?0:U(l,i,u))]})),a?m.push({op:"bcurveTo",data:[h+e+(n-e)*f+v(),p+t+(r-t)*f+v(),h+e+2*(n-e)*f+v(),p+t+2*(r-t)*f+v(),n+(y?0:v()),r+(y?0:v())]}):m.push({op:"bcurveTo",data:[h+e+(n-e)*f+g(),p+t+(r-t)*f+g(),h+e+2*(n-e)*f+g(),p+t+2*(r-t)*f+g(),n+(y?0:g()),r+(y?0:g())]}),m}function V(e,t,n){var r=[];r.push([e[0][0]+U(t,n),e[0][1]+U(t,n)]),r.push([e[0][0]+U(t,n),e[0][1]+U(t,n)]);for(var i=1;i<e.length;i++)r.push([e[i][0]+U(t,n),e[i][1]+U(t,n)]),i===e.length-1&&r.push([e[i][0]+U(t,n),e[i][1]+U(t,n)]);return W(r,null,n)}function W(e,t,n){var r=e.length,i=[];if(r>3){var o=[],a=1-n.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(var c=1;c+2<r;c++){var u=e[c];o[0]=[u[0],u[1]],o[1]=[u[0]+(a*e[c+1][0]-a*e[c-1][0])/6,u[1]+(a*e[c+1][1]-a*e[c-1][1])/6],o[2]=[e[c+1][0]+(a*e[c][0]-a*e[c+2][0])/6,e[c+1][1]+(a*e[c][1]-a*e[c+2][1])/6],o[3]=[e[c+1][0],e[c+1][1]],i.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(t&&2===t.length){var l=n.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+U(l,n),t[1]+U(l,n)]})}}else 3===r?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&i.push.apply(i,s(z(e[0][0],e[0][1],e[1][0],e[1][1],n)));return i}function H(e,t,n,r,i,o,a,s){var c=[],u=[];if(0===s.roughness){e/=4,u.push([t+r*Math.cos(-e),n+i*Math.sin(-e)]);for(var l=0;l<=2*Math.PI;l+=e){var d=[t+r*Math.cos(l),n+i*Math.sin(l)];c.push(d),u.push(d)}u.push([t+r*Math.cos(0),n+i*Math.sin(0)]),u.push([t+r*Math.cos(e),n+i*Math.sin(e)])}else{var f=U(.5,s)-Math.PI/2;u.push([U(o,s)+t+.9*r*Math.cos(f-e),U(o,s)+n+.9*i*Math.sin(f-e)]);for(var h=2*Math.PI+f-.01,p=f;p<h;p+=e){var m=[U(o,s)+t+r*Math.cos(p),U(o,s)+n+i*Math.sin(p)];c.push(m),u.push(m)}u.push([U(o,s)+t+r*Math.cos(f+2*Math.PI+.5*a),U(o,s)+n+i*Math.sin(f+2*Math.PI+.5*a)]),u.push([U(o,s)+t+.98*r*Math.cos(f+a),U(o,s)+n+.98*i*Math.sin(f+a)]),u.push([U(o,s)+t+.9*r*Math.cos(f+.5*a),U(o,s)+n+.9*i*Math.sin(f+.5*a)])}return[u,c]}function q(e,t,n,r,i,o,a,s,c){var u=o+U(.1,c),l=[];l.push([U(s,c)+t+.9*r*Math.cos(u-e),U(s,c)+n+.9*i*Math.sin(u-e)]);for(var d=u;d<=a;d+=e)l.push([U(s,c)+t+r*Math.cos(d),U(s,c)+n+i*Math.sin(d)]);return l.push([t+r*Math.cos(a),n+i*Math.sin(a)]),l.push([t+r*Math.cos(a),n+i*Math.sin(a)]),W(l,null,c)}function G(e,t,n,r,i,o,a,s){for(var c=[],u=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3],l=[0,0],d=s.disableMultiStroke?1:2,f=s.preserveVertices,h=0;h<d;h++)0===h?c.push({op:"move",data:[a[0],a[1]]}):c.push({op:"move",data:[a[0]+(f?0:U(u[0],s)),a[1]+(f?0:U(u[0],s))]}),l=f?[i,o]:[i+U(u[h],s),o+U(u[h],s)],c.push({op:"bcurveTo",data:[e+U(u[h],s),t+U(u[h],s),n+U(u[h],s),r+U(u[h],s),l[0],l[1]]});return c}function Y(e){return s(e)}var K=n(1493),Q="none",X=function(){function e(t){c(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}return u(e,[{key:"_o",value:function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}},{key:"_d",value:function(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}},{key:"line",value:function(e,t,n,r,i){var o=this._o(i);return this._d("line",[T(e,t,n,r,o)],o)}},{key:"rectangle",value:function(e,t,n,r,i){var o=this._o(i),a=[],s=O(e,t,n,r,o);if(o.fill){var c=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===o.fillStyle?a.push(L([c],o)):a.push(R([c],o))}return o.stroke!==Q&&a.push(s),this._d("rectangle",a,o)}},{key:"ellipse",value:function(e,t,n,r,i){var o=this._o(i),a=[],s=N(n,r,o),c=P(e,t,o,s);if(o.fill)if("solid"===o.fillStyle){var u=P(e,t,o,s).opset;u.type="fillPath",a.push(u)}else a.push(R([c.estimatedPoints],o));return o.stroke!==Q&&a.push(c.opset),this._d("ellipse",a,o)}},{key:"circle",value:function(e,t,n,r){var i=this.ellipse(e,t,n,n,r);return i.shape="circle",i}},{key:"linearPath",value:function(e,t){var n=this._o(t);return this._d("linearPath",[I(e,!1,n)],n)}},{key:"arc",value:function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=this._o(s),u=[],l=M(e,t,n,r,i,o,a,!0,c);if(a&&c.fill)if("solid"===c.fillStyle){var d=Object.assign({},c);d.disableMultiStroke=!0;var f=M(e,t,n,r,i,o,!0,!1,d);f.type="fillPath",u.push(f)}else u.push(function(e,t,n,r,i,o,a){var s=e,c=t,u=Math.abs(n/2),l=Math.abs(r/2);u+=U(.01*u,a),l+=U(.01*l,a);for(var d=i,f=o;d<0;)d+=2*Math.PI,f+=2*Math.PI;f-d>2*Math.PI&&(d=0,f=2*Math.PI);for(var h=(f-d)/a.curveStepCount,p=[],m=d;m<=f;m+=h)p.push([s+u*Math.cos(m),c+l*Math.sin(m)]);return p.push([s+u*Math.cos(f),c+l*Math.sin(f)]),p.push([s,c]),R([p],a)}(e,t,n,r,i,o,c));return c.stroke!==Q&&u.push(l),this._d("arc",u,c)}},{key:"curve",value:function(e,t){var n=this._o(t),r=[],i=D(e,n);if(n.fill&&n.fill!==Q&&e.length>=3){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.length;if(n<3)throw new Error("A curve must have at least three points.");var r=[];if(3===n)r.push(Y(e[0]),Y(e[1]),Y(e[2]),Y(e[2]));else{var i=[];i.push(e[0],e[0]);for(var o=1;o<e.length;o++)i.push(e[o]),o===e.length-1&&i.push(e[o]);var a=[],s=1-t;r.push(Y(i[0]));for(var c=1;c+2<i.length;c++){var u=i[c];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*i[c+1][0]-s*i[c-1][0])/6,u[1]+(s*i[c+1][1]-s*i[c-1][1])/6],a[2]=[i[c+1][0]+(s*i[c][0]-s*i[c+2][0])/6,i[c+1][1]+(s*i[c][1]-s*i[c+2][1])/6],a[3]=[i[c+1][0],i[c+1][1]],r.push(a[1],a[2],a[3])}}return r}(e),a=(0,K.s)(o,10,(1+n.roughness)/2);"solid"===n.fillStyle?r.push(L([a],n)):r.push(R([a],n))}return n.stroke!==Q&&r.push(i),this._d("curve",r,n)}},{key:"polygon",value:function(e,t){var n=this._o(t),r=[],i=I(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(L([e],n)):r.push(R([e],n))),n.stroke!==Q&&r.push(i),this._d("polygon",r,n)}},{key:"path",value:function(e,t){var n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var i=n.fill&&"transparent"!==n.fill&&n.fill!==Q,o=n.stroke!==Q,a=!!(n.simplification&&n.simplification<1),c=function(e,t,n){var r,i=C(k(E(e))),o=[],a=[],c=[0,0],u=[],l=function(){var e;u.length>=4&&(e=a).push.apply(e,s((0,K.s)(u,t))),u=[]},d=function(){l(),a.length&&(o.push(a),a=[])},h=f(i);try{for(h.s();!(r=h.n()).done;){var p=r.value,m=p.key,v=p.data;switch(m){case"M":d(),c=[v[0],v[1]],a.push(c);break;case"L":l(),a.push([v[0],v[1]]);break;case"C":if(!u.length){var g=a.length?a[a.length-1]:c;u.push([g[0],g[1]])}u.push([v[0],v[1]]),u.push([v[2],v[3]]),u.push([v[4],v[5]]);break;case"Z":l(),a.push([c[0],c[1]])}}}catch(S){h.e(S)}finally{h.f()}if(d(),!n)return o;for(var y=[],b=0,w=o;b<w.length;b++){var x=w[b],_=(0,K.o)(x,n);_.length&&y.push(_)}return y}(e,1,a?4-4*n.simplification:(1+n.roughness)/2);return i&&("solid"===n.fillStyle?r.push(L(c,n)):r.push(R(c,n))),o&&(a?c.forEach((function(e){r.push(I(e,!1,n))})):r.push(function(e,t){var n,r=C(k(E(e))),i=[],o=[0,0],a=[0,0],c=f(r);try{for(c.s();!(n=c.n()).done;){var u=n.value,l=u.key,h=u.data;switch(l){case"M":var p=function(){var e=1*(t.maxRandomnessOffset||0),n=t.preserveVertices;return i.push({op:"move",data:h.map((function(r){return r+(n?0:U(e,t))}))}),a=[h[0],h[1]],o=[h[0],h[1]],"break"}();if("break"===p)break;case"L":i.push.apply(i,s(z(a[0],a[1],h[0],h[1],t))),a=[h[0],h[1]];break;case"C":var m=d(h,6),v=m[0],g=m[1],y=m[2],b=m[3],w=m[4],x=m[5];i.push.apply(i,s(G(v,g,y,b,w,x,a,t))),a=[w,x];break;case"Z":i.push.apply(i,s(z(a[0],a[1],o[0],o[1],t))),a=[o[0],o[1]]}}}catch(_){c.e(_)}finally{c.f()}return{type:"path",ops:i}}(e,n))),this._d("path",r,n)}},{key:"opsToPath",value:function(e,t){var n,r="",i=f(e.ops);try{for(i.s();!(n=i.n()).done;){var o=n.value,a="number"==typeof t&&t>=0?o.data.map((function(e){return+e.toFixed(t)})):o.data;switch(o.op){case"move":r+="M".concat(a[0]," ").concat(a[1]," ");break;case"bcurveTo":r+="C".concat(a[0]," ").concat(a[1],", ").concat(a[2]," ").concat(a[3],", ").concat(a[4]," ").concat(a[5]," ");break;case"lineTo":r+="L".concat(a[0]," ").concat(a[1]," ")}}}catch(s){i.e(s)}finally{i.f()}return r.trim()}},{key:"toPaths",value:function(e){var t,n=e.sets||[],r=e.options||this.defaultOptions,i=[],o=f(n);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:Q};break;case"fillPath":s={d:this.opsToPath(a),stroke:Q,strokeWidth:0,fill:r.fill||Q};break;case"fillSketch":s=this.fillSketch(a,r)}s&&i.push(s)}}catch(c){o.e(c)}finally{o.f()}return i}},{key:"fillSketch",value:function(e,t){var n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||Q,strokeWidth:n,fill:Q}}}],[{key:"newSeed",value:function(){return(0,w.W)()}}]),e}(),$=function(){function e(t,n){c(this,e),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new X(n)}return u(e,[{key:"draw",value:function(e){var t,n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,o=e.options.fixedDecimalPlaceDigits,a=f(n);try{for(a.s();!(t=a.n()).done;){var s=t.value;switch(s.type){case"path":i.save(),i.strokeStyle="none"===r.stroke?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,s,o),i.restore();break;case"fillPath":i.save(),i.fillStyle=r.fill||"";var c="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(i,s,o,c),i.restore();break;case"fillSketch":this.fillSketch(i,s,r)}}}catch(u){a.e(u)}finally{a.f()}}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}},{key:"_drawToContext",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nonzero";e.beginPath();var i,o=f(t.ops);try{for(o.s();!(i=o.n()).done;){var a=i.value,s="number"==typeof n&&n>=0?a.data.map((function(e){return+e.toFixed(n)})):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}}catch(c){o.e(c)}finally{o.f()}"fillPath"===t.type?e.fill(r):e.stroke()}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(e,t,n,r,i){var o=this.gen.line(e,t,n,r,i);return this.draw(o),o}},{key:"rectangle",value:function(e,t,n,r,i){var o=this.gen.rectangle(e,t,n,r,i);return this.draw(o),o}},{key:"ellipse",value:function(e,t,n,r,i){var o=this.gen.ellipse(e,t,n,r,i);return this.draw(o),o}},{key:"circle",value:function(e,t,n,r){var i=this.gen.circle(e,t,n,r);return this.draw(i),i}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n),n}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n),n}},{key:"arc",value:function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=this.gen.arc(e,t,n,r,i,o,a,s);return this.draw(c),c}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n),n}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n),n}}]),e}(),J="http://www.w3.org/2000/svg",ee=function(){function e(t,n){c(this,e),this.svg=t,this.gen=new X(n)}return u(e,[{key:"draw",value:function(e){var t,n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,o=i.createElementNS(J,"g"),a=e.options.fixedDecimalPlaceDigits,s=f(n);try{for(s.s();!(t=s.n()).done;){var c=t.value,u=null;switch(c.type){case"path":(u=i.createElementNS(J,"path")).setAttribute("d",this.opsToPath(c,a)),u.setAttribute("stroke",r.stroke),u.setAttribute("stroke-width",r.strokeWidth+""),u.setAttribute("fill","none"),r.strokeLineDash&&u.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset","".concat(r.strokeLineDashOffset));break;case"fillPath":(u=i.createElementNS(J,"path")).setAttribute("d",this.opsToPath(c,a)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",r.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(i,c,r)}u&&o.appendChild(u)}}catch(l){s.e(l)}finally{s.f()}return o}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2);var i=e.createElementNS(J,"path");return i.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),i.setAttribute("stroke",n.fill||""),i.setAttribute("stroke-width",r+""),i.setAttribute("fill","none"),n.fillLineDash&&i.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&i.setAttribute("stroke-dashoffset","".concat(n.fillLineDashOffset)),i}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"opsToPath",value:function(e,t){return this.gen.opsToPath(e,t)}},{key:"line",value:function(e,t,n,r,i){var o=this.gen.line(e,t,n,r,i);return this.draw(o)}},{key:"rectangle",value:function(e,t,n,r,i){var o=this.gen.rectangle(e,t,n,r,i);return this.draw(o)}},{key:"ellipse",value:function(e,t,n,r,i){var o=this.gen.ellipse(e,t,n,r,i);return this.draw(o)}},{key:"circle",value:function(e,t,n,r){var i=this.gen.circle(e,t,n,r);return this.draw(i)}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n)}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n)}},{key:"arc",value:function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=this.gen.arc(e,t,n,r,i,o,a,s);return this.draw(c)}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n)}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n)}}]),e}(),te={canvas:function(e,t){return new $(e,t)},svg:function(e,t){return new ee(e,t)},generator:function(e){return new X(e)},newSeed:function(){return X.newSeed()}}},5714:function(e){e.exports=function(e,t,n){var r=[],i=e.length;if(0===i)return r;var o=t<0?Math.max(0,t+i):t||0;for(void 0!==n&&(i=n<0?n+i:n);i-- >o;)r[i-o]=e[i];return r}},5422:function(e,t,n){"use strict";var r=n(487),i=n.n(r),o=n(631),a=n.n(o),s=n(2052),c=n.n(s),u=n(4010),l=n.n(u),d=n(1469),f=n.n(d),h=n(9329),p=n.n(h),m=n(2044),v={};v.styleTagTransform=p(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=f(),i()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals},487:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,d="".concat(u," ").concat(l);o[u]=l+1;var f=n(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(h);else{var p=i(h,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var c=r(e,i),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},2052:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},1469:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4010:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},631:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},9329:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},6479:function(e,t,n){var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},4295:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),u=new URL(n(3940),n.b),l=new URL(n(3147),n.b),d=new URL(n(8303),n.b),f=new URL(n(1273),n.b),h=new URL(n(9577),n.b),p=new URL(n(9729),n.b),m=a()(i()),v=c()(u),g=c()(l),y=c()(d),b=c()(f),w=c()(h),x=c()(p);m.push([e.id,'@font-face{font-family:"Virgil";src:url('+v+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+g+');font-display:swap}@font-face{font-family:"Assistant";src:url('+y+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+b+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+w+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+x+");font-display:swap;font-weight:700}",""]),t.Z=m},6086:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg)}.zoom-button,.undo-redo-buttons button{border:1px solid var(--default-border-color) !important;border-radius:0 !important;background-color:rgba(0,0,0,0) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),t.Z=a},9135:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),t.Z=a},3729:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.625rem;font-weight:500;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),t.Z=a},6029:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),t.Z=a},9609:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--default-border-color);border-radius:var(--border-radius-lg);cursor:pointer;background-color:rgba(0,0,0,0);color:var(--text-primary-color);width:var(--lg-button-size);height:var(--lg-button-size);background-color:var(--color-primary);border-color:var(--color-primary);color:#fff;flex-shrink:0}.excalidraw .collab-button:hover{background-color:var(--button-hover)}.excalidraw .collab-button:active{background-color:var(--button-hover);border-color:var(--color-primary-darkest)}.excalidraw .collab-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .collab-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .collab-button.active svg{color:var(--color-primary-darker)}.excalidraw .collab-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .collab-button:hover{background-color:var(--color-primary-darker);border-color:var(--color-primary-darker)}.excalidraw .collab-button:active{background-color:var(--color-primary-darker)}.excalidraw .collab-button.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active svg{color:#fff}.excalidraw .collab-button.active:hover,.excalidraw .collab-button.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),t.Z=a},2345:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),u=new URL(n(9669),n.b),l=a()(i()),d=c()(u);l.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+d+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--default-border-color);border-radius:var(--border-radius-lg);cursor:pointer;background-color:rgba(0,0,0,0);color:var(--text-primary-color);background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover)}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-hover);border-color:var(--color-primary-darkest)}.excalidraw .color-picker-label-swatch.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active svg{color:var(--color-primary-darker)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),t.Z=l},9393:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),t.Z=a},6578:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),t.Z=a},9482:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}",""]),t.Z=a},6148:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),t.Z=a},7955:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),u=new URL(n(9669),n.b),l=a()(i()),d=c()(u);l.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+d+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),t.Z=l},3195:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:1rem;top:1rem;right:1rem;bottom:1rem;z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),t.Z=a},2978:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;border:1px solid var(--default-border-color);padding:.625rem 1rem;border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw .HelpDialog__btn:hover{text-decoration:none}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),t.Z=a},1587:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),t.Z=a},9478:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),t.Z=a},7369:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),t.Z=a},1434:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center>*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),t.Z=a},2316:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.library-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--default-border-color);border-radius:var(--border-radius-lg);cursor:pointer;background-color:rgba(0,0,0,0);color:var(--text-primary-color);background-color:var(--island-bg-color);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.library-button:hover{background-color:var(--button-hover)}.library-button:active{background-color:var(--button-hover);border-color:var(--color-primary-darkest)}.library-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.library-button.active:hover{background-color:var(--color-primary-light)}.library-button.active svg{color:var(--color-primary-darker)}.library-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.library-button__label{display:none}@media screen and (min-width: 1024px){.library-button__label{display:block}}",""]),t.Z=a},8923:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .layer-ui__library-sidebar{display:flex;flex-direction:column}.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{margin:1rem auto;padding:.875rem 1rem;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}",""]),t.Z=a},6440:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;border-bottom:1px solid var(--sidebar-border-color);position:relative}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) var(--container-padding-x);flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem}.excalidraw .library-menu-items-container__header--excal{margin-top:2.5rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),t.Z=a},2701:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),t.Z=a},4955:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .menu-container{width:240px;background-color:#fff !important;max-height:calc(100vh - 150px);overflow-y:auto}.excalidraw .menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--default-border-color);border-radius:var(--border-radius-lg);cursor:pointer;background-color:rgba(0,0,0,0);color:var(--text-primary-color);background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .menu-button:hover{background-color:var(--button-hover)}.excalidraw .menu-button:active{background-color:var(--button-hover);border-color:var(--color-primary-darkest)}.excalidraw .menu-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .menu-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .menu-button.active svg{color:var(--color-primary-darker)}.excalidraw .menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .menu-item{display:flex;background-color:rgba(0,0,0,0);border:0;align-items:center;padding:0 .625rem;height:2rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-gray-100);cursor:pointer;border-radius:var(--border-radius-md);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}@media screen and (min-width: 1921px){.excalidraw .menu-item{height:2.25rem}}.excalidraw .menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .menu-item:hover{background-color:var(--button-hover);text-decoration:none}.excalidraw .menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .menu-item.active-collab{background-color:#ecfdf5;color:#064e3c}.excalidraw.theme--dark .menu-item{color:var(--color-gray-40)}.excalidraw.theme--dark .menu-item.active-collab{background-color:#064e3c;color:#ecfdf5}.excalidraw.theme--dark .menu-container{background-color:var(--color-gray-90) !important}",""]),t.Z=a},6843:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),t.Z=a},8461:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),t.Z=a},9935:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px}",""]),t.Z=a},532:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),t.Z=a},7589:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}",""]),t.Z=a},8208:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Sidebar__dropdown-content{z-index:1;position:absolute;top:100%;left:0;margin-top:.25rem;width:180px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}:root[dir=rtl] .excalidraw .Sidebar__dropdown-content{right:0;left:auto}.excalidraw .Sidebar__close-btn,.excalidraw .Sidebar__pin-btn,.excalidraw .Sidebar__dropdown-btn{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--default-border-color);border-radius:var(--border-radius-lg);cursor:pointer;background-color:rgba(0,0,0,0);color:var(--text-primary-color);width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .Sidebar__close-btn:hover,.excalidraw .Sidebar__pin-btn:hover,.excalidraw .Sidebar__dropdown-btn:hover{background-color:var(--button-hover)}.excalidraw .Sidebar__close-btn:active,.excalidraw .Sidebar__pin-btn:active,.excalidraw .Sidebar__dropdown-btn:active{background-color:var(--button-hover);border-color:var(--color-primary-darkest)}.excalidraw .Sidebar__close-btn.active,.excalidraw .Sidebar__pin-btn.active,.excalidraw .Sidebar__dropdown-btn.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active:hover,.excalidraw .Sidebar__pin-btn.active:hover,.excalidraw .Sidebar__dropdown-btn.active:hover{background-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active svg,.excalidraw .Sidebar__pin-btn.active svg,.excalidraw .Sidebar__dropdown-btn.active svg{color:var(--color-primary-darker)}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .Sidebar__pin-btn--pinned{background-color:var(--color-primary);border-color:var(--color-primary)}.excalidraw .Sidebar__pin-btn--pinned svg{color:#fff}.excalidraw .Sidebar__pin-btn--pinned:hover,.excalidraw .Sidebar__pin-btn--pinned:active{background-color:var(--color-primary-darker)}.excalidraw.theme--dark .Sidebar__pin-btn--pinned svg{color:var(--color-gray-90)}.excalidraw .layer-ui__sidebar{position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color);padding:0;box-sizing:border-box}:root[dir=rtl] .excalidraw .layer-ui__sidebar{left:0;right:auto}.excalidraw .layer-ui__sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .layer-ui__sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .layer-ui__sidebar .Island{box-shadow:none}.excalidraw .layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.excalidraw .layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.excalidraw .layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem;border-bottom:1px solid var(--sidebar-border-color)}.excalidraw .layer-ui__sidebar__header__buttons{display:flex;align-items:center;gap:.625rem}",""]),t.Z=a},8465:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),t.Z=a},5892:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),t.Z=a},3874:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),t.Z=a},2681:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),t.Z=a},6759:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),t.Z=a},9650:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),t.Z=a},2044:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-primary-darker)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary-light);--keybinding-color: var(--color-gray-60)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-primary-darker)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover);border:1px solid var(--color-primary-darkest)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}",""]),t.Z=a},9144:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .5rem}",""]),t.Z=a},6626:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),t.Z=a},6359:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),t.Z=a},846:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .WelcomeScreen-logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .WelcomeScreen-logo svg{width:1.625rem;height:auto}.excalidraw .WelcomeScreen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .WelcomeScreen-decor--subheading{font-size:1.125rem;text-align:center}.excalidraw .WelcomeScreen-decor--help-pointer{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .WelcomeScreen-decor--help-pointer{left:0;right:auto}.excalidraw .WelcomeScreen-decor--help-pointer svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .WelcomeScreen-decor--help-pointer svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .WelcomeScreen-decor--top-toolbar-pointer{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .WelcomeScreen-decor--top-toolbar-pointer__label{width:120px;position:relative;top:-0.5rem}.excalidraw .WelcomeScreen-decor--top-toolbar-pointer svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .WelcomeScreen-decor--top-toolbar-pointer svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .WelcomeScreen-decor--menu-pointer{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .WelcomeScreen-decor--menu-pointer svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .WelcomeScreen-decor--menu-pointer svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .WelcomeScreen-container{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .WelcomeScreen-items{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .WelcomeScreen-item{box-sizing:border-box;pointer-events:all;color:var(--color-gray-50);font-size:.875rem;min-width:300px;display:flex;align-items:center;justify-content:space-between;background:none;border:none;padding:.75rem;border-radius:var(--border-radius-md)}.excalidraw .WelcomeScreen-item__label{display:flex;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .WelcomeScreen-item__label svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .WelcomeScreen-item__shortcut{color:var(--color-gray-40);font-size:.75rem}.excalidraw:not(:active) .WelcomeScreen-item:hover{text-decoration:none;background:var(--color-gray-10)}.excalidraw:not(:active) .WelcomeScreen-item:hover .WelcomeScreen-item__shortcut{color:var(--color-gray-50)}.excalidraw:not(:active) .WelcomeScreen-item:hover .WelcomeScreen-item__label{color:var(--color-gray-100)}.excalidraw .WelcomeScreen-item:active{background:var(--color-gray-20)}.excalidraw .WelcomeScreen-item:active .WelcomeScreen-item__shortcut{color:var(--color-gray-50)}.excalidraw .WelcomeScreen-item:active .WelcomeScreen-item__label{color:var(--color-gray-100)}.excalidraw .WelcomeScreen-item:active--promo{color:var(--color-promo) !important}.excalidraw .WelcomeScreen-item:active--promo:hover .WelcomeScreen-item__label{color:var(--color-promo) !important}.excalidraw.theme--dark .WelcomeScreen-decor{color:var(--color-gray-60)}.excalidraw.theme--dark .WelcomeScreen-item{color:var(--color-gray-60)}.excalidraw.theme--dark .WelcomeScreen-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark:not(:active) .WelcomeScreen-item:hover{background:var(--color-gray-85)}.excalidraw.theme--dark:not(:active) .WelcomeScreen-item:hover .WelcomeScreen-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark:not(:active) .WelcomeScreen-item:hover .WelcomeScreen-item__label{color:var(--color-gray-10)}.excalidraw.theme--dark .WelcomeScreen-item:active{background-color:var(--color-gray-90)}.excalidraw.theme--dark .WelcomeScreen-item:active .WelcomeScreen-item__label{color:var(--color-gray-10)}@media(max-width: 1024px){.excalidraw .WelcomeScreen-decor--help-pointer,.excalidraw .WelcomeScreen-decor--menu-pointer{display:none}}@media(max-height: 599px){.excalidraw .WelcomeScreen-container{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .WelcomeScreen-container{margin-top:8rem}}@media(max-height: 630px){.excalidraw .WelcomeScreen-decor--top-toolbar-pointer{display:none}}@media(max-height: 500px){.excalidraw .WelcomeScreen-container{display:none}}',""]),t.Z=a},9915:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),t.Z=a},9310:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),u=new URL(n(7984),n.b),l=new URL(n(1639),n.b),d=a()(i()),f=c()(u),h=c()(l);d.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+f+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+h+');--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-danger: #ffa8a5;--color-promo: #d297ff}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--default-border-color);border-radius:var(--border-radius-lg);cursor:pointer;background-color:rgba(0,0,0,0);color:var(--text-primary-color);padding:0}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover)}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-hover);border-color:var(--color-primary-darkest)}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--color-primary-light)}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--color-primary-darker)}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:all}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .disable-zen-mode{border-radius:var(--border-radius-lg);background-color:var(--color-gray-20);border:1px solid var(--color-gray-30);padding:10px 20px}.excalidraw .disable-zen-mode:hover{background-color:var(--color-gray-30)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:all}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--color-primary-darkest)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--default-border-color);border-radius:var(--border-radius-lg);cursor:pointer;background-color:rgba(0,0,0,0);color:var(--text-primary-color);background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon:hover{background-color:var(--button-hover)}.excalidraw .help-icon:active{background-color:var(--button-hover);border-color:var(--color-primary-darkest)}.excalidraw .help-icon.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .help-icon.active:hover{background-color:var(--color-primary-light)}.excalidraw .help-icon.active svg{color:var(--color-primary-darker)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:fixed;top:5rem;right:0;display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container .library-button{border:0}.excalidraw .mobile-misc-tools-container-left{position:fixed;top:5rem;left:0;display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-right-radius:var(--border-radius-lg);border-bottom-right-radius:var(--border-radius-lg);border-left:0;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container-left .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container-left .library-button{border:0}.excalidraw .App-toolbar--mobile{overflow-x:hidden;max-width:100vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),t.Z=d},6464:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"",""]),a.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},t.Z=a},5260:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),t.Z=a},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},828:function(e,t,n){"use strict";n.d(t,{Lo:function(){return T},CZ:function(){return I}});var r=n(2577),i=n(7169),o=n(4499),a=n(3646),s=n(1319),c=n(2335),u=n(1047),l=n(5202),d=n(6066),f=n(75),h=n(2264),p=n(746),m=n(6340),v=n(7901),g=n(1894),y=n(1935),b=n(8897),w=n(9787),x=n(7046),_=n(3202),E=n(4512),k=function(e){var t=e.onConfirm,n=(0,w.useState)(!1),i=(0,r.Z)(n,2),o=i[0],s=i[1],c=function(){s(!o)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(_.Z,{label:(0,l.t)("buttons.clearReset"),icon:a.XH,onClick:c,dataTestId:"clear-canvas-button"}),o&&(0,E.jsx)(x.Z,{onConfirm:function(){t(),c()},onCancel:c,title:(0,l.t)("clearCanvasDialog.title"),children:(0,E.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,l.t)("alerts.clearReset")]})})]})},C=n(45),S=n(785);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,v.z)({name:"changeViewBackgroundColor",trackEvent:!1,perform:function(e,t,n){return{appState:A(A({},t),n),commitToHistory:!!n.viewBackgroundColor}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,E.jsx)("div",{style:{position:"relative"},children:(0,E.jsx)(o.z,{label:(0,l.t)("labels.canvasBackground"),type:"canvasBackground",color:n.viewBackgroundColor,onChange:function(e){return r({viewBackgroundColor:e})},isActive:"canvasColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:t,appState:n})})}}),(0,v.z)({name:"clearCanvas",trackEvent:{category:"canvas"},perform:function(e,t,n,r){return r.imageCache.clear(),{elements:e.map((function(e){return(0,y.BE)(e,{isDeleted:!0})})),appState:A(A({},(0,b.im)()),{},{files:{},theme:t.theme,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,showStats:t.showStats,pasteDialog:t.pasteDialog,activeTool:"image"===t.activeTool.type?A(A({},t.activeTool),{},{type:"selection"}):t.activeTool}),commitToHistory:!0}},PanelComponent:function(e){var t=e.updateData;return(0,E.jsx)(k,{onConfirm:t})}});var T=(0,v.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:A(A({},t),(0,p.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,f.j)(t.zoom.value+c.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,E.jsx)(s.V,{type:"button",className:"zoom-in-button zoom-button",icon:a.Sd,title:"".concat((0,l.t)("buttons.zoomIn")," \u2014 ").concat((0,m.uY)("CtrlOrCmd++")),"aria-label":(0,l.t)("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===d.aU.EQUAL||e.code===d.aU.NUM_ADD)&&(e[d.tW.CTRL_OR_CMD]||e.shiftKey)}}),I=(0,v.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:A(A({},t),(0,p.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,f.j)(t.zoom.value-c.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,E.jsx)(s.V,{type:"button",className:"zoom-out-button zoom-button",icon:a.xL,title:"".concat((0,l.t)("buttons.zoomOut")," \u2014 ").concat((0,m.uY)("CtrlOrCmd+-")),"aria-label":(0,l.t)("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===d.aU.MINUS||e.code===d.aU.NUM_SUBTRACT)&&(e[d.tW.CTRL_OR_CMD]||e.shiftKey)}}),O=((0,v.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:A(A({},t),(0,p.E)({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,f.j)(1)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,E.jsx)(g.u,{label:(0,l.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,E.jsxs)(s.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,l.t)("buttons.resetZoom"),"aria-label":(0,l.t)("buttons.resetZoom"),onClick:function(){t(null)},children:[(100*n.zoom.value).toFixed(0),"%"]})})},keyTest:function(e){return(e.code===d.aU.ZERO||e.code===d.aU.NUM_ZERO)&&(e[d.tW.CTRL_OR_CMD]||e.shiftKey)}}),function(e,t){var n=(0,r.Z)(e,4),i=n[0],o=n[1],a=n[2],s=n[3],u=a-i,l=t.width/u,d=s-o,f=t.height/d,h=Math.min(l,f),p=Math.floor(h/c.V4)*c.V4;return Math.min(Math.max(p,c.Zj),1)}),D=function(e,t,n){var i=(0,u.Lm)(e),o=(0,f.eD)(i,t),a=n&&o.length>0?(0,u.KP)(o):(0,u.KP)(i),s={value:O(a,{width:t.width,height:t.height})},c=(0,r.Z)(a,4),l=c[0],d=c[1],p=(l+c[2])/2,m=(d+c[3])/2;return{appState:A(A(A({},t),(0,h.s)({scenePoint:{x:p,y:m},viewportDimensions:{width:t.width,height:t.height},zoom:s})),{},{zoom:s}),commitToHistory:!1}};(0,v.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(e,t){return D(e,t,!0)},keyTest:function(e){return e.code===d.aU.TWO&&e.shiftKey&&!e.altKey&&!e[d.tW.CTRL_OR_CMD]}}),(0,v.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t){return D(e,t,!1)},keyTest:function(e){return e.code===d.aU.ONE&&e.shiftKey&&!e.altKey&&!e[d.tW.CTRL_OR_CMD]}}),(0,v.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n){return{appState:A(A({},t),{},{theme:n||(t.theme===c.C6.LIGHT?c.C6.DARK:c.C6.LIGHT)}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,E.jsx)(_.Z,{label:"dark"===t.theme?(0,l.t)("buttons.lightMode"):(0,l.t)("buttons.darkMode"),onClick:function(){n(t.theme===c.C6.LIGHT?c.C6.DARK:c.C6.LIGHT)},icon:"dark"===t.theme?a.NW:a.kL,dataTestId:"toggle-dark-mode",shortcut:(0,S.C)("toggleTheme")})},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===d.aU.D}}),(0,v.z)({name:"eraser",trackEvent:{category:"toolbar"},perform:function(e,t){var n;return n=(0,b.EN)(t)?(0,m.Om)(t,A(A({},t.activeTool.lastActiveToolBeforeEraser||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,m.Om)(t,{type:"eraser",lastActiveToolBeforeEraser:t.activeTool}),{appState:A(A({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:n}),commitToHistory:!0}},keyTest:function(e){return e.key===d.tW.E},PanelComponent:function(e){e.elements;var t=e.appState,n=e.updateData,r=e.data;return(0,E.jsx)(s.V,{type:"button",icon:a.rn,className:(0,C.Z)("eraser",{active:(0,b.EN)(t)}),title:"".concat((0,l.t)("toolBar.eraser"),"-").concat((0,m.uY)("E")),"aria-label":(0,l.t)("toolBar.eraser"),onClick:function(){n(null)},size:(null==r?void 0:r.size)||"medium"})}})},6208:function(e,t,n){"use strict";n.d(t,{Tu:function(){return K},Zq:function(){return Q}});var r=n(1930),i=n(7169),o=n(45),a=n(4512),s=function(e){var t=e.options,n=e.value,r=e.onChange,i=e.group;return(0,a.jsx)("div",{className:"buttonList buttonListIcon",children:t.map((function(e){return(0,a.jsxs)("label",{className:(0,o.Z)({active:n===e.value}),title:e.text,children:[(0,a.jsx)("input",{type:"radio",name:i,onChange:function(){return r(e.value)},checked:n===e.value,"data-testid":e.testId}),e.icon]},e.text)}))})},c=n(4499),u=n(2577),l=n(9787),d=n.n(l),f=n(2891),h=n(487),p=n.n(h),m=n(631),v=n.n(m),g=n(2052),y=n.n(g),b=n(4010),w=n.n(b),x=n(1469),_=n.n(x),E=n(9329),k=n.n(E),C=n(9478),S={};S.styleTagTransform=k(),S.setAttributes=w(),S.insert=y().bind(null,"head"),S.domAPI=v(),S.insertStyleElement=_(),p()(C.Z,S),C.Z&&C.Z.locals&&C.Z.locals;var j=n(6066),A=n(5202);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=e.options,n=e.value,r=e.label,i=e.onChange,s=e.onClose,c=d().useRef(),u=d().useRef(),l=d().useRef(null);return d().useEffect((function(){u.current?u.current.focus():l.current&&l.current.focus()}),[]),(0,a.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,onKeyDown:function(e){var n=t.find((function(t){return t.keyBinding===e.key.toLowerCase()}));if(e.metaKey||e.altKey||e.ctrlKey||!n)if(e.key===j.tW.TAB)setTimeout((function(){u.current!==document.activeElement&&s()}),0);else if((0,j.Wl)(e.key)){var r=document.activeElement,i=(0,A.G3)().rtl,o=Array.prototype.indexOf.call(l.current.children,r);if(-1!==o){var a=t.length,c=o;switch(e.key){case i?j.tW.ARROW_LEFT:j.tW.ARROW_RIGHT:case j.tW.ARROW_DOWN:c=(o+1)%a;break;case i?j.tW.ARROW_RIGHT:j.tW.ARROW_LEFT:case j.tW.ARROW_UP:c=(a+o-1)%a}l.current.children[c].focus()}e.preventDefault()}else e.key!==j.tW.ESCAPE&&e.key!==j.tW.ENTER||(e.preventDefault(),s());else{var d=t.indexOf(n);l.current.children[d].focus(),e.preventDefault()}e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},children:(0,a.jsx)("div",{className:"picker-content",ref:l,children:t.map((function(e,t){return(0,a.jsxs)("button",{className:(0,o.Z)("picker-option",{active:n===e.value}),onClick:function(t){t.currentTarget.focus(),i(e.value)},title:"".concat(e.text," \u2014 ").concat(e.keyBinding.toUpperCase()),"aria-label":e.text||"none","aria-keyshortcuts":e.keyBinding,ref:function(r){r&&0===t&&(c.current=r),r&&e.value===n&&(u.current=r)},onFocus:function(){i(e.value)},children:[e.icon,(0,a.jsx)("span",{className:"picker-keybinding",children:e.keyBinding})]},e.text)}))})})}function D(e){var t,n=e.value,r=e.label,i=e.options,o=e.onChange,s=e.group,c=void 0===s?"":s,l=d().useState(!1),h=(0,u.Z)(l,2),p=h[0],m=h[1],v=d().useRef(null),g=(0,A.G3)().rtl;return(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{name:c,className:p?"active":"","aria-label":r,onClick:function(){return m(!p)},ref:v,children:null===(t=i.find((function(e){return e.value===n})))||void 0===t?void 0:t.icon}),(0,a.jsx)(d().Suspense,{fallback:"",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.J,I(I({onCloseRequest:function(e){return e.target!==v.current&&m(!1)}},g?{right:5.5}:{left:-5.5}),{},{children:(0,a.jsx)(O,{options:i,value:n,label:r,onChange:o,onClose:function(){var e;m(!1),null===(e=v.current)||void 0===e||e.focus()}})})),(0,a.jsx)("div",{className:"picker-triangle"})]}):null})]})}var N=n(3646),P=n(2335),M=n(1047),L=n(1935),R=n(5710),Z=n(1974),F=n(6954),U=n(75),z=n(8120),B=n(6340),V=n(7901);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(0,B.xn)((0,U.eD)(e,t,r));return e.map((function(e){var r;return i.get(e.id)||e.id===(null===(r=t.editingElement)||void 0===r?void 0:r.id)?n(e):e}))},G=function(e,t,n,r){var i,o,a=t.editingElement,s=(0,M.Lm)(e);return null!==(i=null!==(o=a&&n(a))&&void 0!==o?o:(0,U.N)(s,t)?(0,U.PR)(s,t,n):r)&&void 0!==i?i:null},Y=function(e,t,n,i){var o=new Set;return{elements:q(e,t,(function(e){if((0,M.iB)(e)){var t=n(e);o.add(t);var r=(0,L.BE)(e,{fontSize:t});return(0,M.oN)(r,(0,R.tl)(e)),i=e,a=r,(0,Z.Xh)(a)?a:(0,L.DR)(a,{x:"left"===i.textAlign?i.x:i.x+(i.width-a.width)/("center"===i.textAlign?2:1),y:i.y+(i.height-a.height)/2},!1)}var i,a;return e}),!0),appState:H(H({},t),{},{currentItemFontSize:1===o.size?(0,r.Z)(o)[0]:null!=i?i:t.currentItemFontSize}),commitToHistory:!0}},K=((0,V.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(e,t,n){return H(H({},n.currentItemStrokeColor&&{elements:q(e,t,(function(e){return(0,z.PD)(e.type)?(0,L.BE)(e,{strokeColor:n.currentItemStrokeColor}):e}),!0)}),{},{appState:H(H({},t),n),commitToHistory:!!n.currentItemStrokeColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{"aria-hidden":"true",children:(0,A.t)("labels.stroke")}),(0,a.jsx)(c.z,{type:"elementStroke",label:(0,A.t)("labels.stroke"),color:G(t,n,(function(e){return e.strokeColor}),n.currentItemStrokeColor),onChange:function(e){return r({currentItemStrokeColor:e})},isActive:"strokeColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"strokeColorPicker":null})},elements:t,appState:n})]})}}),(0,V.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(e,t,n){return H(H({},n.currentItemBackgroundColor&&{elements:q(e,t,(function(e){return(0,L.BE)(e,{backgroundColor:n.currentItemBackgroundColor})}))}),{},{appState:H(H({},t),n),commitToHistory:!!n.currentItemBackgroundColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{"aria-hidden":"true",children:(0,A.t)("labels.background")}),(0,a.jsx)(c.z,{type:"elementBackground",label:(0,A.t)("labels.background"),color:G(t,n,(function(e){return e.backgroundColor}),n.currentItemBackgroundColor),onChange:function(e){return r({currentItemBackgroundColor:e})},isActive:"backgroundColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"backgroundColorPicker":null})},elements:t,appState:n})]})}}),(0,V.z)({name:"changeFillStyle",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){return(0,L.BE)(e,{fillStyle:n})})),appState:H(H({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.fill")}),(0,a.jsx)(s,{options:[{value:"hachure",text:(0,A.t)("labels.hachure"),icon:N.a0},{value:"cross-hatch",text:(0,A.t)("labels.crossHatch"),icon:N.np},{value:"solid",text:(0,A.t)("labels.solid"),icon:N.X7}],group:"fill",value:G(t,n,(function(e){return e.fillStyle}),n.currentItemFillStyle),onChange:function(e){r(e)}})]})}}),(0,V.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){return(0,L.BE)(e,{strokeWidth:n})})),appState:H(H({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.strokeWidth")}),(0,a.jsx)(s,{group:"stroke-width",options:[{value:1,text:(0,A.t)("labels.thin"),icon:N.ZA},{value:2,text:(0,A.t)("labels.bold"),icon:N.Wl},{value:4,text:(0,A.t)("labels.extraBold"),icon:N.m9}],value:G(t,n,(function(e){return e.strokeWidth}),n.currentItemStrokeWidth),onChange:function(e){return r(e)}})]})}}),(0,V.z)({name:"changeSloppiness",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){return(0,L.BE)(e,{seed:(0,F.LU)(),roughness:n})})),appState:H(H({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.sloppiness")}),(0,a.jsx)(s,{group:"sloppiness",options:[{value:0,text:(0,A.t)("labels.architect"),icon:N.bf},{value:1,text:(0,A.t)("labels.artist"),icon:N.kM},{value:2,text:(0,A.t)("labels.cartoonist"),icon:N.W2}],value:G(t,n,(function(e){return e.roughness}),n.currentItemRoughness),onChange:function(e){return r(e)}})]})}}),(0,V.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){return(0,L.BE)(e,{strokeStyle:n})})),appState:H(H({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.strokeStyle")}),(0,a.jsx)(s,{group:"strokeStyle",options:[{value:"solid",text:(0,A.t)("labels.strokeStyle_solid"),icon:N.ZA},{value:"dashed",text:(0,A.t)("labels.strokeStyle_dashed"),icon:N.a5},{value:"dotted",text:(0,A.t)("labels.strokeStyle_dotted"),icon:N.aT}],value:G(t,n,(function(e){return e.strokeStyle}),n.currentItemStrokeStyle),onChange:function(e){return r(e)}})]})}}),(0,V.z)({name:"changeOpacity",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){return(0,L.BE)(e,{opacity:n})}),!0),appState:H(H({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,i=e.updateData;return(0,a.jsxs)("label",{className:"control-label",children:[(0,A.t)("labels.opacity"),(0,a.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(e){return i(+e.target.value)},value:null!==(t=G(n,r,(function(e){return e.opacity}),r.currentItemOpacity))&&void 0!==t?t:void 0})]})}}),(0,V.z)({name:"changeFontSize",trackEvent:!1,perform:function(e,t,n){return Y(e,t,(function(){return n}),n)},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.fontSize")}),(0,a.jsx)(s,{group:"font-size",options:[{value:16,text:(0,A.t)("labels.small"),icon:N.q0,testId:"fontSize-small"},{value:20,text:(0,A.t)("labels.medium"),icon:N.nq,testId:"fontSize-medium"},{value:28,text:(0,A.t)("labels.large"),icon:N.tW,testId:"fontSize-large"},{value:36,text:(0,A.t)("labels.veryLarge"),icon:N.OA,testId:"fontSize-veryLarge"}],value:G(t,n,(function(e){if((0,M.iB)(e))return e.fontSize;var t=(0,R.WJ)(e);return t?t.fontSize:null}),n.currentItemFontSize||P.n5),onChange:function(e){return r(e)}})]})}}),(0,V.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(e,t,n){return Y(e,t,(function(e){return Math.round(1/1.1*e.fontSize)}))},keyTest:function(e){return e[j.tW.CTRL_OR_CMD]&&e.shiftKey&&(e.key===j.tW.CHEVRON_LEFT||e.key===j.tW.COMMA)}})),Q=(0,V.z)({name:"increaseFontSize",trackEvent:!1,perform:function(e,t,n){return Y(e,t,(function(e){return Math.round(1.1*e.fontSize)}))},keyTest:function(e){return e[j.tW.CTRL_OR_CMD]&&e.shiftKey&&(e.key===j.tW.CHEVRON_RIGHT||e.key===j.tW.PERIOD)}});(0,V.z)({name:"changeFontFamily",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){if((0,M.iB)(e)){var t=(0,L.BE)(e,{fontFamily:n});return(0,M.oN)(t,(0,R.tl)(e)),t}return e}),!0),appState:H(H({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=[{value:P.ut.Virgil,text:(0,A.t)("labels.handDrawn"),icon:N.Pm},{value:P.ut.Helvetica,text:(0,A.t)("labels.normal"),icon:N.vo},{value:P.ut.Cascadia,text:(0,A.t)("labels.code"),icon:N.z6}];return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.fontFamily")}),(0,a.jsx)(s,{group:"font-family",options:i,value:G(t,n,(function(e){if((0,M.iB)(e))return e.fontFamily;var t=(0,R.WJ)(e);return t?t.fontFamily:null}),n.currentItemFontFamily||P.rk),onChange:function(e){return r(e)}})]})}}),(0,V.z)({name:"changeTextAlign",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){if((0,M.iB)(e)){var t=(0,L.BE)(e,{textAlign:n});return(0,M.oN)(t,(0,R.tl)(e)),t}return e}),!0),appState:H(H({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.textAlign")}),(0,a.jsx)(s,{group:"text-align",options:[{value:"left",text:(0,A.t)("labels.left"),icon:N.rr},{value:"center",text:(0,A.t)("labels.center"),icon:N.o3},{value:"right",text:(0,A.t)("labels.right"),icon:N.oT}],value:G(t,n,(function(e){if((0,M.iB)(e))return e.textAlign;var t=(0,R.WJ)(e);return t?t.textAlign:null}),n.currentItemTextAlign),onChange:function(e){return r(e)}})]})}}),(0,V.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(e,t,n){return{elements:q(e,t,(function(e){if((0,M.iB)(e)){var t=(0,L.BE)(e,{verticalAlign:n});return(0,M.oN)(t,(0,R.tl)(e)),t}return e}),!0),appState:H({},t),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,a.jsx)("fieldset",{children:(0,a.jsx)(s,{group:"text-align",options:[{value:P.oX.TOP,text:(0,A.t)("labels.alignTop"),icon:(0,a.jsx)(N.EO,{theme:n.theme}),testId:"align-top"},{value:P.oX.MIDDLE,text:(0,A.t)("labels.centerVertically"),icon:(0,a.jsx)(N.P7,{theme:n.theme}),testId:"align-middle"},{value:P.oX.BOTTOM,text:(0,A.t)("labels.alignBottom"),icon:(0,a.jsx)(N.aA,{theme:n.theme}),testId:"align-bottom"}],value:G(t,n,(function(e){if((0,M.iB)(e)&&e.containerId)return e.verticalAlign;var t=(0,R.WJ)(e);return t?t.verticalAlign:null})),onChange:function(e){return r(e)}})})}}),(0,V.z)({name:"changeRoundness",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){return(0,L.BE)(e,{roundness:"round"===n?{type:(0,Z.QI)(e.type)?P.a6.ADAPTIVE_RADIUS:P.a6.PROPORTIONAL_RADIUS}:null})})),appState:H(H({},t),{},{currentItemRoundness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,U.Zs)((0,M.Lm)(t),n).some((function(e){var t;return(null===(t=e.roundness)||void 0===t?void 0:t.type)===P.a6.LEGACY}));return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.edges")}),(0,a.jsx)(s,{group:"edges",options:[{value:"sharp",text:(0,A.t)("labels.sharp"),icon:N.wr},{value:"round",text:(0,A.t)("labels.round"),icon:N.DS}],value:G(t,n,(function(e){return i?null:e.roundness?"round":"sharp"}),(0,U.sh)(n.activeTool.type)&&n.currentItemRoundness||null),onChange:function(e){return r(e)}})]})}}),(0,V.z)({name:"changeArrowhead",trackEvent:!1,perform:function(e,t,n){return{elements:q(e,t,(function(e){if((0,Z.bt)(e)){var t=n.position,r=n.type;if("start"===t)return(0,L.BE)(e,{startArrowhead:r});if("end"===t)return(0,L.BE)(e,{endArrowhead:r})}return e})),appState:H(H({},t),{},(0,i.Z)({},"start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,A.G3)().rtl;return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,A.t)("labels.arrowheads")}),(0,a.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,a.jsx)(D,{label:"arrowhead_start",options:[{value:null,text:(0,A.t)("labels.arrowhead_none"),icon:N.fr,keyBinding:"q"},{value:"arrow",text:(0,A.t)("labels.arrowhead_arrow"),icon:(0,a.jsx)(N.il,{flip:!i}),keyBinding:"w"},{value:"bar",text:(0,A.t)("labels.arrowhead_bar"),icon:(0,a.jsx)(N.m,{flip:!i}),keyBinding:"e"},{value:"dot",text:(0,A.t)("labels.arrowhead_dot"),icon:(0,a.jsx)(N.tn,{flip:!i}),keyBinding:"r"},{value:"triangle",text:(0,A.t)("labels.arrowhead_triangle"),icon:(0,a.jsx)(N.j8,{flip:!i}),keyBinding:"t"}],value:G(t,n,(function(e){return(0,Z.bt)(e)&&(0,U.Un)(e.type)?e.startArrowhead:n.currentItemStartArrowhead}),n.currentItemStartArrowhead),onChange:function(e){return r({position:"start",type:e})}}),(0,a.jsx)(D,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,A.t)("labels.arrowhead_none"),keyBinding:"q",icon:N.fr},{value:"arrow",text:(0,A.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,a.jsx)(N.il,{flip:i})},{value:"bar",text:(0,A.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,a.jsx)(N.m,{flip:i})},{value:"dot",text:(0,A.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,a.jsx)(N.tn,{flip:i})},{value:"triangle",text:(0,A.t)("labels.arrowhead_triangle"),icon:(0,a.jsx)(N.j8,{flip:i}),keyBinding:"t"}],value:G(t,n,(function(e){return(0,Z.bt)(e)&&(0,U.Un)(e.type)?e.endArrowhead:n.currentItemEndArrowhead}),n.currentItemEndArrowhead),onChange:function(e){return r({position:"end",type:e})}})]})]})}})},7901:function(e,t,n){"use strict";n.d(t,{N:function(){return r},z:function(){return i}});var r=[],i=function(e){return r=r.concat(e),e}},785:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var r=n(5202),i=n(6066),o=n(6340),a={toggleTheme:[(0,o.uY)("Shift+Alt+D")],saveScene:[(0,o.uY)("CtrlOrCmd+S")],loadScene:[(0,o.uY)("CtrlOrCmd+O")],imageExport:[(0,o.uY)("CtrlOrCmd+Shift+E")],cut:[(0,o.uY)("CtrlOrCmd+X")],copy:[(0,o.uY)("CtrlOrCmd+C")],paste:[(0,o.uY)("CtrlOrCmd+V")],copyStyles:[(0,o.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,o.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,o.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,o.uY)("Delete")],duplicateSelection:[(0,o.uY)("CtrlOrCmd+D"),(0,o.uY)("Alt+".concat((0,r.t)("helpDialog.drag")))],sendBackward:[(0,o.uY)("CtrlOrCmd+[")],bringForward:[(0,o.uY)("CtrlOrCmd+]")],sendToBack:[i.Um?(0,o.uY)("CtrlOrCmd+Alt+["):(0,o.uY)("CtrlOrCmd+Shift+[")],bringToFront:[i.Um?(0,o.uY)("CtrlOrCmd+Alt+]"):(0,o.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,o.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,o.uY)("CtrlOrCmd+G")],ungroup:[(0,o.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,o.uY)("CtrlOrCmd+'")],zenMode:[(0,o.uY)("Alt+Z")],stats:[(0,o.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,o.uY)("Shift+H")],flipVertical:[(0,o.uY)("Shift+V")],viewMode:[(0,o.uY)("Alt+R")],hyperlink:[(0,o.uY)("CtrlOrCmd+K")],toggleLock:[(0,o.uY)("CtrlOrCmd+Shift+L")]},s=function(e){var t=a[e];return t&&t.length>0?t[0]:""}},7047:function(e,t,n){"use strict";var r,i;n.d(t,{L:function(){return o}});var o="undefined"!=typeof process&&null!==(r={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@dwelle/excalidraw",PKG_VERSION:"0.4.0-b1b5aaa",IS_EXCALIDRAW_NPM_PACKAGE:!0})&&void 0!==r&&r.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(e,t,n,r){try{window.gtag("event",t,{event_category:e,event_label:n,value:r})}catch(e){console.error("error logging to ga",e)}}:("undefined"!=typeof process&&null!==(i={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@dwelle/excalidraw",PKG_VERSION:"0.4.0-b1b5aaa",IS_EXCALIDRAW_NPM_PACKAGE:!0})&&void 0!==i&&i.JEST_WORKER_ID,function(e,t,n,r){})},8897:function(e,t,n){"use strict";n.d(t,{EN:function(){return p},eS:function(){return h},fx:function(){return d},im:function(){return c},s:function(){return f}});var r=n(5284),i=n(2335),o=n(5202),a=n(6340),s=i.ZB.includes(devicePixelRatio)?devicePixelRatio:1,c=function(){return{showWelcomeScreen:!1,theme:i.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:i.rk,currentItemFontSize:i.n5,currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:r.black,currentItemRoundness:"round",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:i.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:!1,lastActiveToolBeforeEraser:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:s,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isSidebarDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,o.t)("labels.untitled"),"-").concat((0,a.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toast:null,viewBackgroundColor:r.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null}},u={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isSidebarDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1}},l=function(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r],a=u[o];if(null!=a&&a[t]){var s=e[o];n[o]=s}}return n},d=function(e){return l(e,"browser")},f=function(e){return l(e,"export")},h=function(e){return l(e,"server")},p=function(e){return"eraser"===e.activeTool.type}},5674:function(e,t,n){"use strict";n.d(t,{dz:function(){return _},i$:function(){return y},ps:function(){return j}});var r=n(1930),i=n(7169),o=n(2577),a=n(56),s=n(2335),c=n(1047),u=n(6954);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=32,m=12,v=256,g="NOT_SPREADSHEET",y="VALID_SPREADSHEET",b=function(e){var t=/^([-+]?)[$\u20ac\xa3\xa5\u20a9]?([-+]?)([\d.,]+)[%]?$/.exec(e);return t?parseFloat("".concat((t[1]||t[2])+t[3]).replace(/,/g,"")):null},w=function(e,t){return e.slice(1).every((function(e){return null!==b(e[t])}))},x=function(e){var t=e[0].length;if(t>2)return{type:g,reason:"More than 2 columns"};if(1===t){if(!w(e,0))return{type:g,reason:"Value is not numeric"};var n=null===b(e[0][0]),r=(n?e.slice(1):e).map((function(e){return b(e[0])}));return r.length<2?{type:g,reason:"Less than two rows"}:{type:y,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var i=w(e,0),a=w(e,1);if(!i&&!a)return{type:g,reason:"Value is not numeric"};var s=a?[0,1]:[1,0],c=(0,o.Z)(s,2),u=c[0],l=c[1],d=null===b(e[0][l]),f=d?e.slice(1):e;return f.length<2?{type:g,reason:"Less than 2 rows"}:{type:y,spreadsheet:{title:d?e[0][l]:null,labels:f.map((function(e){return e[u]})),values:f.map((function(e){return b(e[l])}))}}},_=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(t.length&&2!==t[0].length&&(t=e.trim().split("\n").map((function(e){return e.trim().split(",")}))),0===t.length)return{type:g,reason:"No values"};var n=t[0].length;if(!t.every((function(e){return e.length===n})))return{type:g,reason:"All rows don't have same number of columns"};var r=x(t);if(r.type!==y){var i=x(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],i=0;i<e.length;i++)r.push(e[i][n]);t.push(r)}return t}(t));if(i.type===y)return i}return r},E=a.Z.elementBackground.slice(2,a.Z.elementBackground.length),k={fillStyle:"hachure",fontFamily:s.rk,fontSize:s.n5,opacity:100,roughness:1,strokeColor:a.Z.elementStroke[0],roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:s.oX.MIDDLE,locked:!1},C=function(e){return{chartWidth:44*e.values.length+m,chartHeight:280}},S=function(e,t,n,i,o,u){var l=C(e),d=l.chartWidth,f=l.chartHeight,g=e.title?(0,c.VL)(h(h({backgroundColor:o,groupIds:[i]},k),{},{text:e.title,x:t+d/2,y:n-v-24-s.n5,roundness:null,strokeStyle:"solid",textAlign:"center"})):null,y=u?(0,c.Up)(h(h({backgroundColor:o,groupIds:[i]},k),{},{type:"rectangle",x:t,y:n-f,width:d,height:f,strokeColor:a.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,r.Z)(y?[y]:[]),(0,r.Z)(g?[g]:[]),(0,r.Z)(function(e,t,n,r,i){var o;return(null===(o=e.labels)||void 0===o?void 0:o.map((function(e,o){return(0,c.VL)(h(h({groupIds:[r],backgroundColor:i},k),{},{text:e.length>8?"".concat(e.slice(0,5),"..."):e,x:t+44*o+24,y:n+6,width:p,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))})))||[]}(e,t,n,i,o)),(0,r.Z)(function(e,t,n,i,o){var a=(0,c.VL)(h(h({groupIds:[i],backgroundColor:o},k),{},{x:t-m,y:n-m,text:"0",textAlign:"right"}));return[a,(0,c.VL)(h(h({groupIds:[i],backgroundColor:o},k),{},{x:t-m,y:n-v-a.height/2,text:Math.max.apply(Math,(0,r.Z)(e.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,i,o)),(0,r.Z)(function(e,t,n,r,i){var o=C(e),a=o.chartWidth,s=o.chartHeight;return[(0,c.y8)(h(h({backgroundColor:i,groupIds:[r]},k),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,width:a,points:[[0,0],[a,0]]})),(0,c.y8)(h(h({backgroundColor:i,groupIds:[r]},k),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,height:s,points:[[0,0],[0,-s]]})),(0,c.y8)(h(h({backgroundColor:i,groupIds:[r]},k),{},{type:"line",x:t,y:n-v-m,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:a,opacity:50,points:[[0,0],[a,0]]}))]}(e,t,n,i,o)))},j=function(e,t,n,i){return"line"===e?function(e,t,n){var i,o=Math.max.apply(Math,(0,r.Z)(e.values)),a=(0,u.kb)(),d=E[Math.floor(Math.random()*E.length)],f=0,p=[],g=l(e.values);try{for(g.s();!(i=g.n()).done;){var y=i.value,b=44*f,w=-y/o*v;p.push([b,w]),f++}}catch(e){g.e(e)}finally{g.f()}var x=Math.max.apply(Math,(0,r.Z)(p.map((function(e){return e[0]})))),_=Math.max.apply(Math,(0,r.Z)(p.map((function(e){return e[1]})))),C=Math.min.apply(Math,(0,r.Z)(p.map((function(e){return e[0]})))),j=Math.min.apply(Math,(0,r.Z)(p.map((function(e){return e[1]})))),A=(0,c.y8)(h(h({backgroundColor:d,groupIds:[a]},k),{},{type:"line",x:t+m+16,y:n-m,startArrowhead:null,endArrowhead:null,height:_-j,width:x-C,strokeWidth:2,points:p})),T=e.values.map((function(e,r){var i=44*r+6,s=-e/o*v+6;return(0,c.Up)(h(h({backgroundColor:d,groupIds:[a]},k),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+i+16,y:n+s-24,width:m,height:m}))})),I=e.values.map((function(e,r){var i=44*r+6,s=e/o*v+6+m;return(0,c.y8)(h(h({backgroundColor:d,groupIds:[a]},k),{},{type:"line",x:t+i+16+6,y:n-s,startArrowhead:null,endArrowhead:null,height:s,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,s]]}))}));return[].concat((0,r.Z)(S(e,t,n,a,d,"production"===s.Vi.DEVELOPMENT)),[A],(0,r.Z)(I),(0,r.Z)(T))}(t,n,i):function(e,t,n){var i=Math.max.apply(Math,(0,r.Z)(e.values)),o=(0,u.kb)(),a=E[Math.floor(Math.random()*E.length)],l=e.values.map((function(e,r){var s=e/i*v;return(0,c.Up)(h(h({backgroundColor:a,groupIds:[o]},k),{},{type:"rectangle",x:t+44*r+m,y:n-s-m,width:p,height:s}))}));return[].concat((0,r.Z)(l),(0,r.Z)(S(e,t,n,o,a,"production"===s.Vi.DEVELOPMENT)))}(t,n,i)}},8982:function(e,t,n){"use strict";n.d(t,{X:function(){return i},f:function(){return o}});var r=n(56),i=function(e,t){if(null!=t&&t.collaborators){var n=t.collaborators.get(e);if(null!=n&&n.color)return n.color}var i=e.split("").reduce((function(e,t){return e+t.charCodeAt(0)}),0),o=r.Z.elementBackground.slice(3),a=r.Z.elementStroke.slice(3);return{background:o[i%o.length],stroke:a[i%a.length]}},o=function(e){return e?e.trim()[0].toUpperCase():"?"}},6665:function(e,t,n){"use strict";n.d(t,{dd:function(){return S},mQ:function(){return k},uR:function(){return C},vQ:function(){return w},vt:function(){return y},wx:function(){return g}});var r=n(7169),i=n(8950),o=n(2975),a=n.n(o),s=n(4162),c=n(5674),u=n(2335),l=n(1974),d=n(6340);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="",m=!1,v="clipboard"in navigator&&"readText"in navigator.clipboard,g="clipboard"in navigator&&"writeText"in navigator.clipboard,y="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,b=function(e){return!(![u.r8.excalidraw,u.r8.excalidrawClipboard].includes(null==e?void 0:e.type)||!Array.isArray(e.elements))},w=function(){var e=(0,i.Z)(a().mark((function e(t,n,r){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={type:u.r8.excalidrawClipboard,elements:t,files:r?t.reduce((function(e,t){return(0,l.wi)(t)&&r[t.fileId]&&(e[t.fileId]=r[t.fileId]),e}),{}):void 0},o=JSON.stringify(i),p=o,e.prev=3,m=!1,e.next=7,S(o);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),m=!0,console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),x=function(){if(!p)return{};try{return JSON.parse(p)}catch(e){return console.error(e),{}}},_=function(e){var t=(0,c.dz)(e);return t.type===c.i$?{spreadsheet:t.spreadsheet}:null},E=function(){var e=(0,i.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}e.t0=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain"),e.next=11;break;case 5:if(e.t1=v,!e.t1){e.next=10;break}return e.next=9,navigator.clipboard.readText();case 9:e.t1=e.sent;case 10:e.t0=e.t1;case 11:return r=e.t0,e.abrupt("return",(r||"").trim());case 15:return e.prev=15,e.t2=e.catch(0),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,i.Z)(a().mark((function e(t){var n,r,i,o,c,u=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],e.next=3,E(t);case 3:if((r=e.sent)&&(n||!r.includes(s.oj))){e.next=6;break}return e.abrupt("return",x());case 6:if(!(i=!n&&_(r))){e.next=9;break}return e.abrupt("return",i);case 9:if(o=x(),e.prev=10,c=JSON.parse(r),!b(c)){e.next=14;break}return e.abrupt("return",{elements:c.elements,files:c.files,text:n?JSON.stringify(c.elements,null,2):void 0});case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(10);case 18:return e.abrupt("return",m&&o.elements?h(h({},o),{},{text:n?JSON.stringify(o.elements,null,2):void 0}):{text:r});case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,i.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=navigator.clipboard.write([new window.ClipboardItem((0,r.Z)({},u.LO.png,t))]),e.next=23;break;case 4:if(e.prev=4,e.t0=e.catch(0),!(0,d.y8)(t)){e.next=22;break}return e.t1=navigator.clipboard,e.t2=window.ClipboardItem,e.t3=r.Z,e.t4={},e.t5=u.LO.png,e.next=14,t;case 14:return e.t6=e.sent,e.t7=(0,e.t3)(e.t4,e.t5,e.t6),e.t8=new e.t2(e.t7),e.t9=[e.t8],e.next=20,e.t1.write.call(e.t1,e.t9);case 20:e.next=23;break;case 22:throw e.t0;case 23:return e.next=25,n;case 25:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,i.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!g){e.next=11;break}return e.prev=2,e.next=5,navigator.clipboard.writeText(t||"");case 5:n=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:if(n||j(t||" ")){e.next=13;break}throw new Error("couldn't copy");case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var i=!1;try{n.select(),n.setSelectionRange(0,n.value.length),i=document.execCommand("copy")}catch(e){console.error(e)}return n.remove(),i}},56:function(e,t,n){"use strict";var r=n(1930),i=n(5284),o=function(e){return[i.red[e],i.pink[e],i.grape[e],i.violet[e],i.indigo[e],i.blue[e],i.cyan[e],i.teal[e],i.green[e],i.lime[e],i.yellow[e],i.orange[e]]};t.Z={canvasBackground:[i.white,i.gray[0],i.gray[1]].concat((0,r.Z)(o(0))),elementBackground:["transparent",i.gray[4],i.gray[6]].concat((0,r.Z)(o(6))),elementStroke:[i.black,i.gray[8],i.gray[7]].concat((0,r.Z)(o(9)))}},8149:function(e,t,n){"use strict";n.d(t,{ZP:function(){return wa},qx:function(){return Wo},Dh:function(){return Vo},Fy:function(){return Go},gF:function(){return ea},J0:function(){return Ko},bd:function(){return Jo},n9:function(){return ta}});var r=n(6655),i=n(2577),o=n(1930),a=n(8950),s=n(8821),c=n(5169),u=n(3173),l=n(2248),d=n(7245),f=n(2312),h=n(7169),p=n(2975),m=n.n(p),v=n(9787),g=n.n(v),y=n(5156),b=n(8234),w=n(45),x=n(5605),_=n(75),E=n(6066),k=n(1319),C=n(5202),S=n(7901),j=n(1047),A=n(1935),T=n(242),I=n(6938),O=n(8290),D=n(1974),N=n(6340),P=n(3646),M=n(4512);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e,t){if(e.editingGroupId){var n=(0,T.Fb)((0,j.Lm)(t),e.editingGroupId);if(n.length)return R(R({},e),{},{selectedElementIds:(0,h.Z)({},n[0].id,!0)})}return e},F=(0,S.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.elementId,i=n.selectedPointsIndices,o=n.startBindingElement,a=n.endBindingElement,s=I._.getElement(r);if(!s)return!1;if(null==i)return!1;if(s.points.length<2){var c=e.map((function(e){return e.id===s.id?(0,A.BE)(e,{isDeleted:!0}):e}));return{elements:c,appState:R(R({},Z(t,c)),{},{editingLinearElement:null}),commitToHistory:!1}}var u={startBindingElement:null!=i&&i.includes(0)?null:o,endBindingElement:null!=i&&i.includes(s.points.length-1)?null:a};return I._.deletePoints(s,i),{elements:e,appState:R(R({},t),{},{editingLinearElement:R(R(R({},t.editingLinearElement),u),{},{selectedPointsIndices:(null==i?void 0:i[0])>0?[i[0]-1]:[0]})}),commitToHistory:!0}}var l=function(e,t){return{elements:e.map((function(e){return t.selectedElementIds[e.id]||(0,D.Xh)(e)&&t.selectedElementIds[e.containerId]?(0,A.BE)(e,{isDeleted:!0}):e})),appState:R(R({},t),{},{selectedElementIds:{}})}}(e,t),d=l.elements,f=l.appState;return(0,O.$q)(d,e.filter((function(e){var n=e.id;return t.selectedElementIds[n]}))),{elements:d,appState:R(R({},f=Z(f,d)),{},{activeTool:(0,N.Om)(t,{type:"selection"}),multiElement:null}),commitToHistory:(0,_.N)((0,j.Lm)(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e){return e.key===E.tW.BACKSPACE||e.key===E.tW.DELETE},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{type:"button",icon:P.XH,title:(0,C.t)("labels.delete"),"aria-label":(0,C.t)("labels.delete"),onClick:function(){return r(null)},visible:(0,_.N)((0,j.Lm)(t),n)})}}),U=n(1564),z=function(e,t){for(var n=[],r=[],i=null,o=-1,a=(0,N.xn)((0,_.eD)(e,t,!0));++o<e.length;)a.get(e[o].id)?(r.length&&(n=n.concat(r),r=[]),n.push(o),i=o+1):e[o].isDeleted&&i===o?(i=o+1,r.push(o)):r=[];return n},B=function(e,t,n){if("containerId"in e&&e.containerId){if("left"!==n)return t.indexOf(e);var r=U.Z.getScene(e).getElement(e.containerId);if(r)return t.indexOf(r)}else{var i,o,a=null===(i=e.boundElements)||void 0===i||null===(o=i.find((function(e){return"arrow"!==e.type})))||void 0===o?void 0:o.id;if(a){if("left"===n)return t.indexOf(e);var s=U.Z.getScene(e).getElement(a);if(s)return t.indexOf(s)}}},V=function(e,t){return t.reduce((function(t,n){var r=e[n];return t[r.id]=r,t}),{})},W=function(e,t,n){var r,i,a=z(t,e),s=V(t,a),c=(i=0,(r=a).reduce((function(e,t,n){return n>0&&r[n-1]!==t-1&&(i=++i),(e[i]||(e[i]=[])).push(t),e}),[]));return"right"===n&&(c=c.reverse()),c.forEach((function(r,i){var a=r[0],s=r[r.length-1],c="left"===n?a:s,u=function(e,t,n,r){var i,o=t[n],a=function(t){return!t.isDeleted&&(!e.editingGroupId||t.groupIds.includes(e.editingGroupId))},s="left"===r?(0,N.qr)(t,a,Math.max(0,n-1)):(0,N.cx)(t,a,n+1),c=t[s];if(!c)return-1;if(e.editingGroupId){var u;if((null==o?void 0:o.groupIds.join(""))===(null==c?void 0:c.groupIds.join("")))return null!==(u=B(c,t,r))&&void 0!==u?u:s;if(null==c||!c.groupIds.includes(e.editingGroupId))return-1}if(!c.groupIds.length)return null!==(i=B(c,t,r))&&void 0!==i?i:s;var l=e.editingGroupId?c.groupIds[c.groupIds.indexOf(e.editingGroupId)-1]:c.groupIds[c.groupIds.length-1],d=(0,T.Fb)(t,l);return d.length?"left"===r?t.indexOf(d[0]):t.indexOf(d[d.length-1]):s}(e,t,c,n);if(-1!==u&&c!==u){var l="left"===n?t.slice(0,u):t.slice(0,a),d=t.slice(a,s+1),f="left"===n?t.slice(u,a):t.slice(s+1,u+1),h="left"===n?t.slice(s+1):t.slice(u+1);t="left"===n?[].concat((0,o.Z)(l),(0,o.Z)(d),(0,o.Z)(f),(0,o.Z)(h)):[].concat((0,o.Z)(l),(0,o.Z)(f),(0,o.Z)(d),(0,o.Z)(h))}})),t.map((function(e){return s[e.id]?(0,A.ZP)(e):e}))},H=function(e,t,n){var r,i,a=z(e,t),s=V(e,a),c=[];if("left"===n){if(t.editingGroupId){var u=(0,T.Fb)(e,t.editingGroupId);if(!u.length)return e;r=e.indexOf(u[0])}else r=0;i=a[a.length-1]}else{if(t.editingGroupId){var l=(0,T.Fb)(e,t.editingGroupId);if(!l.length)return e;i=e.indexOf(l[l.length-1])}else i=e.length-1;r=a[0]}for(var d=r;d<i+1;d++)a.includes(d)||c.push(e[d]);var f=Object.values(s).map((function(e){return(0,A.ZP)(e)})),h=e.slice(0,r),p=e.slice(i+1);return"left"===n?[].concat((0,o.Z)(h),(0,o.Z)(f),c,(0,o.Z)(p)):[].concat((0,o.Z)(h),c,(0,o.Z)(f),(0,o.Z)(p))},q=function(e,t){return W(t,e,"left")},G=function(e,t){return W(t,e,"right")},Y=function(e,t){return H(e,t,"left")},K=function(e,t){return H(e,t,"right")},Q=(0,S.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(e,t){return{elements:q(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===E.aU.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,M.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,C.t)("labels.sendBackward")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+[")),children:P.Gc})}}),X=(0,S.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(e,t){return{elements:G(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&!e.shiftKey&&e.code===E.aU.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,M.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,C.t)("labels.bringForward")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+]")),children:P.t5})}}),$=(0,S.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(e,t){return{elements:Y(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return E.Um?e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.BRACKET_LEFT:e[E.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===E.aU.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,M.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat((0,C.t)("labels.sendToBack")," \u2014 ").concat(E.Um?(0,N.uY)("CtrlOrCmd+Alt+["):(0,N.uY)("CtrlOrCmd+Shift+[")),children:P.pw})}}),J=(0,S.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(e,t){return{elements:K(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return E.Um?e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.BRACKET_RIGHT:e[E.tW.CTRL_OR_CMD]&&e.shiftKey&&e.code===E.aU.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,M.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat((0,C.t)("labels.bringToFront")," \u2014 ").concat(E.Um?(0,N.uY)("CtrlOrCmd+Alt+]"):(0,N.uY)("CtrlOrCmd+Shift+]")),children:P.IN})}});function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=(0,S.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(e,t,n,r){if(t.editingLinearElement)return!1;var i=e.reduce((function(e,t){return t.isDeleted||(0,j.iB)(t)&&t.containerId||t.locked||(e[t.id]=!0),e}),{});return{appState:(0,T.bO)(te(te({},t),{},{selectedLinearElement:1===Object.keys(i).length&&(0,D.bt)(e[0])?new I._(e[0],r.scene):null,editingGroupId:null,selectedElementIds:i}),(0,j.Lm)(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.key===E.tW.A}}),re=n(2335),ie=n(5710);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=(0,S.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(e,t){if(t.editingLinearElement){var n=I._.duplicateSelectedPoints(t);return!!n&&{elements:e,appState:n.appState,commitToHistory:!0}}return ae(ae({},ce(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.key===E.tW.D},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{type:"button",icon:P.NA,title:"".concat((0,C.t)("labels.duplicateSelection")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+D")),"aria-label":(0,C.t)("labels.duplicateSelection"),onClick:function(){return r(null)},visible:(0,_.N)((0,j.Lm)(t),n)})}}),ce=function(e,t){for(var n=new Map,r=[],i=[],a=new Map,s=function(e){var o=(0,j.Sy)(t.editingGroupId,n,e,{x:e.x+re.k/2,y:e.y+re.k/2});return a.set(e.id,o.id),i.push(e),r.push(o),o},c=[],u=0,l=(0,N.xn)((0,_.eD)(e,t,!0));u<e.length;){var d=e[u];if(l.get(d.id)){if(d.groupIds.length){var f=(0,T.yO)(t,d);if(f){var h=(0,T.Fb)(e,f);c.push.apply(c,(0,o.Z)(h).concat((0,o.Z)(h.map((function(e){return s(e)}))))),u+=h.length;continue}}c.push(d,s(d))}else c.push(d);u++}return(0,ie.P7)(c,i,a),(0,O.ek)(c,i,a),{elements:c,appState:(0,T.bO)(ae(ae({},t),{},{selectedGroupIds:{},selectedElementIds:r.reduce((function(e,t){return(0,D.Xh)(t)||(e[t.id]=!0),e}),{})}),(0,j.Lm)(c))}},ue=(n(6208),n(828),n(6552));function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=(0,S.z)({name:"finalize",trackEvent:!1,perform:function(e,t,n,r){var o,a=r.canvas,s=r.focusContainer,c=r.scene;if(t.editingLinearElement){var u=t.editingLinearElement,l=u.elementId,d=u.startBindingElement,f=u.endBindingElement,p=I._.getElement(l);if(p)return(0,D.Mn)(p)&&(0,O.HG)(p,d,f),{elements:p.points.length<2||(0,j.QD)(p)?e.filter((function(e){return e.id!==p.id})):void 0,appState:de(de({},t),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var m=e,v=t.pendingImageElementId&&c.getElement(t.pendingImageElementId);v&&(0,A.DR)(v,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&s();var g,y=t.multiElement?t.multiElement:"freedraw"===(null===(o=t.editingElement)||void 0===o?void 0:o.type)?t.editingElement:null;if(y){if("freedraw"!==y.type&&"touch"!==t.lastPointerDownWith){var b=y.points,w=y.lastCommittedPoint;w&&b[b.length-1]===w||(0,A.DR)(y,{points:y.points.slice(0,-1)})}(0,j.QD)(y)&&(m=m.slice(0,-1));var x=(0,ue.g6)(y.points,t.zoom.value);if(("line"===y.type||"freedraw"===y.type)&&x){var _=y.points,E=_[0];(0,A.DR)(y,{points:_.map((function(e,t){return t===_.length-1?[E[0],E[1]]:e}))})}if((0,D.Mn)(y)&&!x&&y.points.length>1){var k=I._.getPointAtIndexGlobalCoordinates(y,-1),C=(0,i.Z)(k,2),S=C[0],T=C[1];(0,O.R)(y,t,U.Z.getScene(y),{x:S,y:T})}t.activeTool.locked||"freedraw"===t.activeTool.type||(t.selectedElementIds[y.id]=!0)}return(t.activeTool.locked||"freedraw"===t.activeTool.type)&&y||(0,N.z8)(a),g="eraser"===t.activeTool.type?(0,N.Om)(t,de(de({},t.activeTool.lastActiveToolBeforeEraser||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,N.Om)(t,{type:"selection"}),{elements:m,appState:de(de({},t),{},{cursorButton:"up",activeTool:(t.activeTool.locked||"freedraw"===t.activeTool.type)&&y?t.activeTool:g,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:y&&!t.activeTool.locked&&"freedraw"!==t.activeTool.type?de(de({},t.selectedElementIds),{},(0,h.Z)({},y.id,!0)):t.selectedElementIds,selectedLinearElement:y&&(0,D.bt)(y)?new I._(y,c):t.selectedLinearElement,pendingImageElementId:null}),commitToHistory:"freedraw"===t.activeTool.type}},keyTest:function(e,t){return e.key===E.tW.ESCAPE&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||(e.key===E.tW.ESCAPE||e.key===E.tW.ENTER)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data;return(0,M.jsx)(k.V,{type:"button",icon:P.$c,title:(0,C.t)("buttons.done"),"aria-label":(0,C.t)("buttons.done"),onClick:n,visible:null!=t.multiElement,size:(null==r?void 0:r.size)||"medium"})}}),he=n(487),pe=n.n(he),me=n(631),ve=n.n(me),ge=n(2052),ye=n.n(ge),be=n(4010),we=n.n(be),xe=n(1469),_e=n.n(xe),Ee=n(9329),ke=n.n(Ee),Ce=n(6759),Se={};Se.styleTagTransform=ke(),Se.setAttributes=we(),Se.insert=ye().bind(null,"head"),Se.domAPI=ve(),Se.insertStyleElement=_e(),pe()(Ce.Z,Se),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;var je=n(532),Ae={};Ae.styleTagTransform=ke(),Ae.setAttributes=we(),Ae.insert=ye().bind(null,"head"),Ae.domAPI=ve(),Ae.insertStyleElement=_e(),pe()(je.Z,Ae),je.Z&&je.Z.locals&&je.Z.locals;var Te=function(e){var t=Ko().id,n=(0,v.useState)(e.value),r=(0,i.Z)(n,2),o=r[0],a=r[1];return(0,M.jsxs)("div",{className:"ProjectName",children:[(0,M.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label).concat(e.isNameEditable?"":":")}),e.isNameEditable?(0,M.jsx)("input",{type:"text",className:"TextInput",onBlur:function(t){(0,N.qz)(t.target);var n=t.target.value;n!==e.value&&e.onChange(n)},onKeyDown:function(e){if("Enter"===e.key){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},id:"".concat(t,"-filename"),value:o,onChange:function(e){return a(e.target.value)}}):(0,M.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(t,"-filename"),children:e.value})]})},Ie=(n(5422),n(1894)),Oe=function(e){var t=e.title||("dark"===e.value?(0,C.t)("buttons.lightMode"):(0,C.t)("buttons.darkMode"));return(0,M.jsx)(k.V,{type:"icon",icon:e.value===re.C6.LIGHT?De.MOON:De.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange(e.value===re.C6.DARK?re.C6.LIGHT:re.C6.DARK)},"data-testid":"toggle-dark-mode"})},De={SUN:(0,M.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,M.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,M.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,M.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},Ne=n(6665),Pe=n(4162),Me=n(434),Le=n(1393),Re=n(5523),Ze=function(){var e=(0,a.Z)(m().mark((function e(t,r,i,o,a){var s,c,u,l,d,f,h,p,v,g,y;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.exportBackground,c=a.exportPadding,u=void 0===c?re.qy:c,l=a.viewBackgroundColor,d=a.name,f=a.fileHandle,h=void 0===f?null:f,0!==r.length){e.next=3;break}throw new Error((0,C.t)("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==t&&"clipboard-svg"!==t){e.next=17;break}return e.next=6,(0,Pe.$D)(r,{exportBackground:s,exportWithDarkMode:i.exportWithDarkMode,viewBackgroundColor:l,exportPadding:u,exportScale:i.exportScale,exportEmbedScene:i.exportEmbedScene&&"svg"===t},o);case 6:if(p=e.sent,"svg"!==t){e.next=13;break}return e.next=10,(0,Le.NL)(new Blob([p.outerHTML],{type:re.LO.svg}),{description:"Export to SVG",name:d,extension:i.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:h});case 10:return e.abrupt("return",e.sent);case 13:if("clipboard-svg"!==t){e.next=17;break}return e.next=16,(0,Ne.dd)(p.outerHTML);case 16:return e.abrupt("return");case 17:return e.next=19,(0,Pe.NL)(r,i,o,{exportBackground:s,viewBackgroundColor:l,exportPadding:u});case 19:if((v=e.sent).style.display="none",document.body.appendChild(v),"png"!==t){e.next=38;break}return e.next=25,(0,Me._c)(v);case 25:if(g=e.sent,v.remove(),!i.exportEmbedScene){e.next=33;break}return e.next=30,Promise.resolve().then(n.bind(n,673));case 30:return e.next=32,e.sent.encodePngMetadata({blob:g,metadata:(0,Re.I_)(r,i,o,"local")});case 32:g=e.sent;case 33:return e.next=35,(0,Le.NL)(g,{description:"Export to PNG",name:d,extension:i.exportEmbedScene?"excalidraw.png":"png",fileHandle:h});case 35:return e.abrupt("return",e.sent);case 38:if("clipboard"!==t){e.next=55;break}return e.prev=39,y=(0,Me._c)(v),e.next=43,(0,Ne.uR)(y);case 43:e.next=50;break;case 45:if(e.prev=45,e.t0=e.catch(39),"CANVAS_POSSIBLY_TOO_BIG"!==e.t0.name){e.next=49;break}throw e.t0;case 49:throw new Error((0,C.t)("alerts.couldNotCopyToClipboard"));case 50:return e.prev=50,v.remove(),e.finish(50);case 53:e.next=57;break;case 55:throw v.remove(),new Error("Unsupported export type");case 57:case"end":return e.stop()}}),e,null,[[39,45,50,53]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}();function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(){var e=(0,a.Z)(m().mark((function e(t,n,r){var i,o,a,s,c,u;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=n).exportBackground,a=i.viewBackgroundColor,s=i.name,c=i.fileHandle,u=(0,Me.Qk)(c),c&&(0,Me.DQ)(u)){e.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return n=Ue(Ue({},n),{},{exportEmbedScene:!0}),e.next=7,Ze(u,(0,j.Lm)(t),n,r,{exportBackground:o,viewBackgroundColor:a,name:s,fileHandle:c});case 7:return e.abrupt("return",{fileHandle:c});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Be=n(6029),Ve={};Ve.styleTagTransform=ke(),Ve.setAttributes=we(),Ve.insert=ye().bind(null,"head"),Ve.domAPI=ve(),Ve.insertStyleElement=_e(),pe()(Be.Z,Ve),Be.Z&&Be.Z.locals&&Be.Z.locals;var We=function(e){var t=e.children,n=e.checked,r=e.onChange,i=e.className;return(0,M.jsxs)("div",{className:(0,w.Z)("Checkbox",i,{"is-checked":n}),onClick:function(e){r(!n,e),e.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,M.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":n,children:P.eQ}),(0,M.jsx)("div",{className:"Checkbox-label",children:t})]})},He=n(785),qe=n(9135),Ge={};Ge.styleTagTransform=ke(),Ge.setAttributes=we(),Ge.insert=ye().bind(null,"head"),Ge.domAPI=ve(),Ge.insertStyleElement=_e(),pe()(qe.Z,Ge),qe.Z&&qe.Z.locals&&qe.Z.locals;var Ye=n(3202),Ke=function(e){e.fileName;var t=e.onSave;return(0,M.jsx)(Ye.Z,{label:"".concat((0,C.t)("buttons.save")),shortcut:(0,He.C)("saveScene"),dataTestId:"save-button",onClick:t,icon:P.a1})};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,S.z)({name:"changeProjectName",trackEvent:!1,perform:function(e,t,n){return{appState:Xe(Xe({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.appProps;return(0,M.jsx)(Te,{label:(0,C.t)("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(e){return n(e)},isNameEditable:void 0===r.name&&!t.viewModeEnabled})}}),(0,S.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(e,t,n){return{appState:Xe(Xe({},t),{},{exportScale:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,o=(0,j.Lm)(t),a=(0,_.N)(o,n)?(0,_.eD)(o,n):o;return(0,M.jsx)(M.Fragment,{children:re.ZB.map((function(e){var t=(0,Pe.Cg)(a,re.qy,e),o=(0,i.Z)(t,2),s=o[0],c=o[1],u="".concat((0,C.t)("buttons.scale")," ").concat(e,"x (").concat(s,"x").concat(c,")");return(0,M.jsx)(k.V,{size:"small",type:"radio",icon:"".concat(e,"x"),name:"export-canvas-scale",title:u,"aria-label":u,id:"export-canvas-scale",checked:e===n.exportScale,onChange:function(){return r(e)}},e)}))})}}),(0,S.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(e,t,n){return{appState:Xe(Xe({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,M.jsx)(We,{checked:t.exportBackground,onChange:function(e){return n(e)},children:(0,C.t)("labels.withBackground")})}}),(0,S.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(e,t,n){return{appState:Xe(Xe({},t),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,M.jsxs)(We,{checked:t.exportEmbedScene,onChange:function(e){return n(e)},children:[(0,C.t)("labels.exportEmbedScene"),(0,M.jsx)(Ie.u,{label:(0,C.t)("labels.exportEmbedScene_details"),long:!0,children:(0,M.jsx)("div",{className:"excalidraw-tooltip-icon",children:P.Vl})})]})}}),(0,S.z)({name:"saveToActiveFile",trackEvent:{category:"export"},perform:($e=(0,a.Z)(m().mark((function e(t,n,r,i){var o,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!!n.fileHandle,e.prev=1,!(0,Me.g8)(n.fileHandle)){e.next=8;break}return e.next=5,ze(t,n,i.files);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,Re.Um)(t,n,i.files);case 10:e.t0=e.sent;case 11:return a=e.t0,s=a.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:Xe(Xe({},n),{},{fileHandle:s,toast:o?{message:null!=s&&s.name?(0,C.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(s.name,'"')):(0,C.t)("toast.fileSaved")}:null})});case 16:return e.prev=16,e.t1=e.catch(1),"AbortError"!==(null===e.t1||void 0===e.t1?void 0:e.t1.name)?console.error(e.t1):console.warn(e.t1),e.abrupt("return",{commitToHistory:!1});case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),function(e,t,n,r){return $e.apply(this,arguments)}),keyTest:function(e){return e.key===E.tW.S&&e[E.tW.CTRL_OR_CMD]&&!e.shiftKey},PanelComponent:function(e){var t,n=e.updateData,r=e.appState;return(0,M.jsx)(Ke,{onSave:function(){return n(null)},fileName:null===(t=r.fileHandle)||void 0===t?void 0:t.name})}});var $e,Je,et,tt=(0,S.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(Je=(0,a.Z)(m().mark((function e(t,n,r,i){var o,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Re.Um)(t,Xe(Xe({},n),{},{fileHandle:null}),i.files);case 3:return o=e.sent,a=o.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:Xe(Xe({},n),{},{fileHandle:a})});case 8:return e.prev=8,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)?console.error(e.t0):console.warn(e.t0),e.abrupt("return",{commitToHistory:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e,t,n,r){return Je.apply(this,arguments)}),keyTest:function(e){return e.key===E.tW.S&&e.shiftKey&&e[E.tW.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.updateData;return(0,M.jsx)(k.V,{type:"button",icon:P.po,title:(0,C.t)("buttons.saveAs"),"aria-label":(0,C.t)("buttons.saveAs"),showAriaLabel:Go().isMobile,hidden:!Le.kr,onClick:function(){return t(null)},"data-testid":"save-as-button"})}}),nt=(0,S.z)({name:"loadScene",trackEvent:{category:"export"},perform:(et=(0,a.Z)(m().mark((function e(t,n,r,i){var o,a,s,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Re.n8)(n,t);case 3:return o=e.sent,a=o.elements,s=o.appState,c=o.files,e.abrupt("return",{elements:a,appState:s,files:c,commitToHistory:!0});case 10:if(e.prev=10,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=15;break}return console.warn(e.t0),e.abrupt("return",!1);case 15:return e.abrupt("return",{elements:t,appState:Xe(Xe({},n),{},{errorMessage:e.t0.message}),files:i.files,commitToHistory:!1});case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e,t,n,r){return et.apply(this,arguments)}),keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.key===E.tW.O},PanelComponent:function(e){var t=e.updateData;return(0,M.jsx)(Ye.Z,{label:(0,C.t)("buttons.load"),icon:P.Tl,onClick:t,dataTestId:"load-button",shortcut:(0,He.C)("loadScene")})}});function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,S.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(e,t,n){return{appState:Xe(Xe({},t),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,M.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,M.jsx)(Oe,{value:t.exportWithDarkMode?re.C6.DARK:re.C6.LIGHT,onChange:function(e){n(e===re.C6.DARK)},title:(0,C.t)("labels.toggleExportColorScheme")})})}});var ot="{}",at=(0,S.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(e,t){var n=[],r=e.find((function(e){return t.selectedElementIds[e.id]}));if(n.push(r),r&&(0,D.Xo)(r)){var i=(0,ie.WJ)(r);n.push(i)}return r&&(ot=JSON.stringify(n)),{appState:it(it({},t),{},{toast:{message:(0,C.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.C}}),st=(0,S.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(e,t){var n=JSON.parse(ot),r=n[0],i=n[1];if(!(0,j.r2)(r))return{elements:e,commitToHistory:!1};var o=(0,_.eD)(e,t,!0),a=o.map((function(e){return e.id}));return{elements:e.map((function(e){if(a.includes(e.id)){var t,n,s,c,u,l,d,f=r;if((0,j.iB)(e)&&e.containerId&&(f=i),!f)return e;var h=(0,A.BE)(e,{backgroundColor:null===(t=f)||void 0===t?void 0:t.backgroundColor,strokeWidth:null===(n=f)||void 0===n?void 0:n.strokeWidth,strokeColor:null===(s=f)||void 0===s?void 0:s.strokeColor,strokeStyle:null===(c=f)||void 0===c?void 0:c.strokeStyle,fillStyle:null===(u=f)||void 0===u?void 0:u.fillStyle,opacity:null===(l=f)||void 0===l?void 0:l.opacity,roughness:null===(d=f)||void 0===d?void 0:d.roughness,roundness:f.roundness?(0,D.eK)(f.roundness.type,e)?f.roundness:(0,D.UQ)(e):null});if((0,j.iB)(h)){var p,m,v,g=null;(h=(0,A.BE)(h,{fontSize:(null===(p=f)||void 0===p?void 0:p.fontSize)||re.n5,fontFamily:(null===(m=f)||void 0===m?void 0:m.fontFamily)||re.rk,textAlign:(null===(v=f)||void 0===v?void 0:v.textAlign)||re.Hg})).containerId&&(g=o.find((function(e){return(0,j.iB)(h)&&e.id===h.containerId}))||null),(0,j.oN)(h,g)}return"arrow"===h.type&&(h=(0,A.BE)(h,{startArrowhead:f.startArrowhead,endArrowhead:f.endArrowhead})),h}return e})),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.V}}),ct=function(e){return(0,M.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(e.title," \u2014 ?"),"aria-label":e.title,children:P.by})};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,S.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:lt(lt({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,M.jsx)(k.V,{type:"button",icon:P.RY,"aria-label":(0,C.t)("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),(0,S.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:lt(lt({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{visible:(0,j.RT)(n,(0,j.Lm)(t)),type:"button",icon:P.DG,"aria-label":(0,C.t)("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),(0,S.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!(0,N.rB)()}},perform:function(){return(0,N.rB)()||(0,N.wo)(),(0,N.rB)()&&(0,N.Pr)(),{commitToHistory:!1}},keyTest:function(e){return e.key===E.tW.F&&!e[E.tW.CTRL_OR_CMD]}});var dt=(0,S.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(e,t,n,r){var i=r.focusContainer;return"help"===t.openDialog&&i(),{appState:lt(lt({},t),{},{openDialog:"help"===t.openDialog?null:"help"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return e.isInHamburgerMenu?(0,M.jsx)(Ye.Z,{label:(0,C.t)("helpDialog.title"),dataTestId:"help-menu-item",icon:P.by,onClick:t,shortcut:"?"}):(0,M.jsx)(ct,{title:(0,C.t)("helpDialog.title"),onClick:t})},keyTest:function(e){return e.key===E.tW.QUESTION_MARK}}),ft=n(6954);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gt=function(e,t){var n=(0,_.eD)((0,j.Lm)(e),t,!0);return n.length>=2&&!function(e){if(e.length>=2){var t,n=mt(e[0].groupIds);try{var i=function(){var n=t.value;if(e.reduce((function(e,t){return e&&(0,T.Nd)(t,n)}),!0))return{v:!0}};for(n.s();!(t=n.n()).done;){var o=i();if("object"===(0,r.Z)(o))return o.v}}catch(e){n.e(e)}finally{n.f()}}return!1}(n)},yt=(0,S.z)({name:"group",trackEvent:{category:"element"},perform:function(e,t){var n=(0,_.eD)((0,j.Lm)(e),t,!0);if(n.length<2)return{appState:t,elements:e,commitToHistory:!1};var r=(0,T.iJ)(t);if(1===r.length){var i=r[0],a=new Set((0,T.Fb)(e,i).map((function(e){return e.id}))),s=new Set(n.map((function(e){return e.id})));if(new Set([].concat((0,o.Z)(Array.from(a)),(0,o.Z)(Array.from(s)))).size===a.size)return{appState:t,elements:e,commitToHistory:!1}}var c=(0,ft.kb)(),u=(0,N.xn)(n),l=e.map((function(e){return u.get(e.id)?(0,A.BE)(e,{groupIds:(0,T.S_)(e.groupIds,c,t.editingGroupId)}):e})),d=(0,T.Fb)(l,c),f=d[d.length-1],h=l.lastIndexOf(f),p=l.slice(h+1),m=l.slice(0,h).filter((function(e){return!(0,T.Nd)(e,c)})),v=[].concat((0,o.Z)(m),(0,o.Z)(d),(0,o.Z)(p));return{appState:(0,T.F$)(c,pt(pt({},t),{},{selectedGroupIds:{}}),(0,j.Lm)(v)),elements:v,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,t){return gt(e,t)},keyTest:function(e){return!e.shiftKey&&e[E.tW.CTRL_OR_CMD]&&e.key===E.tW.G},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!gt(t,n),type:"button",icon:(0,M.jsx)(P.BF,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,C.t)("labels.group")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+G")),"aria-label":(0,C.t)("labels.group"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),bt=(0,S.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(e,t){if(0===(0,T.iJ)(t).length)return{appState:t,elements:e,commitToHistory:!1};var n=[],r=e.map((function(e){(0,D.Xh)(e)&&n.push(e.id);var r=(0,T.h6)(e.groupIds,t.selectedGroupIds);return r.length===e.groupIds.length?e:(0,A.BE)(e,{groupIds:r})})),i=(0,T.bO)(pt(pt({},t),{},{selectedGroupIds:{}}),(0,j.Lm)(r));return n.forEach((function(e){return i.selectedElementIds[e]=!1})),{appState:i,elements:r,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[E.tW.CTRL_OR_CMD]&&e.key===E.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,t){return(0,T.iJ)(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{type:"button",hidden:0===(0,T.iJ)(n).length,icon:(0,M.jsx)(P.RJ,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat((0,C.t)("labels.ungroup")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,C.t)("labels.ungroup"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),wt=n(8982),xt=n(3729),_t={};_t.styleTagTransform=ke(),_t.setAttributes=we(),_t.insert=ye().bind(null,"head"),_t.domAPI=ve(),_t.insertStyleElement=_e(),pe()(xt.Z,_t),xt.Z&&xt.Z.locals&&xt.Z.locals;var Et=function(e){var t=e.color,n=e.onClick,r=e.name,o=e.src,a=(0,wt.f)(r),s=(0,v.useState)(!1),c=(0,i.Z)(s,2),u=c[0],l=c[1],d=!u&&o,f=d?void 0:{background:t};return(0,M.jsx)("div",{className:"Avatar",style:f,onClick:n,children:d?(0,M.jsx)("img",{className:"Avatar-img",src:o,alt:a,referrerPolicy:"no-referrer",onError:function(){return l(!0)}}):a})},kt=n(2264);function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,S.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(e,t,n){var r=n;return r?{appState:St(St(St({},t),(0,kt.s)({scenePoint:r,viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})),{},{openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data,o=(0,i.Z)(r,2),a=o[0],s=o[1],c=(0,wt.X)(a,t),u=c.background,l=c.stroke;return(0,M.jsx)(Et,{color:u,border:l,onClick:function(){return n(s.pointer)},name:s.username||"",src:s.avatarUrl})}});var jt=n(2791);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=(0,S.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(e,t,n,r){var i=(0,_.eD)((0,j.Lm)(e),t,!0);return i.some((function(e){return"image"===e.type}))?{commitToHistory:!1,appState:Tt(Tt({},t),{},{errorMessage:"Support for adding images to the library coming soon!"})}:r.library.getLatestLibrary().then((function(e){return r.library.setLibrary([{id:(0,ft.kb)(),status:"unpublished",elements:i.map(jt.OL),created:Date.now()}].concat((0,o.Z)(e)))})).then((function(){return{commitToHistory:!1,appState:Tt(Tt({},t),{},{toast:{message:(0,C.t)("toast.addedToLibrary")}})}})).catch((function(e){return{commitToHistory:!1,appState:Tt(Tt({},t),{},{errorMessage:e.message})}}))},contextItemLabel:"labels.addToLibrary"}),Ot=n(8925);function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=function(e,t,n){var r=n.axis,o=n.position,a=(0,Ot.v2)(e),s="x"===r?["minX","maxX"]:["minY","maxY"],c=(0,i.Z)(s,2),u=c[0],l=c[1];return Nt(Nt({},{x:0,y:0}),{},"start"===o?(0,h.Z)({},r,t[u]-a[u]):"end"===o?(0,h.Z)({},r,t[l]-a[l]):(0,h.Z)({},r,(t[u]+t[l])/2-(a[u]+a[l])/2))},Mt=function(e,t){return(0,_.eD)((0,j.Lm)(e),t).length>1},Lt=function(e,t,n){var r=function(e,t){var n=(0,T.AI)(e),r=(0,Ot.v2)(e);return n.flatMap((function(e){var n=Pt(e,r,t);return e.map((function(e){return(0,A.BE)(e,{x:e.x+n.x,y:e.y+n.y})}))}))}((0,_.eD)((0,j.Lm)(e),t),n),i=(0,N.xn)(r);return e.map((function(e){return i.get(e.id)||e}))};function Rt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,S.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:Lt(e,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===E.tW.ARROW_UP},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!Mt(t,n),type:"button",icon:P.Ct,onClick:function(){return r(null)},title:"".concat((0,C.t)("labels.alignTop")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,C.t)("labels.alignTop"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),(0,S.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:Lt(e,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===E.tW.ARROW_DOWN},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!Mt(t,n),type:"button",icon:P.HL,onClick:function(){return r(null)},title:"".concat((0,C.t)("labels.alignBottom")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,C.t)("labels.alignBottom"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),(0,S.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:Lt(e,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===E.tW.ARROW_LEFT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!Mt(t,n),type:"button",icon:P.xs,onClick:function(){return r(null)},title:"".concat((0,C.t)("labels.alignLeft")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,C.t)("labels.alignLeft"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),(0,S.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:Lt(e,t,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key===E.tW.ARROW_RIGHT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!Mt(t,n),type:"button",icon:P.mh,onClick:function(){return r(null)},title:"".concat((0,C.t)("labels.alignRight")," \u2014 ").concat((0,N.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,C.t)("labels.alignRight"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),(0,S.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:Lt(e,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!Mt(t,n),type:"button",icon:P.ST,onClick:function(){return r(null)},title:(0,C.t)("labels.centerVertically"),"aria-label":(0,C.t)("labels.centerVertically"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),(0,S.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:Lt(e,t,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!Mt(t,n),type:"button",icon:P.gK,onClick:function(){return r(null)},title:(0,C.t)("labels.centerHorizontally"),"aria-label":(0,C.t)("labels.centerHorizontally"),visible:(0,_.N)((0,j.Lm)(t),n)})}});var Ft=function(e,t){return(0,_.eD)((0,j.Lm)(e),t).length>1},Ut=function(e,t,n){var r=function(e,t){var n,r="x"===t.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],o=(0,i.Z)(r,4),a=o[0],s=o[1],c=o[2],u=o[3],l=(0,Ot.v2)(e),d=(0,T.AI)(e).map((function(e){return[e,(0,Ot.v2)(e)]})).sort((function(e,t){return e[1][s]-t[1][s]})),f=0,h=Rt(d);try{for(h.s();!(n=h.n()).done;)f+=n.value[1][u]}catch(e){h.e(e)}finally{h.f()}var p=(l[u]-f)/(d.length-1);if(p<0){var m=d.findIndex((function(e){return e[1][a]===l[a]})),v=d.findIndex((function(e){return e[1][c]===l[c]})),g=(d[v][1][s]-d[m][1][s])/(d.length-1),y=d[m][1][s];return d.flatMap((function(e,n){var r=(0,i.Z)(e,2),o=r[0],a=r[1],c={x:0,y:0};return n!==m&&n!==v&&(y+=g,c[t.axis]=y-a[s]),o.map((function(e){return(0,A.BE)(e,{x:e.x+c.x,y:e.y+c.y})}))}))}var b=l[a];return d.flatMap((function(e){var n=(0,i.Z)(e,2),r=n[0],o=n[1],s={x:0,y:0};return s[t.axis]=b-o[a],b+=p,b+=o[u],r.map((function(e){return(0,A.BE)(e,{x:e.x+s.x,y:e.y+s.y})}))}))}((0,_.eD)((0,j.Lm)(e),t),n),o=(0,N.xn)(r);return e.map((function(e){return o.get(e.id)||e}))},zt=((0,S.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:Ut(e,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return!e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.H},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!Ft(t,n),type:"button",icon:P.uD,onClick:function(){return r(null)},title:"".concat((0,C.t)("labels.distributeHorizontally")," \u2014 ").concat((0,N.uY)("Alt+H")),"aria-label":(0,C.t)("labels.distributeHorizontally"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),(0,S.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(e,t){return{appState:t,elements:Ut(e,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return!e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.V},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,M.jsx)(k.V,{hidden:!Ft(t,n),type:"button",icon:P.W5,onClick:function(){return r(null)},title:"".concat((0,C.t)("labels.distributeVertically")," \u2014 ").concat((0,N.uY)("Alt+V")),"aria-label":(0,C.t)("labels.distributeVertically"),visible:(0,_.N)((0,j.Lm)(t),n)})}}),n(8634)),Bt=n(267),Vt=(0,S.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(e,t){return{elements:Ht(e,t,"horizontal"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyH"===e.code},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(e,t){return function(e,t){var n=(0,_.eD)((0,j.Lm)(e),t);return 1===n.length&&"text"!==n[0].type}(e,t)}}),Wt=(0,S.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(e,t){return{elements:Ht(e,t,"vertical"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyV"===e.code&&!e[E.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(e,t){return function(e,t){return 1===(0,_.eD)((0,j.Lm)(e),t).length}(e,t)}}),Ht=function(e,t,n){var r=(0,_.eD)((0,j.Lm)(e),t);if(r.length>1)return e;var i=qt(r,t,n),o=(0,N.xn)(i);return e.map((function(e){return o.get(e.id)||e}))},qt=function(e,t,n){return e.forEach((function(e){Gt(e,t),"vertical"===n&&Yt(e,Math.PI)})),e},Gt=function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,a=(0,zt.LW)(e.angle);(0,A.DR)(e,{angle:(0,zt.LW)(0)});var s=(0,Bt.PC)(e,t.zoom),c=!0,u=s.nw;if(u||(c=!1,u=s.ne)){var l,d=0;(0,D.bt)(e)&&e.points.length<3&&(d=2*e.points.reduce((function(e,t){return Math.max(e,t[0])}),0)-e.width),(0,D.bt)(e)&&(l=(0,Ot.Ut)(e,e.points));var f=(0,Ot.qf)(e);if((0,D.bt)(e)&&e.points.length<3){for(var h=1;h<e.points.length;h++)I._.movePoints(e,[{index:h,point:[-e.points[h][0],e.points[h][1]]}]);I._.normalizePoints(e)}else{var p=l?l[2]-l[0]:f[2]-f[0],m=l?[l[0],l[1]]:[f[0],f[1]];(0,zt.l2)((new Map).set(e.id,e),!1,e,c?"nw":"ne",!0,c?m[0]+p:m[0]-p,m[1])}var v=(0,zt.LW)(2*Math.PI-a);if(v<0&&(v=(0,zt.LW)(v+2*Math.PI)),(0,A.DR)(e,{angle:v}),(0,A.DR)(e,{x:n+d,y:r,width:i,height:o}),(0,O.Ww)(e),l&&(0,D.bt)(e)){var g=(0,Ot.Ut)(e,e.points),y=l[0]-g[0]+(l[2]-g[2]);(0,A.DR)(e,{x:e.x+.5*y,y:e.y,width:i,height:o})}}else(0,A.DR)(e,{angle:a})},Yt=function(e,t){var n=e.x,r=e.y,i=(0,zt.LW)(e.angle+t);i<0&&(i=(0,zt.LW)(2*Math.PI+i)),(0,A.DR)(e,{angle:i}),(0,A.DR)(e,{x:n,y:r})},Kt=n(1868);function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t=(0,S.z)({name:"copy",trackEvent:{category:"element"},perform:function(e,t,n,r){var i=(0,Kt.eD)(e,t,!0);return(0,Ne.vQ)(i,t,r.files),{commitToHistory:!1}},contextItemPredicate:function(e,t,n,r){return r.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.copy",keyTest:void 0}),Jt=(0,S.z)({name:"paste",trackEvent:{category:"element"},perform:function(e,t,n,r){return r.pasteFromClipboard(null),{commitToHistory:!1}},contextItemPredicate:function(e,t,n,r){return r.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.paste",keyTest:void 0}),en=(0,S.z)({name:"cut",trackEvent:{category:"element"},perform:function(e,t,n,r){return $t.perform(e,t,n,r),F.perform(e,t)},contextItemPredicate:function(e,t,n,r){return r.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.cut",keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.key===E.tW.X}}),tn=(0,S.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:function(){var e=(0,a.Z)(m().mark((function e(t,n,r,i){var o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return o=(0,Kt.eD)((0,j.Lm)(t),n,!0),e.prev=3,e.next=6,Ze("clipboard-svg",o.length?o:(0,j.Lm)(t),n,i.files,n);case 6:return e.abrupt("return",{commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:Xt(Xt({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),contextItemPredicate:function(e){return Ne.wx&&e.length>0},contextItemLabel:"labels.copyAsSvg"}),nn=(0,S.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:function(){var e=(0,a.Z)(m().mark((function e(t,n,r,i){var o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return o=(0,Kt.eD)((0,j.Lm)(t),n,!0),e.prev=3,e.next=6,Ze("clipboard",o.length?o:(0,j.Lm)(t),n,i.files,n);case 6:return e.abrupt("return",{appState:Xt(Xt({},n),{},{toast:{message:(0,C.t)("toast.copyToClipboardAsPng",{exportSelection:o.length?(0,C.t)("toast.selection"):(0,C.t)("toast.canvas"),exportColorScheme:n.exportWithDarkMode?(0,C.t)("buttons.darkMode"):(0,C.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:Xt(Xt({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),contextItemPredicate:function(e){return Ne.vt&&e.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===E.aU.C&&e.altKey&&e.shiftKey}}),rn=(0,S.z)({name:"copyText",trackEvent:{category:"element"},perform:function(e,t){var n=(0,Kt.eD)((0,j.Lm)(e),t,!0).reduce((function(e,t){return(0,j.iB)(t)&&e.push(t.text),e}),[]).join("\n\n");return(0,Ne.dd)(n),{commitToHistory:!1}},contextItemPredicate:function(e,t){return Ne.wx&&(0,Kt.eD)(e,t,!0).some(j.iB)},contextItemLabel:"labels.copyText"});function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=(0,S.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.gridSize}},perform:function(e,t){return{appState:an(an({},t),{},{gridSize:this.checked(t)?null:re.k}),commitToHistory:!1}},checked:function(e){return null!==e.gridSize},contextItemPredicate:function(e,t,n){return void 0===n.gridModeEnabled},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.code===E.aU.QUOTE}});function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=(0,S.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.zenModeEnabled}},perform:function(e,t){return{appState:un(un({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemPredicate:function(e,t,n){return void 0===n.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.Z}});function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn=(0,S.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(e,t){return{appState:fn(fn({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title",keyTest:function(e){return!e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.SLASH}}),pn=n(6906);function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gn=(0,S.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},contextItemPredicate:function(e,t){return(0,_.eD)(e,t).some((function(e){return(0,D.Xo)(e)}))},perform:function(e,t){return(0,_.eD)((0,j.Lm)(e),t).forEach((function(e){var t=(0,ie.WJ)(e);if(t){var n,r=(0,ie.X1)(t.originalText,(0,N.mO)(t)),i=r.width,o=r.height,a=r.baseline,s=(0,pn.eR)(e.id);(0,pn.kT)(e.id),(0,A.DR)(t,{containerId:null,width:i,height:o,baseline:a,text:t.originalText}),(0,A.DR)(e,{boundElements:null===(n=e.boundElements)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id})),height:s||e.height})}})),{elements:e,appState:t,commitToHistory:!0}}}),yn=(0,S.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},contextItemPredicate:function(e,t){var n=(0,_.eD)(e,t);if(2===n.length){var r,i=(0,j.iB)(n[0])||(0,j.iB)(n[1]);if((0,D.mG)(n[0])?r=n[0]:(0,D.mG)(n[1])&&(r=n[1]),i&&r&&null===(0,ie.WJ)(r))return!0}return!1},perform:function(e,t){var n,r,i=(0,_.eD)((0,j.Lm)(e),t);(0,j.iB)(i[0])&&(0,D.mG)(i[1])?(n=i[0],r=i[1]):(n=i[1],r=i[0]),(0,A.DR)(n,{containerId:r.id,verticalAlign:re.oX.MIDDLE}),(0,A.DR)(r,{boundElements:(r.boundElements||[]).concat({type:"text",id:n.id})}),(0,ie.oN)(n,r);var o=e.slice(),a=o.findIndex((function(e){return e.id===n.id}));o.splice(a,1);var s=o.findIndex((function(e){return e.id===r.id}));return o.splice(s+1,0,n),{elements:o,appState:vn(vn({},t),{},{selectedElementIds:(0,h.Z)({},r.id,!0)}),commitToHistory:!0}}}),bn=n(4929);function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n=(0,S.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(e,t){var n=(0,_.eD)(e,t,!0);if(!n.length)return!1;var r=En(n),i=(0,N.xn)(n),o="lock"===r;return{elements:e.map((function(e){return i.has(e.id)?(0,A.BE)(e,{locked:o}):e})),appState:xn(xn({},t),{},{selectedLinearElement:o?null:t.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(e,t){var n=(0,_.eD)(e,t,!1);return 1===n.length?n[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":"lock"===En(n)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(e,t,n){return e.key.toLocaleLowerCase()===E.tW.L&&e[E.tW.CTRL_OR_CMD]&&e.shiftKey&&(0,_.eD)(n,t,!1).length>0}}),En=function(e){return e.some((function(e){return!e.locked}))?"lock":"unlock"};function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sn=(0,S.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},contextItemPredicate:function(e,t){var n=(0,_.eD)(e,t);return!(1!==n.length||!(0,D.bt)(n[0]))},perform:function(e,t,n,r){var i,o=(0,_.eD)((0,j.Lm)(e),t,!0)[0],a=(null===(i=t.editingLinearElement)||void 0===i?void 0:i.elementId)===o.id?null:new I._(o,r.scene);return{appState:Cn(Cn({},t),{},{editingLinearElement:a}),commitToHistory:!1}},contextItemLabel:function(e,t){var n,r=(0,_.eD)((0,j.Lm)(e),t,!0)[0];return(null===(n=t.editingLinearElement)||void 0===n?void 0:n.elementId)===r.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}});function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tn=function(e,t,n){var r=!1;if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){var i=n();if(null===i)return{commitToHistory:r};var o=(0,N.xn)(e),a=i.elements,s=(0,N.xn)(a),c=e.filter((function(e){return!s.has(e.id)})),u=a.map((function(e){return(0,A.BE)(o.get(e.id)||e,e)})).concat(c.map((function(e){return(0,A.BE)(e,{isDeleted:!0})})));return(0,O.$q)(u,c),{elements:u,appState:An(An({},t),i.appState),commitToHistory:r,syncHistory:!0}}return{commitToHistory:r}},In=n(7047),On=function(e,t,n,i,o,a){if(e.trackEvent)try{"object"===(0,r.Z)(e.trackEvent)&&(!e.trackEvent.predicate||e.trackEvent.predicate(n,i,a))&&(0,In.L)(e.trackEvent.category,e.trackEvent.action||e.name,"".concat(t," (").concat(o.device.isMobile?"mobile":"desktop",")"))}catch(e){console.error("error while logging action:",e)}},Dn=function(){function e(t,n,r,i){var o=this;(0,s.Z)(this,e),this.actions={},this.renderAction=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=o.app.props.UIOptions.canvasActions;if(o.actions[e]&&"PanelComponent"in o.actions[e]&&(!(e in r)||r[e])){var i=o.actions[e],a=i.PanelComponent;a.displayName="PanelComponent";var s=o.getElementsIncludingDeleted(),c=o.getAppState(),u=function(e){On(i,"ui",c,s,o.app,e),o.updater(i.perform(o.getElementsIncludingDeleted(),o.getAppState(),e,o.app))};return(0,M.jsx)(a,{elements:o.getElementsIncludingDeleted(),appState:o.getAppState(),updateData:u,appProps:o.app.props,data:t,isInHamburgerMenu:n})}return null},this.updater=function(e){if(!e||!("then"in e))return t(e);e.then((function(e){return t(e)}))},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=i}return(0,c.Z)(e,[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"registerAll",value:function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))}},{key:"handleKeyDown",value:function(e){var t=this,n=this.app.props.UIOptions.canvasActions,r=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(r){return(!(r.name in n)||n[r.name])&&r.keyTest&&r.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted())}));if(1!==r.length)return r.length>1&&console.warn("Canceling as multiple actions match this shortcut",r),!1;var i=r[0];if(this.getAppState().viewModeEnabled&&!0!==i.viewMode)return!1;var o=this.getElementsIncludingDeleted(),a=this.getAppState();return On(i,"keyboard",a,o,this.app,null),e.preventDefault(),e.stopPropagation(),this.updater(r[0].perform(o,a,null,this.app)),!0}},{key:"executeAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",n=this.getElementsIncludingDeleted(),r=this.getAppState(),i=null;On(e,t,r,n,this.app,i),this.updater(e.perform(n,r,i,this.app))}}]),e}(),Nn=n(8897),Pn=n(7053),Mn=n(679),Ln=function(e){var t=Array.from(e.values());return{x:Zn(t,(function(e){return e.x}))/t.length,y:Zn(t,(function(e){return e.y}))/t.length}},Rn=function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},Zn=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)};function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zn=function(e){return{selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}},Bn=function(){function e(){var t=this;(0,s.Z)(this,e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(e,n){return t.dehydrateHistoryEntry({appState:zn(e),elements:n.reduce((function(t,n){if((0,D.bt)(n)&&e.multiElement&&e.multiElement.id===n.id){if(e.multiElement&&e.multiElement.id===n.id&&n.points.length<2)return t;t.push(Un(Un({},n),{},{points:n.lastCommittedPoint!==n.points[n.points.length-1]?n.points.slice(0,-1):n.points}))}else t.push(n);return t}),[])})}}return(0,c.Z)(e,[{key:"hydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.parse(n),elements:r.map((function(e){var n,r=null===(n=t.elementCache.get(e.id))||void 0===n?void 0:n.get(e.versionNonce);if(!r)throw new Error("Element not found: ".concat(e.id,":").concat(e.versionNonce));return r}))}}},{key:"dehydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.stringify(n),elements:r.map((function(e){t.elementCache.has(e.id)||t.elementCache.set(e.id,new Map);var n=t.elementCache.get(e.id);return n.has(e.versionNonce)||n.set(e.versionNonce,(0,jt.OL)(e)),{id:e.id,versionNonce:e.versionNonce}}))}}},{key:"getSnapshotForTest",value:function(){var e=this;return{recording:this.recording,stateHistory:this.stateHistory.map((function(t){return e.hydrateHistoryEntry(t)})),redoStack:this.redoStack.map((function(t){return e.hydrateHistoryEntry(t)}))}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(e){var t,n=this.lastEntry;if(!n)return!0;if(e.elements.length!==n.elements.length)return!0;for(var r=e.elements.length-1;r>-1;r--){var i=e.elements[r],o=n.elements[r];if(!i||!o||i.id!==o.id||i.versionNonce!==o.versionNonce)return!0}for(t in e.appState){var a,s;if(("editingLinearElement"!==t||(null===(a=e.appState[t])||void 0===a?void 0:a.elementId)!==(null===(s=n.appState[t])||void 0===s?void 0:s.elementId))&&"selectedElementIds"!==t&&"selectedGroupIds"!==t&&e.appState[t]!==n.appState[t])return!0}return!1}},{key:"pushEntry",value:function(e,t){var n=this.generateEntry(e,t),r=this.hydrateHistoryEntry(n);if(r){if(!this.shouldCreateEntry(r))return;this.stateHistory.push(n),this.lastEntry=r,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(0===this.redoStack.length)return null;var e=this.redoStack.pop();return void 0!==e?(this.stateHistory.push(e),this.hydrateHistoryEntry(e)):null}},{key:"undoOnce",value:function(){if(1===this.stateHistory.length)return null;var e=this.stateHistory.pop(),t=this.stateHistory[this.stateHistory.length-1];return void 0!==e?(this.redoStack.push(e),this.hydrateHistoryEntry(t)):null}},{key:"setCurrentState",value:function(e,t){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(e,t))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(e,t){this.recording&&(this.pushEntry(e,t),this.recording=!1)}}]),e}(),Vn=n(3547),Wn=n(3063),Hn=n(746),qn=[{icon:P.zu,value:"selection",key:E.tW.V,numericKey:E.tW[1],fillable:!0},{icon:P.OW,value:"rectangle",key:E.tW.R,numericKey:E.tW[2],fillable:!0},{icon:P.nb,value:"diamond",key:E.tW.D,numericKey:E.tW[3],fillable:!0},{icon:P.Re,value:"ellipse",key:E.tW.O,numericKey:E.tW[4],fillable:!0},{icon:P.e0,value:"arrow",key:E.tW.A,numericKey:E.tW[5],fillable:!0},{icon:P.zb,value:"line",key:E.tW.L,numericKey:E.tW[6],fillable:!0},{icon:P.Pm,value:"freedraw",key:[E.tW.P,E.tW.X],numericKey:E.tW[7],fillable:!1},{icon:P.VL,value:"text",key:E.tW.T,numericKey:E.tW[8],fillable:!1},{icon:P.XB,value:"image",key:null,numericKey:E.tW[9],fillable:!1},{icon:P.$q,value:"eraser",key:E.tW.E,numericKey:E.tW[0],fillable:!1}],Gn=n(2891),Yn=n(6578),Kn={};Kn.styleTagTransform=ke(),Kn.setAttributes=we(),Kn.insert=ye().bind(null,"head"),Kn.domAPI=ve(),Kn.insertStyleElement=_e(),pe()(Yn.Z,Kn),Yn.Z&&Yn.Z.locals&&Yn.Z.locals;var Qn="separator",Xn=g().memo((function(e){var t=e.actionManager,n=e.items,r=e.top,i=e.left,o=ea(),a=ta(),s=Jo(),c=n.reduce((function(e,n){return!n||n!==Qn&&n.contextItemPredicate&&!n.contextItemPredicate(s,o,t.app.props,t.app)||e.push(n),e}),[]);return(0,M.jsx)(Gn.J,{onCloseRequest:function(){return a({contextMenu:null})},top:r,left:i,fitInViewport:!0,offsetLeft:o.offsetLeft,offsetTop:o.offsetTop,viewportWidth:o.width,viewportHeight:o.height,children:(0,M.jsx)("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()},children:c.map((function(e,n){var r;if(e===Qn)return c[n-1]&&c[n-1]!==Qn?(0,M.jsx)("hr",{className:"context-menu-item-separator"},n):null;var i=e.name,u="";return e.contextItemLabel&&(u="function"==typeof e.contextItemLabel?(0,C.t)(e.contextItemLabel(s,o)):(0,C.t)(e.contextItemLabel)),(0,M.jsx)("li",{"data-testid":i,onClick:function(){a({contextMenu:null},(function(){t.executeAction(e,"contextMenu")}))},children:(0,M.jsxs)("button",{className:(0,w.Z)("context-menu-item",{dangerous:"deleteSelectedElements"===i,checkmark:null===(r=e.checked)||void 0===r?void 0:r.call(e,o)}),children:[(0,M.jsx)("div",{className:"context-menu-item__label",children:u}),(0,M.jsx)("kbd",{className:"context-menu-item__shortcut",children:i?(0,He.C)(i):""})]})},n)}))})})})),$n=n(2726),Jn=n(3874),er={};function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}er.styleTagTransform=ke(),er.setAttributes=we(),er.insert=ye().bind(null,"head"),er.domAPI=ve(),er.insertStyleElement=_e(),pe()(Jn.Z,er),Jn.Z&&Jn.Z.locals&&Jn.Z.locals;var rr=function(e){var t=e.children,n=e.gap,r=e.align,i=e.justifyContent,o=e.className,a=e.style;return(0,M.jsx)("div",{className:(0,w.Z)("Stack Stack_horizontal",o),style:nr({"--gap":n,alignItems:r,justifyContent:i},a),children:t})},ir=function(e){var t=e.children,n=e.gap,r=e.align,i=e.justifyContent,o=e.className,a=e.style;return(0,M.jsx)("div",{className:(0,w.Z)("Stack Stack_vertical",o),style:nr({"--gap":n,justifyItems:r,justifyContent:i},a),children:t})},or=n(8120),ar=n(6086),sr={};function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}sr.styleTagTransform=ke(),sr.setAttributes=we(),sr.insert=ye().bind(null,"head"),sr.domAPI=ve(),sr.insertStyleElement=_e(),pe()(ar.Z,sr),ar.Z&&ar.Z.locals&&ar.Z.locals;var fr=function(e){var t,n=e.appState,r=e.elements,i=e.renderAction,o=(0,_.Zs)((0,j.Lm)(r),n),a=!1;2===o.length&&((0,D.Xo)(o[0])||(0,D.Xo)(o[1]))&&(a=!0);var s,c=Boolean(n.editingElement),u=Go(),l="rtl"===document.documentElement.getAttribute("dir"),d=(0,_.$b)(n.activeTool.type)||o.some((function(e){return(0,_.$b)(e.type)&&!(0,N.Qm)(e.backgroundColor)})),f=(0,_.$b)(n.activeTool.type)||o.some((function(e){return(0,_.$b)(e.type)})),h=1===o.length||a,p=(null===(t=o[0])||void 0===t?void 0:t.type)||null,m=lr(o);try{for(m.s();!(s=m.n()).done;)if(s.value.type!==p){p=null;break}}catch(e){m.e(e)}finally{m.f()}return(0,M.jsxs)("div",{className:"panelColumn",children:[(0,M.jsx)("div",{children:((0,or.PD)(n.activeTool.type)&&"image"!==n.activeTool.type&&"image"!==p||o.some((function(e){return(0,or.PD)(e.type)})))&&i("changeStrokeColor")}),f&&(0,M.jsx)("div",{children:i("changeBackgroundColor")}),d&&i("changeFillStyle"),((0,_.Zd)(n.activeTool.type)||o.some((function(e){return(0,_.Zd)(e.type)})))&&i("changeStrokeWidth"),("freedraw"===n.activeTool.type||o.some((function(e){return"freedraw"===e.type})))&&i("changeStrokeShape"),((0,_.M9)(n.activeTool.type)||o.some((function(e){return(0,_.M9)(e.type)})))&&(0,M.jsxs)(M.Fragment,{children:[i("changeStrokeStyle"),i("changeSloppiness")]}),((0,_.sh)(n.activeTool.type)||o.some((function(e){return(0,_.sh)(e.type)})))&&(0,M.jsx)(M.Fragment,{children:i("changeRoundness")}),((0,_.bZ)(n.activeTool.type)||o.some((function(e){return(0,_.bZ)(e.type)})))&&(0,M.jsxs)(M.Fragment,{children:[i("changeFontSize"),i("changeFontFamily"),i("changeTextAlign")]}),(0,ie.cn)(o)&&i("changeVerticalAlign"),((0,_.Un)(n.activeTool.type)||o.some((function(e){return(0,_.Un)(e.type)})))&&(0,M.jsx)(M.Fragment,{children:i("changeArrowhead")}),i("changeOpacity"),(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,C.t)("labels.layers")}),(0,M.jsxs)("div",{className:"buttonList",children:[i("sendToBack"),i("sendBackward"),i("bringToFront"),i("bringForward")]})]}),o.length>1&&!a&&(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,C.t)("labels.align")}),(0,M.jsxs)("div",{className:"buttonList",children:[l?(0,M.jsxs)(M.Fragment,{children:[i("alignRight"),i("alignHorizontallyCentered"),i("alignLeft")]}):(0,M.jsxs)(M.Fragment,{children:[i("alignLeft"),i("alignHorizontallyCentered"),i("alignRight")]}),o.length>2&&i("distributeHorizontally"),(0,M.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,M.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[i("alignTop"),i("alignVerticallyCentered"),i("alignBottom"),o.length>2&&i("distributeVertically")]})]})]}),!c&&o.length>0&&(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,C.t)("labels.actions")}),(0,M.jsxs)("div",{className:"buttonList",children:[!u.isMobile&&i("duplicateSelection"),!u.isMobile&&i("deleteSelectedElements"),i("group"),i("ungroup"),h&&i("hyperlink")]})]})]})},hr=function(e){var t=e.canvas,n=e.activeTool,r=e.setAppState,i=e.onImageAction,o=e.appState;return(0,M.jsx)(M.Fragment,{children:qn.map((function(e,a){var s=e.value,c=e.icon,u=e.key,l=e.numericKey,d=e.fillable,f=(0,C.t)("toolBar.".concat(s)),h=u&&("string"==typeof u?u:u[0]),p=h?"".concat((0,N.Oo)(h)," ").concat((0,C.t)("helpDialog.or")," ").concat(l):"".concat(l);return(0,M.jsx)(k.V,{className:(0,w.Z)("Shape",{fillable:d}),type:"radio",icon:c,checked:n.type===s,name:"editor-current-shape",title:"".concat((0,N.Oo)(f)," \u2014 ").concat(p),keyBindingLabel:l,"aria-label":(0,N.Oo)(f),"aria-keyshortcuts":p,"data-testid":"toolbar-".concat(s),onPointerDown:function(e){var t=e.pointerType;o.penDetected||"pen"!==t||r({penDetected:!0,penMode:!0})},onChange:function(e){var n=e.pointerType;o.activeTool.type!==s&&(0,In.L)("toolbar",s,"ui");var a=(0,N.Om)(o,{type:s});r({activeTool:a,multiElement:null,selectedElementIds:{}}),(0,N.Uk)(t,ur(ur({},o),{},{activeTool:a})),"image"===s&&i({pointerType:n})}},s)}))})},pr=function(e){var t=e.renderAction;return e.zoom,(0,M.jsx)(ir,{gap:1,className:"zoom-actions",children:(0,M.jsxs)(rr,{align:"center",children:[t("zoomOut"),t("resetZoom"),t("zoomIn")]})})},mr=function(e){var t=e.renderAction,n=e.className;return(0,M.jsxs)("div",{className:"undo-redo-buttons ".concat(n),children:[(0,M.jsx)("div",{className:"undo-button-container",children:(0,M.jsx)(Ie.u,{label:(0,C.t)("buttons.undo"),children:t("undo")})}),(0,M.jsx)("div",{className:"redo-button-container",children:(0,M.jsxs)(Ie.u,{label:(0,C.t)("buttons.redo"),children:[" ",t("redo")]})})]})},vr=function(e){var t=e.actionManager,n=e.showExitZenModeBtn;return(0,M.jsx)("button",{className:(0,w.Z)("disable-zen-mode",{"disable-zen-mode--visible":n}),onClick:function(){return t.executeAction(ln)},children:(0,C.t)("buttons.exitZenMode")})},gr=function(e){var t=e.renderAction,n=e.className;return(0,M.jsx)("div",{className:"finalize-button ".concat(n),children:t("finalize",{size:"small"})})},yr=n(9609),br={};br.styleTagTransform=ke(),br.setAttributes=we(),br.insert=ye().bind(null,"head"),br.domAPI=ve(),br.insertStyleElement=_e(),pe()(yr.Z,br),yr.Z&&yr.Z.locals&&yr.Z.locals;var wr=function(e){var t=e.onClick,n=e.isInHamburgerMenu,r=void 0===n||n;return(0,M.jsx)(M.Fragment,{children:r?(0,M.jsx)(Ye.Z,{label:"Sharing",dataTestId:"collab-button",icon:P.BN,onClick:t}):(0,M.jsx)("button",{className:(0,w.Z)("collab-button"),type:"button",onClick:t,style:{position:"relative"},title:"Sharing",children:P.BN})})},xr=n(8396),_r=function(e){var t=e.message,n=e.onClose,r=(0,v.useState)(!!t),o=(0,i.Z)(r,2),a=o[0],s=o[1],c=Ko().container,u=g().useCallback((function(){s(!1),n&&n(),null==c||c.focus()}),[n,c]);return(0,M.jsx)(M.Fragment,{children:a&&(0,M.jsx)(xr.V,{small:!0,onCloseRequest:u,title:(0,C.t)("errorDialog.title"),children:(0,M.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:t})})})},Er=n(7955),kr={};kr.styleTagTransform=ke(),kr.setAttributes=we(),kr.insert=ye().bind(null,"head"),kr.domAPI=ve(),kr.insertStyleElement=_e(),pe()(Er.Z,kr),Er.Z&&Er.Z.locals&&Er.Z.locals;var Cr=n(5284),Sr="filter"in document.createElement("canvas").getContext("2d"),jr=function(){return(0,M.jsxs)("div",{children:[(0,M.jsx)("h3",{children:(0,C.t)("canvasError.cannotShowPreview")}),(0,M.jsx)("p",{children:(0,M.jsx)("span",{children:(0,C.t)("canvasError.canvasTooBig")})}),(0,M.jsxs)("em",{children:["(",(0,C.t)("canvasError.canvasTooBigTip"),")"]})]})},Ar=function(e){var t,n=e.children,r=e.title,i=e.onClick,o=e.color,a=e.shade,s=void 0===a?6:a;return(0,M.jsx)("button",{className:"ExportDialog-imageExportButton",style:(t={},(0,h.Z)(t,"--button-color",Cr[o][s]),(0,h.Z)(t,"--button-color-darker",Cr[o][s+1]),(0,h.Z)(t,"--button-color-darkest",Cr[o][s+2]),t),title:r,"aria-label":r,onClick:i,children:n})},Tr=function(e){var t=e.elements,n=e.appState,r=e.files,o=e.exportPadding,a=void 0===o?re.qy:o,s=e.actionManager,c=e.onExportToPng,u=e.onExportToSvg,l=e.onExportToClipboard,d=(0,_.N)(t,n),f=(0,v.useState)(d),h=(0,i.Z)(f,2),p=h[0],m=h[1],g=(0,v.useRef)(null),y=n.exportBackground,b=n.viewBackgroundColor,w=(0,v.useState)(null),x=(0,i.Z)(w,2),E=x[0],k=x[1],S=p?(0,_.eD)(t,n,!0):t;return(0,v.useEffect)((function(){m(d)}),[d]),(0,v.useEffect)((function(){var e=g.current;e&&(0,Pe.NL)(S,n,r,{exportBackground:y,viewBackgroundColor:b,exportPadding:a}).then((function(t){return k(null),(0,Me._c)(t).then((function(){e.replaceChildren(t)}))})).catch((function(e){console.error(e),k(e)}))}),[n,r,S,y,a,b]),(0,M.jsxs)("div",{className:"ExportDialog",children:[(0,M.jsx)("div",{className:"ExportDialog__preview",ref:g,children:E&&(0,M.jsx)(jr,{})}),Sr&&s.renderAction("exportWithDarkMode"),(0,M.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,M.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[s.renderAction("changeExportBackground"),d&&(0,M.jsx)(We,{checked:p,onChange:function(e){return m(e)},children:(0,C.t)("labels.onlySelected")}),s.renderAction("changeExportEmbedScene")]})}),(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,M.jsx)(rr,{gap:2,children:s.renderAction("changeExportScale")}),(0,M.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:(0,C.t)("buttons.scale")})]}),(0,M.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Le.kr&&s.renderAction("changeProjectName")}),(0,M.jsxs)(rr,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,M.jsx)(Ar,{color:"indigo",title:(0,C.t)("buttons.exportToPng"),"aria-label":(0,C.t)("buttons.exportToPng"),onClick:function(){return c(S)},children:"PNG"}),(0,M.jsx)(Ar,{color:"red",title:(0,C.t)("buttons.exportToSvg"),"aria-label":(0,C.t)("buttons.exportToSvg"),onClick:function(){return u(S)},children:"SVG"}),Ne.vt&&(0,M.jsx)(Ar,{title:(0,C.t)("buttons.copyPngToClipboard"),onClick:function(){return l(S)},color:"gray",shade:7,children:P.BR})]})]})},Ir=function(e){var t=e.elements,n=e.appState,r=e.setAppState,i=e.files,o=e.exportPadding,a=void 0===o?re.qy:o,s=e.actionManager,c=e.onExportToPng,u=e.onExportToSvg,l=e.onExportToClipboard,d=g().useCallback((function(){r({openDialog:null})}),[r]);return(0,M.jsx)(M.Fragment,{children:"imageExport"===n.openDialog&&(0,M.jsx)(xr.V,{onCloseRequest:d,title:(0,C.t)("buttons.exportImage"),children:(0,M.jsx)(Tr,{elements:t,appState:n,files:i,exportPadding:a,actionManager:s,onExportToPng:c,onExportToSvg:u,onExportToClipboard:l,onCloseRequest:d})})})},Or=n(3195),Dr={};Dr.styleTagTransform=ke(),Dr.setAttributes=we(),Dr.insert=ye().bind(null,"head"),Dr.domAPI=ve(),Dr.insertStyleElement=_e(),pe()(Or.Z,Dr),Or.Z&&Or.Z.locals&&Or.Z.locals;var Nr=function(e){var t=e.children,n=e.side,r=e.className;return(0,M.jsx)("div",{className:(0,w.Z)("FixedSideContainer","FixedSideContainer_side_".concat(n),r),children:t})},Pr=n(1587),Mr={};Mr.styleTagTransform=ke(),Mr.setAttributes=we(),Mr.insert=ye().bind(null,"head"),Mr.domAPI=ve(),Mr.insertStyleElement=_e(),pe()(Pr.Z,Mr),Pr.Z&&Pr.Z.locals&&Pr.Z.locals;var Lr=function(e){var t=function(e){var t=e.appState,n=e.elements,r=e.isMobile,i=e.device,o=t.activeTool,a=t.isResizing,s=t.isRotating,c=t.lastPointerDownWith,u=null!==t.multiElement;if("library"===t.openSidebar&&!i.canDeviceFitSidebar)return null;if((0,Nn.EN)(t))return(0,C.t)("hints.eraserRevert");if("arrow"===o.type||"line"===o.type)return u?(0,C.t)("hints.linearElementMulti"):(0,C.t)("hints.linearElement");if("freedraw"===o.type)return(0,C.t)("hints.freeDraw");if("text"===o.type)return(0,C.t)("hints.text");if("image"===t.activeTool.type&&t.pendingImageElementId)return(0,C.t)("hints.placeImage");var l=(0,_.eD)(n,t);if(a&&"mouse"===c&&1===l.length){var d=l[0];return(0,D.bt)(d)&&2===d.points.length?(0,C.t)("hints.lockAngle"):(0,D.pC)(d)?(0,C.t)("hints.resizeImage"):(0,C.t)("hints.resize")}if(s&&"mouse"===c)return(0,C.t)("hints.rotate");if(1===l.length&&(0,D.iB)(l[0]))return(0,C.t)("hints.text_selected");if(t.editingElement&&(0,D.iB)(t.editingElement))return(0,C.t)("hints.text_editing");if("selection"===o.type){var f;if("selection"===(null===(f=t.draggingElement)||void 0===f?void 0:f.type)&&!t.editingElement&&!t.editingLinearElement)return(0,C.t)("hints.deepBoxSelect");if(!l.length&&!r)return(0,C.t)("hints.canvasPanning")}if(1===l.length){if((0,D.bt)(l[0]))return t.editingLinearElement?t.editingLinearElement.selectedPointsIndices?(0,C.t)("hints.lineEditor_pointSelected"):(0,C.t)("hints.lineEditor_nothingSelected"):(0,C.t)("hints.lineEditor_info");if((0,D.mG)(l[0]))return(0,C.t)("hints.bindTextToElement")}return null}({appState:e.appState,elements:e.elements,isMobile:e.isMobile,device:e.device});return t?(t=(0,N.uY)(t),(0,M.jsx)("div",{className:"HintViewer",children:(0,M.jsx)("span",{children:t})})):null},Rr=n(1881),Zr=n(5440),Fr={CHECKED:P.FC,UNCHECKED:P._C},Ur=function(e){return(0,M.jsxs)("label",{className:(0,w.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," \u2014 Q"),children:[(0,M.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-lock"}),(0,M.jsx)("div",{className:"ToolIcon__icon",children:e.checked?Fr.CHECKED:Fr.UNCHECKED})]})},zr=["heading","children"];function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wr=function(e){var t=e.heading,n=e.children,r=(0,$n.Z)(e,zr),i=Ko().id,o=(0,M.jsx)("h2",{className:"visually-hidden",id:"".concat(i,"-").concat(t,"-title"),children:(0,C.t)("headings.".concat(t))});return(0,M.jsx)("section",Vr(Vr({},r),{},{"aria-labelledby":"".concat(i,"-").concat(t,"-title"),children:"function"==typeof n?n(o):(0,M.jsxs)(M.Fragment,{children:[o,n]})}))},Hr=n(756),qr=n(6359),Gr={};Gr.styleTagTransform=ke(),Gr.setAttributes=we(),Gr.insert=ye().bind(null,"head"),Gr.domAPI=ve(),Gr.insertStyleElement=_e(),pe()(qr.Z,Gr),qr.Z&&qr.Z.locals&&qr.Z.locals;var Yr=function(e){var t=e.className,n=e.mobile,r=e.collaborators,o=e.actionManager,a=new Map;r.forEach((function(e,t){a.set(e.id||t,e)}));var s=a.size>0&&Array.from(a).filter((function(e){var t=(0,i.Z)(e,2),n=(t[0],t[1]);return 0!==Object.keys(n).length})).map((function(e){var t=(0,i.Z)(e,2),r=t[0],a=t[1],s=o.renderAction("goToCollaborator",[r,a]);return n?(0,M.jsx)(Ie.u,{label:a.username||"Unknown user",children:s},r):(0,M.jsx)(g().Fragment,{children:s},r)}));return(0,M.jsx)("div",{className:(0,w.Z)("UserList",t,{UserList_mobile:n}),children:s})},Kr=n(2316),Qr={};Qr.styleTagTransform=ke(),Qr.setAttributes=we(),Qr.insert=ye().bind(null,"head"),Qr.domAPI=ve(),Qr.insertStyleElement=_e(),pe()(Kr.Z,Qr),Kr.Z&&Kr.Z.locals&&Kr.Z.locals;var Xr=function(e){var t=e.appState,n=e.setAppState,r=e.isMobile,i=Go(),o=!r;return t.isSidebarDocked&&"library"===t.openSidebar?null:(0,M.jsxs)("label",{title:"".concat((0,N.Oo)((0,C.t)("toolBar.library"))),children:[(0,M.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(e){var t;null===(t=document.querySelector(".layer-ui__wrapper"))||void 0===t||t.classList.remove("animate");var r=e.target.checked;n({openSidebar:r?"library":null}),r&&(0,In.L)("library","toggleLibrary (open)","toolbar (".concat(i.isMobile?"mobile":"desktop",")"))},checked:"library"===t.openSidebar,"aria-label":(0,N.Oo)((0,C.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,M.jsxs)("div",{className:"library-button",children:[(0,M.jsx)("div",{children:P.Vq}),o&&(0,M.jsx)("div",{className:"library-button__label",children:(0,C.t)("toolBar.library")})]})]})},$r=function(e){return e.penDetected?(0,M.jsxs)("label",{className:(0,w.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,M.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,M.jsx)("div",{className:"ToolIcon__icon",children:P.tb})]}):null},Jr=n(2681),ei={};ei.styleTagTransform=ke(),ei.setAttributes=we(),ei.insert=ye().bind(null,"head"),ei.domAPI=ve(),ei.insertStyleElement=_e(),pe()(Jr.Z,ei),Jr.Z&&Jr.Z.locals&&Jr.Z.locals;var ti=function(e){var t,n=(0,Ot.KP)(e.elements),r=(0,_.Zs)(e.elements,e.appState),i=(0,Ot.KP)(r);return(0,M.jsx)("div",{className:"Stats",children:(0,M.jsxs)(Rr.W,{padding:2,children:[(0,M.jsx)("div",{className:"close",onClick:e.onClose,children:P.Tw}),(0,M.jsx)("h3",{children:(0,C.t)("stats.title")}),(0,M.jsx)("table",{children:(0,M.jsxs)("tbody",{children:[(0,M.jsx)("tr",{children:(0,M.jsx)("th",{colSpan:2,children:(0,C.t)("stats.scene")})}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:(0,C.t)("stats.elements")}),(0,M.jsx)("td",{children:e.elements.length})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:(0,C.t)("stats.width")}),(0,M.jsx)("td",{children:Math.round(n[2])-Math.round(n[0])})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:(0,C.t)("stats.height")}),(0,M.jsx)("td",{children:Math.round(n[3])-Math.round(n[1])})]}),1===r.length&&(0,M.jsx)("tr",{children:(0,M.jsx)("th",{colSpan:2,children:(0,C.t)("stats.element")})}),r.length>1&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("tr",{children:(0,M.jsx)("th",{colSpan:2,children:(0,C.t)("stats.selected")})}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:(0,C.t)("stats.elements")}),(0,M.jsx)("td",{children:r.length})]})]}),r.length>0&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"x"}),(0,M.jsx)("td",{children:Math.round(i[0])})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:"y"}),(0,M.jsx)("td",{children:Math.round(i[1])})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:(0,C.t)("stats.width")}),(0,M.jsx)("td",{children:Math.round(i[2]-i[0])})]}),(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:(0,C.t)("stats.height")}),(0,M.jsx)("td",{children:Math.round(i[3]-i[1])})]})]}),1===r.length&&(0,M.jsxs)("tr",{children:[(0,M.jsx)("td",{children:(0,C.t)("stats.angle")}),(0,M.jsx)("td",{children:"".concat(Math.round(180*r[0].angle/Math.PI),"\xb0")})]}),null===(t=e.renderCustomStats)||void 0===t?void 0:t.call(e,e.elements,e.appState)]})})]})})},ni=function(){return(0,M.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},ri=n(846),ii={};ii.styleTagTransform=ke(),ii.setAttributes=we(),ii.insert=ye().bind(null,"head"),ii.domAPI=ve(),ii.insertStyleElement=_e(),pe()(ri.Z,ii),ri.Z&&ri.Z.locals&&ri.Z.locals;var oi=function(e){var t=e.label,n=e.shortcut,r=e.onClick,i=e.icon,o=e.link,a=e.className;return o?(0,M.jsx)("a",{className:(0,w.Z)("WelcomeScreen-item",a),href:o,target:"_blank",rel:"noreferrer",children:(0,M.jsxs)("div",{className:"WelcomeScreen-item__label",children:[i,t]})}):(0,M.jsxs)("button",{className:(0,w.Z)("WelcomeScreen-item",a),type:"button",onClick:r,children:[(0,M.jsxs)("div",{className:"WelcomeScreen-item__label",children:[i,t]}),n&&(0,M.jsx)("div",{className:"WelcomeScreen-item__shortcut",children:n})]})},ai=function(e){var t=e.appState,n=e.actionManager,r=e.onCollabButtonClick;return(0,M.jsxs)("div",{className:"WelcomeScreen-container",children:[(0,M.jsxs)("div",{className:"WelcomeScreen-logo virgil WelcomeScreen-decor",children:[P.Mw," Excalidraw+"]}),(0,M.jsxs)("div",{className:"WelcomeScreen-items",children:[!t.viewModeEnabled&&(0,M.jsx)(oi,{label:(0,C.t)("buttons.load"),onClick:function(){return n.executeAction(nt)},shortcut:(0,He.C)("loadScene"),icon:P.Tl,className:"WelcomeScreen-item--load"}),(0,M.jsx)(oi,{label:"Sharing",shortcut:null,onClick:r,icon:P.BN,className:"WelcomeScreen-item--sharing"}),(0,M.jsx)(oi,{onClick:function(){return n.executeAction(dt)},label:(0,C.t)("helpDialog.title"),shortcut:"?",icon:P.by,className:"WelcomeScreen-item--help"})]})]})},si=function(e){var t=e.onHomeButtonClick;return(0,M.jsx)("label",{title:"".concat((0,N.Oo)((0,C.t)("toolBar.library"))," \u2014 0"),children:(0,M.jsx)("div",{className:"library-button",onClick:t,children:(0,M.jsx)("div",{children:P.tv})})})};function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ui=function(e){var t=e.appState,n=e.elements,r=e.actionManager,i=e.renderJSONExportDialog,o=e.renderImageExportDialog,a=e.setAppState,s=e.onCollabButtonClick,c=e.onLockToggle,u=e.onPenModeToggle,l=e.canvas,d=(e.isCollaborating,e.onImageAction),f=e.renderTopRightUI,p=e.renderCustomStats,m=e.renderSidebars,v=e.device,g=e.renderWelcomeScreen,y=e.onHomeButtonClick,b=e.onThemeToggle;return(0,M.jsxs)(M.Fragment,{children:[m(),!t.viewModeEnabled&&(0,M.jsxs)(Nr,{side:"top",className:"App-top-bar",children:[g&&!t.isLoading&&(0,M.jsx)(ai,{appState:t,actionManager:r,onCollabButtonClick:s}),(0,M.jsx)(Wr,{heading:"shapes",children:function(e){return(0,M.jsx)(ir,{gap:4,align:"center",children:(0,M.jsxs)(rr,{gap:1,className:"App-toolbar-container",children:[(0,M.jsxs)(Rr.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[e,(0,M.jsx)(rr,{gap:1,children:(0,M.jsx)(hr,{appState:t,canvas:l,activeTool:t.activeTool,setAppState:a,onImageAction:function(e){var t=e.pointerType;d({insertOnCanvasDirectly:"mouse"!==t})}})})]}),f&&f(!0,t),(0,M.jsxs)("div",{className:"mobile-misc-tools-container",children:[(0,M.jsx)($r,{checked:t.penMode,onChange:u,title:(0,C.t)("toolBar.penMode"),isMobile:!0,penDetected:t.penDetected}),(0,M.jsx)(Ur,{checked:t.activeTool.locked,onChange:c,title:(0,C.t)("toolBar.lock"),isMobile:!0}),!t.viewModeEnabled&&(0,M.jsx)(Xr,{appState:t,setAppState:a,isMobile:!0})]}),(0,M.jsx)("div",{className:"mobile-misc-tools-container-left",children:(0,M.jsx)(si,{onHomeButtonClick:y})})]})})}}),(0,M.jsx)(Lr,{appState:t,elements:n,isMobile:!0,device:v})]}),!t.openMenu&&t.showStats&&(0,M.jsx)(ti,{appState:t,setAppState:a,elements:n,onClose:function(){r.executeAction(hn)},renderCustomStats:p}),(0,M.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Hr.nn+2*Hr.WM,marginLeft:Hr.nn+2*Hr.WM,marginRight:Hr.nn+2*Hr.WM},children:(0,M.jsxs)(Rr.W,{padding:0,children:["canvas"===t.openMenu?(0,M.jsx)(Wr,{className:"App-mobile-menu",heading:"canvasActions",children:(0,M.jsx)("div",{className:"panelColumn",children:(0,M.jsxs)(ir,{gap:2,children:[t.viewModeEnabled?(0,M.jsxs)(M.Fragment,{children:[i(),(0,M.jsx)(Ye.Z,{label:(0,C.t)("buttons.exportImage"),icon:P.J8,dataTestId:"image-export-button",onClick:function(){return a({openDialog:"imageExport"})}}),o()]}):(0,M.jsxs)(M.Fragment,{children:[!t.viewModeEnabled&&r.renderAction("loadScene"),i(),o(),(0,M.jsx)(Ye.Z,{label:(0,C.t)("buttons.exportImage"),icon:P.J8,dataTestId:"image-export-button",onClick:function(){return a({openDialog:"imageExport"})}}),s&&(0,M.jsx)(wr,{onClick:s}),r.renderAction("toggleShortcuts",void 0,!0),!t.viewModeEnabled&&r.renderAction("clearCanvas"),(0,M.jsx)(ni,{}),!t.viewModeEnabled&&(0,M.jsxs)("div",{style:{marginBottom:".5rem"},children:[(0,M.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:(0,C.t)("labels.canvasBackground")}),(0,M.jsx)("div",{style:{padding:"0 0.625rem"},children:r.renderAction("changeViewBackgroundColor")})]}),(0,M.jsx)(Ye.Z,{label:"dark"===t.theme?(0,C.t)("buttons.lightMode"):(0,C.t)("buttons.darkMode"),onClick:function(){b(t.theme===re.C6.LIGHT?re.C6.DARK:re.C6.LIGHT)},icon:"dark"===t.theme?P.NW:P.kL,dataTestId:"toggle-dark-mode",shortcut:(0,He.C)("toggleTheme")})]}),t.collaborators.size>0&&(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,C.t)("labels.collaborators")}),(0,M.jsx)(Yr,{mobile:!0,collaborators:t.collaborators,actionManager:r})]})]})})}):"shape"===t.openMenu&&!t.viewModeEnabled&&(0,j.RT)(t,n)?(0,M.jsx)(Wr,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,M.jsx)(fr,{appState:t,elements:n,renderAction:r.renderAction})}):null,(0,M.jsxs)("footer",{className:"App-toolbar",children:[t.viewModeEnabled?(0,M.jsx)("div",{className:"App-toolbar-content",children:r.renderAction("toggleCanvasMenu")}):(0,M.jsxs)("div",{className:"App-toolbar-content",children:[r.renderAction("toggleCanvasMenu"),r.renderAction("toggleEditMenu"),r.renderAction("undo"),r.renderAction("redo"),r.renderAction(t.multiElement?"finalize":"duplicateSelection"),r.renderAction("deleteSelectedElements")]}),t.scrolledOutside&&!t.openMenu&&"library"!==t.openSidebar&&(0,M.jsx)("button",{className:"scroll-back-to-content",onClick:function(){a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,_.W)(n,t,l)))},children:(0,C.t)("buttons.scrollBackToContent")})]})]})})]})},li=n(5674),di=n(8461),fi={};fi.styleTagTransform=ke(),fi.setAttributes=we(),fi.insert=ye().bind(null,"head"),fi.domAPI=ve(),fi.insertStyleElement=_e(),pe()(di.Z,fi),di.Z&&di.Z.locals&&di.Z.locals;var hi=function(e){var t=(0,v.useRef)(null),n=(0,v.useState)(null),r=(0,i.Z)(n,2),o=r[0],s=r[1];return(0,v.useLayoutEffect)((function(){if(e.spreadsheet){var n,r=(0,li.ps)(e.chartType,e.spreadsheet,0,0);s(r);var i=t.current;return(0,a.Z)(m().mark((function t(){var o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Pe.$D)(r,{exportBackground:!1,viewBackgroundColor:Cr.white},null);case 2:n=t.sent,null===(o=n.querySelector(".style-fonts"))||void 0===o||o.remove(),i.replaceChildren(),i.appendChild(n),e.selected&&i.parentNode.focus();case 7:case"end":return t.stop()}}),t)})))(),function(){i.replaceChildren()}}}),[e.spreadsheet,e.chartType,e.selected]),(0,M.jsx)("button",{className:"ChartPreview",onClick:function(){o&&e.onClick(e.chartType,o)},children:(0,M.jsx)("div",{ref:t})})},pi=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,i=e.onInsertChart,o=g().useCallback((function(){r&&r()}),[r]),a=function(e,n){i(n),(0,In.L)("magic","chart",e),t({currentChartType:e,pasteDialog:{shown:!1,data:null}})};return(0,M.jsx)(xr.V,{small:!0,onCloseRequest:o,title:(0,C.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,M.jsxs)("div",{className:"container",children:[(0,M.jsx)(hi,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:a}),(0,M.jsx)(hi,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===n.currentChartType,onClick:a})]})})},mi=n(2978),vi={};function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}vi.styleTagTransform=ke(),vi.setAttributes=we(),vi.insert=ye().bind(null,"head"),vi.domAPI=ve(),vi.insertStyleElement=_e(),pe()(mi.Z,vi),mi.Z&&mi.Z.locals&&mi.Z.locals;var yi=m().mark(ki);function bi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xi=function(){return(0,M.jsxs)("div",{className:"HelpDialog__header",children:[(0,M.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:[(0,C.t)("helpDialog.documentation"),(0,M.jsx)("div",{className:"HelpDialog__link-icon",children:P.h0})]}),(0,M.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,C.t)("helpDialog.blog"),(0,M.jsx)("div",{className:"HelpDialog__link-icon",children:P.h0})]}),(0,M.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,C.t)("helpDialog.github"),(0,M.jsx)("div",{className:"HelpDialog__link-icon",children:P.h0})]})]})},_i=function(e){return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h3",{children:e.title}),(0,M.jsx)("div",{className:"HelpDialog__islands-container",children:e.children})]})},Ei=function(e){return(0,M.jsxs)("div",{className:"HelpDialog__island ".concat(e.className),children:[(0,M.jsx)("h4",{className:"HelpDialog__island-title",children:e.caption}),(0,M.jsx)("div",{className:"HelpDialog__island-content",children:e.children})]})};function ki(e,t){var n,r,i,o;return m().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=!0,r=bi(e),a.prev=2,r.s();case 4:if((i=r.n()).done){a.next=14;break}if(o=i.value,n){a.next=9;break}return a.next=9,t;case 9:return n=!1,a.next=12,o;case 12:a.next=4;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(2),r.e(a.t0);case 19:return a.prev=19,r.f(),a.finish(19);case 22:case"end":return a.stop()}}),yi,null,[[2,16,19,22]])}var Ci=function(e){var t=e.label,n=e.shortcuts,r=e.isOr,i=void 0===r||r,a=n.map((function(e){return(e.endsWith("++")?[].concat((0,o.Z)(e.slice(0,-2).split("+")),["+"]):e.split("+")).map((function(e){return(0,M.jsx)(Si,{children:e},e)}))}));return(0,M.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,M.jsx)("div",{children:t}),(0,M.jsx)("div",{className:"HelpDialog__key-container",children:(0,o.Z)(ki(a,i?(0,C.t)("helpDialog.or"):null))})]})},Si=function(e){return(0,M.jsx)("kbd",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"HelpDialog__key"},e))},ji=function(e){var t=e.onClose,n=g().useCallback((function(){t&&t()}),[t]);return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(xr.V,{onCloseRequest:n,title:(0,C.t)("helpDialog.title"),className:"HelpDialog",children:[(0,M.jsx)(xi,{}),(0,M.jsxs)(_i,{title:(0,C.t)("helpDialog.shortcuts"),children:[(0,M.jsxs)(Ei,{className:"HelpDialog__island--tools",caption:(0,C.t)("helpDialog.tools"),children:[(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.selection"),shortcuts:[E.tW.V,E.tW[1]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.rectangle"),shortcuts:[E.tW.R,E.tW[2]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.diamond"),shortcuts:[E.tW.D,E.tW[3]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.ellipse"),shortcuts:[E.tW.O,E.tW[4]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.arrow"),shortcuts:[E.tW.A,E.tW[5]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.line"),shortcuts:[E.tW.P,E.tW[6]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.freedraw"),shortcuts:["Shift + P",E.tW[7]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.text"),shortcuts:[E.tW.T,E.tW[8]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.image"),shortcuts:[E.tW[9]]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.eraser"),shortcuts:[E.tW.E,E.tW[0]]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.editSelectedShape"),shortcuts:[(0,N.uY)("CtrlOrCmd+Enter"),(0,N.uY)("CtrlOrCmd + ".concat((0,C.t)("helpDialog.doubleClick")))]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.textNewLine"),shortcuts:[(0,N.uY)("Enter"),(0,N.uY)("Shift+Enter")]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.textFinish"),shortcuts:[(0,N.uY)("Esc"),(0,N.uY)("CtrlOrCmd+Enter")]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,C.t)("helpDialog.click"),(0,C.t)("helpDialog.click"),(0,C.t)("helpDialog.click")],isOr:!1}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.curvedLine"),shortcuts:["L",(0,C.t)("helpDialog.click"),(0,C.t)("helpDialog.click"),(0,C.t)("helpDialog.click")],isOr:!1}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.lock"),shortcuts:[E.tW.Q]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.preventBinding"),shortcuts:[(0,N.uY)("CtrlOrCmd")]}),(0,M.jsx)(Ci,{label:(0,C.t)("toolBar.link"),shortcuts:[(0,N.uY)("CtrlOrCmd+K")]})]}),(0,M.jsxs)(Ei,{className:"HelpDialog__island--view",caption:(0,C.t)("helpDialog.view"),children:[(0,M.jsx)(Ci,{label:(0,C.t)("buttons.zoomIn"),shortcuts:[(0,N.uY)("CtrlOrCmd++")]}),(0,M.jsx)(Ci,{label:(0,C.t)("buttons.zoomOut"),shortcuts:[(0,N.uY)("CtrlOrCmd+-")]}),(0,M.jsx)(Ci,{label:(0,C.t)("buttons.resetZoom"),shortcuts:[(0,N.uY)("CtrlOrCmd+0")]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,M.jsx)(Ci,{label:(0,C.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,M.jsx)(Ci,{label:(0,C.t)("buttons.zenMode"),shortcuts:[(0,N.uY)("Alt+Z")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.showGrid"),shortcuts:[(0,N.uY)("CtrlOrCmd+'")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.viewMode"),shortcuts:[(0,N.uY)("Alt+R")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.toggleTheme"),shortcuts:[(0,N.uY)("Alt+Shift+D")]}),(0,M.jsx)(Ci,{label:(0,C.t)("stats.title"),shortcuts:[(0,N.uY)("Alt+/")]})]}),(0,M.jsxs)(Ei,{className:"HelpDialog__island--editor",caption:(0,C.t)("helpDialog.editor"),children:[(0,M.jsx)(Ci,{label:(0,C.t)("labels.selectAll"),shortcuts:[(0,N.uY)("CtrlOrCmd+A")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.multiSelect"),shortcuts:[(0,N.uY)("Shift+".concat((0,C.t)("helpDialog.click")))]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.deepSelect"),shortcuts:[(0,N.uY)("CtrlOrCmd+".concat((0,C.t)("helpDialog.click")))]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,N.uY)("CtrlOrCmd+".concat((0,C.t)("helpDialog.drag")))]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.moveCanvas"),shortcuts:[(0,N.uY)("Space+".concat((0,C.t)("helpDialog.drag"))),(0,N.uY)("Wheel+".concat((0,C.t)("helpDialog.drag")))],isOr:!0}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.cut"),shortcuts:[(0,N.uY)("CtrlOrCmd+X")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.copy"),shortcuts:[(0,N.uY)("CtrlOrCmd+C")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.paste"),shortcuts:[(0,N.uY)("CtrlOrCmd+V")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.pasteAsPlaintext"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+V")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.copyAsPng"),shortcuts:[(0,N.uY)("Shift+Alt+C")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.copyStyles"),shortcuts:[(0,N.uY)("CtrlOrCmd+Alt+C")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.pasteStyles"),shortcuts:[(0,N.uY)("CtrlOrCmd+Alt+V")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.delete"),shortcuts:[(0,N.uY)("Delete")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.sendToBack"),shortcuts:[E.Um?(0,N.uY)("CtrlOrCmd+Alt+["):(0,N.uY)("CtrlOrCmd+Shift+[")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.bringToFront"),shortcuts:[E.Um?(0,N.uY)("CtrlOrCmd+Alt+]"):(0,N.uY)("CtrlOrCmd+Shift+]")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.sendBackward"),shortcuts:[(0,N.uY)("CtrlOrCmd+[")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.bringForward"),shortcuts:[(0,N.uY)("CtrlOrCmd+]")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.alignTop"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+Up")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.alignBottom"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+Down")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.alignLeft"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+Left")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.alignRight"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+Right")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.duplicateSelection"),shortcuts:[(0,N.uY)("CtrlOrCmd+D"),(0,N.uY)("Alt+".concat((0,C.t)("helpDialog.drag")))]}),(0,M.jsx)(Ci,{label:(0,C.t)("helpDialog.toggleElementLock"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+L")]}),(0,M.jsx)(Ci,{label:(0,C.t)("buttons.undo"),shortcuts:[(0,N.uY)("CtrlOrCmd+Z")]}),(0,M.jsx)(Ci,{label:(0,C.t)("buttons.redo"),shortcuts:E.ED?[(0,N.uY)("CtrlOrCmd+Y"),(0,N.uY)("CtrlOrCmd+Shift+Z")]:[(0,N.uY)("CtrlOrCmd+Shift+Z")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.group"),shortcuts:[(0,N.uY)("CtrlOrCmd+G")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.ungroup"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+G")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.flipHorizontal"),shortcuts:[(0,N.uY)("Shift+H")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.flipVertical"),shortcuts:[(0,N.uY)("Shift+V")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.showStroke"),shortcuts:[(0,N.uY)("S")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.showBackground"),shortcuts:[(0,N.uY)("G")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.decreaseFontSize"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+<")]}),(0,M.jsx)(Ci,{label:(0,C.t)("labels.increaseFontSize"),shortcuts:[(0,N.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Ai=function(e){e.elements,e.appState,e.files;var t=e.actionManager;return e.exportOpts,e.canvas,(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(Ye.Z,{icon:P.Hy,label:(0,C.t)("buttons.export"),onClick:function(){t.executeAction(tt)},dataTestId:"json-export-button"})})},Ti=n(8923),Ii={};Ii.styleTagTransform=ke(),Ii.setAttributes=we(),Ii.insert=ye().bind(null,"head"),Ii.domAPI=ve(),Ii.insertStyleElement=_e(),pe()(Ti.Z,Ii),Ti.Z&&Ti.Z.locals&&Ti.Z.locals;var Oi=n(2701),Di={};Di.styleTagTransform=ke(),Di.setAttributes=we(),Di.insert=ye().bind(null,"head"),Di.domAPI=ve(),Di.insertStyleElement=_e(),pe()(Oi.Z,Di),Oi.Z&&Oi.Z.locals&&Oi.Z.locals;var Ni=function(e){var t=e.id,n=e.elements,r=e.isPending,o=e.onClick,s=e.selected,c=e.onToggle,u=e.onDrag,l=(0,v.useRef)(null);(0,v.useEffect)((function(){var e=l.current;if(e)return(0,a.Z)(m().mark((function t(){var r,i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,Pe.$D)(n,{exportBackground:!1,viewBackgroundColor:Cr.white},null);case 4:i=t.sent,null===(r=i.querySelector(".style-fonts"))||void 0===r||r.remove(),e.innerHTML=i.outerHTML;case 7:case"end":return t.stop()}}),t)})))(),function(){e.innerHTML=""}}),[n]);var d=(0,v.useState)(!1),f=(0,i.Z)(d,2),h=f[0],p=f[1],g=Go().isMobile,y=r&&(0,M.jsx)("div",{className:"library-unit__adder",children:P.pO});return(0,M.jsxs)("div",{className:(0,w.Z)("library-unit",{"library-unit__active":n,"library-unit--hover":n&&h,"library-unit--selected":s}),onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:[(0,M.jsx)("div",{className:(0,w.Z)("library-unit__dragger",{"library-unit__pulse":!!r}),ref:l,draggable:!!n,onClick:n||r?function(e){t&&e.shiftKey?c(t,e):o()}:void 0,onDragStart:function(e){t?(p(!1),u(t,e)):e.preventDefault()}}),y,t&&n&&(h||g||s)&&(0,M.jsx)(We,{checked:s,onChange:function(e,n){return c(t,n)},className:"library-unit__checkbox"})]})},Pi=n(6440),Mi={};Mi.styleTagTransform=ke(),Mi.setAttributes=we(),Mi.insert=ye().bind(null,"head"),Mi.domAPI=ve(),Mi.insertStyleElement=_e(),pe()(Pi.Z,Mi),Pi.Z&&Pi.Z.locals&&Pi.Z.locals;var Li=n(5644),Ri=function(e){var t=e.theme,n=e.id,r=e.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,M.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(r,"&useHash=true&token=").concat(n,"&theme=").concat(t,"&version=").concat(re.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,C.t)("labels.libraries")})},Zi=function(e){var t=e.isLoading,n=e.libraryItems,r=e.onAddToLibrary,a=e.onInsertLibraryItems,s=e.pendingElements,c=e.selectedItems,u=e.onSelectItems,l=e.theme,d=e.id,f=e.libraryReturnUrl,h=(0,v.useState)(null),p=(0,i.Z)(h,2),m=p[0],g=p[1],y=function(e,t){var n=!c.includes(e),r=[].concat((0,o.Z)(E),(0,o.Z)(k));if(n){if(t.shiftKey&&m){var i=r.findIndex((function(e){return e.id===m})),a=r.findIndex((function(t){return t.id===e}));if(-1===i||-1===a)return void u([].concat((0,o.Z)(c),[e]));var s=(0,N.xn)(c),l=r.reduce((function(e,t,n){return(n>=i&&n<=a||s.has(t.id))&&e.push(t.id),e}),[]);u(l)}else u([].concat((0,o.Z)(c),[e]));g(e)}else g(null),u(c.filter((function(t){return t!==e})))},b=function(e){return c.includes(e)?n.filter((function(e){return c.includes(e.id)})):n.filter((function(t){return t.id===e}))},x=function(e){var t,n,r,i,o;return(0,M.jsx)(ir,{children:(0,M.jsx)(Ni,{elements:null===(t=e.item)||void 0===t?void 0:t.elements,isPending:!(null!==(n=e.item)&&void 0!==n&&n.id||null===(r=e.item)||void 0===r||!r.elements),onClick:e.onClick||function(){},id:(null===(i=e.item)||void 0===i?void 0:i.id)||null,selected:!(null===(o=e.item)||void 0===o||!o.id)&&c.includes(e.item.id),onToggle:y,onDrag:function(e,t){t.dataTransfer.setData(re.LO.excalidrawlib,(0,Re.NI)(b(e)))}})},e.key)},_=function(e){var t=e.map((function(e){return e.id?x({item:e,onClick:function(){return a(b(e.id))},key:e.id}):x({key:"__pending__item__",item:e,onClick:function(){return r(s)}})})),n=(0,N.yo)(t,4);return n.length||(n=[[]]),n.map((function(e,t,n){return t===n.length-1&&(e=e.concat(new Array(4-e.length).fill(null).map((function(e,t){return x({key:"empty_".concat(t),item:null})})))),(0,M.jsx)(rr,{align:"center",className:"library-menu-items-container__row",children:e},t)}))},E=n.filter((function(e){return"published"!==e.status})),k=n.filter((function(e){return"published"===e.status})),S=!(n.length||E.length||k.length||s.length);return(0,M.jsx)("div",{className:"library-menu-items-container",style:s.length||E.length||k.length?{justifyContent:"flex-start"}:{},children:(0,M.jsxs)(ir,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:k.length>0?1:"0 1 auto",marginBottom:0},children:[(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{children:[(s.length>0||E.length>0||k.length>0)&&(0,M.jsx)("div",{className:"library-menu-items-container__header",children:(0,C.t)("labels.personalLib")}),t&&(0,M.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,M.jsx)(Li.Z,{})})]}),s.length||E.length?_([].concat((0,o.Z)(s.length?[{id:null,elements:s}]:[]),(0,o.Z)(E))):(0,M.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,M.jsx)("div",{className:(0,w.Z)({"library-menu-items__no-items__label":S}),children:(0,C.t)("library.noItems")}),(0,M.jsx)("div",{className:"library-menu-items__no-items__hint",children:k.length>0?(0,C.t)("library.hint_emptyPrivateLibrary"):(0,C.t)("library.hint_emptyLibrary")})]})]}),(0,M.jsxs)(M.Fragment,{children:[(k.length>0||s.length>0||E.length>0)&&(0,M.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,C.t)("labels.excalidrawLib")}),k.length>0?_(k):E.length>0?(0,M.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,C.t)("library.noItems")}):null]}),S&&(0,M.jsx)(Ri,{id:d,libraryReturnUrl:f,theme:l})]})})},Fi=n(4739),Ui=n(9487),zi=n(9430),Bi=n(7046),Vi=n(3024),Wi=n(7589),Hi={};Hi.styleTagTransform=ke(),Hi.setAttributes=we(),Hi.insert=ye().bind(null,"head"),Hi.domAPI=ve(),Hi.insertStyleElement=_e(),pe()(Wi.Z,Hi),Wi.Z&&Wi.Z.locals&&Wi.Z.locals;var qi=n(8465),Gi={};function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Gi.styleTagTransform=ke(),Gi.setAttributes=we(),Gi.insert=ye().bind(null,"head"),Gi.domAPI=ve(),Gi.insertStyleElement=_e(),pe()(qi.Z,Gi),qi.Z&&qi.Z.locals&&qi.Z.locals;var Qi=function(e){var t=e.libItem,n=e.appState,r=e.index,i=e.onChange,o=e.onRemove,s=(0,v.useRef)(null),c=(0,v.useRef)(null);return(0,v.useEffect)((function(){var e=s.current;e&&(0,a.Z)(m().mark((function r(){var i;return m().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Vi.$D)({elements:t.elements,appState:Ki(Ki({},n),{},{viewBackgroundColor:Cr.white,exportBackground:!0}),files:null});case 2:i=r.sent,e.innerHTML=i.outerHTML;case 4:case"end":return r.stop()}}),r)})))()}),[t.elements,n]),(0,M.jsxs)("div",{className:"single-library-item",children:["published"===t.status&&(0,M.jsx)("span",{className:"single-library-item-status",children:(0,C.t)("labels.statusPublished")}),(0,M.jsx)("div",{ref:s,className:"single-library-item__svg"}),(0,M.jsx)(k.V,{"aria-label":(0,C.t)("buttons.remove"),type:"button",icon:P.Tw,className:"single-library-item--remove",onClick:o.bind(null,t.id),title:(0,C.t)("buttons.remove")}),(0,M.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,M.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,M.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,M.jsx)("span",{style:{fontWeight:500,color:Cr.gray[6]},children:(0,C.t)("publishDialog.itemName")}),(0,M.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,M.jsx)("input",{type:"text",ref:c,style:{width:"80%",padding:"0.2rem"},defaultValue:t.name,placeholder:"Item name",onChange:function(e){i(e.target.value,r)}})]}),(0,M.jsx)("span",{className:"error",children:t.error})]})]})},Xi=n(6428);function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return to(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var no="publish-library-data",ro=function(){var e=(0,a.Z)(m().mark((function e(t){var n,r,o,a,s,c,u,l,d,f,h,p,v,g,y,b,w;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=6,r=128,o=Math.round(r/16),a=Math.max(Math.round(r/64),2),s=(0,N.yo)(t,n),(c=document.createElement("canvas")).width=s[0].length*r+(s[0].length+1)*(2*o)-2*o,c.height=s.length*r+(s.length+1)*(2*o)-2*o,(u=c.getContext("2d")).fillStyle=Cr.white,u.fillRect(0,0,c.width,c.height),l=eo(t.entries()),e.prev=12,l.s();case 14:if((d=l.n()).done){e.next=28;break}return f=(0,i.Z)(d.value,2),h=f[0],p=f[1],e.next=18,(0,Vi.NL)({elements:p.elements,files:null,maxWidthOrHeight:r});case 18:v=e.sent,g=v.width,y=v.height,b=Math.floor(h/n)*(r+2*o),w=h%n*(r+2*o),u.drawImage(v,w+(r-g)/2+o,b+(r-y)/2+o),u.lineWidth=a,u.strokeStyle=Cr.gray[4],u.strokeRect(w+o/2,b+o/2,r+o,r+o);case 26:e.next=14;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(12),l.e(e.t0);case 33:return e.prev=33,l.f(),e.finish(33);case 36:return e.t1=Me.Tu,e.t2=File,e.next=40,(0,Me._c)(c);case 40:return e.t3=e.sent,e.t4=[e.t3],e.t5={type:re.LO.png},e.t6=new e.t2(e.t4,"preview",e.t5),e.t7={outputType:re.LO.jpg,maxWidthOrHeight:5e3},e.next=47,(0,e.t1)(e.t6,e.t7);case 47:return e.abrupt("return",e.sent);case 48:case"end":return e.stop()}}),e,null,[[12,30,33,36]])})));return function(t){return e.apply(this,arguments)}}(),io=function(e){var t=e.onClose,n=e.libraryItems,r=e.appState,o=e.onSuccess,s=e.onError,c=e.updateItemsInStorage,u=e.onRemove,l=(0,v.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),d=(0,i.Z)(l,2),f=d[0],p=d[1],g=(0,v.useState)(!1),y=(0,i.Z)(g,2),b=y[0],w=y[1];(0,v.useEffect)((function(){var e=function(){try{var e=localStorage.getItem(no);if(e)return JSON.parse(e)}catch(e){console.error(e)}return null}();e&&p(e)}),[]);var x=(0,v.useState)(n.slice()),_=(0,i.Z)(x,2),E=_[0],k=_[1];(0,v.useEffect)((function(){k(n.slice())}),[n]);var S,j=function(e){p(Ji(Ji({},f),{},(0,h.Z)({},e.target.name,e.target.value)))},A=function(){var e=(0,a.Z)(m().mark((function e(t){var n,r,i,a,c,u,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w(!0),n=[],r=!1,E.forEach((function(e){var t="";e.name||(t=(0,C.t)("publishDialog.errors.required"),r=!0),n.push(Ji(Ji({},e),{},{error:t}))})),!r){e.next=9;break}return k(n),w(!1),e.abrupt("return");case 9:return e.next=11,ro(E);case 11:i=e.sent,a={type:re.r8.excalidrawLibrary,version:re.Kr.excalidrawLibrary,source:re.pb,libraryItems:E},c=JSON.stringify(a,null,2),u=new Blob([c],{type:"application/json"}),(l=new FormData).append("excalidrawLib",u),l.append("previewImage",i),l.append("previewImageType",i.type),l.append("title",f.name),l.append("authorName",f.authorName),l.append("githubHandle",f.githubHandle),l.append("name",f.name),l.append("description",f.description),l.append("twitterHandle",f.twitterHandle),l.append("website",f.website),fetch("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries/submit",{method:"post",body:l}).then((function(e){return e.ok?e.json().then((function(e){var t=e.url;localStorage.removeItem(no),o({url:t,authorName:f.authorName,items:E})})):e.json().catch((function(){throw new Error(e.statusText||"something went wrong")})).then((function(t){throw new Error(t.message||e.statusText||"something went wrong")}))}),(function(e){console.error(e),s(e),w(!1)})).catch((function(e){console.error(e),s(e),w(!1)}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=(0,v.useCallback)((function(){c(E),function(e){try{localStorage.setItem(no,JSON.stringify(e))}catch(e){console.error(e)}}(f),t()}),[E,t,c,f]),I=!!n.length,O=n.some((function(e){return"published"===e.status}));return(0,M.jsx)(xr.V,{onCloseRequest:T,title:(0,C.t)("publishDialog.title"),className:"publish-library",children:I?(0,M.jsxs)("form",{onSubmit:A,children:[(0,M.jsxs)("div",{className:"publish-library-note",children:[(0,C.t)("publishDialog.noteDescription.pre"),(0,M.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,C.t)("publishDialog.noteDescription.link")})," ",(0,C.t)("publishDialog.noteDescription.post")]}),(0,M.jsxs)("span",{className:"publish-library-note",children:[(0,C.t)("publishDialog.noteGuidelines.pre"),(0,M.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,C.t)("publishDialog.noteGuidelines.link")}),(0,C.t)("publishDialog.noteGuidelines.post")]}),(0,M.jsx)("div",{className:"publish-library-note",children:(0,C.t)("publishDialog.noteItems")}),O&&(0,M.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,C.t)("publishDialog.republishWarning")}),(S=[],E.forEach((function(e,t){S.push((0,M.jsx)("div",{className:"single-library-item-wrapper",children:(0,M.jsx)(Qi,{libItem:e,appState:r,index:t,onChange:function(e,t){var n=E.slice();n[t].name=e,k(n)},onRemove:u})},t))})),(0,M.jsx)("div",{className:"selected-library-items",children:S})),(0,M.jsxs)("div",{className:"publish-library__fields",children:[(0,M.jsxs)("label",{children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{children:(0,C.t)("publishDialog.libraryName")}),(0,M.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,M.jsx)("input",{type:"text",name:"name",required:!0,value:f.name,onChange:j,placeholder:(0,C.t)("publishDialog.placeholder.libraryName")})]}),(0,M.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{children:(0,C.t)("publishDialog.libraryDesc")}),(0,M.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,M.jsx)("textarea",{name:"description",rows:4,required:!0,value:f.description,onChange:j,placeholder:(0,C.t)("publishDialog.placeholder.libraryDesc")})]}),(0,M.jsxs)("label",{children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{children:(0,C.t)("publishDialog.authorName")}),(0,M.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,M.jsx)("input",{type:"text",name:"authorName",required:!0,value:f.authorName,onChange:j,placeholder:(0,C.t)("publishDialog.placeholder.authorName")})]}),(0,M.jsxs)("label",{children:[(0,M.jsx)("span",{children:(0,C.t)("publishDialog.githubUsername")}),(0,M.jsx)("input",{type:"text",name:"githubHandle",value:f.githubHandle,onChange:j,placeholder:(0,C.t)("publishDialog.placeholder.githubHandle")})]}),(0,M.jsxs)("label",{children:[(0,M.jsx)("span",{children:(0,C.t)("publishDialog.twitterUsername")}),(0,M.jsx)("input",{type:"text",name:"twitterHandle",value:f.twitterHandle,onChange:j,placeholder:(0,C.t)("publishDialog.placeholder.twitterHandle")})]}),(0,M.jsxs)("label",{children:[(0,M.jsx)("span",{children:(0,C.t)("publishDialog.website")}),(0,M.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,C.t)("publishDialog.errors.website"),value:f.website,onChange:j,placeholder:(0,C.t)("publishDialog.placeholder.website")})]}),(0,M.jsxs)("span",{className:"publish-library-note",children:[(0,C.t)("publishDialog.noteLicense.pre"),(0,M.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,C.t)("publishDialog.noteLicense.link")}),(0,C.t)("publishDialog.noteLicense.post")]})]}),(0,M.jsxs)("div",{className:"publish-library__buttons",children:[(0,M.jsx)(Xi.Z,{label:(0,C.t)("buttons.cancel"),onClick:T,"data-testid":"cancel-clear-canvas-button"}),(0,M.jsx)(Xi.Z,{type:"submit",label:(0,C.t)("buttons.submit"),actionType:"primary",isLoading:b})]})]}):(0,M.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,C.t)("publishDialog.atleastOneLibItem")})})},oo=function(e){var t=(0,v.useRef)(null);return(0,v.useEffect)((function(){var n=function(n){var r=t.current;!r||r.contains(n.target)||(0,o.Z)(document.querySelectorAll("[data-prevent-outside-click]")).some((function(e){return e.contains(n.target)}))||e(n)};return document.addEventListener("pointerdown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("pointerdown",n),document.removeEventListener("touchstart",n)}}),[t,e]),t},ao=function(e,t){return e.filter((function(e){return t.includes(e.id)}))},so=function(e){var t=e.setAppState,n=e.selectedItems,r=e.library,o=e.onRemoveFromLibrary,s=e.resetLibrary,c=e.onSelectItems,u=e.appState,l=(0,Fi.KO)(Pn.rF,Ui.yE),d=(0,i.Z)(l,1)[0],f=(0,v.useCallback)((function(){var e=n.length?(0,C.t)("alerts.removeItemsFromsLibrary",{count:n.length}):(0,C.t)("alerts.resetLibrary"),t=n.length?(0,C.t)("confirmDialog.removeItemsFromLib"):(0,C.t)("confirmDialog.resetLibrary");return(0,M.jsx)(Bi.Z,{onConfirm:function(){n.length?o():s(),y(!1)},onCancel:function(){y(!1)},title:t,children:(0,M.jsx)("p",{children:e})})}),[n,o,s]),h=(0,v.useState)(!1),p=(0,i.Z)(h,2),g=p[0],y=p[1],b=!!n.length,w=b?d.libraryItems.filter((function(e){return n.includes(e.id)})):d.libraryItems,x=b?(0,C.t)("buttons.remove"):(0,C.t)("buttons.resetLibrary"),_=(0,v.useState)(!1),E=(0,i.Z)(_,2),S=E[0],j=E[1],A=(0,v.useState)(null),T=(0,i.Z)(A,2),I=T[0],O=T[1],D=(0,v.useCallback)((function(){return(0,M.jsxs)(xr.V,{onCloseRequest:function(){return O(null)},title:(0,C.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,M.jsxs)("p",{children:[(0,C.t)("publishSuccessDialog.content",{authorName:I.authorName})," ",(0,M.jsx)("a",{href:null==I?void 0:I.url,target:"_blank",rel:"noopener noreferrer",children:(0,C.t)("publishSuccessDialog.link")})]}),(0,M.jsx)(k.V,{type:"button",title:(0,C.t)("buttons.close"),"aria-label":(0,C.t)("buttons.close"),label:(0,C.t)("buttons.close"),onClick:function(){return O(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})}),[O,I]),L=(0,v.useCallback)((function(e,t){j(!1),O({url:e.url,authorName:e.authorName});var i=t.slice();i.forEach((function(e){n.includes(e.id)&&(e.status="published")})),r.setLibrary(i)}),[j,O,n,r]),R=function(){var e=(0,a.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.updateLibrary({libraryItems:(0,Le.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=10;break}return console.warn(e.t0),e.abrupt("return");case 10:t({errorMessage:(0,C.t)("errors.importLibraryError")});case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)(m().mark((function e(){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=4;break}e.t0=w,e.next=7;break;case 4:return e.next=6,r.getLatestLibrary();case 6:e.t0=e.sent;case 7:n=e.t0,(0,Re.t1)(n).catch(N.FG).catch((function(e){t({errorMessage:e.message})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=(0,Fi.KO)(Wo),U=(0,i.Z)(F,2),z=U[0],B=U[1],V=oo((function(){return B(!1)}));return(0,M.jsxs)("div",{style:{position:"relative"},children:[(0,M.jsx)("button",{type:"button",className:"Sidebar__dropdown-btn","data-prevent-outside-click":!0,onClick:function(){return B(!z)},children:P.YA}),n.length>0&&(0,M.jsx)("div",{className:"library-actions-counter",children:n.length}),z&&(0,M.jsxs)("div",{className:"Sidebar__dropdown-content menu-container",ref:V,children:[!b&&(0,M.jsx)(Ye.Z,{label:(0,C.t)("buttons.load"),icon:P.Tl,dataTestId:"lib-dropdown--load",onClick:R}),g&&f(),S&&(0,M.jsx)(io,{onClose:function(){return j(!1)},libraryItems:ao(d.libraryItems,n),appState:u,onSuccess:function(e){return L(e,d.libraryItems)},onError:function(e){return window.alert(e)},updateItemsInStorage:function(){return r.setLibrary(d.libraryItems)},onRemove:function(e){return c(n.filter((function(t){return t!==e})))}}),I&&D(),!!w.length&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Ye.Z,{label:(0,C.t)("buttons.export"),icon:P.Hy,onClick:Z,dataTestId:"lib-dropdown--export"}),(0,M.jsx)(Ye.Z,{label:x,icon:P.XH,onClick:function(){return y(!0)},dataTestId:"lib-dropdown--remove"})]}),b&&(0,M.jsx)(Ye.Z,{label:(0,C.t)("buttons.publishLibrary"),icon:P.Nw,dataTestId:"lib-dropdown--publish",onClick:function(){return j(!0)}})]})]})},co=(0,v.forwardRef)((function(e,t){var n=e.children;return(0,M.jsx)("div",{ref:t,className:"layer-ui__library",children:n})})),uo=function(e){var t=e.onInsertLibraryItems,n=e.pendingElements,r=e.onAddToLibrary,s=e.setAppState,c=e.libraryReturnUrl,u=e.library,l=e.id,d=e.appState,f=e.selectedItems,h=e.onSelectItems,p=(0,Fi.KO)(Pn.rF,Ui.yE),g=(0,i.Z)(p,1)[0],y=(0,v.useCallback)(function(){var e=(0,a.Z)(m().mark((function e(t,n){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,In.L)("element","addToLibrary","ui"),!t.some((function(e){return"image"===e.type}))){e.next=3;break}return e.abrupt("return",s({errorMessage:"Support for adding images to the library coming soon!"}));case 3:i=[{status:"unpublished",elements:t,id:(0,ft.kb)(),created:Date.now()}].concat((0,o.Z)(n)),r(),u.setLibrary(i).catch((function(){s({errorMessage:(0,C.t)("alerts.errorAddingToLibrary")})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r,u,s]);if("loading"===g.status&&!g.isInitialized)return(0,M.jsx)(co,{children:(0,M.jsx)("div",{className:"layer-ui__library-message",children:(0,M.jsxs)("div",{children:[(0,M.jsx)(Li.Z,{size:"2em"}),(0,M.jsx)("span",{children:(0,C.t)("labels.libraryLoadingMessage")})]})})});var b=g.libraryItems.length>0||n.length>0;return(0,M.jsxs)(co,{children:[(0,M.jsx)(Zi,{isLoading:"loading"===g.status,libraryItems:g.libraryItems,onAddToLibrary:function(e){return y(e,g.libraryItems)},onInsertLibraryItems:t,pendingElements:n,selectedItems:f,onSelectItems:h,id:l,libraryReturnUrl:c,theme:d.theme}),b&&(0,M.jsx)(Ri,{id:l,libraryReturnUrl:c,theme:d.theme})]})},lo=function(e){var t=e.appState,n=e.onInsertElements,r=e.libraryReturnUrl,o=e.focusContainer,s=e.library,c=e.id,u=ta(),l=Jo(),d=Go(),f=(0,v.useState)([]),h=(0,i.Z)(f,2),p=h[0],g=h[1],y=(0,Fi.KO)(Pn.rF,Ui.yE),b=(0,i.Z)(y,1)[0],w=(0,v.useRef)(null),x=(0,v.useCallback)((function(){document.querySelector(".Dialog")||u({openSidebar:null})}),[u]);!function(e,t){(0,v.useEffect)((function(){var n=function(n){e.current&&(n.target instanceof Element&&(e.current.contains(n.target)||!document.body.contains(n.target))||t(n))};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}}),[e,t])}(w,(0,v.useCallback)((function(e){e.target.closest(".ToolIcon__library")||t.isSidebarDocked&&d.canDeviceFitSidebar||x()}),[x,t.isSidebarDocked,d.canDeviceFitSidebar])),(0,v.useEffect)((function(){var e=function(e){e.key!==E.tW.ESCAPE||t.isSidebarDocked&&d.canDeviceFitSidebar||x()};return document.addEventListener(re.Ks.KEYDOWN,e),function(){document.removeEventListener(re.Ks.KEYDOWN,e)}}),[x,t.isSidebarDocked,d.canDeviceFitSidebar]);var k=(0,v.useCallback)((function(){u({selectedElementIds:{},selectedGroupIds:{}})}),[u]),S=(0,v.useCallback)(function(){var e=(0,a.Z)(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.filter((function(e){return!p.includes(e.id)})),s.setLibrary(n).catch((function(){u({errorMessage:(0,C.t)("alerts.errorRemovingFromLibrary")})})),g([]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,u,p,g]),j=(0,v.useCallback)((function(){s.resetLibrary(),o()}),[s,o]);return(0,M.jsxs)(zi.Y,{__isInternal:!0,className:"layer-ui__library-sidebar",initialDockedState:t.isSidebarDocked,onDock:function(e){(0,In.L)("library","toggleLibraryDock (".concat(e?"dock":"undock",")"),"sidebar (".concat(d.isMobile?"mobile":"desktop",")"))},ref:w,children:[(0,M.jsx)(zi.Y.Header,{className:"layer-ui__library-header",children:(0,M.jsx)(so,{appState:t,setAppState:u,selectedItems:p,onSelectItems:g,library:s,onRemoveFromLibrary:function(){return S(b.libraryItems)},resetLibrary:j})}),(0,M.jsx)(uo,{pendingElements:(0,_.eD)(l,t,!0),onInsertLibraryItems:function(e){n((0,Pn.WV)(e))},onAddToLibrary:k,setAppState:u,libraryReturnUrl:r,library:s,id:c,appState:t,selectedItems:p,onSelectItems:g})]},"library")},fo=n(1434),ho={};ho.styleTagTransform=ke(),ho.setAttributes=we(),ho.insert=ye().bind(null,"head"),ho.domAPI=ve(),ho.insertStyleElement=_e(),pe()(fo.Z,ho),fo.Z&&fo.Z.locals&&fo.Z.locals;var po=n(9144),mo={};mo.styleTagTransform=ke(),mo.setAttributes=we(),mo.insert=ye().bind(null,"head"),mo.domAPI=ve(),mo.insertStyleElement=_e(),pe()(po.Z,mo),po.Z&&po.Z.locals&&po.Z.locals;var vo=function(e){var t=e.children;return e.shouldRender?(0,M.jsx)(M.Fragment,{children:t}):null},go=n(733),yo=function(e){var t=e.appState,n=e.actionManager,r=e.showExitZenModeBtn,i=e.renderWelcomeScreen,o=e.children,a=Go(),s=!t.viewModeEnabled&&t.multiElement&&a.isTouchScreen;return(0,M.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,M.jsx)("div",{className:(0,w.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled}),children:(0,M.jsx)(ir,{gap:2,children:(0,M.jsxs)(Wr,{heading:"canvasActions",children:[(0,M.jsx)(pr,{renderAction:n.renderAction,zoom:t.zoom}),!t.viewModeEnabled&&(0,M.jsx)(mr,{renderAction:n.renderAction,className:(0,w.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":t.zenModeEnabled})}),s&&(0,M.jsx)(gr,{renderAction:n.renderAction,className:(0,w.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled})})]})})}),(0,M.jsx)(go.Z,{children:o}),(0,M.jsx)("div",{className:(0,w.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":t.zenModeEnabled}),children:(0,M.jsxs)("div",{style:{position:"relative"},children:[(0,M.jsx)(vo,{shouldRender:i&&!t.isLoading,children:(0,M.jsxs)("div",{className:"virgil WelcomeScreen-decor WelcomeScreen-decor--help-pointer",children:[(0,M.jsx)("div",{children:(0,C.t)("welcomeScreen.helpHints")}),P._U]})}),n.renderAction("toggleShortcuts")]})}),(0,M.jsx)(vr,{actionManager:n,showExitZenModeBtn:r})]})},bo=yo;yo.displayName="Footer";var wo=["suggestedBindings","startBoundElement"];function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _o=function(e){var t,n=e.actionManager,r=e.appState,o=e.files,s=e.setAppState,c=e.elements,u=e.canvas,l=e.onCollabButtonClick,d=e.onLockToggle,f=e.onPenModeToggle,p=e.onInsertElements,v=e.showExitZenModeBtn,g=e.isCollaborating,y=e.renderTopRightUI,b=e.renderCustomStats,x=e.renderCustomSidebar,E=e.libraryReturnUrl,k=e.UIOptions,S=e.focusContainer,A=e.library,T=e.id,I=e.onImageAction,O=e.renderWelcomeScreen,D=e.onHomeButtonClick,L=e.onThemeToggle,R=e.children,Z=Go(),F=(0,N.kr)(R),U=function(){return k.canvasActions.export?(0,M.jsx)(Ai,{elements:c,appState:r,files:o,actionManager:n,exportOpts:k.canvasActions.export,canvas:u}):null},z=function(){if(!k.canvasActions.saveAsImage)return null;var e=function(e){return function(){var t=(0,a.Z)(m().mark((function t(n){var i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,In.L)("export",e,"ui"),t.next=3,Ze(e,n,r,o,{exportBackground:r.exportBackground,name:r.name,viewBackgroundColor:r.viewBackgroundColor}).catch(N.FG).catch((function(e){console.error(e),s({errorMessage:e.message})}));case 3:i=t.sent,r.exportEmbedScene&&i&&(0,Me.g8)(i)&&s({fileHandle:i});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return(0,M.jsx)(Ir,{elements:c,appState:r,setAppState:s,files:o,actionManager:n,onExportToPng:e("png"),onExportToSvg:e("svg"),onExportToClipboard:e("clipboard")})},B=(0,Fi.KO)(Vo),V=(0,i.Z)(B,2),W=V[0],H=V[1],q=oo((function(){return H(!1)})),G=function(){return"customSidebar"===r.openSidebar?(null==x?void 0:x())||null:"library"===r.openSidebar?(0,M.jsx)(lo,{appState:r,onInsertElements:p,libraryReturnUrl:E,focusContainer:S,library:A,id:T}):null},Y=(0,Fi.KO)(zi.b,Ui.yE),K=(0,i.Z)(Y,1)[0];return(0,M.jsxs)(M.Fragment,{children:[r.isLoading&&(0,M.jsx)(Zr.z,{delay:250}),r.errorMessage&&(0,M.jsx)(_r,{message:r.errorMessage,onClose:function(){return s({errorMessage:null})}}),"help"===r.openDialog&&(0,M.jsx)(ji,{onClose:function(){s({openDialog:null})}}),z(),r.pasteDialog.shown&&(0,M.jsx)(pi,{setAppState:s,appState:r,onInsertChart:p,onClose:function(){return s({pasteDialog:{shown:!1,data:null}})}}),Z.isMobile&&(0,M.jsx)(ui,{onThemeToggle:L,onHomeButtonClick:D,renderWelcomeScreen:O,appState:r,elements:c,actionManager:n,renderJSONExportDialog:U,renderImageExportDialog:z,setAppState:s,onCollabButtonClick:l,onLockToggle:function(){return d()},onPenModeToggle:f,canvas:u,isCollaborating:g,onImageAction:I,renderTopRightUI:y,renderCustomStats:b,renderSidebars:G,device:Z}),!Z.isMobile&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:(0,w.Z)("layer-ui__wrapper",{"disable-pointerEvents":r.draggingElement||r.resizingElement||r.editingElement&&!(0,j.iB)(r.editingElement)}),style:("library"===r.openSidebar&&r.isSidebarDocked||K.docked)&&Z.canDeviceFitSidebar?{width:"calc(100% - ".concat(re.EE,"px)")}:{},children:[(t=(0,j.RT)(r,c),(0,M.jsxs)(Nr,{side:"top",children:[O&&!r.isLoading&&(0,M.jsx)(ai,{appState:r,actionManager:n,onCollabButtonClick:l}),(0,M.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,M.jsxs)(ir,{gap:6,className:(0,w.Z)("App-menu_top__left",{"disable-pointerEvents":r.zenModeEnabled}),children:[(0,M.jsxs)("div",{style:{position:"relative"},children:[(0,M.jsx)(vo,{shouldRender:O&&!r.isLoading,children:(0,M.jsxs)("div",{className:"virgil WelcomeScreen-decor WelcomeScreen-decor--menu-pointer",children:[P.oQ,(0,M.jsx)("div",{children:(0,C.t)("welcomeScreen.menuHints")})]})}),(0,M.jsx)("button",{"data-prevent-outside-click":!0,className:(0,w.Z)("menu-button","zen-mode-transition",{"transition-left":r.zenModeEnabled}),onClick:function(){return H(!W)},type:"button","data-testid":"menu-button",children:P.RY}),W&&(0,M.jsx)("div",{ref:q,style:{position:"absolute",top:"100%",marginTop:".25rem"},children:(0,M.jsx)(Wr,{heading:"canvasActions",children:(0,M.jsxs)(Rr.W,{className:"menu-container",padding:2,style:{zIndex:1},children:[!r.viewModeEnabled&&n.renderAction("loadScene"),r.fileHandle&&n.renderAction("saveToActiveFile"),U(),k.canvasActions.saveAsImage&&(0,M.jsx)(Ye.Z,{label:(0,C.t)("buttons.exportImage"),icon:P.J8,dataTestId:"image-export-button",onClick:function(){return s({openDialog:"imageExport"})},shortcut:(0,He.C)("imageExport")}),l&&(0,M.jsx)(wr,{onClick:l}),n.renderAction("toggleShortcuts",void 0,!0),!r.viewModeEnabled&&n.renderAction("clearCanvas"),(0,M.jsx)(ni,{}),(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:".5rem"},children:[(0,M.jsx)("div",{children:(0,M.jsx)(Ye.Z,{label:"dark"===r.theme?(0,C.t)("buttons.lightMode"):(0,C.t)("buttons.darkMode"),onClick:function(){L(r.theme===re.C6.LIGHT?re.C6.DARK:re.C6.LIGHT)},icon:"dark"===r.theme?P.NW:P.kL,dataTestId:"toggle-dark-mode",shortcut:(0,He.C)("toggleTheme")})}),!r.viewModeEnabled&&(0,M.jsxs)("div",{children:[(0,M.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:(0,C.t)("labels.canvasBackground")}),(0,M.jsx)("div",{style:{padding:"0 0.625rem"},children:n.renderAction("changeViewBackgroundColor")})]})]})]})})})]}),t&&(0,M.jsx)(Wr,{heading:"selectedShapeActions",className:(0,w.Z)("selected-shape-actions zen-mode-transition",{"transition-left":r.zenModeEnabled}),children:(0,M.jsx)(Rr.W,{className:re.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(r.height-166,"px")},children:(0,M.jsx)(fr,{appState:r,elements:c,renderAction:n.renderAction})})})]}),!r.viewModeEnabled&&(0,M.jsx)(Wr,{heading:"shapes",className:"shapes-section",children:function(e){return(0,M.jsxs)("div",{style:{position:"relative"},children:[(0,M.jsx)(vo,{shouldRender:O&&!r.isLoading,children:(0,M.jsxs)("div",{className:"virgil WelcomeScreen-decor WelcomeScreen-decor--top-toolbar-pointer",children:[(0,M.jsx)("div",{className:"WelcomeScreen-decor--top-toolbar-pointer__label",children:(0,C.t)("welcomeScreen.toolbarHints")}),P.DJ]})}),(0,M.jsx)(ir,{gap:4,align:"start",children:(0,M.jsx)(rr,{gap:1,className:(0,w.Z)("App-toolbar-container",{"zen-mode":r.zenModeEnabled}),children:(0,M.jsxs)(Rr.W,{padding:1,className:(0,w.Z)("App-toolbar",{"zen-mode":r.zenModeEnabled}),children:[(0,M.jsx)(Lr,{appState:r,elements:c,isMobile:Z.isMobile,device:Z}),e,(0,M.jsxs)(rr,{gap:1,children:[(0,M.jsx)($r,{zenModeEnabled:r.zenModeEnabled,checked:r.penMode,onChange:f,title:(0,C.t)("toolBar.penMode"),penDetected:r.penDetected}),(0,M.jsx)(Ur,{zenModeEnabled:r.zenModeEnabled,checked:r.activeTool.locked,onChange:function(){return d()},title:(0,C.t)("toolBar.lock")}),(0,M.jsx)("div",{className:"App-toolbar__divider"}),(0,M.jsx)(hr,{appState:r,canvas:u,activeTool:r.activeTool,setAppState:s,onImageAction:function(e){var t=e.pointerType;I({insertOnCanvasDirectly:"mouse"!==t})}})]})]})})})]})}}),(0,M.jsxs)("div",{className:(0,w.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":r.zenModeEnabled}),children:[(0,M.jsx)(Yr,{collaborators:r.collaborators,actionManager:n}),l&&(0,M.jsx)(wr,{isInHamburgerMenu:!1,onClick:l}),null==y?void 0:y(Z.isMobile,r),!r.viewModeEnabled&&(0,M.jsx)(Xr,{appState:r,setAppState:s})]})]})]})),(0,M.jsx)(bo,{renderWelcomeScreen:O,appState:r,actionManager:n,showExitZenModeBtn:v,children:F.FooterCenter}),r.showStats&&(0,M.jsx)(ti,{appState:r,setAppState:s,elements:c,onClose:function(){n.executeAction(hn)},renderCustomStats:b}),r.scrolledOutside&&(0,M.jsx)("button",{className:"scroll-back-to-content",onClick:function(){s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,_.W)(c,r,u)))},children:(0,C.t)("buttons.scrollBackToContent")})]}),G()]})]})},Eo=function(e,t){var n=function(e){return e.suggestedBindings,e.startBoundElement,(0,$n.Z)(e,wo)},r=n(e.appState),i=n(t.appState),o=Object.keys(r);return e.renderTopRightUI===t.renderTopRightUI&&e.renderCustomStats===t.renderCustomStats&&e.renderCustomSidebar===t.renderCustomSidebar&&e.langCode===t.langCode&&e.elements===t.elements&&e.files===t.files&&e.children===t.children&&o.every((function(e){return r[e]===i[e]}))},ko=g().memo(_o,Eo),Co=n(9650),So={};So.styleTagTransform=ke(),So.setAttributes=we(),So.insert=ye().bind(null,"head"),So.domAPI=ve(),So.insertStyleElement=_e(),pe()(Co.Z,So),Co.Z&&Co.Z.locals&&Co.Z.locals;var jo=function(e){var t=e.message,n=e.onClose,r=e.closable,i=void 0!==r&&r,o=e.duration,a=void 0===o?5e3:o,s=(0,v.useRef)(0),c=a!==1/0,u=(0,v.useCallback)((function(){c&&(s.current=window.setTimeout((function(){return n()}),a))}),[n,a,c]);(0,v.useEffect)((function(){if(c)return u(),function(){return clearTimeout(s.current)}}),[u,t,a,c]);var l=c?function(){return clearTimeout(null==s?void 0:s.current)}:void 0,d=c?u:void 0;return(0,M.jsxs)("div",{className:"Toast",onMouseEnter:l,onMouseLeave:d,children:[(0,M.jsx)("p",{className:"Toast__message",children:t}),i&&(0,M.jsx)(k.V,{icon:P.Tw,"aria-label":"close",type:"icon",onClick:n,className:"close"})]})};function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Io=(0,S.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.viewModeEnabled}},perform:function(e,t){return{appState:To(To({},t),{},{viewModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemPredicate:function(e,t,n){return void 0===n.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[E.tW.CTRL_OR_CMD]&&e.altKey&&e.code===E.aU.R}}),Oo=n(5637),Do=n(200),No=n.n(Do),Po=n(2325);function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Lo=(0,c.Z)((function e(t){var n=this,r=t.scene,i=t.onSceneUpdated;(0,s.Z)(this,e),this.onFontsLoaded=function(t){if(t.every((function(t){var n="".concat(t.family,"-").concat(t.style,"-").concat(t.weight);return!!e.loadedFontFaces.has(n)||(e.loadedFontFaces.add(n),!1)})))return!1;var r=!1;n.scene.mapElements((function(e){return(0,j.iB)(e)?((0,Wn.bI)(e),r=!0,(0,A.BE)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,j.JZ)(e)))):e})),r&&n.onSceneUpdated()},this.loadFontsForElements=function(){var e=(0,a.Z)(m().mark((function e(t){var r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all((0,o.Z)(new Set(t.filter((function(e){return(0,j.iB)(e)})).map((function(e){return e.fontFamily})))).map((function(e){var t,n,r,i,o=(0,N.mO)({fontFamily:e,fontSize:16});if(null===(t=document.fonts)||void 0===t||null===(n=t.check)||void 0===n||!n.call(t,o))return null===(r=document.fonts)||void 0===r||null===(i=r.load)||void 0===i?void 0:i.call(r,o)})));case 2:r=e.sent,n.onFontsLoaded(r.flat().filter(Boolean));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.scene=r,this.onSceneUpdated=i}));Lo.loadedFontFaces=new Set;var Ro=function(){function e(t){var n;(0,s.Z)(this,e),this.subscribers=[],this.updateOnChangeOnly=null!==(n=null==t?void 0:t.updateOnChangeOnly)&&void 0!==n&&n,this.value=null==t?void 0:t.initialState}return(0,c.Z)(e,[{key:"on",value:function(){for(var e,t=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.flat().filter((function(e){return"function"==typeof e}));return(e=this.subscribers).push.apply(e,(0,o.Z)(a)),function(){return t.off(a)}}},{key:"once",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.flat().filter((function(e){return"function"==typeof e})),i=this.on.apply(this,(0,o.Z)(r));return r.push((function(){return i()})),i}},{key:"off",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.flat();this.subscribers=this.subscribers.filter((function(e){return!r.includes(e)}))}},{key:"trigger",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.updateOnChangeOnly&&this.value===t?[]:(this.value=t,this.subscribers.map((function(e){return e.apply(void 0,t)})))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),e}();function Zo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vo=(0,Fi.cn)(!1),Wo=(0,Fi.cn)(!1),Ho={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},qo=g().createContext(Ho);qo.displayName="DeviceContext";var Go=function(){return(0,v.useContext)(qo)},Yo=g().createContext({container:null,id:null});Yo.displayName="ExcalidrawContainerContext";var Ko=function(){return(0,v.useContext)(Yo)},Qo=g().createContext([]);Qo.displayName="ExcalidrawElementsContext";var Xo=g().createContext(Bo(Bo({},(0,Nn.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Xo.displayName="ExcalidrawAppStateContext";var $o=g().createContext((function(){}));$o.displayName="ExcalidrawSetAppStateContext";var Jo=function(){return(0,v.useContext)(Qo)},ea=function(){return(0,v.useContext)(Xo)},ta=function(){return(0,v.useContext)($o)},na=!1,ra=0,ia=0,oa=0,aa=!1,sa=!1,ca=!1,ua={horizontal:null,vertical:null},la=0,da=!1,fa=!0,ha=!1,pa=0,ma=!1,va=null,ga={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},ya=function(e){(0,l.Z)(d,e);var t,n,r=Uo(d);function d(e){var t;(0,s.Z)(this,d),t=r.call(this,e),ba.call((0,u.Z)(t));var n,i=(0,Nn.im)(),o=e.excalidrawRef,a=e.viewModeEnabled,c=void 0!==a&&a,l=e.zenModeEnabled,f=void 0!==l&&l,h=e.gridModeEnabled,p=void 0!==h&&h,m=e.theme,v=void 0===m?i.theme:m,g=e.name,y=void 0===g?i.name:g;if(t.state=Bo(Bo(Bo({},i),{},{theme:v,isLoading:!0},t.getCanvasOffsets()),{},{viewModeEnabled:c,zenModeEnabled:f,gridSize:p?re.k:null,name:y,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isSidebarDocked:!1}),t.id=(0,x.x0)(),t.library=new Pn.ZP((0,u.Z)(t)),o){var b,w="current"in o&&(null===(b=o.current)||void 0===b?void 0:b.readyPromise)||(0,N.PI)(),_={ready:!0,readyPromise:w,updateScene:t.updateScene,updateLibrary:t.library.updateLibrary,addFiles:t.addFiles,resetScene:t.resetScene,getSceneElementsIncludingDeleted:t.getSceneElementsIncludingDeleted,history:{clear:t.resetHistory},scrollToContent:t.scrollToContent,getSceneElements:t.getSceneElements,getAppState:function(){return t.state},getFiles:function(){return t.files},refresh:t.refresh,setToast:t.setToast,id:t.id,setActiveTool:t.setActiveTool,setCursor:t.setCursor,resetCursor:t.resetCursor,toggleMenu:t.toggleMenu,app:(0,u.Z)(t),onChange:function(e){return t.onChangeEmitter.on(e)},onPointerDown:function(e){return t.onPointerDownEmitter.on(e)},onPointerUp:function(e){return t.onPointerUpEmitter.on(e)}};"function"==typeof o?o(_):o.current=_,w.resolve(_)}return t.excalidrawContainerValue={container:t.excalidrawContainerRef.current,id:t.id},t.scene=new U.Z,t.fonts=new Lo({scene:t.scene,onSceneUpdated:t.onSceneUpdated}),t.history=new Bn,t.actionManager=new Dn(t.syncActionResult,(function(){return t.state}),(function(){return t.scene.getElementsIncludingDeleted()}),(0,u.Z)(t)),t.actionManager.registerAll(S.N),t.actionManager.registerAction((n=t.history,{name:"undo",trackEvent:{category:"history"},perform:function(e,t){return Tn(e,t,(function(){return n.undoOnce()}))},keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.key.toLowerCase()===E.tW.Z&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,M.jsx)(k.V,{type:"button",icon:P.UE,"aria-label":(0,C.t)("buttons.undo"),onClick:t,size:(null==n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}})),t.actionManager.registerAction(function(e){return{name:"redo",trackEvent:{category:"history"},perform:function(t,n){return Tn(t,n,(function(){return e.redoOnce()}))},keyTest:function(e){return e[E.tW.CTRL_OR_CMD]&&e.shiftKey&&e.key.toLowerCase()===E.tW.Z||E.ED&&e.ctrlKey&&!e.shiftKey&&e.key===E.tW.Y},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,M.jsx)(k.V,{type:"button",icon:P.zG,"aria-label":(0,C.t)("buttons.redo"),onClick:t,size:(null==n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}}}(t.history)),t}return(0,c.Z)(d,[{key:"renderCanvas",value:function(){var e=window.devicePixelRatio,t=this.state,n=t.width,r=t.height,i=n*e,o=r*e;return t.viewModeEnabled?(0,M.jsx)("canvas",{className:"excalidraw__canvas",style:{width:n,height:r,cursor:re.oc.GRAB},width:i,height:o,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,C.t)("labels.drawingCanvas")}):(0,M.jsx)("canvas",{className:"excalidraw__canvas",style:{width:n,height:r},width:i,height:o,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,C.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var e,t=this,n=(0,_.eD)(this.scene.getNonDeletedElements(),this.state),r=this.props,i=r.onCollabButtonClick,o=r.renderTopRightUI,a=r.renderCustomStats;return(0,M.jsx)("div",{className:(0,w.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--zen-mode":this.state.zenModeEnabled,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,M.jsx)(Yo.Provider,{value:this.excalidrawContainerValue,children:(0,M.jsx)(qo.Provider,{value:this.device,children:(0,M.jsx)($o.Provider,{value:this.setAppState,children:(0,M.jsxs)(Xo.Provider,{value:this.state,children:[(0,M.jsxs)(Qo.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,M.jsx)(ko,{onThemeToggle:this.props.onThemeToggle||function(){},onHomeButtonClick:this.props.onHomeButtonClick||function(){},canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onCollabButtonClick:i,onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onInsertElements:function(e){return t.addElementsFromPasteOrLibrary({elements:e,position:"center",files:null})},langCode:(0,C.G3)().code,isCollaborating:this.props.isCollaborating,renderTopRightUI:o,renderCustomStats:a,renderCustomSidebar:this.props.renderSidebar,showExitZenModeBtn:void 0===(null===(e=this.props)||void 0===e?void 0:e.zenModeEnabled)&&this.state.zenModeEnabled,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction,renderWelcomeScreen:this.state.showWelcomeScreen&&"selection"===this.state.activeTool.type&&!this.scene.getElementsIncludingDeleted().length,children:this.props.children}),(0,M.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,M.jsx)("div",{className:"excalidraw-contextMenuContainer"}),1===n.length&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,M.jsx)(bn.nW,{element:n[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},n[0].id),null!==this.state.toast&&(0,M.jsx)(jo,{message:this.state.toast.message,onClose:function(){return t.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,M.jsx)(Xn,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager}),(0,M.jsx)("main",{children:this.renderCanvas()})]})," "]})})})})})}},{key:"componentDidMount",value:(n=(0,a.Z)(m().mark((function e(){var t,n,r,i,o,a,s=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,"production"!==re.Vi.TEST&&"production"!==re.Vi.DEVELOPMENT||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return s.state}},setState:{configurable:!0,value:function(){return s.setState.apply(s,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&null!==(t=this.excalidrawContainerRef)&&void 0!==t&&t.current?(this.resizeObserver=new ResizeObserver((function(){fa=!1,s.refreshDeviceState(s.excalidrawContainerRef.current),s.updateDOMRect()})),null===(n=this.resizeObserver)||void 0===n||n.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(r=window.matchMedia("(max-width: ".concat(re.kV,"px), (max-height: ").concat(re.Yx,"px) and (max-width: ").concat(re.sS,"px)")),i=window.matchMedia("(max-width: ".concat(re.eF,"px)")),o=window.matchMedia("(min-width: ".concat(null!=this.props.UIOptions.dockedSidebarBreakpoint?this.props.UIOptions.dockedSidebarBreakpoint:re.sk,"px)")),a=function(){s.excalidrawContainerRef.current.getBoundingClientRect(),s.device=(0,N.v4)(s.device,{isSmScreen:i.matches,isMobile:r.matches,canDeviceFitSidebar:o.matches})},r.addListener(a),this.detachIsMobileMqHandler=function(){return r.removeListener(a)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e,t=this;this.files={},this.imageCache.clear(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),(0,Wn.aL)(),this.onChangeEmitter.destroy(),this.scene=new U.Z,this.history=new Bn,this.actionManager=new Dn(this.syncActionResult,(function(){return t.state}),(function(){return t.scene.getElementsIncludingDeleted()}),this),this.library=new Pn.ZP(this),this.canvas=null,this.rc=null,this.excalidrawContainerRef.current=void 0,this.nearestScrollableContainer=void 0,this.excalidrawContainerValue={container:null,id:"unmounted"},clearTimeout(la),la=0}},{key:"removeEventListeners",value:function(){var e,t,n,r,i,o,a;document.removeEventListener(re.Ks.POINTER_UP,this.removePointer),document.removeEventListener(re.Ks.COPY,this.onCopy),document.removeEventListener(re.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(re.Ks.CUT,this.onCut),null===(e=this.excalidrawContainerRef.current)||void 0===e||e.removeEventListener(re.Ks.WHEEL,this.onWheel),null===(t=this.nearestScrollableContainer)||void 0===t||t.removeEventListener(re.Ks.SCROLL,this.onScroll),document.removeEventListener(re.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(re.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(re.Ks.KEYUP,this.onKeyUp),window.removeEventListener(re.Ks.RESIZE,this.onResize,!1),window.removeEventListener(re.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(re.Ks.BLUR,this.onBlur,!1),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.removeEventListener(re.Ks.DRAG_OVER,this.disableEvent,!1),null===(r=this.excalidrawContainerRef.current)||void 0===r||r.removeEventListener(re.Ks.DROP,this.disableEvent,!1),null===(i=document.fonts)||void 0===i||null===(o=i.removeEventListener)||void 0===o||o.call(i,"loadingdone",this.onFontsLoadingDone),document.removeEventListener(re.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(re.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(re.Ks.GESTURE_END,this.onGestureEnd,!1),null===(a=this.detachIsMobileMqHandler)||void 0===a||a.call(this)}},{key:"addEventListeners",value:function(){var e,t,n,r,i;this.removeEventListeners(),document.addEventListener(re.Ks.POINTER_UP,this.removePointer),document.addEventListener(re.Ks.COPY,this.onCopy),null===(e=this.excalidrawContainerRef.current)||void 0===e||e.addEventListener(re.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(re.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(re.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(re.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),null===(t=document.fonts)||void 0===t||null===(n=t.addEventListener)||void 0===n||n.call(t,"loadingdone",this.onFontsLoadingDone),document.addEventListener(re.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(re.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(re.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(re.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(re.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,N.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(re.Ks.SCROLL,this.onScroll)),window.addEventListener(re.Ks.RESIZE,this.onResize,!1),window.addEventListener(re.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(re.Ks.BLUR,this.onBlur,!1),null===(r=this.excalidrawContainerRef.current)||void 0===r||r.addEventListener(re.Ks.DRAG_OVER,this.disableEvent,!1),null===(i=this.excalidrawContainerRef.current)||void 0===i||i.addEventListener(re.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(e,t){var n,r,i,o=this;this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&e.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(t.scrollX!==this.state.scrollX||t.scrollY!==this.state.scrollY)&&(null===(r=this.props)||void 0===r||null===(i=r.onScrollChange)||void 0===i||i.call(r,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,Nn.EN)(this.state)&&this.setState({activeTool:(0,N.Om)(this.state,{type:"selection"})}),"eraser"===this.state.activeTool.type&&t.theme!==this.state.theme&&(0,N.OF)(this.canvas,this.state.theme),"selection"===t.activeTool.type&&"selection"!==this.state.activeTool.type&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),e.langCode!==this.props.langCode&&this.updateLanguage(),e.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),t.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),e.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),e.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),e.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?re.k:null}),this.props.UIOptions.canvasActions||"canvas"!==this.state.openMenu||this.setState({openMenu:null}),this.props.name&&e.name!==this.props.name&&this.setState({name:this.props.name}),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.classList.toggle("theme--dark","dark"===this.state.theme),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){o.state.editingLinearElement&&o.actionManager.executeAction(fe)})),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var a,s,c=t.multiElement;t.activeTool!==this.state.activeTool&&null!=c&&(0,O.N1)(this.state)&&(0,D.Mn)(c,!1)&&(0,O.R)(c,this.state,this.scene,(0,N.AK)(I._.getPointAtIndexGlobalCoordinates(c,-1))),this.renderScene(),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(null===(a=(s=this.props).onChange)||void 0===a||a.call(s,this.scene.getElementsIncludingDeleted(),this.state,this.files,this.props.id),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addTextFromPaste",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,N.dE)({clientX:ia,clientY:oa},this.state),r=n.x,i=n.y,a={x:r,y:i,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:re.hs,locked:!1},s=10,c=i,u=t?[e]:e.split("\n"),l=u.reduce((function(e,t,n){var i=t.trim();if(i.length){var o=(0,j.VL)(Bo(Bo({},a),{},{x:r,y:c,text:i}));e.push(o),c+=o.height+s}else{var l;if(null===(l=u[n-1])||void 0===l?void 0:l.trim()){var d=(0,ie.hP)((0,N.mO)({fontSize:a.fontSize,fontFamily:a.fontFamily}));c+=d+s}}return e}),[]);0!==l.length&&(this.scene.replaceAllElements([].concat((0,o.Z)(this.scene.getElementsIncludingDeleted()),(0,o.Z)(l))),this.setState({selectedElementIds:Object.fromEntries(l.map((function(e){return[e.id,!0]})))}),!t&&l.length>1&&!1===ma&&!this.device.isMobile&&(this.setToast({message:(0,C.t)("toast.pasteAsSingleElement",{shortcut:(0,N.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),ma=!0),this.history.resumeRecording())}},{key:"handleTextWysiwyg",value:function(e,t){var n=this,r=t.isExistingElement,i=void 0!==r&&r,a=function(t,r,i){n.scene.replaceAllElements((0,o.Z)(n.scene.getElementsIncludingDeleted().map((function(n){return n.id===e.id&&(0,j.iB)(n)?(0,j.N_)(n,{text:t,isDeleted:i,originalText:r}):n}))))};(0,j.b_)({id:e.id,canvas:this.canvas,getViewportCoords:function(e,t){var r=(0,N._i)({sceneX:e,sceneY:t},n.state),i=r.x,o=r.y;return[i-n.state.offsetLeft,o-n.state.offsetTop]},onChange:(0,N.tH)((function(t){a(t,t,!1),(0,j.qP)(e)&&(0,O.Ww)(e)})),onSubmit:(0,N.tH)((function(t){var r=t.text,o=t.viaKeyboard,s=t.originalText,c=!r.trim();if(a(r,s,c),!c&&o){var u=e.containerId?e.containerId:e.id;n.setState((function(e){return{selectedElementIds:Bo(Bo({},e.selectedElementIds),{},(0,h.Z)({},u,!0))}}))}c&&(0,O.$q)(n.scene.getNonDeletedElements(),[e]),c&&!i||n.history.resumeRecording(),n.setState({draggingElement:null,editingElement:null}),n.state.activeTool.locked&&(0,N.Uk)(n.canvas,n.state),n.focusContainer()})),element:e,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),a(e.text,e.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(e,t){var n=this.getElementAtPosition(e,t,{includeBoundTextElement:!0});return n&&(0,j.iB)(n)&&!n.isDeleted?n:null}},{key:"getElementAtPosition",value:function(e,t,n){var r=this.getElementsAtPosition(e,t,null==n?void 0:n.includeBoundTextElement,null==n?void 0:n.includeLockedElements);if(r.length>1){if(null!=n&&n.preferSelected)for(var i=r.length-1;i>-1;i--)if(this.state.selectedElementIds[r[i].id])return r[i];var o=r[r.length-1];return(0,j.wB)(o,this.state,e,t)?r[r.length-2]:o}return 1===r.length?r[0]:null}},{key:"getElementsAtPosition",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r&&i?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter((function(e){return(i||!e.locked)&&(r||!((0,j.iB)(e)&&e.containerId))}));return(0,_.CJ)(o,(function(r){return(0,j.wX)(r,n.state,e,t)}))}},{key:"handleHoverSelectedLinearElement",value:function(e,t,n){var r=I._.getElement(e.elementId),i=(0,ie.WJ)(r);if(r)if(this.state.selectedLinearElement){var o=-1,a=null;(0,Po.Qu)(r,this.state,[t,n])?(o=I._.getPointIndexUnderCursor(r,this.state.zoom,t,n),a=I._.getSegmentMidpointHitCoords(e,{x:t,y:n},this.state),o>=0||a?(0,N.KJ)(this.canvas,re.oc.POINTER):(0,N.KJ)(this.canvas,re.oc.MOVE)):((0,Bt.oY)([r],this.state)&&(0,j.wB)(r,this.state,t,n)||i&&(0,j.wX)(i,this.state,t,n))&&(0,N.KJ)(this.canvas,re.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==o&&this.setState({selectedLinearElement:Bo(Bo({},this.state.selectedLinearElement),{},{hoverPointIndex:o})}),I._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,a)||this.setState({selectedLinearElement:Bo(Bo({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:a})})}else(0,N.KJ)(this.canvas,re.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(e){null!==va&&va(e)}},{key:"updateGestureOnPointerDown",value:function(e){ga.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===ga.pointers.size&&(ga.lastCenter=Ln(ga.pointers),ga.initialScale=this.state.zoom.value,ga.initialDistance=Rn(Array.from(ga.pointers.values())))}},{key:"initialPointerDownState",value:function(e){var t=(0,N.dE)(e,this.state),n=(0,_.eD)(this.scene.getNonDeletedElements(),this.state),r=(0,j.KP)(n),o=(0,i.Z)(r,4),a=o[0],s=o[1],c=o[2],u=o[3];return{origin:t,withCmdOrCtrl:e[E.tW.CTRL_OR_CMD],originInGrid:(0,N.AK)((0,ue.wC)(t.x,t.y,this.state.gridSize)),scrollbars:(0,_._4)(ua,e.clientX-this.state.offsetLeft,e.clientY-this.state.offsetTop),lastCoords:Bo({},t),originalElements:this.scene.getNonDeletedElements().reduce((function(e,t){return e.set(t.id,(0,jt.OL)(t)),e}),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(c+a)/2,y:(u+s)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,n)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(e,t){var n=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;ca=!0,t.lastCoords.x=e.clientX,t.lastCoords.y=e.clientY;var r=(0,N.$9)((function(e){e.target instanceof HTMLElement&&n.handlePointerMoveOverScrollbars(e,t)})),i=(0,N.tH)((function(){ca=!1,(0,N.Uk)(n.canvas,n.state),va=null,n.setState({cursorButton:"up"}),n.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(re.Ks.POINTER_MOVE,r),window.removeEventListener(re.Ks.POINTER_UP,i),r.flush()}));return va=i,window.addEventListener(re.Ks.POINTER_MOVE,r),window.addEventListener(re.Ks.POINTER_UP,i),!0}},{key:"isASelectedElement",value:function(e){return null!=e&&this.state.selectedElementIds[e.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(e,t){if(t.length<2)return!1;var n=10/this.state.zoom.value,r=(0,j.KP)(t),o=(0,i.Z)(r,4),a=o[0],s=o[1],c=o[2],u=o[3];return e.x>a-n&&e.x<c+n&&e.y>s-n&&e.y<u+n}},{key:"onKeyDownFromPointerDownHandler",value:function(e){var t=this;return(0,N.tH)((function(n){t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onKeyUpFromPointerDownHandler",value:function(e){var t=this;return(0,N.tH)((function(n){n.key===E.tW.ALT&&n.preventDefault(),t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onPointerMoveFromPointerDownHandler",value:function(e){var t=this;return(0,N.$9)((function(n){var r;if(null===e.drag.offset&&(e.drag.offset=(0,N.AK)((0,j.$V)((0,_.eD)(t.scene.getNonDeletedElements(),t.state),e.origin.x,e.origin.y))),n.target instanceof HTMLElement&&!t.handlePointerMoveOverScrollbars(n,e)){var a=(0,N.dE)(n,t.state);if((0,Nn.EN)(t.state))t.handleEraser(n,e,a);else{var s=(0,ue.wC)(a.x,a.y,t.state.gridSize),c=(0,i.Z)(s,2),u=c[0],l=c[1];if(e.drag.hasOccurred||"arrow"!==t.state.activeTool.type&&"line"!==t.state.activeTool.type||!((0,ue.LW)(a.x,a.y,e.origin.x,e.origin.y)<re.f)){if(e.resize.isResizing&&(e.lastCoords.x=a.x,e.lastCoords.y=a.y,t.maybeHandleResize(e,n)))return!0;if(t.state.selectedLinearElement){var d=t.state.editingLinearElement||t.state.selectedLinearElement;if(I._.shouldAddMidpoint(t.state.selectedLinearElement,a,t.state)){var f=I._.addMidpoint(t.state.selectedLinearElement,a,t.state);if(!f)return;return void(0,y.flushSync)((function(){t.state.selectedLinearElement&&t.setState({selectedLinearElement:Bo(Bo({},t.state.selectedLinearElement),{},{pointerDownState:f.pointerDownState,selectedPointsIndices:f.selectedPointsIndices})}),t.state.editingLinearElement&&t.setState({editingLinearElement:Bo(Bo({},t.state.editingLinearElement),{},{pointerDownState:f.pointerDownState,selectedPointsIndices:f.selectedPointsIndices})})}))}if(null!==d.pointerDownState.segmentMidpoint.value&&!d.pointerDownState.segmentMidpoint.added)return;var p=I._.handlePointDragging(n,t.state,a.x,a.y,(function(e,n){t.maybeSuggestBindingsForLinearElementAtCoords(e,n)}),d);if(p)return e.lastCoords.x=a.x,e.lastCoords.y=a.y,e.drag.hasOccurred=!0,t.state.editingLinearElement&&!t.state.editingLinearElement.isDragging&&t.setState({editingLinearElement:Bo(Bo({},t.state.editingLinearElement),{},{isDragging:!0})}),void(t.state.selectedLinearElement.isDragging||t.setState({selectedLinearElement:Bo(Bo({},t.state.selectedLinearElement),{},{isDragging:!0})}))}var m=e.hit.allHitElements.some((function(e){return t.isASelectedElement(e)})),v=t.state.editingLinearElement&&n.shiftKey&&t.state.editingLinearElement.elementId===(null===(r=e.hit.element)||void 0===r?void 0:r.id);if((m||e.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!v){var g=(0,_.eD)(t.scene.getNonDeletedElements(),t.state);if(g.every((function(e){return e.locked})))return;if(e.drag.hasOccurred=!0,g.length>0&&!e.withCmdOrCtrl){var b=(0,ue.wC)(a.x-e.drag.offset.x,a.y-e.drag.offset.y,t.state.gridSize),w=(0,i.Z)(b,2),x=w[0],k=w[1],C=[Math.abs(a.x-e.origin.x),Math.abs(a.y-e.origin.y)],S=C[0],P=C[1],M=n.shiftKey;if((0,j.o8)(e,g,x,k,M,S,P,t.state),t.maybeSuggestBindingForAll(g),n.altKey&&!e.hit.hasBeenDuplicated){e.hit.hasBeenDuplicated=!0;var L,R=[],Z=[],F=new Map,U=new Map,z=e.hit.element,B=t.scene.getElementsIncludingDeleted(),V=(0,_.eD)(B,t.state,!0).map((function(e){return e.id})),W=Zo(B);try{for(W.s();!(L=W.n()).done;){var H=L.value;if(V.includes(H.id)||H.id===(null==z?void 0:z.id)&&e.hit.wasAddedToSelection){var q=(0,j.Sy)(t.state.editingGroupId,F,H),G=(0,ue.wC)(e.origin.x-e.drag.offset.x,e.origin.y-e.drag.offset.y,t.state.gridSize),Y=(0,i.Z)(G,2),K=Y[0],Q=Y[1];(0,A.DR)(q,{x:q.x+(K-x),y:q.y+(Q-k)}),R.push(q),Z.push(H),U.set(H.id,q.id)}else R.push(H)}}catch(e){W.e(e)}finally{W.f()}var X=[].concat(R,Z);(0,ie.P7)(R,Z,U),(0,O.ek)(X,Z,U,"duplicatesServeAsOld"),t.scene.replaceAllElements(X)}return}}var $=t.state.draggingElement;if($){if("freedraw"===$.type){var J=$.points,ee=a.x-$.x,te=a.y-$.y,ne=J.length>0&&J[J.length-1];if(!ne||ne[0]!==ee||ne[1]!==te){var oe=$.simulatePressure?$.pressures:[].concat((0,o.Z)($.pressures),[n.pressure]);(0,A.DR)($,{points:[].concat((0,o.Z)(J),[[ee,te]]),pressures:oe})}}else if((0,D.bt)($)){e.drag.hasOccurred=!0;var ae=$.points,se=u-$.x,ce=l-$.y;if((0,E.Ge)(n)&&2===ae.length){var le=(0,j.o4)($.x,$.y,a.x,a.y);se=le.width,ce=le.height}1===ae.length?(0,A.DR)($,{points:[].concat((0,o.Z)(ae),[[se,ce]])}):2===ae.length&&(0,A.DR)($,{points:[].concat((0,o.Z)(ae.slice(0,-1)),[[se,ce]])}),(0,D.Mn)($,!1)&&t.maybeSuggestBindingsForLinearElementAtCoords($,[a],t.state.startBoundElement)}else e.lastCoords.x=a.x,e.lastCoords.y=a.y,t.maybeDragNewGenericElement(e,n);if("selection"===t.state.activeTool.type){e.boxSelection.hasOccurred=!0;var de=t.scene.getNonDeletedElements();if(n.shiftKey||t.state.editingLinearElement||!(0,_.N)(de,t.state)||(e.withCmdOrCtrl&&e.hit.element?t.setState((function(n){return(0,T.bO)(Bo(Bo({},n),{},{selectedElementIds:(0,h.Z)({},e.hit.element.id,!0)}),t.scene.getNonDeletedElements())})):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),t.state.editingLinearElement)I._.handleBoxSelection(n,t.state,t.setState.bind(t));else{var fe=(0,_.Yp)(de,$);t.setState((function(n){return(0,T.bO)(Bo(Bo({},n),{},{selectedElementIds:Bo(Bo(Bo({},n.selectedElementIds),fe.reduce((function(e,t){return e[t.id]=!0,e}),{})),e.hit.element?(0,h.Z)({},e.hit.element.id,!fe.length):null),showHyperlinkPopup:!(1!==fe.length||!fe[0].link)&&"info",selectedLinearElement:1===fe.length&&(0,D.bt)(fe[0])?new I._(fe[0],t.scene):null}),t.scene.getNonDeletedElements())}))}}}}}}}))}},{key:"handlePointerMoveOverScrollbars",value:function(e,t){if(t.scrollbars.isOverHorizontal){var n=e.clientX,r=n-t.lastCoords.x;return this.setState({scrollX:this.state.scrollX-r/this.state.zoom.value}),t.lastCoords.x=n,!0}if(t.scrollbars.isOverVertical){var i=e.clientY,o=i-t.lastCoords.y;return this.setState({scrollY:this.state.scrollY-o/this.state.zoom.value}),t.lastCoords.y=i,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(e){var t=this;return(0,N.tH)((function(n){var r,i,a,s=t.state,c=s.draggingElement,u=s.resizingElement,l=s.multiElement,d=s.activeTool,f=s.isResizing,p=s.isRotating;if(t.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:l||(0,j.iB)(t.state.editingElement)?t.state.editingElement:null}),t.savePointer(n.clientX,n.clientY,"up"),t.onPointerUpEmitter.trigger(t.state.activeTool,e,n),t.state.editingLinearElement)if(e.boxSelection.hasOccurred||(null===(i=e.hit)||void 0===i||null===(a=i.element)||void 0===a?void 0:a.id)===t.state.editingLinearElement.elementId){var m=I._.handlePointerUp(n,t.state.editingLinearElement,t.state);m!==t.state.editingLinearElement&&t.setState({editingLinearElement:m,suggestedBindings:[]})}else t.actionManager.executeAction(fe);else if(t.state.selectedLinearElement){var v,g;if((null===(v=e.hit)||void 0===v||null===(g=v.element)||void 0===g?void 0:g.id)!==t.state.selectedLinearElement.elementId)(0,_.eD)(t.scene.getNonDeletedElements(),t.state).length>1&&t.setState({selectedLinearElement:null});else{var y=I._.handlePointerUp(n,t.state.selectedLinearElement,t.state),b=y.startBindingElement,w=y.endBindingElement,x=t.scene.getElement(y.elementId);(0,D.Mn)(x)&&(0,O.HG)(x,b,w),y!==t.state.selectedLinearElement&&t.setState({selectedLinearElement:Bo(Bo({},y),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(va=null,e.eventListeners.onMove&&e.eventListeners.onMove.flush(),window.removeEventListener(re.Ks.POINTER_MOVE,e.eventListeners.onMove),window.removeEventListener(re.Ks.POINTER_UP,e.eventListeners.onUp),window.removeEventListener(re.Ks.KEYDOWN,e.eventListeners.onKeyDown),window.removeEventListener(re.Ks.KEYUP,e.eventListeners.onKeyUp),t.state.pendingImageElementId&&t.setState({pendingImageElementId:null}),"freedraw"===(null==c?void 0:c.type)){var E=(0,N.dE)(n,t.state),k=c.points,C=E.x-c.x,S=E.y-c.y;C===k[0][0]&&S===k[0][1]&&(S+=1e-4,C+=1e-4);var P=c.simulatePressure?[]:[].concat((0,o.Z)(c.pressures),[n.pressure]);return(0,A.DR)(c,{points:[].concat((0,o.Z)(k),[[C,S]]),pressures:P,lastCommittedPoint:[C,S]}),void t.actionManager.executeAction(fe)}if((0,D.pC)(c)){var M=c;try{t.initializeImageDimensions(M),t.setState({selectedElementIds:(0,h.Z)({},M.id,!0)},(function(){t.actionManager.executeAction(fe)}))}catch(e){console.error(e),t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==M.id}))),t.actionManager.executeAction(fe)}}else if((0,D.bt)(c)){c.points.length>1&&t.history.resumeRecording();var L=(0,N.dE)(n,t.state);e.drag.hasOccurred||!c||l?e.drag.hasOccurred&&!l&&((0,O.N1)(t.state)&&(0,D.Mn)(c,!1)&&(0,O.R)(c,t.state,t.scene,L),t.setState({suggestedBindings:[],startBoundElement:null}),d.locked?t.setState((function(e){return{draggingElement:null}})):((0,N.z8)(t.canvas),t.setState((function(e){return{draggingElement:null,activeTool:(0,N.Om)(t.state,{type:"selection"}),selectedElementIds:Bo(Bo({},e.selectedElementIds),{},(0,h.Z)({},c.id,!0)),selectedLinearElement:new I._(c,t.scene)}})))):((0,A.DR)(c,{points:[].concat((0,o.Z)(c.points),[[L.x-c.x,L.y-c.y]])}),t.setState({multiElement:c,editingElement:t.state.draggingElement}))}else{if("selection"!==d.type&&c&&(0,j.QD)(c))return t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().slice(0,-1)),void t.setState({draggingElement:null});c&&(0,A.DR)(c,(0,j.Qp)(c)),u&&t.history.resumeRecording(),u&&(0,j.QD)(u)&&t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==u.id})));var R=e.hit.element;if((null===(r=t.state.selectedLinearElement)||void 0===r?void 0:r.elementId)!==(null==R?void 0:R.id)&&(0,D.bt)(R)&&1===(0,_.eD)(t.scene.getNonDeletedElements(),t.state).length&&t.setState({selectedLinearElement:new I._(R,t.scene)}),(0,Nn.EN)(t.state)){if(0===(0,ue.LW)(t.lastPointerDown.clientX,t.lastPointerDown.clientY,t.lastPointerUp.clientX,t.lastPointerUp.clientY)){var Z=(0,N.dE)({clientX:t.lastPointerUp.clientX,clientY:t.lastPointerUp.clientY},t.state);t.getElementsAtPosition(Z.x,Z.y).forEach((function(t){return e.elementIdsToErase[t.id]={erase:!0,opacity:t.opacity}}))}t.eraseElements(e)}else{var F;if(Object.keys(e.elementIdsToErase).length&&t.restoreReadyToEraseElements(e),R&&!e.drag.hasOccurred&&!e.hit.wasAddedToSelection&&(!t.state.editingLinearElement||!e.boxSelection.hasOccurred))if(n.shiftKey&&!t.state.editingLinearElement)if(t.state.selectedElementIds[R.id])if((0,T.zq)(t.state,R)){var U=R.groupIds.flatMap((function(e){return(0,T.Fb)(t.scene.getNonDeletedElements(),e)})).map((function(e){return(0,h.Z)({},e.id,!1)})).reduce((function(e,t){return Bo(Bo({},e),t)}),{});t.setState((function(e){return{selectedGroupIds:Bo(Bo({},e.selectedElementIds),R.groupIds.map((function(e){return(0,h.Z)({},e,!1)})).reduce((function(e,t){return Bo(Bo({},e),t)}),{})),selectedElementIds:Bo(Bo({},e.selectedElementIds),U)}}))}else null!==(F=t.state.selectedLinearElement)&&void 0!==F&&F.isDragging||t.setState((function(e){var n=Bo(Bo({},e.selectedElementIds),{},(0,h.Z)({},R.id,!1)),r=(0,_.eD)(t.scene.getNonDeletedElements(),Bo(Bo({},e),{},{selectedElementIds:n}));return(0,T.bO)(Bo(Bo({},e),{},{selectedElementIds:n,selectedLinearElement:1===r.length&&(0,D.bt)(r[0])?new I._(r[0],t.scene):e.selectedLinearElement}),t.scene.getNonDeletedElements())}));else t.setState((function(e){return{selectedElementIds:Bo(Bo({},e.selectedElementIds),{},(0,h.Z)({},R.id,!0))}}));else t.setState((function(e){var n;return Bo({},(0,T.bO)(Bo(Bo({},e),{},{selectedElementIds:(0,h.Z)({},R.id,!0),selectedLinearElement:(0,D.bt)(R)&&(null===(n=e.selectedLinearElement)||void 0===n?void 0:n.elementId)!==R.id?new I._(R,t.scene):e.selectedLinearElement}),t.scene.getNonDeletedElements()))}));e.drag.hasOccurred||t.state.isResizing||!(R&&(0,j.wB)(R,t.state,e.origin.x,e.origin.y)||!R&&e.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!d.locked&&"freedraw"!==d.type&&c&&t.setState((function(e){return{selectedElementIds:Bo(Bo({},e.selectedElementIds),{},(0,h.Z)({},c.id,!0))}})),("selection"!==d.type||(0,_.N)(t.scene.getNonDeletedElements(),t.state))&&t.history.resumeRecording(),(e.drag.hasOccurred||f||p)&&((0,O.N1)(t.state)?O.el:O.H)((0,_.eD)(t.scene.getNonDeletedElements(),t.state)),d.locked||"freedraw"===d.type?t.setState({draggingElement:null,suggestedBindings:[]}):((0,N.z8)(t.canvas),t.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,N.Om)(t.state,{type:"selection"})}))):t.state.editingLinearElement?t.setState({editingLinearElement:null}):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}}))}},{key:"maybeSuggestBindingForAll",value:function(e){var t=(0,O.ZB)(e);this.setState({suggestedBindings:t})}},{key:"clearSelection",value:function(e){this.setState((function(t){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=e&&(0,T.Nd)(e,t.editingGroupId)?t.editingGroupId:null}})),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t,n,r){if(r){var i=r.x+r.width/2,o=r.y+r.height/2,a=(0,ie.TP)(r,n);if(a&&(i=a.x,o=a.y),Math.hypot(e-i,t-o)<re.wZ){var s=(0,N._i)({sceneX:i,sceneY:o},n);return{viewportX:s.x,viewportY:s.y,elementCenterX:i,elementCenterY:o}}}}},{key:"getCanvasOffsets",value:function(){var e;if(null!==(e=this.excalidrawContainerRef)&&void 0!==e&&e.current){var t=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:t.left,offsetTop:t.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(t=(0,a.Z)(m().mark((function e(){var t,n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.Mj.find((function(e){return e.code===n.props.langCode}))||C.Fp,e.next=3,(0,C.m0)(t);case 3:this.setAppState({});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){na=!1}}]),d}(g().Component);ya.defaultProps={UIOptions:re.cW};var ba=function(){var e=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=Ho,this.excalidrawContainerRef=g().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.lastScenePointer=null,this.onChangeEmitter=new Ro,this.onPointerDownEmitter=new Ro,this.onPointerUpEmitter=new Ro,this.focusContainer=function(){var t;e.props.autoFocus&&(null===(t=e.excalidrawContainerRef.current)||void 0===t||t.focus())},this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return e.scene.getNonDeletedElements()},this.syncActionResult=(0,N.tH)((function(t){if(!e.unmounted&&!1!==t){var n=null;if(t.elements&&(t.elements.forEach((function(t){var r;(null===(r=e.state.editingElement)||void 0===r?void 0:r.id)===t.id&&e.state.editingElement!==t&&(0,j.qP)(t)&&(n=t)})),e.scene.replaceAllElements(t.elements),t.commitToHistory&&e.history.resumeRecording()),t.files&&(e.files=t.replaceFiles?t.files:Bo(Bo({},e.files),t.files),e.addNewImagesToImageCache()),t.appState||n||e.state.contextMenu){var r,i,o,a,s,c;t.commitToHistory&&e.history.resumeRecording();var u=(null==t||null===(r=t.appState)||void 0===r?void 0:r.viewModeEnabled)||!1,l=(null==t||null===(i=t.appState)||void 0===i?void 0:i.zenModeEnabled)||!1,d=(null==t||null===(o=t.appState)||void 0===o?void 0:o.gridSize)||null,f=(null==t||null===(a=t.appState)||void 0===a?void 0:a.theme)||e.props.theme||re.C6.LIGHT,h=null!==(s=null==t||null===(c=t.appState)||void 0===c?void 0:c.name)&&void 0!==s?s:e.state.name;void 0!==e.props.viewModeEnabled&&(u=e.props.viewModeEnabled),void 0!==e.props.zenModeEnabled&&(l=e.props.zenModeEnabled),void 0!==e.props.gridModeEnabled&&(d=e.props.gridModeEnabled?re.k:null),void 0!==e.props.name&&(h=e.props.name),e.setState((function(e){var r;return Object.assign(t.appState||{},{contextMenu:null,editingElement:n||(null===(r=t.appState)||void 0===r?void 0:r.editingElement)||null,viewModeEnabled:u,zenModeEnabled:l,gridSize:d,theme:f,name:h})}),(function(){t.syncHistory&&e.history.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())}))}}})),this.onBlur=(0,N.tH)((function(){aa=!1,e.setState({isBindingEnabled:!0})})),this.onUnload=function(){e.onBlur()},this.disableEvent=function(e){e.preventDefault()},this.resetHistory=function(){e.history.clear()},this.resetScene=(0,N.tH)((function(t){e.scene.replaceAllElements([]),e.setState((function(n){return Bo(Bo({},(0,Nn.im)()),{},{isLoading:(null==t||!t.resetLoadingState)&&n.isLoading,theme:e.state.theme})})),e.resetHistory()})),this.initializeScene=(0,a.Z)(m().mark((function t(){var n,r,i,o,s,c,u;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var t=(0,a.Z)(m().mark((function t(n){var r,i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.files.length){t.next=2;break}return t.abrupt("return");case 2:return r=n.files[0],t.next=5,r.getFile();case 5:i=t.sent,e.loadFileToCanvas(new File([i],i.name||"",{type:i.type}),r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.props.theme&&e.setState({theme:e.props.theme}),e.state.isLoading||e.setState({isLoading:!0}),s=null,t.prev=4,t.next=7,e.props.initialData;case 7:if(t.t0=t.sent,t.t0){t.next=10;break}t.t0=null;case 10:s=t.t0,null!==(c=s)&&void 0!==c&&c.libraryItems&&e.library.updateLibrary({libraryItems:s.libraryItems,merge:!0}).catch((function(e){console.error(e)})),t.next=18;break;case 14:t.prev=14,t.t1=t.catch(4),console.error(t.t1),s={appState:{errorMessage:t.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(u=(0,Mn.nu)(s,null,null)).appState=Bo(Bo({},u.appState),{},{theme:e.props.theme||u.appState.theme,openSidebar:(null===(n=u.appState)||void 0===n?void 0:n.openSidebar)||e.state.openSidebar,activeTool:"image"===u.appState.activeTool.type?Bo(Bo({},u.appState.activeTool),{},{type:"selection"}):u.appState.activeTool,isLoading:!1,toast:e.state.toast}),null!==(r=s)&&void 0!==r&&r.scrollToContent&&(u.appState=Bo(Bo({},u.appState),(0,_.W)(u.elements,Bo(Bo({},u.appState),{},{width:e.state.width,height:e.state.height,offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft}),null))),e.fonts.loadFontsForElements(u.elements),null!=(null===(i=s)||void 0===i?void 0:i.scrollX)&&(u.appState.scrollX=s.scrollX),null!=(null===(o=s)||void 0===o?void 0:o.scrollY)&&(u.appState.scrollY=s.scrollY),e.resetHistory(),e.syncActionResult(Bo(Bo({},u),{},{commitToHistory:!0}));case 26:case"end":return t.stop()}}),t,null,[[4,14]])}))),this.refreshDeviceState=function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height,o=null!=e.props.UIOptions.dockedSidebarBreakpoint?e.props.UIOptions.dockedSidebarBreakpoint:re.sk;e.device=(0,N.v4)(e.device,{isSmScreen:r<re.eF,isMobile:r<re.kV||i<re.Yx&&r<re.sS,canDeviceFitSidebar:r>o})},this.onResize=(0,N.tH)((function(){e.scene.getElementsIncludingDeleted().forEach((function(e){return(0,Wn.bI)(e)})),e.setState({})})),this.onFontsLoadingDone=function(t){var n=t.fontfaces;e.fonts.onFontsLoaded(n)},this.renderScene=function(){var t={},n={},r={},i={},o={};e.state.collaborators.forEach((function(a,s){if(a.selectedElementIds)for(var c=0,u=Object.keys(a.selectedElementIds);c<u.length;c++){var l=u[c];l in r||(r[l]=[]),r[l].push(s)}a.pointer&&(a.username&&(i[s]=a.username),a.userState&&(o[s]=a.userState),n[s]=(0,N._i)({sceneX:a.pointer.x,sceneY:a.pointer.y},e.state),t[s]=a.button)}));var a=e.scene.getNonDeletedElements().filter((function(t){return(!(0,D.pC)(t)||e.state.pendingImageElementId!==t.id)&&(!e.state.editingElement||"text"!==e.state.editingElement.type||t.id!==e.state.editingElement.id)})),s=getComputedStyle(document.querySelector(".excalidraw")).getPropertyValue("--color-selection");(0,Vn.Eu)({elements:a,appState:e.state,scale:window.devicePixelRatio,rc:e.rc,canvas:e.canvas,renderConfig:{selectionColor:s,scrollX:e.state.scrollX,scrollY:e.state.scrollY,viewBackgroundColor:e.state.viewBackgroundColor,zoom:e.state.zoom,remotePointerViewportCoords:n,remotePointerButton:t,remoteSelectedElementIds:r,remotePointerUsernames:i,remotePointerUserStates:o,shouldCacheIgnoreZoom:e.state.shouldCacheIgnoreZoom,theme:e.state.theme,imageCache:e.imageCache,isExporting:!1,renderScrollbars:!e.device.isMobile},callback:function(t){var n=t.atLeastOneVisibleElement,r=t.scrollBars;r&&(ua=r);var i=!(0,j.iB)(e.state.editingElement)&&!n&&a.length>0;e.state.scrolledOutside!==i&&e.setState({scrolledOutside:i}),e.scheduleImageRefresh()}},fa&&!0===window.EXCALIDRAW_THROTTLE_RENDER),fa||(fa=!0)},this.onScroll=(0,N.Ds)((function(){var t=e.getCanvasOffsets(),n=t.offsetTop,r=t.offsetLeft;e.setState((function(e){return e.offsetLeft===r&&e.offsetTop===n?null:{offsetTop:n,offsetLeft:r}}))}),re.HM),this.onCut=(0,N.tH)((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!(0,N.s)(t.target)&&(e.cutAll(),t.preventDefault(),t.stopPropagation())})),this.onCopy=(0,N.tH)((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!(0,N.s)(t.target)&&(e.copyAll(),t.preventDefault(),t.stopPropagation())})),this.cutAll=function(){e.actionManager.executeAction(en,"keyboard")},this.copyAll=function(){e.actionManager.executeAction($t,"keyboard")},this.onTapStart=function(t){if(E.Dt||t.preventDefault(),!na)return na=!0,clearTimeout(ra),void(ra=window.setTimeout(ya.resetTapTwice,re.Gj));if(na&&1===t.touches.length){var n=(0,i.Z)(t.touches,1)[0];e.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),na=!1,clearTimeout(ra)}E.Dt&&t.preventDefault(),2===t.touches.length&&e.setState({selectedElementIds:{}})},this.onTapEnd=function(t){e.resetContextMenuTimer(),t.touches.length>0?e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}):ga.pointers.clear()},this.pasteFromClipboard=(0,N.tH)(function(){var t=(0,a.Z)(m().mark((function t(n){var r,i,o,a,s,c,u,l,d,f,p,v,g;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=!(!ha||!n),a=document.activeElement,s=null===(r=e.excalidrawContainerRef.current)||void 0===r?void 0:r.contains(a),!n||s){t.next=5;break}return t.abrupt("return");case 5:if(c=document.elementFromPoint(ia,oa),!n||c instanceof HTMLCanvasElement&&!(0,N.s)(a)){t.next=8;break}return t.abrupt("return");case 8:return u=null==n||null===(i=n.clipboardData)||void 0===i?void 0:i.files[0],t.next=11,(0,Ne.mQ)(n,o);case 11:if(l=t.sent,u||!l.text||o||(d=l.text.trim()).startsWith("<svg")&&d.endsWith("</svg>")&&(u=(0,Me.Pn)(d)),!(0,Me.Wr)(u)||l.spreadsheet){t.next=20;break}return f=(0,N.dE)({clientX:ia,clientY:oa},e.state),p=f.x,v=f.y,g=e.createImageElement({sceneX:p,sceneY:v}),e.insertImageElement(g,u),e.initializeImageDimensions(g),e.setState({selectedElementIds:(0,h.Z)({},g.id,!0)}),t.abrupt("return");case 20:if(!e.props.onPaste){t.next=32;break}return t.prev=21,t.next=24,e.props.onPaste(l,n);case 24:if(t.t0=t.sent,!1!==t.t0){t.next=27;break}return t.abrupt("return");case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(21),console.error(t.t1);case 32:l.errorMessage?e.setState({errorMessage:l.errorMessage}):l.spreadsheet&&!o?e.setState({pasteDialog:{data:l.spreadsheet,shown:!0}}):l.elements?e.addElementsFromPasteOrLibrary({elements:l.elements,files:l.files||null,position:"cursor"}):l.text&&e.addTextFromPaste(l.text,o),e.setActiveTool({type:"selection"}),null==n||n.preventDefault();case 35:case"end":return t.stop()}}),t,null,[[21,29]])})));return function(e){return t.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(t){var n=(0,Mn.ET)(t.elements,null),a=(0,j.KP)(n),s=(0,i.Z)(a,4),c=s[0],u=s[1],l=s[2],d=s[3],f=(0,N.TE)(c,l)/2,h=(0,N.TE)(u,d)/2,p="object"===(0,r.Z)(t.position)?t.position.clientX:"cursor"===t.position?ia:e.state.width/2+e.state.offsetLeft,m="object"===(0,r.Z)(t.position)?t.position.clientY:"cursor"===t.position?oa:e.state.height/2+e.state.offsetTop,v=(0,N.dE)({clientX:p,clientY:m},e.state),g=v.x-f,y=v.y-h,b=new Map,w=(0,ue.wC)(g,y,e.state.gridSize),x=(0,i.Z)(w,2),_=x[0],E=x[1],k=new Map,C=n.map((function(t){var n=(0,j.Sy)(e.state.editingGroupId,b,t,{x:t.x+_-c,y:t.y+E-u});return k.set(t.id,n.id),n}));(0,ie.P7)(C,n,k);var S=[].concat((0,o.Z)(e.scene.getElementsIncludingDeleted()),(0,o.Z)(C));(0,O.ek)(S,n,k),t.files&&(e.files=Bo(Bo({},e.files),t.files)),e.scene.replaceAllElements(S),e.history.resumeRecording(),e.setState((0,T.bO)(Bo(Bo({},e.state),{},{openSidebar:e.state.openSidebar&&e.device.canDeviceFitSidebar&&e.state.isSidebarDocked?e.state.openSidebar:null,selectedElementIds:C.reduce((function(e,t){return(0,D.Xh)(t)||(e[t.id]=!0),e}),{}),selectedGroupIds:{}}),e.scene.getNonDeletedElements()),(function(){t.files&&e.addNewImagesToImageCache()})),e.setActiveTool({type:"selection"})},this.setAppState=function(t,n){e.setState(t,n)},this.removePointer=function(t){la&&e.resetContextMenuTimer(),ga.pointers.delete(t.pointerId)},this.toggleLock=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ui";e.state.activeTool.locked||(0,In.L)("toolbar","toggleLock","".concat(t," (").concat(e.device.isMobile?"mobile":"desktop",")")),e.setState((function(t){return{activeTool:Bo(Bo(Bo({},t.activeTool),(0,N.Om)(e.state,t.activeTool.locked?{type:"selection"}:t.activeTool)),{},{locked:!t.activeTool.locked})}}))},this.togglePenMode=function(){e.setState((function(e){return{penMode:!e.penMode}}))},this.scrollToContent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.scene.getNonDeletedElements();e.setState(Bo({},(0,_.W)(Array.isArray(t)?t:[t],e.state,e.canvas)))},this.setToast=function(t){e.setState({toast:t})},this.restoreFileFromShare=(0,a.Z)(m().mark((function t(){var n,r,i,o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,caches.open("web-share-target");case 3:return n=t.sent,t.next=6,n.match("shared-file");case 6:if(!(r=t.sent)){t.next=16;break}return t.next=10,r.blob();case 10:return i=t.sent,o=new File([i],i.name||"",{type:i.type}),e.loadFileToCanvas(o,null),t.next=15,n.delete("shared-file");case 15:window.history.replaceState(null,re.iC,window.location.pathname);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),e.setState({errorMessage:t.t0.message});case 21:case"end":return t.stop()}}),t,null,[[0,18]])}))),this.addFiles=(0,N.tH)((function(t){var n=t.reduce((function(e,t){return e.set(t.id,t),e}),new Map);e.files=Bo(Bo({},e.files),Object.fromEntries(n)),e.scene.getNonDeletedElements().forEach((function(t){(0,D.wi)(t)&&n.has(t.fileId)&&(e.imageCache.delete(t.fileId),(0,Wn.bI)(t))})),e.scene.informMutation(),e.addNewImagesToImageCache()})),this.updateScene=(0,N.tH)((function(t){t.commitToHistory&&e.history.resumeRecording(),t.appState&&e.setState(t.appState),t.elements&&e.scene.replaceAllElements(t.elements),t.collaborators&&e.setState({collaborators:t.collaborators})})),this.onSceneUpdated=function(){e.setState({})},this.toggleMenu=function(t,n){return"customSidebar"!==t||e.props.renderSidebar?("library"===t||"customSidebar"===t)&&(r=void 0===n?e.state.openSidebar===t?null:t:n?t:null,e.setState({openSidebar:r}),!!r):(console.warn('attempting to toggle "customSidebar", but no "props.renderSidebar" is defined'),!1);var r},this.updateCurrentCursorPosition=(0,N.tH)((function(e){ia=e.clientX,oa=e.clientY})),this.onKeyDown=(0,N.tH)((function(t){if("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(e,n){var r=e[n];return"function"==typeof r?r.bind(e):"key"===n?t.shiftKey?e.key.toUpperCase():e.key.toLowerCase():r}})),t[E.tW.CTRL_OR_CMD]&&t.key.toLowerCase()===E.tW.V&&(ha=t.shiftKey,clearTimeout(pa),pa=window.setTimeout((function(){ha=!1}),100)),!t[E.tW.CTRL_OR_CMD]||!(0,N.s)(t.target)||t.code!==E.aU.MINUS&&t.code!==E.aU.EQUAL){if(!((0,N.s)(t.target)&&t.key!==E.tW.ESCAPE||(0,E.Wl)(t.key)&&(0,N._Z)(t.target)))if(t.key!==E.tW.QUESTION_MARK){if(t.key.toLowerCase()===E.tW.E&&t.shiftKey&&t[E.tW.CTRL_OR_CMD])e.setState({openDialog:"imageExport"});else if(!e.actionManager.handleKeyDown(t)&&!e.state.viewModeEnabled){if(t[E.tW.CTRL_OR_CMD]&&e.state.isBindingEnabled&&e.setState({isBindingEnabled:!1}),(0,E.Wl)(t.key)){var n=e.state.gridSize&&(t.shiftKey?re.$e:e.state.gridSize)||(t.shiftKey?re.Iw:re.$e),r=(0,_.eD)(e.scene.getNonDeletedElements(),e.state,!0),i=0,o=0;t.key===E.tW.ARROW_LEFT?i=-n:t.key===E.tW.ARROW_RIGHT?i=n:t.key===E.tW.ARROW_UP?o=-n:t.key===E.tW.ARROW_DOWN&&(o=n),r.forEach((function(e){(0,A.DR)(e,{x:e.x+i,y:e.y+o}),(0,O.Ww)(e,{simultaneouslyUpdated:r})})),e.maybeSuggestBindingForAll(r),t.preventDefault()}else if(t.key===E.tW.ENTER){var a=(0,_.eD)(e.scene.getNonDeletedElements(),e.state);if(1===a.length){var s=a[0];if(t[E.tW.CTRL_OR_CMD])(0,D.bt)(s)&&(e.state.editingLinearElement&&e.state.editingLinearElement.elementId===a[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new I._(s,e.scene)})));else if((0,j.iB)(s)||(0,ie.Zr)(s)){var c;(0,j.iB)(s)||(c=s);var u=(0,ie.TP)(s,e.state),l=u.x,d=u.y;return e.startTextEditing({sceneX:l,sceneY:d,container:c}),void t.preventDefault()}}}else if(!t.ctrlKey&&!t.altKey&&!t.metaKey&&null===e.state.draggingElement){var f=function(e){var t=qn.find((function(t,n){return null!=t.numericKey&&e===t.numericKey.toString()||t.key&&("string"==typeof t.key?t.key===e:t.key.includes(e))}));return(null==t?void 0:t.value)||null}(t.key);f?(e.state.activeTool.type!==f&&(0,In.L)("toolbar",f,"keyboard (".concat(e.device.isMobile?"mobile":"desktop",")")),e.setActiveTool({type:f}),t.stopPropagation()):t.key===E.tW.Q&&(e.toggleLock("keyboard"),t.stopPropagation())}if(t.key===E.tW.SPACE&&0===ga.pointers.size&&(aa=!0,(0,N.KJ)(e.canvas,re.oc.GRAB),t.preventDefault()),!(t.key!==E.tW.G&&t.key!==E.tW.S||t.altKey||t[E.tW.CTRL_OR_CMD])){var h=(0,_.eD)(e.scene.getNonDeletedElements(),e.state);if("selection"===e.state.activeTool.type&&!h.length)return;t.key===E.tW.G&&((0,_.$b)(e.state.activeTool.type)||h.some((function(e){return(0,_.$b)(e.type)})))&&(e.setState({openPopup:"backgroundColorPicker"}),t.stopPropagation()),t.key===E.tW.S&&(e.setState({openPopup:"strokeColorPicker"}),t.stopPropagation())}}}else e.setState({openDialog:"help"})}else t.preventDefault()})),this.onWheel=(0,N.tH)((function(e){e.target instanceof HTMLCanvasElement||!e.ctrlKey||e.preventDefault()})),this.onKeyUp=(0,N.tH)((function(t){if(t.key===E.tW.SPACE&&(e.state.viewModeEnabled?(0,N.KJ)(e.canvas,re.oc.GRAB):"selection"===e.state.activeTool.type?(0,N.z8)(e.canvas):((0,N.Uk)(e.canvas,e.state),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),aa=!1),t[E.tW.CTRL_OR_CMD]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),(0,E.Wl)(t.key)){var n=(0,_.eD)(e.scene.getNonDeletedElements(),e.state);(0,O.N1)(e.state)?(0,O.el)(n):(0,O.H)(n),e.setState({suggestedBindings:[]})}})),this.setActiveTool=function(t){var n=(0,N.Om)(e.state,t);aa||(0,N.Uk)(e.canvas,e.state),(0,N.wO)(document.activeElement)&&e.focusContainer(),(0,D.dt)(n.type)||e.setState({suggestedBindings:[]}),"image"===n.type&&e.onImageAction(),"selection"!==n.type?e.setState({activeTool:n,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):e.setState({activeTool:n})},this.setCursor=function(t){(0,N.KJ)(e.canvas,t)},this.resetCursor=function(){(0,N.z8)(e.canvas)},this.isTouchScreenMultiTouchGesture=function(){return ga.pointers.size>=2},this.onGestureStart=(0,N.tH)((function(t){t.preventDefault(),e.isTouchScreenMultiTouchGesture()&&e.setState({selectedElementIds:{}}),ga.initialScale=e.state.zoom.value})),this.onGestureChange=(0,N.tH)((function(t){if(t.preventDefault(),!e.isTouchScreenMultiTouchGesture()){var n=ga.initialScale;n&&e.setState((function(e){return Bo({},(0,Hn.E)({viewportX:ia,viewportY:oa,nextZoom:(0,_.j)(n*t.scale)},e))}))}})),this.onGestureEnd=(0,N.tH)((function(t){t.preventDefault(),e.isTouchScreenMultiTouchGesture()&&e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}),ga.initialScale=null})),this.startTextEditing=function(t){var n,r=t.sceneX,i=t.sceneY,a=t.insertAtParentCenter,s=void 0===a||a,c=t.container,u=!1,l=s&&e.getTextWysiwygSnappedToCenterPosition(r,i,e.state,c);c&&l&&(u=!0);var d=null,f=(0,_.eD)(e.scene.getNonDeletedElements(),e.state);if(!(d=1===f.length?(0,j.iB)(f[0])?f[0]:c?(0,ie.WJ)(f[0]):e.getTextElementAtPosition(r,i):e.getTextElementAtPosition(r,i))&&u&&c&&!(0,D.Yv)(c)){var h={fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily},p=(0,ie.AT)((0,N.mO)(h)),m=(0,ie.w_)((0,N.mO)(h)),v=(0,ie.HE)(c),g=Math.max(v.height,m),y=Math.max(v.width,p);(0,A.DR)(c,{height:g,width:y}),r=c.x+y/2,i=c.y+g/2,l&&(l=e.getTextWysiwygSnappedToCenterPosition(r,i,e.state,c))}var b=d||(0,j.VL)({x:l?l.elementCenterX:r,y:l?l.elementCenterY:i,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,roundness:null,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:l?"center":e.state.currentItemTextAlign,verticalAlign:l?re.oX.MIDDLE:re.hs,containerId:u?null==c?void 0:c.id:void 0,groupIds:null!==(n=null==c?void 0:c.groupIds)&&void 0!==n?n:[],locked:!1});if(!d&&u&&c&&(0,A.DR)(c,{boundElements:(c.boundElements||[]).concat({type:"text",id:b.id})}),e.setState({editingElement:b}),!d){if(c&&u){var w=e.scene.getElementIndex(c.id);e.scene.insertElementAtIndex(b,w+1)}else e.scene.replaceAllElements([].concat((0,o.Z)(e.scene.getElementsIncludingDeleted()),[b]));l||(0,A.DR)(b,{y:b.y-b.baseline/2})}e.setState({editingElement:b}),e.handleTextWysiwyg(b,{isExistingElement:!!d})},this.handleCanvasDoubleClick=function(t){if(!e.state.multiElement&&"selection"===e.state.activeTool.type){var n=(0,_.eD)(e.scene.getNonDeletedElements(),e.state);if(1===n.length&&(0,D.bt)(n[0])){if(t[E.tW.CTRL_OR_CMD]&&(!e.state.editingLinearElement||e.state.editingLinearElement.elementId!==n[0].id))return e.history.resumeRecording(),void e.setState({editingLinearElement:new I._(n[0],e.scene)});if(e.state.editingLinearElement&&e.state.editingLinearElement.elementId===n[0].id)return}(0,N.z8)(e.canvas);var r=(0,N.dE)(t,e.state),i=r.x,o=r.y;if((0,T.iJ)(e.state).length>0){var a=e.getElementAtPosition(i,o),s=a&&(0,T.YS)(a,e.state.selectedGroupIds);if(s)return void e.setState((function(t){return(0,T.bO)(Bo(Bo({},t),{},{editingGroupId:s,selectedElementIds:(0,h.Z)({},a.id,!0),selectedGroupIds:{}}),e.scene.getNonDeletedElements())}))}if((0,N.z8)(e.canvas),!t[E.tW.CTRL_OR_CMD]&&!e.state.viewModeEnabled){var c=(0,ie.OW)(e.scene.getNonDeletedElements(),e.state,i,o);if(c&&((0,D.Yv)(c)||(0,D.Xo)(c))){var u=(0,ie.TP)(c,e.state);i=u.x,o=u.y}e.startTextEditing({sceneX:i,sceneY:o,insertAtParentCenter:!t.altKey,container:c})}}},this.getElementLinkAtPosition=function(t,n){var r=e.scene.getNonDeletedElements().slice().reverse(),i=1/0;return r.find((function(r,o){return n&&r.id===n.id&&(i=o),r.link&&o<=i&&(0,bn.wq)(r,e.state,[t.x,t.y],e.device.isMobile)}))},this.redirectToLink=function(t,n){var r=(0,ue.LW)(e.lastPointerDown.clientX,e.lastPointerDown.clientY,e.lastPointerUp.clientX,e.lastPointerUp.clientY);if(!(!e.hitLinkElement||n&&r>re.f||!n&&0!==r)){var i=(0,N.dE)(e.lastPointerDown,e.state),o=(0,bn.wq)(e.hitLinkElement,e.state,[i.x,i.y],e.device.isMobile),a=(0,N.dE)(e.lastPointerUp,e.state),s=(0,bn.wq)(e.hitLinkElement,e.state,[a.x,a.y],e.device.isMobile);if(o&&s){var c,u,l=e.hitLinkElement.link;if(l&&(e.props.onLinkOpen&&(u=(0,N.ag)(re.Ks.EXCALIDRAW_LINK,t.nativeEvent),e.props.onLinkOpen(e.hitLinkElement,u)),null===(c=u)||void 0===c||!c.defaultPrevented)){var d=(0,bn.q$)(l)?"_self":"_blank",f=window.open(void 0,d);f&&(f.opener=null,f.location=(0,bn.$u)(l))}}}},this.handleCanvasPointerMove=function(t){e.savePointer(t.clientX,t.clientY,e.state.cursorButton),ga.pointers.has(t.pointerId)&&ga.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY});var n=ga.initialScale;if(2===ga.pointers.size&&ga.lastCenter&&n&&ga.initialDistance){var r=Ln(ga.pointers),a=r.x-ga.lastCenter.x,s=r.y-ga.lastCenter.y;ga.lastCenter=r;var c=Rn(Array.from(ga.pointers.values())),u="freedraw"===e.state.activeTool.type&&e.state.penMode?1:c/ga.initialDistance,l=u?(0,_.j)(n*u):e.state.zoom.value;e.setState((function(e){var t=(0,Hn.E)({viewportX:r.x,viewportY:r.y,nextZoom:l},e);return{zoom:t.zoom,scrollX:t.scrollX+a/l,scrollY:t.scrollY+s/l,shouldCacheIgnoreZoom:!0}})),e.resetShouldCacheIgnoreZoomDebounced()}else ga.lastCenter=ga.initialDistance=ga.initialScale=null;if(!(aa||sa||ca)){var d=(0,_._4)(ua,t.clientX-e.state.offsetLeft,t.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||e.state.multiElement||(d?(0,N.z8)(e.canvas):(0,N.Uk)(e.canvas,e.state));var f=(0,N.dE)(t,e.state),h=f.x,p=f.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var m=I._.handlePointerMove(t,h,p,e.state);m&&m!==e.state.editingLinearElement&&(0,y.flushSync)((function(){e.setState({editingLinearElement:m})})),null!=(null==m?void 0:m.lastUncommittedPoint)?e.maybeSuggestBindingAtCursor(f):(0,y.flushSync)((function(){e.setState({suggestedBindings:[]})}))}if((0,D.Lx)(e.state.activeTool.type)){var v=e.state.draggingElement;(0,D.Mn)(v,!1)?e.maybeSuggestBindingsForLinearElementAtCoords(v,[f],e.state.startBoundElement):e.maybeSuggestBindingAtCursor(f)}if(e.state.multiElement){var g=e.state.multiElement,b=g.x,w=g.y,x=g.points,k=g.lastCommittedPoint,C=x[x.length-1];if((0,N.Uk)(e.canvas,e.state),C===k)(0,ue.LW)(h-b,p-w,C[0],C[1])>=re.qx?(0,A.DR)(g,{points:[].concat((0,o.Z)(x),[[h-b,p-w]])}):(0,N.KJ)(e.canvas,re.oc.POINTER);else if(x.length>2&&k&&(0,ue.LW)(h-b,p-w,k[0],k[1])<re.qx)(0,N.KJ)(e.canvas,re.oc.POINTER),(0,A.DR)(g,{points:x.slice(0,-1)});else{var S,T=(0,ue.wC)(h,p,e.state.gridSize),O=(0,i.Z)(T,2),P=O[0],M=O[1],L=null!==(S=null==g?void 0:g.lastCommittedPoint)&&void 0!==S?S:[0,0],R=(0,i.Z)(L,2),Z=R[0],F=R[1],U=P-b-Z,z=M-w-F;if((0,E.Ge)(t)){var B=(0,j.o4)(Z+b,F+w,P,M);U=B.width,z=B.height}(0,ue.g6)(x,e.state.zoom.value)&&(0,N.KJ)(e.canvas,re.oc.POINTER),(0,A.DR)(g,{points:[].concat((0,o.Z)(x.slice(0,-1)),[[Z+U,F+z]])})}}else if(!(Boolean(t.buttons)||"selection"!==e.state.activeTool.type&&"text"!==e.state.activeTool.type&&"eraser"!==e.state.activeTool.type)){var V=e.scene.getNonDeletedElements(),W=(0,_.eD)(V,e.state);if(1!==W.length||d||e.state.editingLinearElement){if(W.length>1&&!d){var H=(0,j.n2)((0,j.KP)(W),h,p,e.state.zoom,t.pointerType);if(H)return void(0,N.KJ)(e.canvas,(0,j.Un)({transformHandleType:H}))}}else{var q=(0,j.jt)(V,e.state,h,p,e.state.zoom,t.pointerType);if(q&&q.transformHandleType)return void(0,N.KJ)(e.canvas,(0,j.Un)(q))}var G=e.getElementAtPosition(f.x,f.y);e.hitLinkElement=e.getElementLinkAtPosition(f,G),(0,Nn.EN)(e.state)||(e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id]?((0,N.KJ)(e.canvas,re.oc.POINTER),(0,bn.Pp)(e.hitLinkElement,e.state)):((0,bn.lV)(),G&&G.link&&e.state.selectedElementIds[G.id]&&!e.state.contextMenu&&!e.state.showHyperlinkPopup?e.setState({showHyperlinkPopup:"info"}):"text"===e.state.activeTool.type?(0,N.KJ)(e.canvas,(0,j.iB)(G)?re.oc.TEXT:re.oc.CROSSHAIR):e.state.viewModeEnabled?(0,N.KJ)(e.canvas,re.oc.GRAB):d?(0,N.KJ)(e.canvas,re.oc.AUTO):e.state.selectedLinearElement?e.handleHoverSelectedLinearElement(e.state.selectedLinearElement,h,p):t[E.tW.CTRL_OR_CMD]?(0,N.KJ)(e.canvas,re.oc.AUTO):!G&&!e.isHittingCommonBoundingBoxOfSelectedElements(f,W)||null!=G&&G.locked||(0,N.KJ)(e.canvas,re.oc.MOVE)))}}},this.handleEraser=function(t,n,r){for(var i=function(e){e.forEach((function(e){e.locked||(o.push(e.id),t.altKey?n.elementIdsToErase[e.id]&&n.elementIdsToErase[e.id].erase&&(n.elementIdsToErase[e.id].erase=!1):n.elementIdsToErase[e.id]||(n.elementIdsToErase[e.id]={erase:!0,opacity:e.opacity}))}))},o=[],a=(0,ue.LW)(n.lastCoords.x,n.lastCoords.y,r.x,r.y),s=10/e.state.zoom.value,c=Bo({},n.lastCoords),u=0;u<=a&&(i(e.getElementsAtPosition(c.x,c.y)),u!==a);){var l=(u=Math.min(u+s,a))/a,d=(1-l)*c.x+l*r.x,f=(1-l)*c.y+l*r.y;c.x=d,c.y=f}var h=e.scene.getElementsIncludingDeleted().map((function(e){var r=(0,D.Xh)(e)&&o.includes(e.containerId)?e.containerId:e.id;if(o.includes(r)){if(!t.altKey)return(0,A.BE)(e,{opacity:re.xY});if(n.elementIdsToErase[r]&&!1===n.elementIdsToErase[r].erase)return(0,A.BE)(e,{opacity:n.elementIdsToErase[r].opacity})}return e}));e.scene.replaceAllElements(h),n.lastCoords.x=r.x,n.lastCoords.y=r.y},this.handleTouchMove=function(e){da=!0},this.handleCanvasPointerDown=function(t){var n,r;e.state.contextMenu&&e.setState({contextMenu:null});var i=document.getSelection();if(null!=i&&i.anchorNode&&i.removeAllRanges(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),e.maybeCleanupAfterMissingPointerUp(t),e.state.penDetected||"pen"!==t.pointerType||e.setState((function(e){return{penMode:!0,penDetected:!0}})),!e.device.isTouchScreen&&["pen","touch"].includes(t.pointerType)&&(e.device=(0,N.v4)(e.device,{isTouchScreen:!0})),!sa&&(e.lastPointerDown=t,e.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),e.savePointer(t.clientX,t.clientY,"down"),e.updateGestureOnPointerDown(t),!e.handleCanvasPanUsingWheelOrSpaceDrag(t)&&!(t.button!==re.Oh.MAIN&&t.button!==re.Oh.TOUCH||ga.pointers.size>1))){var o=e.initialPointerDownState(t);if(!e.handleDraggingScrollBar(t,o)&&(e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(t),!e.handleSelectionOnPointerDown(t,o)&&(!e.state.penMode||"touch"!==t.pointerType||"selection"===e.state.activeTool.type||"text"===e.state.activeTool.type||"image"===e.state.activeTool.type)))if("text"!==e.state.activeTool.type){if("arrow"===e.state.activeTool.type||"line"===e.state.activeTool.type)e.handleLinearElementOnPointerDown(t,e.state.activeTool.type,o);else if("image"===e.state.activeTool.type){(0,N.KJ)(e.canvas,re.oc.CROSSHAIR);var a=e.state.pendingImageElementId&&e.scene.getElement(e.state.pendingImageElementId);if(!a)return;e.setState({draggingElement:a,editingElement:a,pendingImageElementId:null,multiElement:null});var s=(0,N.dE)(t,e.state),c=s.x,u=s.y;(0,A.DR)(a,{x:c,y:u})}else"freedraw"===e.state.activeTool.type?e.handleFreeDrawElementOnPointerDown(t,e.state.activeTool.type,o):"custom"===e.state.activeTool.type?(0,N.KJ)(e.canvas,re.oc.AUTO):"eraser"!==e.state.activeTool.type&&e.createGenericElementOnPointerDown(e.state.activeTool.type,o);null===(n=e.props)||void 0===n||null===(r=n.onPointerDown)||void 0===r||r.call(n,e.state.activeTool,o),e.onPointerDownEmitter.trigger(e.state.activeTool,o,t);var l=e.onPointerMoveFromPointerDownHandler(o),d=e.onPointerUpFromPointerDownHandler(o),f=e.onKeyDownFromPointerDownHandler(o),h=e.onKeyUpFromPointerDownHandler(o);va=d,e.state.viewModeEnabled||(window.addEventListener(re.Ks.POINTER_MOVE,l),window.addEventListener(re.Ks.POINTER_UP,d),window.addEventListener(re.Ks.KEYDOWN,f),window.addEventListener(re.Ks.KEYUP,h),o.eventListeners.onMove=l,o.eventListeners.onUp=d,o.eventListeners.onKeyUp=h,o.eventListeners.onKeyDown=f)}else e.handleTextOnPointerDown(t,o)}},this.handleCanvasPointerUp=function(t){if(e.lastPointerUp=t,e.device.isTouchScreen){var n=(0,N.dE)({clientX:t.clientX,clientY:t.clientY},e.state),r=e.getElementAtPosition(n.x,n.y);e.hitLinkElement=e.getElementLinkAtPosition(n,r)}e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id]&&e.redirectToLink(t,e.device.isTouchScreen),e.removePointer(t)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){"touch"===t.pointerType&&(da=!1,la?da=!0:la=window.setTimeout((function(){la=0,da||e.handleCanvasContextMenu(t)}),re.nM))},this.resetContextMenuTimer=function(){clearTimeout(la),la=0,da=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if(!(ga.pointers.size<=1&&(t.button===re.Oh.WHEEL||t.button===re.Oh.MAIN&&aa||e.state.viewModeEnabled))||(0,j.iB)(e.state.editingElement))return!1;sa=!0,t.preventDefault();var n=!1,r=/Linux/.test(window.navigator.platform);(0,N.KJ)(e.canvas,re.oc.GRABBING);var i=t.clientX,o=t.clientY,a=(0,N.$9)((function(t){var a=i-t.clientX,s=o-t.clientY;if(i=t.clientX,o=t.clientY,r&&!n&&(Math.abs(a)>1||Math.abs(s)>1)){n=!0;var c=function e(t){document.body.removeEventListener(re.Ks.PASTE,e),t.stopPropagation()};document.body.addEventListener(re.Ks.PASTE,c),window.addEventListener(re.Ks.POINTER_UP,(function e(){setTimeout((function(){document.body.removeEventListener(re.Ks.PASTE,c),window.removeEventListener(re.Ks.POINTER_UP,e)}),100)}))}e.setState({scrollX:e.state.scrollX-a/e.state.zoom.value,scrollY:e.state.scrollY-s/e.state.zoom.value})})),s=(0,N.tH)(va=function(){va=null,sa=!1,aa||(e.state.viewModeEnabled?(0,N.KJ)(e.canvas,re.oc.GRAB):(0,N.Uk)(e.canvas,e.state)),e.setState({cursorButton:"up"}),e.savePointer(t.clientX,t.clientY,"up"),window.removeEventListener(re.Ks.POINTER_MOVE,a),window.removeEventListener(re.Ks.POINTER_UP,s),window.removeEventListener(re.Ks.BLUR,s),a.flush()});return window.addEventListener(re.Ks.BLUR,s),window.addEventListener(re.Ks.POINTER_MOVE,a,{passive:!0}),window.addEventListener(re.Ks.POINTER_UP,s),!0},this.clearSelectionIfNotUsingSelection=function(){"selection"!==e.state.activeTool.type&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(t,n){if("selection"===e.state.activeTool.type){var r=e.scene.getNonDeletedElements(),i=(0,_.eD)(r,e.state);if(1!==i.length||e.state.editingLinearElement)i.length>1&&(n.resize.handleType=(0,j.n2)((0,j.KP)(i),n.origin.x,n.origin.y,e.state.zoom,t.pointerType));else{var o=(0,j.jt)(r,e.state,n.origin.x,n.origin.y,e.state.zoom,t.pointerType);null!=o&&(e.setState({resizingElement:o.element}),n.resize.handleType=o.transformHandleType)}if(n.resize.handleType)(0,N.KJ)(e.canvas,(0,j.Un)({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=(0,N.AK)((0,j.xx)(n.resize.handleType,i,n.origin.x,n.origin.y)),1===i.length&&(0,D.bt)(i[0])&&2===i[0].points.length&&(n.resize.arrowDirection=(0,j.T)(n.resize.handleType,i[0]));else{var a;if(e.state.selectedLinearElement){var s=e.state.editingLinearElement||e.state.selectedLinearElement,c=I._.handlePointerDown(t,e.state,e.history,n.origin,s);if(c.hitElement&&(n.hit.element=c.hitElement),c.linearElementEditor&&(e.setState({selectedLinearElement:c.linearElementEditor}),e.state.editingLinearElement&&e.setState({editingLinearElement:c.linearElementEditor})),c.didAddPoint)return!0}if(n.hit.element=null!==(a=n.hit.element)&&void 0!==a?a:e.getElementAtPosition(n.origin.x,n.origin.y),n.hit.element&&e.getElementLinkAtPosition({x:n.origin.x,y:n.origin.y},n.hit.element))return!1;n.hit.allHitElements=e.getElementsAtPosition(n.origin.x,n.origin.y);var u=n.hit.element,l=n.hit.allHitElements.some((function(t){return e.isASelectedElement(t)}));if(null!==u&&l||t.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(u),e.state.editingLinearElement)e.setState({selectedElementIds:(0,h.Z)({},e.state.editingLinearElement.elementId,!0)});else if(null!=u){if(t[E.tW.CTRL_OR_CMD])return e.state.selectedElementIds[u.id]||(n.hit.wasAddedToSelection=!0),e.setState((function(t){return Bo(Bo({},(0,T.iE)(t,u)),{},{previousSelectedElementIds:e.state.selectedElementIds})})),!1;e.state.selectedElementIds[u.id]||(e.state.editingGroupId&&!(0,T.Nd)(u,e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),l||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState((function(t){return(0,T.bO)(Bo(Bo({},t),{},{selectedElementIds:Bo(Bo({},t.selectedElementIds),{},(0,h.Z)({},u.id,!0)),showHyperlinkPopup:!!u.link&&"info"}),e.scene.getNonDeletedElements())})),n.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(t,n){if(!(0,j.iB)(e.state.editingElement)){var r=n.origin.x,i=n.origin.y,o=e.getElementAtPosition(r,i,{includeBoundTextElement:!0}),a=(0,ie.OW)(e.scene.getNonDeletedElements(),e.state,r,i);(0,D.Xo)(o)&&(a=o,r=o.x+o.width/2,i=o.y+o.height/2),e.startTextEditing({sceneX:r,sceneY:i,insertAtParentCenter:!t.altKey,container:a}),(0,N.z8)(e.canvas),e.state.activeTool.locked||e.setState({activeTool:(0,N.Om)(e.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(t,n,r){var a=(0,ue.wC)(r.origin.x,r.origin.y,null),s=(0,i.Z)(a,2),c=s[0],u=s[1],l=(0,jt.KE)({type:n,x:c,y:u,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,roundness:null,simulatePressure:.5===t.pressure,locked:!1});e.setState((function(e){return{selectedElementIds:Bo(Bo({},e.selectedElementIds),{},(0,h.Z)({},l.id,!1))}}));var d=l.simulatePressure?l.pressures:[].concat((0,o.Z)(l.pressures),[t.pressure]);(0,A.DR)(l,{points:[[0,0]],pressures:d});var f=(0,O.Y9)(r.origin,e.scene);e.scene.replaceAllElements([].concat((0,o.Z)(e.scene.getElementsIncludingDeleted()),[l])),e.setState({draggingElement:l,editingElement:l,startBoundElement:f,suggestedBindings:[]})},this.createImageElement=function(t){var n=t.sceneX,r=t.sceneY,o=(0,ue.wC)(n,r,e.state.gridSize),a=(0,i.Z)(o,2),s=a[0],c=a[1];return(0,j.vw)({type:"image",x:s,y:c,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,roundness:null,opacity:e.state.currentItemOpacity,locked:!1})},this.handleLinearElementOnPointerDown=function(t,n,r){if(e.state.multiElement){var a=e.state.multiElement;if("line"===a.type&&(0,ue.g6)(a.points,e.state.zoom.value))return(0,A.DR)(a,{lastCommittedPoint:a.points[a.points.length-1]}),void e.actionManager.executeAction(fe);var s=a.x,c=a.y,u=a.lastCommittedPoint;if(a.points.length>1&&u&&(0,ue.LW)(r.origin.x-s,r.origin.y-c,u[0],u[1])<re.qx)return void e.actionManager.executeAction(fe);e.setState((function(e){return{selectedElementIds:Bo(Bo({},e.selectedElementIds),{},(0,h.Z)({},a.id,!0))}})),(0,A.DR)(a,{lastCommittedPoint:a.points[a.points.length-1]}),(0,N.KJ)(e.canvas,re.oc.POINTER)}else{var l=(0,ue.wC)(r.origin.x,r.origin.y,e.state.gridSize),d=(0,i.Z)(l,2),f=d[0],p=d[1],m=e.state,v=m.currentItemStartArrowhead,g=m.currentItemEndArrowhead,y="arrow"===n?[v,g]:[null,null],b=(0,i.Z)(y,2),w=b[0],x=b[1],_=(0,j.y8)({type:n,x:f,y:p,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,roundness:"round"===e.state.currentItemRoundness?{type:re.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:w,endArrowhead:x,locked:!1});e.setState((function(e){return{selectedElementIds:Bo(Bo({},e.selectedElementIds),{},(0,h.Z)({},_.id,!1))}})),(0,A.DR)(_,{points:[].concat((0,o.Z)(_.points),[[0,0]])});var E=(0,O.Y9)(r.origin,e.scene);e.scene.replaceAllElements([].concat((0,o.Z)(e.scene.getElementsIncludingDeleted()),[_])),e.setState({draggingElement:_,editingElement:_,startBoundElement:E,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(t,n){var r=(0,ue.wC)(n.origin.x,n.origin.y,e.state.gridSize),a=(0,i.Z)(r,2),s=a[0],c=a[1],u=(0,j.Up)({type:t,x:s,y:c,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,roundness:"round"===e.state.currentItemRoundness?{type:(0,D.QI)(t)?re.a6.ADAPTIVE_RADIUS:re.a6.PROPORTIONAL_RADIUS}:null,locked:!1});"selection"===u.type?e.setState({selectionElement:u,draggingElement:u}):(e.scene.replaceAllElements([].concat((0,o.Z)(e.scene.getElementsIncludingDeleted()),[u])),e.setState({multiElement:null,draggingElement:u,editingElement:u}))},this.restoreReadyToEraseElements=function(t){var n=e.scene.getElementsIncludingDeleted().map((function(e){return t.elementIdsToErase[e.id]&&t.elementIdsToErase[e.id].erase?(0,A.BE)(e,{opacity:t.elementIdsToErase[e.id].opacity}):(0,D.Xh)(e)&&t.elementIdsToErase[e.containerId]&&t.elementIdsToErase[e.containerId].erase?(0,A.BE)(e,{opacity:t.elementIdsToErase[e.containerId].opacity}):e}));e.scene.replaceAllElements(n)},this.eraseElements=function(t){var n=e.scene.getElementsIncludingDeleted().map((function(e){return t.elementIdsToErase[e.id]&&t.elementIdsToErase[e.id].erase||(0,D.Xh)(e)&&t.elementIdsToErase[e.containerId]&&t.elementIdsToErase[e.containerId].erase?(0,A.BE)(e,{isDeleted:!0}):e}));e.history.resumeRecording(),e.scene.replaceAllElements(n)},this.initializeImage=function(){var t=(0,a.Z)(m().mark((function t(n){var r,i,o,s,c,u,l,d,f,p,v,g,y,b,w;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.imageFile,c=n.imageElement,u=n.showCursorImagePreview,l=void 0!==u&&u,(0,Me.Wr)(s)){t.next=3;break}throw new Error((0,C.t)("errors.unsupportedFileType"));case 3:if(d=s.type,(0,N.KJ)(e.canvas,"wait"),d!==re.LO.svg){t.next=23;break}return t.prev=6,t.t0=Me.Pn,t.t1=Oo.bp,t.next=11,s.text();case 11:return t.t2=t.sent,t.next=14,(0,t.t1)(t.t2);case 14:t.t3=t.sent,t.t4=s.name,s=(0,t.t0)(t.t3,t.t4),t.next=23;break;case 19:throw t.prev=19,t.t5=t.catch(6),console.warn(t.t5),new Error((0,C.t)("errors.svgImageInsertError"));case 23:return t.next=25,(null===(r=(i=e.props).generateIdForFile)||void 0===r?void 0:r.call(i,s))||(0,Me.tW)(s);case 25:if(f=t.sent){t.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,C.t)("errors.imageInsertError"));case 29:if(null!=(p=e.files[f])&&p.dataURL){t.next=42;break}return t.prev=31,t.next=34,(0,Me.Tu)(s,{maxWidthOrHeight:re.h6});case 34:s=t.sent,t.next=40;break;case 37:t.prev=37,t.t6=t.catch(31),console.error("error trying to resing image file on insertion",t.t6);case 40:if(!(s.size>re.$n)){t.next=42;break}throw new Error((0,C.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(re.$n/1024/1024),"MB")}));case 42:if(l&&(g=null===(v=e.files[f])||void 0===v?void 0:v.dataURL,y=g&&(0,Me.KG)(g),e.setImagePreviewCursor(y||s)),t.t7=null===(o=e.files[f])||void 0===o?void 0:o.dataURL,t.t7){t.next=48;break}return t.next=47,(0,Me.Sf)(s);case 47:t.t7=t.sent;case 48:return b=t.t7,w=(0,A.DR)(c,{fileId:f},!1),t.abrupt("return",new Promise(function(){var t=(0,a.Z)(m().mark((function t(n,r){var i,o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.files=Bo(Bo({},e.files),{},(0,h.Z)({},f,{mimeType:d,id:f,dataURL:b,created:Date.now(),lastRetrieved:Date.now()})),o=e.imageCache.get(f)){t.next=7;break}return e.addNewImagesToImageCache(),t.next=7,e.updateImageCache([w]);case 7:if(!((null==o?void 0:o.image)instanceof Promise)){t.next=10;break}return t.next=10,o.image;case 10:e.state.pendingImageElementId!==w.id&&(null===(i=e.state.draggingElement)||void 0===i?void 0:i.id)!==w.id&&e.initializeImageDimensions(w,!0),n(w),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),r(new Error((0,C.t)("errors.imageInsertError")));case 18:return t.prev=18,l||(0,N.z8)(e.canvas),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,14,18,21]])})));return function(e,n){return t.apply(this,arguments)}}()));case 51:case"end":return t.stop()}}),t,null,[[6,19],[31,37]])})));return function(e){return t.apply(this,arguments)}}(),this.insertImageElement=function(){var t=(0,a.Z)(m().mark((function t(n,r,i){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.scene.replaceAllElements([].concat((0,o.Z)(e.scene.getElementsIncludingDeleted()),[n])),t.prev=1,t.next=4,e.initializeImage({imageFile:r,imageElement:n,showCursorImagePreview:i});case 4:t.next=11;break;case 6:t.prev=6,t.t0=t.catch(1),(0,A.DR)(n,{isDeleted:!0}),e.actionManager.executeAction(fe),e.setState({errorMessage:t.t0.message||(0,C.t)("errors.imageInsertError")});case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,r){return t.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var t=(0,a.Z)(m().mark((function t(n){var r,i,o,a,s,c,u;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=96,t.next=3,(0,Me.Tu)(n,{maxWidthOrHeight:r});case 3:return i=t.sent,t.next=6,(0,Me.Sf)(i);case 6:if(o=t.sent,n.type!==re.LO.svg){t.next=20;break}return t.next=10,(0,Oo.PK)(o);case 10:a=t.sent,s=Math.min(a.height,r),(c=s*(a.width/a.height))>r&&(s=(c=r)*(a.height/a.width)),(u=document.createElement("canvas")).height=s,u.width=c,u.getContext("2d").drawImage(a,0,0,c,s),o=u.toDataURL(re.LO.svg);case 20:e.state.pendingImageElementId&&(0,N.KJ)(e.canvas,"url(".concat(o,") 4 4, auto"));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onImageAction=(0,a.Z)(m().mark((function t(){var n,r,i,o,a,s,c,u,l,d=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.length>0&&void 0!==d[0]?d[0]:{insertOnCanvasDirectly:!1},r=n.insertOnCanvasDirectly,t.prev=1,i=e.state.width/2+e.state.offsetLeft,o=e.state.height/2+e.state.offsetTop,a=(0,N.dE)({clientX:i,clientY:o},e.state),s=a.x,c=a.y,t.next=7,(0,Le.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:u=t.sent,l=e.createImageElement({sceneX:s,sceneY:c}),r?(e.insertImageElement(l,u),e.initializeImageDimensions(l),e.setState({selectedElementIds:(0,h.Z)({},l.id,!0)},(function(){e.actionManager.executeAction(fe)}))):e.setState({pendingImageElementId:l.id},(function(){e.insertImageElement(l,u,!0)})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),"AbortError"!==t.t0.name?console.error(t.t0):console.warn(t.t0),e.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,N.Om)(e.state,{type:"selection"})},(function(){e.actionManager.executeAction(fe)}));case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),this.initializeImageDimensions=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(0,D.wi)(t)&&(null===(n=e.imageCache.get(t.fileId))||void 0===n?void 0:n.image);if(!i||i instanceof Promise){if(t.width<re.f/e.state.zoom.value&&t.height<re.f/e.state.zoom.value){var o=100/e.state.zoom.value;(0,A.DR)(t,{x:t.x-o/2,y:t.y-o/2,width:o,height:o})}}else if(r||t.width<re.f/e.state.zoom.value&&t.height<re.f/e.state.zoom.value){var a=Math.max(e.state.height-120,160),s=Math.min(a,Math.floor(.5*e.state.height)/e.state.zoom.value),c=Math.min(i.naturalHeight,s),u=c*(i.naturalWidth/i.naturalHeight),l=t.x+t.width/2-u/2,d=t.y+t.height/2-c/2;(0,A.DR)(t,{x:l,y:d,width:u,height:c})}},this.updateImageCache=function(){var t=(0,a.Z)(m().mark((function t(n){var r,i,o,a,s,c,u,l=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:e.files,t.next=3,(0,Oo.Xx)({imageCache:e.imageCache,fileIds:n.map((function(e){return e.fileId})),files:r});case 3:if(i=t.sent,o=i.updatedFiles,a=i.erroredFiles,o.size||a.size){s=Zo(n);try{for(s.s();!(c=s.n()).done;)u=c.value,o.has(u.fileId)&&(0,Wn.bI)(u)}catch(e){s.e(e)}finally{s.f()}}return a.size&&e.scene.replaceAllElements(e.scene.getElementsIncludingDeleted().map((function(e){return(0,D.wi)(e)&&a.has(e.fileId)?(0,A.BE)(e,{status:"error"}):e}))),t.abrupt("return",{updatedFiles:o,erroredFiles:a});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,a.Z)(m().mark((function t(){var n,r,i,o=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]?o[0]:(0,Oo.oA)(e.scene.getNonDeletedElements()),r=o.length>1&&void 0!==o[1]?o[1]:e.files,!(i=n.filter((function(t){return!t.isDeleted&&!e.imageCache.has(t.fileId)}))).length){t.next=9;break}return t.next=6,e.updateImageCache(i,r);case 6:t.sent.updatedFiles.size&&e.scene.informMutation();case 9:case"end":return t.stop()}}),t)}))),this.scheduleImageRefresh=No()((function(){e.addNewImagesToImageCache()}),re.LL),this.updateBindingEnabledOnPointerMove=function(t){var n=(0,O.cz)(t);e.state.isBindingEnabled!==n&&e.setState({isBindingEnabled:n})},this.maybeSuggestBindingAtCursor=function(t){var n=(0,O.Y9)(t,e.scene);e.setState({suggestedBindings:null!=n?[n]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(t,n,r){if(n.length){var i=n.reduce((function(n,i){var o=(0,O.Y9)(i,e.scene);return null==o||(0,O.DK)(t,null==r?void 0:r.id,o)||n.push(o),n}),[]);e.setState({suggestedBindings:i})}},this.handleCanvasRef=function(t){var n,r,i;null!==t?(e.canvas=t,e.rc=b.Z.canvas(e.canvas),e.canvas.addEventListener(re.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(re.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(re.Ks.TOUCH_END,e.onTapEnd)):(null===(n=e.canvas)||void 0===n||n.removeEventListener(re.Ks.WHEEL,e.handleWheel),null===(r=e.canvas)||void 0===r||r.removeEventListener(re.Ks.TOUCH_START,e.onTapStart),null===(i=e.canvas)||void 0===i||i.removeEventListener(re.Ks.TOUCH_END,e.onTapEnd))},this.handleAppOnDrop=function(){var t=(0,a.Z)(m().mark((function t(n){var r,i,o,a,s,c,u,l,d,f;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Me.bv)(n);case 2:if(r=t.sent,i=r.file,o=r.fileHandle,t.prev=5,!(0,Me.Wr)(i)){t.next=26;break}if((null==i?void 0:i.type)!==re.LO.png&&(null==i?void 0:i.type)!==re.LO.svg){t.next=20;break}return t.prev=8,t.next=11,(0,Me.cT)(i,e.state,e.scene.getElementsIncludingDeleted(),o);case 11:return a=t.sent,e.syncActionResult(Bo(Bo({},a),{},{appState:Bo(Bo({},a.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),t.abrupt("return");case 16:if(t.prev=16,t.t0=t.catch(8),"EncodingError"===t.t0.name){t.next=20;break}throw t.t0;case 20:return s=(0,N.dE)(n,e.state),c=s.x,u=s.y,l=e.createImageElement({sceneX:c,sceneY:u}),e.insertImageElement(l,i),e.initializeImageDimensions(l),e.setState({selectedElementIds:(0,h.Z)({},l.id,!0)}),t.abrupt("return");case 26:t.next=31;break;case 28:return t.prev=28,t.t1=t.catch(5),t.abrupt("return",e.setState({isLoading:!1,errorMessage:t.t1.message}));case 31:if(!(d=n.dataTransfer.getData(re.LO.excalidrawlib))||"string"!=typeof d){t.next=35;break}try{f=(0,Me.wf)(d),e.addElementsFromPasteOrLibrary({elements:(0,Pn.WV)(f),position:n,files:null})}catch(t){e.setState({errorMessage:t.message})}return t.abrupt("return");case 35:if(!i){t.next=38;break}return t.next=38,e.loadFileToCanvas(i,o);case 38:case"end":return t.stop()}}),t,null,[[5,28],[8,16]])})));return function(e){return t.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var t=(0,a.Z)(m().mark((function t(n,r){var i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Me.gY)(n);case 2:return n=t.sent,t.prev=3,t.next=6,(0,Me.ZY)(n,e.state,e.scene.getElementsIncludingDeleted(),r);case 6:if((i=t.sent).type!==re.LO.excalidraw){t.next=12;break}e.setState({isLoading:!0}),e.syncActionResult(Bo(Bo({},i.data),{},{appState:Bo(Bo({},i.data.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),t.next=15;break;case 12:if(i.type!==re.LO.excalidrawlib){t.next=15;break}return t.next=15,e.library.updateLibrary({libraryItems:n,merge:!0,openLibraryMenu:!0}).catch((function(t){console.error(t),e.setState({errorMessage:(0,C.t)("errors.importLibraryError")})}));case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),e.setState({isLoading:!1,errorMessage:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(e,n){return t.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(t){if(t.preventDefault(),"touch"!==t.nativeEvent.pointerType&&("pen"!==t.nativeEvent.pointerType||t.button===re.Oh.SECONDARY)||"selection"===e.state.activeTool.type){var n=(0,N.dE)(t,e.state),r=n.x,i=n.y,o=e.getElementAtPosition(r,i,{preferSelected:!0,includeLockedElements:!0}),a=(0,_.eD)(e.scene.getNonDeletedElements(),e.state),s=e.isHittingCommonBoundingBoxOfSelectedElements({x:r,y:i},a),c=o||s?"element":"canvas",u=e.excalidrawContainerRef.current.getBoundingClientRect(),l=u.top,d=u.left,f=t.clientX-d,p=t.clientY-l;(0,In.L)("contextMenu","openContextMenu",c),e.setState(Bo(Bo({},o&&!e.state.selectedElementIds[o.id]?(0,T.bO)(Bo(Bo({},e.state),{},{selectedElementIds:(0,h.Z)({},o.id,!0),selectedLinearElement:(0,D.bt)(o)?new I._(o,e.scene):null}),e.scene.getNonDeletedElements()):e.state),{},{showHyperlinkPopup:!1}),(function(){e.setState({contextMenu:{top:p,left:f,items:e.getContextMenuItems(c)}})}))}},this.maybeDragNewGenericElement=function(t,n){var r=e.state.draggingElement,o=t.lastCoords;if(r)if("selection"===r.type&&"eraser"!==e.state.activeTool.type)(0,j.EJ)(r,e.state.activeTool.type,t.origin.x,t.origin.y,o.x,o.y,(0,N.TE)(t.origin.x,o.x),(0,N.TE)(t.origin.y,o.y),(0,E.E0)(n),(0,E.OA)(n));else{var a,s=(0,ue.wC)(o.x,o.y,e.state.gridSize),c=(0,i.Z)(s,2),u=c[0],l=c[1],d=(0,D.wi)(r)&&(null===(a=e.imageCache.get(r.fileId))||void 0===a?void 0:a.image),f=!d||d instanceof Promise?null:d.width/d.height;(0,j.EJ)(r,e.state.activeTool.type,t.originInGrid.x,t.originInGrid.y,u,l,(0,N.TE)(t.originInGrid.x,u),(0,N.TE)(t.originInGrid.y,l),(0,D.pC)(r)?!(0,E.E0)(n):(0,E.E0)(n),(0,E.OA)(n),f),e.maybeSuggestBindingForAll([r])}},this.maybeHandleResize=function(t,n){var r=(0,_.eD)(e.scene.getNonDeletedElements(),e.state),o=t.resize.handleType;e.setState({isResizing:o&&"rotation"!==o,isRotating:"rotation"===o});var a=t.lastCoords,s=(0,ue.wC)(a.x-t.resize.offset.x,a.y-t.resize.offset.y,e.state.gridSize),c=(0,i.Z)(s,2),u=c[0],l=c[1];return!!(0,j.vY)(t,o,r,t.resize.arrowDirection,(0,E.Ge)(n),(0,E.OA)(n),1===r.length&&(0,D.pC)(r[0])?!(0,E.E0)(n):(0,E.E0)(n),u,l,t.resize.center.x,t.resize.center.y)&&(e.maybeSuggestBindingForAll(r),!0)},this.getContextMenuItems=function(t){var n=[];return n.push(nn,tn),"canvas"===t?e.state.viewModeEnabled?[].concat(n,[sn,ln,Io,hn]):[Jt,Qn,nn,tn,rn,Qn,ne,Qn,sn,ln,Io,hn]:(n.push(rn),e.state.viewModeEnabled?[$t].concat(n):[en,$t,Jt,Qn].concat(n,[Qn,at,st,Qn,yt,gn,yn,bt,Qn,It,Qn,Q,X,$,J,Qn,Vt,Wt,Qn,Sn,bn.nz,se,_n,Qn,F]))},this.handleWheel=(0,N.tH)((function(t){if(t.preventDefault(),!sa){var n=t.deltaX,r=t.deltaY;if(t.metaKey||t.ctrlKey){var i=Math.sign(r),o=100*re.V4,a=Math.abs(r),s=r;a>o&&(s=o*i);var c=e.state.zoom.value-s/100;return c+=Math.log10(Math.max(1,e.state.zoom.value))*-i*Math.min(1,a/20),e.setState((function(e){return Bo(Bo({},(0,Hn.E)({viewportX:ia,viewportY:oa,nextZoom:(0,_.j)(c)},e)),{},{shouldCacheIgnoreZoom:!0})})),void e.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?e.setState((function(e){var t=e.zoom;return{scrollX:e.scrollX-(r||n)/t.value}})):e.setState((function(e){var t=e.zoom,i=e.scrollX,o=e.scrollY;return{scrollX:i-n/t.value,scrollY:o-r/t.value}}))}})),this.savePointer=function(t,n,r){var i,o;if(t&&n){var a=(0,N.dE)({clientX:t,clientY:n},e.state);isNaN(a.x)||isNaN(a.y),null===(i=(o=e.props).onPointerUpdate)||void 0===i||i.call(o,{pointer:a,button:r,pointersMap:ga.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,N.Ds)((function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})}),300),this.updateDOMRect=function(t){var n;if(null!==(n=e.excalidrawContainerRef)&&void 0!==n&&n.current){var r=e.excalidrawContainerRef.current.getBoundingClientRect(),i=r.width,o=r.height,a=r.left,s=r.top,c=e.state,u=c.width,l=c.height,d=c.offsetTop,f=c.offsetLeft;if(i===u&&o===l&&a===f&&s===d)return void(t&&t());e.setState({width:i,height:o,offsetLeft:a,offsetTop:s},(function(){t&&t()}))}},this.refresh=function(){e.setState(Bo({},e.getCanvasOffsets()))}};"production"!==re.Vi.TEST&&"production"!==re.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var e;return null===(e=this.app)||void 0===e?void 0:e.scene.getElementsIncludingDeleted()},set:function(e){var t;return null===(t=this.app)||void 0===t?void 0:t.scene.replaceAllElements(e)}}}));var wa=ya},4499:function(e,t,n){"use strict";n.d(t,{z:function(){return O}});var r=n(2577),i=n(9787),o=n.n(i),a=n(2891),s=n(6340),c=n(487),u=n.n(c),l=n(631),d=n.n(l),f=n(2052),h=n.n(f),p=n(4010),m=n.n(p),v=n(1469),g=n.n(v),y=n(9329),b=n.n(y),w=n(2345),x={};x.styleTagTransform=b(),x.setAttributes=m(),x.insert=h().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=g(),u()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;var _=n(6066),E=n(5202),k=n(56),C=n(4512),S=function(e,t){return!k.Z[t].includes(e)},j=function(e){var t=(new Option).style;return t.color=e,!!t.color},A=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),T=function(e){var t=e.colors,n=e.color,i=e.onChange,a=e.onClose,c=e.label,u=e.showInput,l=void 0===u||u,d=e.type,f=e.elements,h=o().useRef(),p=o().useRef(),m=o().useRef(),v=o().useRef(),g=o().useState((function(){return"canvasBackground"===d?[]:function(e,t){for(var n=[],r=e.filter((function(e){return!e.isDeleted})).sort((function(e,t){return t.updated-e.updated})),i=0,o={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[t];i<r.length&&n.length<5;){var a=r[i];n.length<5&&S(a[o],t)&&!n.includes(a[o])&&n.push(a[o]),i++}return n}(f,d)})),y=(0,r.Z)(g,1)[0];o().useEffect((function(){p.current?p.current.focus():v.current?v.current.focus():m.current&&m.current.focus()}),[]);var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map((function(e,r){var o=e.replace("#",""),a=t?A[r+15]:A[r],c=t?o:(0,E.t)("colors.".concat(o));return(0,C.jsxs)("button",{className:"color-picker-swatch",onClick:function(t){t.currentTarget.focus(),i(e)},title:"".concat(c).concat((0,s.Qm)(e)?"":" (".concat(e,")")," \u2014 ").concat(a.toUpperCase()),"aria-label":c,"aria-keyshortcuts":A[r],style:{color:e},ref:function(i){!t&&i&&0===r&&(h.current=i),i&&e===n&&(p.current=i)},onFocus:function(){i(e)},children:[(0,s.Qm)(e)?(0,C.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,C.jsx)("span",{className:"color-picker-keybinding",children:a})]},e)}))};return(0,C.jsxs)("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":(0,E.t)("labels.colorPicker"),onKeyDown:function(e){var t=!1;if((0,_.Wl)(e.key)){var n,r,i;t=!0;var o,c=document.activeElement,u=(0,E.G3)().rtl,d=!1,f=Array.prototype.indexOf.call(null===(n=m.current.querySelector(".color-picker-content--default"))||void 0===n?void 0:n.children,c);-1===f&&-1!==(f=Array.prototype.indexOf.call(null===(o=m.current.querySelector(".color-picker-content--canvas-colors"))||void 0===o?void 0:o.children,c))&&(d=!0);var h=d?null===(r=m.current)||void 0===r?void 0:r.querySelector(".color-picker-content--canvas-colors"):null===(i=m.current)||void 0===i?void 0:i.querySelector(".color-picker-content--default");if(h&&-1!==f){var p,v=h.children.length-(l?1:0),g=e.key===(u?_.tW.ARROW_LEFT:_.tW.ARROW_RIGHT)?(f+1)%v:e.key===(u?_.tW.ARROW_RIGHT:_.tW.ARROW_LEFT)?(v+f-1)%v:d||e.key!==_.tW.ARROW_DOWN?d||e.key!==_.tW.ARROW_UP?f:(v+f-5)%v:(f+5)%v;null===(p=h.children[g])||void 0===p||p.focus()}e.preventDefault()}else if(!A.includes(e.key.toLowerCase())||e[_.tW.CTRL_OR_CMD]||e.altKey||(0,s.s)(e.target))e.key!==_.tW.ESCAPE&&e.key!==_.tW.ENTER||(t=!0,e.preventDefault(),a());else{var y,b,w;t=!0;var x=A.indexOf(e.key.toLowerCase()),k=x>=15,C=k?null==m||null===(y=m.current)||void 0===y?void 0:y.querySelector(".color-picker-content--canvas-colors"):null==m||null===(b=m.current)||void 0===b?void 0:b.querySelector(".color-picker-content--default"),S=k?x-15:x;null==C||null===(w=C.children[S])||void 0===w||w.focus(),e.preventDefault()}t&&(e.nativeEvent.stopImmediatePropagation(),e.stopPropagation())},children:[(0,C.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,C.jsx)("div",{className:"color-picker-triangle"}),(0,C.jsxs)("div",{className:"color-picker-content",ref:function(e){e&&(m.current=e)},tabIndex:-1,children:[(0,C.jsx)("div",{className:"color-picker-content--default",children:b(t)}),!!y.length&&(0,C.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,C.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,E.t)("labels.canvasColors")}),(0,C.jsx)("div",{className:"color-picker-content--canvas-colors",children:b(y,!0)})]}),l&&(0,C.jsx)(I,{color:n,label:c,onChange:function(e){i(e)},ref:v})]})]})},I=o().forwardRef((function(e,t){var n=e.color,i=e.onChange,a=e.label,c=o().useState(n),u=(0,r.Z)(c,2),l=u[0],d=u[1],f=o().useRef(null);o().useEffect((function(){d(n)}),[n]),o().useImperativeHandle(t,(function(){return f.current}));var h=o().useCallback((function(e){var t=e.toLowerCase(),n=function(e){return(0,s.Qm)(e)?e:j("#".concat(e))?"#".concat(e):j(e)?e:null}(t);n&&i(n),d(t)}),[i]);return(0,C.jsxs)("label",{className:"color-input-container",children:[(0,C.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,C.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":a,onChange:function(e){return h(e.target.value)},value:(l||"").replace(/^#/,""),onBlur:function(){return d(n)},ref:f})]})}));I.displayName="ColorInput";var O=function(e){var t,n=e.type,r=e.color,i=e.onChange,s=e.label,c=e.isActive,u=e.setActive,l=e.elements,d=(e.appState,o().useRef(null)),f=null===(t=d.current)||void 0===t?void 0:t.getBoundingClientRect();return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"color-picker-control-container",children:[(0,C.jsx)("div",{className:"color-picker-label-swatch-container",children:(0,C.jsx)("button",{className:"color-picker-label-swatch","aria-label":s,style:r?{"--swatch-color":r}:void 0,onClick:function(){return u(!c)},ref:d})}),(0,C.jsx)(I,{color:r,label:s,onChange:function(e){i(e)}})]}),(0,C.jsx)(o().Suspense,{fallback:"",children:c?(0,C.jsx)("div",{className:"color-picker-popover-container",style:{position:"fixed",top:null==f?void 0:f.top,left:null==f?void 0:f.right,zIndex:1},children:(0,C.jsx)(a.J,{onCloseRequest:function(e){return e.target!==d.current&&u(!1)},children:(0,C.jsx)(T,{colors:k.Z[n],color:r||null,onChange:function(e){i(e)},onClose:function(){var e;u(!1),null===(e=d.current)||void 0===e||e.focus()},label:s,showInput:!1,type:n,elements:l})})}):null})]})}},7046:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(7169),i=n(2726),o=n(5202),a=n(8396),s=n(487),c=n.n(s),u=n(631),l=n.n(u),d=n(2052),f=n.n(d),h=n(4010),p=n.n(h),m=n(1469),v=n.n(m),g=n(9329),y=n.n(g),b=n(9393),w={};w.styleTagTransform=y(),w.setAttributes=p(),w.insert=f().bind(null,"head"),w.domAPI=l(),w.insertStyleElement=v(),c()(b.Z,w),b.Z&&b.Z.locals&&b.Z.locals;var x=n(6428),_=n(8149),E=n(4739),k=n(4512),C=["onConfirm","onCancel","children","confirmText","cancelText","className"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.onConfirm,n=e.onCancel,r=e.children,s=e.confirmText,c=void 0===s?(0,o.t)("buttons.confirm"):s,u=e.cancelText,l=void 0===u?(0,o.t)("buttons.cancel"):u,d=e.className,f=void 0===d?"":d,h=(0,i.Z)(e,C),p=(0,E.b9)(_.Dh),m=(0,E.b9)(_.qx);return(0,k.jsxs)(a.V,j(j({onCloseRequest:n,small:!0},h),{},{className:"confirm-dialog ".concat(f),children:[r,(0,k.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,k.jsx)(x.Z,{label:l,onClick:function(){p(!1),m(!1),n()}}),(0,k.jsx)(x.Z,{label:c,onClick:function(){p(!1),m(!1),t()},actionType:"danger"})]})]}))}},8396:function(e,t,n){"use strict";n.d(t,{V:function(){return P}});var r=n(2577),i=n(45),o=n(9787),a=n(5202),s=n(8149),c=n(6066),u=n(487),l=n.n(u),d=n(631),f=n.n(d),h=n(2052),p=n.n(h),m=n(4010),v=n.n(m),g=n(1469),y=n.n(g),b=n(9329),w=n.n(b),x=n(9482),_={};_.styleTagTransform=w(),_.setAttributes=v(),_.insert=p().bind(null,"head"),_.domAPI=f(),_.insertStyleElement=y(),l()(x.Z,_),x.Z&&x.Z.locals&&x.Z.locals;var E=n(3646),k=n(1881),C=n(6843),S={};S.styleTagTransform=w(),S.setAttributes=v(),S.insert=p().bind(null,"head"),S.domAPI=f(),S.insertStyleElement=y(),l()(C.Z,S),C.Z&&C.Z.locals&&C.Z.locals;var j=n(5156),A=n(2335),T=n(4512),I=function(e){var t=e.theme,n=void 0===t?A.C6.LIGHT:t,r=e.closeOnClickOutside,o=void 0===r||r,a=O(n);return a?(0,j.createPortal)((0,T.jsxs)("div",{className:(0,i.Z)("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===c.tW.ESCAPE&&(t.nativeEvent.stopImmediatePropagation(),t.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,"data-prevent-outside-click":!0,children:[(0,T.jsx)("div",{className:"Modal__background",onClick:o?e.onCloseRequest:void 0}),(0,T.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0,children:e.children})]}),a):null},O=function(e){var t=(0,o.useState)(null),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=(0,s.Fy)(),u=(0,o.useRef)(c.isMobile);u.current=c.isMobile;var l=(0,s.J0)().container;return(0,o.useLayoutEffect)((function(){i&&i.classList.toggle("excalidraw--mobile",c.isMobile)}),[i,c.isMobile]),(0,o.useLayoutEffect)((function(){var t=!(null==l||!l.classList.contains("theme--dark"))||"dark"===e,n=document.createElement("div");return n.classList.add("excalidraw","excalidraw-modal-container"),n.classList.toggle("excalidraw--mobile",u.current),t&&(n.classList.add("theme--dark"),n.classList.add("theme--dark-background-none")),document.body.appendChild(n),a(n),function(){document.body.removeChild(n)}}),[l,e]),i},D=n(6340),N=n(4739),P=function(e){var t=function(){var e=(0,o.useState)(null),t=(0,r.Z)(e,2),n=t[0],i=t[1];return[n,(0,o.useCallback)((function(e){return i(e)}),[])]}(),n=(0,r.Z)(t,2),u=n[0],l=n[1],d=(0,o.useState)(document.activeElement),f=(0,r.Z)(d,1)[0],h=(0,s.J0)().id;(0,o.useEffect)((function(){if(u){var t=(0,D.xp)(u);t.length>0&&!1!==e.autofocus&&(t[1]||t[0]).focus();var n=function(e){if(e.key===c.tW.TAB){var t=(0,D.xp)(u),n=document.activeElement,r=t.findIndex((function(e){return e===n}));0===r&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):r!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault())}};return u.addEventListener("keydown",n),function(){return u.removeEventListener("keydown",n)}}}),[u,e.autofocus]);var p=(0,N.b9)(s.Dh),m=(0,N.b9)(s.qx),v=function(){p(!1),m(!1),f.focus(),e.onCloseRequest()};return(0,T.jsx)(I,{className:(0,i.Z)("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:v,theme:e.theme,closeOnClickOutside:e.closeOnClickOutside,children:(0,T.jsxs)(k.W,{ref:l,children:[(0,T.jsxs)("h2",{id:"".concat(h,"-dialog-title"),className:"Dialog__title",children:[(0,T.jsx)("span",{className:"Dialog__titleContent",children:e.title}),(0,T.jsx)("button",{className:"Modal__close",onClick:v,title:(0,a.t)("buttons.close"),"aria-label":(0,a.t)("buttons.close"),children:(0,s.Fy)().isMobile?E.op:E.Tw})]}),(0,T.jsx)("div",{className:"Dialog__content",children:e.children})]})})}},6428:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(7169),i=n(2726),o=n(45),a=n(487),s=n.n(a),c=n(631),u=n.n(c),l=n(2052),d=n.n(l),f=n(4010),h=n.n(f),p=n(1469),m=n.n(p),v=n(9329),g=n.n(v),y=n(6148),b={};b.styleTagTransform=g(),b.setAttributes=h(),b.insert=d().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=m(),s()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals;var w=n(5644),x=n(4512),_=["label","onClick","className","children","actionType","type","isLoading"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.label,n=e.onClick,r=e.className,a=e.children,s=e.actionType,c=e.type,u=void 0===c?"button":c,l=e.isLoading,d=(0,i.Z)(e,_),f=s?"Dialog__action-button--".concat(s):"";return(0,x.jsxs)("button",k(k({className:(0,o.Z)("Dialog__action-button",f,r),type:u,"aria-label":t,onClick:n},d),{},{children:[a&&(0,x.jsx)("div",{style:l?{visibility:"hidden"}:{},children:a}),(0,x.jsx)("div",{style:l?{visibility:"hidden"}:{},children:t}),l&&(0,x.jsx)("div",{style:{position:"absolute",inset:0},children:(0,x.jsx)(w.Z,{})})]}))}},1881:function(e,t,n){"use strict";n.d(t,{W:function(){return k}});var r=n(7169),i=n(487),o=n.n(i),a=n(631),s=n.n(a),c=n(2052),u=n.n(c),l=n(4010),d=n.n(l),f=n(1469),h=n.n(f),p=n(9329),m=n.n(p),v=n(7369),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=h(),o()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var y=n(9787),b=n.n(y),w=n(45),x=n(4512);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=b().forwardRef((function(e,t){var n=e.children,r=e.padding,i=e.className,o=e.style;return(0,x.jsx)("div",{className:(0,w.Z)("Island",i),style:E({"--padding":r},o),ref:t,children:n})}))},5440:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(2577),i=n(5202),o=n(9787),a=n(5644),s=n(45),c=n(2335),u=n(4512),l=function(e){var t=e.delay,n=e.theme,l=(0,o.useState)(!!t),d=(0,r.Z)(l,2),f=d[0],h=d[1];return(0,o.useEffect)((function(){if(t){var e=setTimeout((function(){h(!1)}),t);return function(){return clearTimeout(e)}}}),[t]),f?null:(0,u.jsxs)("div",{className:(0,s.Z)("LoadingMessage",{"LoadingMessage--dark":n===c.C6.DARK}),children:[(0,u.jsx)("div",{children:(0,u.jsx)(a.Z,{})}),(0,u.jsx)("div",{className:"LoadingMessage-text",children:(0,i.t)("labels.loadingScene")})]})}},3202:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(45),i=n(487),o=n.n(i),a=n(631),s=n.n(a),c=n(2052),u=n.n(c),l=n(4010),d=n.n(l),f=n(1469),h=n.n(f),p=n(9329),m=n.n(p),v=n(4955),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=h(),o()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var y=n(4512),b=function(e){var t=e.icon,n=e.onClick,i=e.label,o=e.dataTestId,a=e.shortcut,s=e.isCollaborating;return(0,y.jsxs)("button",{className:(0,r.Z)("menu-item",{"active-collab":s}),"aria-label":i,onClick:n,"data-testid":o,title:i,type:"button",children:[(0,y.jsx)("div",{className:"menu-item__icon",children:t}),(0,y.jsx)("div",{className:"menu-item__text",children:i}),a&&(0,y.jsx)("div",{className:"menu-item__shortcut",children:a})]})}},2891:function(e,t,n){"use strict";n.d(t,{J:function(){return _}});var r=n(9787),i=n(487),o=n.n(i),a=n(631),s=n.n(a),c=n(2052),u=n.n(c),l=n(4010),d=n.n(l),f=n(1469),h=n.n(f),p=n(9329),m=n.n(p),v=n(9935),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=h(),o()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var y=n(5156),b=n(6340),w=n(6066),x=n(4512),_=function(e){var t=e.children,n=e.left,i=e.top,o=e.onCloseRequest,a=e.fitInViewport,s=void 0!==a&&a,c=e.offsetLeft,u=void 0===c?0:c,l=e.offsetTop,d=void 0===l?0:l,f=e.viewportWidth,h=void 0===f?window.innerWidth:f,p=e.viewportHeight,m=void 0===p?window.innerHeight:p,v=(0,r.useRef)(null),g=v.current;return(0,r.useEffect)((function(){if(g){var e=function(e){if(e.key===w.tW.TAB){var t=(0,b.xp)(g),n=document.activeElement,r=t.findIndex((function(e){return e===n}));0===r&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault(),e.stopImmediatePropagation()):r!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault(),e.stopImmediatePropagation())}};return g.addEventListener("keydown",e),function(){return g.removeEventListener("keydown",e)}}}),[g]),(0,r.useLayoutEffect)((function(){if(s&&v.current){var e=v.current,t=e.getBoundingClientRect(),n=t.x,r=t.y,i=t.width,o=t.height;n+i-u>h&&(e.style.left="".concat(h-i-10,"px")),r+o-d>m&&(e.style.top="".concat(m-o,"px")),o>=m&&(e.style.height="".concat(m-20,"px"),e.style.top="10px",e.style.overflowY="scroll"),i>=h&&(e.style.width="".concat(h,"px"),e.style.left="0px",e.style.overflowX="scroll")}}),[s,h,m,u,d]),(0,r.useEffect)((function(){if(o){var e=function(e){var t;null!==(t=v.current)&&void 0!==t&&t.contains(e.target)||(0,y.unstable_batchedUpdates)((function(){return o(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[o]),(0,x.jsx)("div",{className:"popover",style:{top:i,left:n},ref:v,children:t})}},9430:function(e,t,n){"use strict";n.d(t,{Y:function(){return Z},b:function(){return R}});var r=n(2577),i=n(9787),o=n.n(i),a=n(1881),s=n(4739),c=n(9487),u=o().createContext({}),l=n(45),d=n(5202),f=n(8149),h=n(3646),p=n(7169),m=n(4512);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=n(1894),y=function(e){return(0,m.jsx)("div",{className:"layer-ui__sidebar-dock-button","data-testid":"sidebar-dock",children:(0,m.jsxs)(g.u,{label:(0,d.t)("labels.sidebarLock"),children:[(0,m.jsxs)("label",{className:(0,l.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_medium"),children:[(0,m.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:e.onChange,checked:e.checked,"aria-label":(0,d.t)("labels.sidebarLock")})," ",(0,m.jsx)("div",{className:(0,l.Z)("Sidebar__pin-btn",{"Sidebar__pin-btn--pinned":e.checked}),tabIndex:0,children:h.qQ})," "]})," "]})})},b=function(e){var t=(0,i.createContext)([!1,function(){}]),n=function(e){var n=e.children,o=(0,i.useState)(!1),a=(0,r.Z)(o,2),s=a[0],c=a[1],u=(0,i.useMemo)((function(){return[s,c]}),[s]);return(0,m.jsx)(t.Provider,{value:u,children:n})},o=function(n){var o=(0,i.useContext)(t),a=(0,r.Z)(o,2),s=a[0],c=a[1];return(0,i.useLayoutEffect)((function(){if(!n.__isFallback)return c(!0),function(){return c(!1)}}),[n.__isFallback,c]),n.__isFallback&&s?null:(0,m.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))};return e.name&&(o.displayName="".concat(e.name,"_upstreamOverrideWrapper"),n.displayName="".concat(e.name,"_upstreamOverrideContextWrapper")),[n,o]}((function(e){var t=e.children,n=e.className,r=(0,f.Fy)(),o=(0,i.useContext)(u),a=!(!r.canDeviceFitSidebar||!o.dockable),s=!!o.onClose;return(0,m.jsxs)("div",{className:(0,l.Z)("layer-ui__sidebar__header",n),"data-testid":"sidebar-header",children:[t,(a||s)&&(0,m.jsxs)("div",{className:"layer-ui__sidebar__header__buttons",children:[a&&(0,m.jsx)(y,{checked:!!o.docked,onChange:function(){var e;null===(e=o.onDock)||void 0===e||e.call(o,!o.docked)}}),s&&(0,m.jsx)("button",{"data-testid":"sidebar-close",className:"Sidebar__close-btn",onClick:o.onClose,"aria-label":(0,d.t)("buttons.close"),children:h.Tw})]})]})})),w=(0,r.Z)(b,2),x={Context:w[0],Component:w[1]},_=n(487),E=n.n(_),k=n(631),C=n.n(k),S=n(2052),j=n.n(S),A=n(4010),T=n.n(A),I=n(1469),O=n.n(I),D=n(9329),N=n.n(D),P=n(8208),M={};M.styleTagTransform=N(),M.setAttributes=T(),M.insert=j().bind(null,"head"),M.domAPI=C(),M.insertStyleElement=O(),E()(P.Z,M),P.Z&&P.Z.locals&&P.Z.locals;var L=n(6340),R=(0,s.cn)({rendered:0,docked:0}),Z=Object.assign((0,i.forwardRef)((function(e,t){var n,o=e.children,d=e.onClose,h=e.onDock,p=e.docked,v=e.initialDockedState,g=void 0===v?p:v,y=e.dockable,b=void 0===y||y,w=e.className,_=e.__isInternal,E=(0,s.KO)(R,c.yE),k=(0,r.Z)(E,2),C=k[0],S=k[1],j=(0,f.n9)(),A=(0,i.useState)(null!==(n=null!=p?p:g)&&void 0!==n&&n),T=(0,r.Z)(A,2),I=T[0],O=T[1];(0,i.useLayoutEffect)((function(){void 0===p&&j((function(e){return O(e.isSidebarDocked),null}))}),[j,p]),(0,i.useLayoutEffect)((function(){if(!_)return S((function(e){return{rendered:e.rendered+1,docked:I?e.docked+1:e.docked}})),function(){S((function(e){return{rendered:e.rendered-1,docked:I?e.docked-1:e.docked}}))}}),[_,S,I]);var D=(0,i.useRef)(d);D.current=d,(0,i.useEffect)((function(){return function(){var e;null===(e=D.current)||void 0===e||e.call(D)}}),[]);var N=(0,i.useRef)({});return N.current.onClose=function(){j({openSidebar:null})},N.current.onDock=function(e){void 0===p&&(j({isSidebarDocked:e}),O(e)),null==h||h(e)},N.current=(0,L.v4)(N.current,{docked:null!=p?p:I,dockable:b}),C.rendered>0&&_?null:(0,m.jsx)(a.W,{className:(0,l.Z)("layer-ui__sidebar",{"layer-ui__sidebar--docked":I},w),ref:t,children:(0,m.jsx)(u.Provider,{value:N.current,children:(0,m.jsxs)(x.Context,{children:[(0,m.jsx)(x.Component,{__isFallback:!0}),o]})})})})),{Header:x.Component})},5644:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(487),i=n.n(r),o=n(631),a=n.n(o),s=n(2052),c=n.n(s),u=n(4010),l=n.n(u),d=n(1469),f=n.n(d),h=n(9329),p=n.n(h),m=n(5892),v={};v.styleTagTransform=p(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=f(),i()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;var g=n(4512),y=function(e){var t=e.size,n=void 0===t?"1em":t,r=e.circleWidth,i=void 0===r?8:r;return(0,g.jsx)("div",{className:"Spinner",children:(0,g.jsx)("svg",{viewBox:"0 0 100 100",style:{width:n,height:n},children:(0,g.jsx)("circle",{cx:"50",cy:"50",r:50-i/2,strokeWidth:i,fill:"none",strokeMiterlimit:"10"})})})}},1319:function(e,t,n){"use strict";n.d(t,{V:function(){return p}});var r=n(8950),i=n(2577),o=n(2975),a=n.n(o),s=(n(5422),n(9787)),c=n.n(s),u=n(45),l=n(8149),d=n(6797),f=n(5644),h=n(4512),p=c().forwardRef((function(e,t){var n=(0,l.J0)().id,o=c().useRef(null);c().useImperativeHandle(t,(function(){return o.current}));var p="ToolIcon_size_".concat(e.size),m=(0,s.useState)(!1),v=(0,i.Z)(m,2),g=v[0],y=v[1],b=(0,s.useRef)(!0),w=function(){var t=(0,r.Z)(a().mark((function t(n){var r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i="onClick"in e&&(null===(r=e.onClick)||void 0===r?void 0:r.call(e,n)))||!("then"in i)){t.next=18;break}return t.prev=2,y(!0),t.next=6,i;case 6:t.next=15;break;case 8:if(t.prev=8,t.t0=t.catch(2),t.t0 instanceof d._){t.next=14;break}throw t.t0;case 14:console.warn(t.t0);case 15:return t.prev=15,b.current&&y(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,8,15,18]])})));return function(e){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){return function(){b.current=!1}}),[]);var x=(0,s.useRef)(null);if("button"===e.type||"icon"===e.type||"submit"===e.type){var _="icon"===e.type?"button":e.type;return(0,h.jsxs)("button",{className:(0,u.Z)("ToolIcon_type_button",p,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected,"ToolIcon--plain":"icon"===e.type}),"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:_,onClick:w,ref:o,disabled:g||e.isLoading,children:[(e.icon||e.label)&&(0,h.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[e.icon||e.label,e.keyBindingLabel&&(0,h.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel}),e.isLoading&&(0,h.jsx)(f.Z,{})]}),e.showAriaLabel&&(0,h.jsxs)("div",{className:"ToolIcon__label",children:[e["aria-label"]," ",g&&(0,h.jsx)(f.Z,{})]}),e.children]})}return(0,h.jsxs)("label",{className:(0,u.Z)("ToolIcon",e.className),title:e.title,onPointerDown:function(t){var n;x.current=t.pointerType||null,null===(n=e.onPointerDown)||void 0===n||n.call(e,{pointerType:t.pointerType||null})},onPointerUp:function(){requestAnimationFrame((function(){x.current=null}))},children:[(0,h.jsx)("input",{className:"ToolIcon_type_radio ".concat(p),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:"".concat(n,"-").concat(e.id),onChange:function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,{pointerType:x.current})},checked:e.checked,ref:o}),(0,h.jsxs)("div",{className:"ToolIcon__icon",children:[e.icon,e.keyBindingLabel&&(0,h.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel})]})]})}));p.defaultProps={visible:!0,className:"",size:"medium"},p.displayName="ToolButton"},1894:function(e,t,n){"use strict";n.d(t,{u:function(){return x},bK:function(){return b},Js:function(){return w}});var r=n(487),i=n.n(r),o=n(631),a=n.n(o),s=n(2052),c=n.n(s),u=n(4010),l=n.n(u),d=n(1469),f=n.n(d),h=n(9329),p=n.n(h),m=n(6626),v={};v.styleTagTransform=p(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=f(),i()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;var g=n(9787),y=n(4512),b=function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t},w=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom",i=e.getBoundingClientRect(),o=window.innerWidth,a=window.innerHeight,s=5,c=t.left+t.width/2-i.width/2;c<0?c=s:c+i.width>=o&&(c=o-i.width-s),"bottom"===r?(n=t.top+t.height+s)+i.height>=a&&(n=t.top-i.height-s):(n=t.top-i.height-s)<0&&(n=t.top+t.height+s),Object.assign(e.style,{top:"".concat(n,"px"),left:"".concat(c,"px")})},x=function(e){var t=e.children,n=e.label,r=e.long,i=void 0!==r&&r,o=e.style;return(0,g.useEffect)((function(){return function(){return b().classList.remove("excalidraw-tooltip--visible")}}),[]),(0,y.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(e){return function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;var i=e.getBoundingClientRect();w(t,i)}(e.currentTarget,b(),n,i)},onPointerLeave:function(){return b().classList.remove("excalidraw-tooltip--visible")},style:o,children:t})}},733:function(e,t,n){"use strict";var r=n(45),i=n(8149),o=n(4512),a=function(e){var t=e.children,n=(0,i.gF)();return(0,o.jsx)("div",{className:(0,r.Z)("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":n.zenModeEnabled}),children:t})};t.Z=a,a.displayName="FooterCenter"},3646:function(e,t,n){"use strict";n.d(t,{$c:function(){return ie},$q:function(){return F},BF:function(){return Ee},BN:function(){return ce},BR:function(){return te},Ct:function(){return he},DG:function(){return ne},DJ:function(){return j},DS:function(){return Re},EO:function(){return $e},FC:function(){return k},Gc:function(){return le},HL:function(){return pe},Hy:function(){return G},IN:function(){return de},J8:function(){return re},Mw:function(){return A},NA:function(){return V},NW:function(){return H},Nw:function(){return tt},OA:function(){return qe},OW:function(){return I},P7:function(){return et},Pm:function(){return L},RJ:function(){return ke},RY:function(){return q},Re:function(){return D},ST:function(){return be},Sd:function(){return U},Tl:function(){return ee},Tw:function(){return xe},UE:function(){return oe},VL:function(){return R},Vl:function(){return se},Vq:function(){return b},W2:function(){return Me},W5:function(){return ye},Wl:function(){return Te},X7:function(){return je},XB:function(){return Z},XH:function(){return B},YA:function(){return x},ZA:function(){return Ae},_C:function(){return E},_U:function(){return S},a0:function(){return Ce},a1:function(){return $},a5:function(){return Oe},aA:function(){return Je},aT:function(){return De},bf:function(){return Ne},by:function(){return Y},e0:function(){return N},eQ:function(){return Q},fr:function(){return Ze},gK:function(){return we},h0:function(){return K},il:function(){return Fe},j8:function(){return Be},kL:function(){return W},kM:function(){return Pe},m:function(){return ze},m9:function(){return Ie},mh:function(){return ve},nb:function(){return O},np:function(){return Se},nq:function(){return We},o3:function(){return Qe},oQ:function(){return C},oT:function(){return Xe},op:function(){return _e},pO:function(){return w},po:function(){return J},pw:function(){return fe},q0:function(){return Ve},qQ:function(){return _},rn:function(){return nt},rr:function(){return Ke},t5:function(){return ue},tW:function(){return He},tb:function(){return M},tn:function(){return Ue},tv:function(){return y},uD:function(){return ge},vo:function(){return Ge},wr:function(){return Le},xL:function(){return z},xP:function(){return X},xs:function(){return me},z6:function(){return Ye},zG:function(){return ae},zb:function(){return P},zu:function(){return T}});var r=n(7169),i=n(2726),o=n(9787),a=n.n(o),s=n(5284),c=n(45),u=n(2335),l=n(4512),d=["width","height","mirror","style"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return e===u.C6.LIGHT?s.white:"#1e1e1e"},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n="number"==typeof t?{width:t}:t,r=n.width,o=void 0===r?512:r,a=n.height,s=void 0===a?o:a,u=n.mirror,f=n.style,p=(0,i.Z)(n,d);return(0,l.jsx)("svg",h(h({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(o," ").concat(s),className:(0,c.Z)({"rtl-mirror":u}),style:f},p),{},{children:"string"==typeof e?(0,l.jsx)("path",{fill:"currentColor",d:e}):e}))},v={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},g={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},y=m((0,l.jsxs)("g",{strokeWidth:1.5,children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("polyline",{points:"5 12 3 12 12 3 21 12 19 12"}),(0,l.jsx)("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),(0,l.jsx)("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"})]}),v),b=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,l.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,l.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,l.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,l.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),v),w=m((0,l.jsxs)("svg",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),v),x=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,l.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,l.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),v),_=m((0,l.jsxs)("svg",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,l.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,l.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),v),E=m((0,l.jsxs)("g",{children:[(0,l.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,l.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,l.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,l.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,l.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,l.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),g),k=m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,l.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,l.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),g),C=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),S=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),j=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),A=m((0,l.jsxs)("g",{fill:"currentColor",children:[(0,l.jsx)("path",{d:"M24.296 12.214c0 .112-.134.224-.291.224-.135 0-.516.629-.808 1.392-.897 2.335-9.867 20.096-9.89 19.534 0-.292-.134-.494-.359-.494-.313 0-.358.18-.224 1.055.135 1.01.045 1.236-3.14 7.432-1.793 3.525-3.722 7.208-4.282 8.196-.584 1.032-1.032 2.155-1.077 2.626-.067.809.022.92 1.973 2.605 1.122.988 2.557 2.223 3.185 2.784 2.826 2.582 4.149 3.615 4.508 3.547.538-.09 8.858-8.823 8.88-9.317 0-.225-.403-3.638-.897-7.59-.852-6.735-1.66-14.616-1.57-15.38.068-.47-.269-2.85-.516-3.884-.201-.808-.112-1.145 1.503-4.827.942-2.178 2.176-4.85 2.714-5.928.515-1.077.964-2.02.964-2.088 0-.067-.157-.112-.336-.112-.18 0-.337.09-.337.225Zm-5.158 16.772c.247 1.572.74 5.344 1.099 8.375.695 5.568 1.503 11.742 1.727 13.314.135.786.045.943-1.413 2.56-2.534 2.851-5.225 5.658-6.145 6.376l-.852.674-4.373-4.086c-4.037-3.728-4.373-4.11-4.127-4.558a5154.2 5154.2 0 0 1 2.535-4.626 727.864 727.864 0 0 0 3.678-6.78c.784-1.46 1.502-2.717 1.637-2.785.156-.09.201 2.178.156 7.006-.09 7.207-.067 7.23.651 7.072.09 0 .157-3.637.157-8.06V35.43l2.355-4.715c1.3-2.605 2.377-4.693 2.422-4.67.045.022.27 1.347.493 2.94ZM9.562 1.818C7.903 3.143 5.346 5.388 3.328 7.32L1.735 8.823l.292 1.976c.157 1.078.449 3.188.628 4.67.202 1.482.404 2.874.47 3.077.09.269 0 .404-.246.404-.426 0-.449-.113.718 3.592.286.952.577 1.903.875 2.851.044.158.224.225.425.158.202-.09.314-.27.247-.427-.067-.18.045-.36.224-.427.247-.09.225-.269-.157-.92-.605-1.01-2.152-9.633-2.242-12.416-.067-1.976-.067-1.999.762-3.121.808-1.1 2.67-2.762 5.54-4.873.807-.605 1.614-1.28 1.839-1.504.336-.404.493-.292 3.319 2.717 1.637 1.729 3.453 3.502 4.037 3.952l1.076.808-.83 1.75c-.448.944-2.265 4.581-4.059 8.04-3.745 7.274-2.983 6.578-7.333 6.645l-2.826.023-.942 1.077c-.987 1.146-1.121 1.572-.65 2.29.18.248.313.652.313.898 0 .405.157.472 1.055.517.56.023 1.076.09 1.144.157.067.068.156 1.46.224 3.098l.09 2.965-1.503 3.232C1.735 45.422.749 47.891.749 48.7c0 .427.09.786.18.786.224 0 .224-.022 9.35-19.085a4398.495 4398.495 0 0 1 8.927-18.546c.672-1.369 1.278-2.626 1.323-2.806.045-.202-1.503-1.751-3.97-3.93-2.22-1.975-4.171-3.772-4.35-3.974-.516-.628-1.279-.426-2.647.674ZM8.441 31.231c-.18.472-.65 1.46-1.031 2.2-.629 1.258-.696 1.303-.853.786-.09-.314-.157-1.235-.18-2.066-.022-1.639-.067-1.616 1.817-1.728L8.8 30.4l-.358.831Zm1.884-3.592c-1.032 1.998-1.077 2.02-3.903 2.155-2.489.135-2.533.112-2.533-.36 0-.269-.09-.628-.203-.808-.134-.202-.044-.56.27-1.055l.493-.763H6.69c1.234-.023 2.647-.113 3.14-.202.494-.09.92-.135.965-.113.045.023-.18.54-.471 1.146Zm-.09-20.477c-.404.292-.516.584-.516 1.325 0 .875.067 1.01.673 1.257.605.247.763.224 1.458-.247.92-.629.941-.786.269-1.796-.583-.876-1.166-1.033-1.884-.54Z"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.703 11.793c.166-.291.501-.514.93-.514.38 0 .698.161.82.283.161.162.225.35.225.54a.822.822 0 0 1-.056.289c-.08.218-.5 1.106-.983 2.116-.535 1.071-1.76 3.727-2.699 5.895-.79 1.802-1.209 2.784-1.404 3.416-.142.461-.132.665-.058.961.264 1.103.6 3.647.53 4.132-.088.756.727 8.547 1.57 15.21.5 3.997.903 7.45.903 7.676l-.001.033c-.004.087-.041.288-.211.54-.24.354-.914 1.143-1.8 2.119-2.004 2.21-5.107 5.423-6.463 6.653-.322.292-.566.485-.696.56a.884.884 0 0 1-.289.111c-.194.037-.579-.007-1.11-.349-.707-.453-1.981-1.522-4-3.366-.627-.561-2.061-1.794-3.176-2.776-.81-.699-1.308-1.138-1.612-1.466-.32-.343-.47-.61-.549-.87-.078-.257-.085-.515-.055-.874.05-.52.521-1.769 1.166-2.91.559-.985 2.48-4.654 4.269-8.17 1.579-3.071 2.392-4.663 2.792-5.612.32-.759.329-1 .277-1.387-.085-.553-.092-.891-.052-1.092a.942.942 0 0 1 .274-.52c.164-.157.384-.261.704-.261.094 0 .184.011.27.033 1.924-3.44 8.554-16.632 9.316-18.616.276-.724.64-1.336.848-1.556a.965.965 0 0 1 .32-.228Zm-5.399 16.402c-.49.942-.971 1.888-1.446 2.837l-2.28 4.565v7.871c0 4.023-.06 7.404-.136 8.04-.067.552-.474.691-.654.722l.075-.008c-.317.07-.574.063-.778-.023-.234-.098-.5-.297-.63-.857-.156-.681-.158-2.462-.103-6.893.019-2.022.022-3.592.008-4.725-.156.276-.315.562-.467.843a737.624 737.624 0 0 1-3.682 6.79 3618.972 3618.972 0 0 0-2.462 4.493c.062.088.169.231.289.364.55.61 1.631 1.623 3.624 3.462l3.931 3.674.377-.298c.907-.709 3.554-3.479 6.055-6.293.425-.47.73-.814.946-1.084.175-.22.28-.36.319-.501.031-.117.002-.227-.024-.379l-.004-.02c-.224-1.572-1.032-7.753-1.728-13.33-.358-3.022-.85-6.782-1.096-8.349l-.002-.01c-.042-.301-.087-.603-.132-.891ZM9.118 1.264C9.91.628 10.537.27 11.028.144c.727-.186 1.27.003 1.713.53.186.209 2.107 1.972 4.287 3.912 2.02 1.783 3.434 3.16 3.897 3.743.326.41.322.756.296.873a1.046 1.046 0 0 1-.005.018c-.047.188-.669 1.512-1.374 2.947a4348.55 4348.55 0 0 0-8.923 18.54c-7.335 15.32-8.808 18.396-9.217 19.015-.235.355-.419.404-.525.437a.815.815 0 0 1-.249.036.745.745 0 0 1-.647-.363C.176 49.67.04 49.222.04 48.7c0-.286.09-.754.316-1.434.452-1.356 1.466-3.722 3.225-7.53l1.432-3.083-.084-2.787a72.902 72.902 0 0 0-.156-2.53 7.307 7.307 0 0 0-.539-.046c-.463-.024-.764-.062-.96-.124-.304-.096-.48-.252-.598-.438-.105-.165-.17-.374-.17-.663 0-.134-.081-.348-.178-.481l-.019-.028c-.293-.448-.406-.831-.373-1.234.04-.484.34-1.052 1.08-1.91l.759-.869c-.103-.325-.471-1.513-.854-2.787-.737-2.339-1.004-3.238-1.018-3.578-.016-.393.134-.59.27-.715a.721.721 0 0 1 .192-.125 89.87 89.87 0 0 1-.414-2.782 231.651 231.651 0 0 0-.625-4.652l-.292-1.976a.71.71 0 0 1 .215-.62l1.589-1.501C4.87 4.86 7.446 2.599 9.118 1.264Zm-1.833 33.75a.819.819 0 0 1-.406.208.73.73 0 0 1-.491-.063l.048 1.618v.009l.849-1.773Zm5.874.697c-.035.087-.07.175-.107.261a20.92 20.92 0 0 1-.36.798.688.688 0 0 1 .457.007l.01.004v-1.07Zm.72-1.892-.015.018a.745.745 0 0 1-.407.236c.02.195.027.378 0 .592l.422-.846ZM7.7 31.175c-.268.027-.489.055-.6.07-.006.056-.013.13-.016.194-.005.19 0 .42.004.694.003.111.006.225.011.338.232-.471.459-.956.6-1.296Zm2.12-1.456a2.04 2.04 0 0 1-.415.31c.064.104.099.222.104.341l.132-.277.18-.374Zm-.14-2.374c-.654.079-1.882.153-2.974.173h-1.87l-.281.435c-.09.141-.17.331-.203.414.102.21.189.508.226.788h.007c.364.006.928-.023 1.805-.07 1.243-.06 1.88-.052 2.315-.291.154-.086.266-.215.387-.393.176-.261.354-.605.587-1.056Zm2.136-1.784c-.157.16-.331.3-.52.422a.631.631 0 0 1 .182.281l.337-.703Zm7.205-1.478c-.222.442-.445.883-.667 1.32a.787.787 0 0 1 .61.007c.036.018.145.07.243.2-.032-.165-.067-.33-.105-.493-.088-.351-.137-.633-.08-1.034h-.001ZM11.415 2.546c-.358.319-1.039.879-1.725 1.394C6.903 5.989 5.087 7.59 4.301 8.662c-.28.38-.458.605-.556.852-.15.38-.103.798-.068 1.824.063 1.923.833 6.669 1.493 9.686.262 1.199.483 2.11.654 2.394.25.426.364.71.398.894a.923.923 0 0 1-.184.764l1.27-.01c.863-.014 1.523.003 2.056-.019.424-.017.75-.052 1.034-.187.336-.159.596-.458.921-.955.62-.948 1.373-2.515 2.705-5.103 1.789-3.448 3.6-7.076 4.047-8.015l.582-1.227-.62-.466c-.595-.458-2.45-2.263-4.12-4.027a59.654 59.654 0 0 0-2.498-2.52ZM5.81 24.876v-.001l-.013-.03.013.031Zm-.71-.835.027-.011a.55.55 0 0 0-.028.011Zm19.904-11.777v.01-.01Zm.002-.016v-.034.034ZM9.82 6.587c-.587.424-.81.823-.81 1.9 0 .787.12 1.157.344 1.42.158.186.388.339.77.494.352.144.603.207.838.209.347.002.688-.12 1.285-.525.707-.483.98-.864 1.036-1.238.052-.352-.09-.812-.574-1.54-.412-.619-.853-.95-1.29-1.072-.489-.139-1.016-.05-1.586.342l-.013.01Zm2.015 2.028a6.288 6.288 0 0 0-.306-.52c-.19-.284-.326-.488-.531-.5-.113-.007-.224.058-.352.146-.218.159-.218.34-.218.745 0 .198.02.419.028.504.047.025.133.068.204.097.133.054.222.102.312.103.04 0 .071-.027.12-.054a4.29 4.29 0 0 0 .358-.225c.147-.1.299-.223.385-.296ZM9.12 1.263l-.002.002.002-.002Z"})]}),{width:26,height:62,fill:"none"}),T=m((0,l.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,l.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),I=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),v),O=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),v),D=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),v),N=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,l.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,l.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),v),P=m((0,l.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),g),M=m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,l.jsx)("path",{d:"M16 7h4"}),(0,l.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),v),L=m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,l.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),g),R=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,l.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,l.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,l.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,l.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),v),Z=m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M12.5 6.667h.01"}),(0,l.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,l.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,l.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),g),F=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,l.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),v),U=m((0,l.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),g),z=m((0,l.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),g),B=m((0,l.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),g),V=m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,l.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),g),W=m((0,l.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),g),H=m((0,l.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),g),q=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,l.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,l.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),v),G=m((0,l.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),g),Y=m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,l.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,l.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),v),K=m((0,l.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),g),Q=(m((0,l.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),g),m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,l.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),g),m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),v),m((0,l.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24})),X=m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,l.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),g),$=m("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),J=m("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),ee=m((0,l.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),g),te=m("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),ne=m("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),re=m((0,l.jsxs)("g",{strokeWidth:"1.25",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M15 8h.01"}),(0,l.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,l.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,l.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,l.jsx)("path",{d:"M19 16v6"}),(0,l.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),v),ie=(m("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),m("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),m("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),m("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),oe=(m("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),m((0,l.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),g)),ae=m((0,l.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),g),se=m("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),ce=m((0,l.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),g),ue=(m("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,l.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),m((0,l.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g)),le=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,l.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),de=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),fe=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",children:[(0,l.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,l.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,l.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,l.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),he=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),pe=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),me=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),ve=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),ge=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),ye=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),be=m((0,l.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),g),we=m((0,l.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,l.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),g),xe=(m((0,l.jsxs)("g",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,l.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,l.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,l.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),v),m("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),m("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g)),_e=m("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Ee=(m("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),m("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),m("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),a().memo((function(e){var t=e.theme;return m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,l.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,l.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsxs)("g",{fill:p(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,l.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}))),ke=a().memo((function(e){var t=e.theme;return m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,l.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,l.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,l.jsxs)("g",{fill:p(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,l.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,l.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),Ce=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,l.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,l.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,l.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,l.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),g),Se=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#a)",children:[(0,l.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,l.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,l.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,l.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,l.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),je=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("g",{clipPath:"url(#a)",children:(0,l.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),h(h({},g),{},{fill:"currentColor"})),Ae=m((0,l.jsx)(l.Fragment,{children:(0,l.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),g),Te=m((0,l.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),g),Ie=m((0,l.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),g),Oe=m((0,l.jsxs)("g",{strokeWidth:"2",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M5 12h2"}),(0,l.jsx)("path",{d:"M17 12h2"}),(0,l.jsx)("path",{d:"M11 12h2"})]}),v),De=m((0,l.jsxs)("g",{strokeWidth:"2",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M4 12v.01"}),(0,l.jsx)("path",{d:"M8 12v.01"}),(0,l.jsx)("path",{d:"M12 12v.01"}),(0,l.jsx)("path",{d:"M16 12v.01"}),(0,l.jsx)("path",{d:"M20 12v.01"})]}),v),Ne=m((0,l.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),g),Pe=m((0,l.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),g),Me=m((0,l.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),g),Le=m((0,l.jsxs)("svg",{strokeWidth:"1.5",children:[(0,l.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,l.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,l.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,l.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,l.jsx)("path",{d:"M16.6667 10V10.01"}),(0,l.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,l.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,l.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,l.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,l.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,l.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,l.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),g),Re=m((0,l.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,l.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,l.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,l.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,l.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,l.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,l.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,l.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,l.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,l.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,l.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,l.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),v),Ze=m((0,l.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Fe=a().memo((function(e){var t=e.flip,n=void 0!==t&&t;return m((0,l.jsxs)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,l.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,l.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})})),Ue=a().memo((function(e){var t=e.flip,n=void 0!==t&&t;return m((0,l.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,l.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,l.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),ze=a().memo((function(e){var t=e.flip,n=void 0!==t&&t;return m((0,l.jsx)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",children:(0,l.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})})),Be=a().memo((function(e){var t=e.flip,n=void 0!==t&&t;return m((0,l.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,l.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,l.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})})),Ve=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("g",{clipPath:"url(#a)",children:(0,l.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),We=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("g",{clipPath:"url(#a)",children:(0,l.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),He=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("g",{clipPath:"url(#a)",children:(0,l.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),qe=m((0,l.jsx)(l.Fragment,{children:(0,l.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),g),Ge=m((0,l.jsx)(l.Fragment,{children:(0,l.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),g),Ye=m((0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"a",children:(0,l.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),g),Ke=m((0,l.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,l.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,l.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),v),Qe=m((0,l.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,l.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,l.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),v),Xe=m((0,l.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,l.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,l.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),v),$e=a().memo((function(e){return e.theme,m((0,l.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,l.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),v)})),Je=a().memo((function(e){return e.theme,m((0,l.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,l.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),v)})),et=a().memo((function(e){return e.theme,m((0,l.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,l.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,l.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,l.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),v)})),tt=m((0,l.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),nt=m((0,l.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"}))},2335:function(e,t,n){"use strict";n.d(t,{jo:function(){return ce},iC:function(){return b},gK:function(){return fe},$C:function(){return T},oc:function(){return S},_9:function(){return ge},qy:function(){return ae},rk:function(){return P},n5:function(){return N},h6:function(){return se},Rx:function(){return ve},Hg:function(){return M},cW:function(){return X},hs:function(){return L},f:function(){return w},xY:function(){return me},Iw:function(){return _},$e:function(){return E},Vi:function(){return A},Ks:function(){return g},r8:function(){return F},ZB:function(){return oe},pb:function(){return U},ut:function(){return I},k:function(){return R},sA:function(){return G},LL:function(){return z},EE:function(){return re},qx:function(){return x},$n:function(){return ue},zK:function(){return ie},LO:function(){return Z},Zj:function(){return q},Yx:function(){return te},sS:function(){return ee},kV:function(){return J},sk:function(){return ne},eF:function(){return $},Oh:function(){return j},WR:function(){return be},a6:function(){return ye},HM:function(){return W},ay:function(){return C},hR:function(){return le},Gj:function(){return B},I8:function(){return pe},wZ:function(){return k},C6:function(){return O},ZF:function(){return Y},nM:function(){return V},ah:function(){return Q},UO:function(){return K},Kr:function(){return de},oX:function(){return he},_D:function(){return D},V4:function(){return H}});var r=n(487),i=n.n(r),o=n(631),a=n.n(o),s=n(2052),c=n.n(s),u=n(4010),l=n.n(u),d=n(1469),f=n.n(d),h=n(9329),p=n.n(h),m=n(6464),v={};v.styleTagTransform=p(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=f(),i()(m.Z,v);var g,y=m.Z&&m.Z.locals?m.Z.locals:void 0,b="Excalidraw",w=10,x=8,_=5,E=1,k=30,C=Math.PI/12,S={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},j={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(e){e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.FOCUS="focus",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.HASHCHANGE="hashchange",e.VISIBILITY_CHANGE="visibilitychange",e.SCROLL="scroll",e.EXCALIDRAW_LINK="excalidraw-link"}(g||(g={}));var A={TEST:"test",DEVELOPMENT:"development"},T={SHAPE_ACTIONS_MENU:"App-menu__left"},I={Virgil:1,Helvetica:2,Cascadia:3},O={LIGHT:"light",DARK:"dark"},D="Segoe UI Emoji",N=20,P=I.Virgil,M="left",L="top",R=20,Z={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",binary:"application/octet-stream"},F={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},U=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,z=500,B=300,V=500,W=100,H=.1,q=.1,G=300,Y=y.themeFilter,K={addLibrary:"addLibrary"},Q={addLibrary:"addLibrary"},X={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},$=640,J=800,ee=1e3,te=500,ne=1229,re=parseInt(y.rightSidebarWidth),ie=2,oe=[1,2,3],ae=10,se=1440,ce=[Z.png,Z.jpg,Z.svg,Z.gif,Z.webp,Z.bmp,Z.ico],ue=2097152,le="http://www.w3.org/2000/svg",de={excalidraw:2,excalidrawLibrary:2},fe=5,he={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},pe={LEFT:"left",CENTER:"center",RIGHT:"right"},me=20,ve=.25,ge=32,ye={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},be="__precedingElement__";document.cookie.includes("excplus-auth")},434:function(e,t,n){"use strict";n.d(t,{DQ:function(){return k},KG:function(){return P},Pn:function(){return L},Qk:function(){return E},Sf:function(){return N},Tu:function(){return M},Wr:function(){return S},ZY:function(){return j},_c:function(){return O},bv:function(){return R},cT:function(){return A},g8:function(){return C},gY:function(){return z},lV:function(){return I},tW:function(){return D},vZ:function(){return B},wf:function(){return T}});var r=n(1930),i=n(2577),o=n(7169),a=n(8950),s=n(2975),c=n.n(s),u=n(5605),l=n(8897),d=n(2335),f=n(1047),h=n(6797),p=n(5202),m=n(75),v=n(6340),g=n(1393),y=n(5523),b=n(679);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(){var e=(0,a.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==d.LO.png){e.next=18;break}return e.prev=1,e.next=4,Promise.resolve().then(n.bind(n,673));case 4:return e.next=6,e.sent.decodePngMetadata(t);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(1),"INVALID"!==e.t0.message){e.next=15;break}throw new DOMException((0,p.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,p.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:e.next=43;break;case 18:if(!("text"in Blob)){e.next=24;break}return e.next=21,t.text();case 21:r=e.sent,e.next=27;break;case 24:return e.next=26,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 26:r=e.sent;case 27:if(t.type!==d.LO.svg){e.next=43;break}return e.prev=28,e.next=31,Promise.resolve().then(n.bind(n,673));case 31:return e.next=33,e.sent.decodeSvgMetadata({svg:r});case 33:return e.abrupt("return",e.sent);case 36:if(e.prev=36,e.t1=e.catch(28),"INVALID"!==e.t1.message){e.next=42;break}throw new DOMException((0,p.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,p.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return e.abrupt("return",r);case 44:case"end":return e.stop()}}),e,null,[[1,9],[28,36]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t;return e&&(null===(t=e.name.match(/\.(json|excalidraw|png|svg)$/))||void 0===t?void 0:t[1])||null},k=function(e){return"png"===e||"svg"===e},C=function(e){var t=E(e);return"png"===t||"svg"===t},S=function(e){var t=(e||{}).type;return!!t&&d.jo.includes(t)},j=function(){var e=(0,a.Z)(c().mark((function e(t,n,r,i){var o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:if(o=e.sent,e.prev=3,a=JSON.parse(o),!(0,y.dS)(a)){e.next=9;break}return e.abrupt("return",{type:d.LO.excalidraw,data:(0,b.nu)({elements:(0,f._M)(a.elements||[]),appState:x(x({theme:null==n?void 0:n.theme,fileHandle:i||t.handle||null},(0,l.s)(a.appState||{})),n?(0,m.W)(a.elements||[],n,null):{}),files:a.files},n,r)});case 9:if(!(0,y.HT)(a)){e.next=11;break}return e.abrupt("return",{type:d.LO.excalidrawlib,data:a});case 11:throw new Error((0,p.t)("alerts.couldNotLoadInvalidFile"));case 14:throw e.prev=14,e.t0=e.catch(3),console.error(e.t0.message),new Error((0,p.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.Z)(c().mark((function e(t,n,r,i){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t,n,r,i);case 2:if((o=e.sent).type===d.LO.excalidraw){e.next=5;break}throw new Error((0,p.t)("alerts.couldNotLoadInvalidFile"));case 5:return e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unpublished",n=JSON.parse(e);if(!(0,y.HT)(n))throw new Error("Invalid library");var r=n.libraryItems||n.library;return(0,b.wJ)(r,t)},I=function(){var e=(0,a.Z)(c().mark((function e(t){var n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"unpublished",e.t0=T,e.next=4,_(t);case 4:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{t.toBlob((function(t){if(!t)return n(new h.l((0,p.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));e(t)}))}catch(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=window.crypto.subtle,e.next=4,B(t);case 4:return e.t1=e.sent,e.next=7,e.t0.digest.call(e.t0,"SHA-1",e.t1);case 7:return n=e.sent,e.abrupt("return",(0,v.G3)(new Uint8Array(n)));case 11:return e.prev=11,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return",(0,u.x0)(40));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,a.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.indexOf(","),r=atob(e.slice(n+1)),i=e.slice(0,n).split(":")[1].split(";")[0],o=new ArrayBuffer(r.length),a=new Uint8Array(o),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);return new File([o],t,{type:i})},M=function(){var e=(0,a.Z)(c().mark((function e(t,r){var o,a,s,u,l,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==d.LO.svg){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Promise.all([n.e(736).then(n.t.bind(n,4881,23)).then((function(e){return e.default})),n.e(736).then(n.bind(n,100)).then((function(e){return e.default}))]);case 4:if(o=e.sent,a=(0,i.Z)(o,2),s=a[0],u=a[1],l=u({pica:s({features:["js","wasm"]})}),r.outputType&&(f=r.outputType,l._create_blob=function(e){return this.pica.toBlob(e.out_canvas,f,.8).then((function(t){return e.out_blob=t,e}))}),S(t)){e.next=12;break}throw new Error((0,p.t)("errors.unsupportedFileType"));case 12:return e.t0=File,e.next=15,l.toBlob(t,{max:r.maxWidthOrHeight});case 15:return e.t1=e.sent,e.t2=[e.t1],e.t3=t.name,e.t4={type:r.outputType||t.type},e.abrupt("return",new e.t0(e.t2,e.t3,e.t4));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new File([(new TextEncoder).encode(e)],t,{type:d.LO.svg})},R=function(){var e=(0,a.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dataTransfer.files.item(0),e.next=3,Z(t);case 3:if(r=e.sent,!n){e.next=10;break}return e.next=7,z(n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.t1=e.t0,e.t2=r,e.abrupt("return",{file:e.t1,fileHandle:e.t2});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.kr){e.next=16;break}return e.prev=1,n=t.dataTransfer.items[0],e.next=5,n.getAsFileSystemHandle();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=null;case 8:return r=e.t0,e.abrupt("return",r);case 12:return e.prev=12,e.t1=e.catch(1),console.warn(e.t1.name,e.t1.message),e.abrupt("return",null);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=null,n="".concat((0,r.Z)(new Uint8Array(e).slice(0,8)).join(" ")," "),i="255 216 255 ",o="71 73 70 56 57 97 ";return"137 80 78 71 13 10 26 10 "===n?t=d.LO.png:n.startsWith(i)?t=d.LO.jpg:n.startsWith(o)&&(t=d.LO.gif),t},U=function(e,t,n){return new File([e],n||"",{type:t})},z=function(){var e=(0,a.Z)(c().mark((function e(t){var n,r,i,o,a,s,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type){e.next=28;break}if(null===(n=t)||void 0===n||null===(r=n.name)||void 0===r||!r.endsWith(".excalidrawlib")){e.next=11;break}return e.t0=U,e.next=5,B(t);case 5:e.t1=e.sent,e.t2=d.LO.excalidrawlib,e.t3=t.name,t=(0,e.t0)(e.t1,e.t2,e.t3),e.next=26;break;case 11:if(null===(i=t)||void 0===i||null===(o=i.name)||void 0===o||!o.endsWith(".excalidraw")){e.next=21;break}return e.t4=U,e.next=15,B(t);case 15:e.t5=e.sent,e.t6=d.LO.excalidraw,e.t7=t.name,t=(0,e.t4)(e.t5,e.t6,e.t7),e.next=26;break;case 21:return e.next=23,B(t);case 23:a=e.sent,(s=F(a))&&(t=U(a,s,t.name));case 26:e.next=34;break;case 28:if(!S(t)){e.next=34;break}return e.next=31,B(t);case 31:u=e.sent,(l=F(u))&&l!==t.type&&(t=U(u,l,t.name));case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return"arrayBuffer"in e?e.arrayBuffer():new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var r;if(null===(r=e.target)||void 0===r||!r.result)return n(new Error("Couldn't convert blob to ArrayBuffer"));t(e.target.result)},r.readAsArrayBuffer(e)}))}},1393:function(e,t,n){"use strict";n.d(t,{I$:function(){return p},NL:function(){return m},kr:function(){return a}});var r=n(1930),i=n(8950),o=n(2975),a=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(e){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),s=a?n.e(736).then(n.bind(n,2254)):n.e(736).then(n.bind(n,3499));function c(){return c=(0,i.Z)(o.mark((function e(){var t,n=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}a?n.e(736).then(n.bind(n,6474)):n.e(736).then(n.bind(n,9521));var u=a?n.e(736).then(n.bind(n,9475)):n.e(736).then(n.bind(n,6281));function l(){return l=(0,i.Z)(o.mark((function e(){var t,n=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}var d=n(2335),f=n(6797),h=n(6340),p=function(e){var t,n,i,o=null===(t=e.extensions)||void 0===t?void 0:t.reduce((function(e,t){return e.push(d.LO[t]),e}),[]),a=null===(n=e.extensions)||void 0===n?void 0:n.reduce((function(e,t){return"jpg"===t?e.concat(".jpg",".jpeg"):e.concat(".".concat(t))}),[]);return function(){return c.apply(this,arguments)}({description:e.description,extensions:a,mimeTypes:o,multiple:null!==(i=e.multiple)&&void 0!==i&&i,legacySetup:function(t,n,i){var o=(0,h.Ds)(n,500),a=function(){s(),document.addEventListener(d.Ks.KEYUP,o),document.addEventListener(d.Ks.POINTER_UP,o),o()},s=function(){var n;if(null!==(n=i.files)&&void 0!==n&&n.length){var o=e.multiple?(0,r.Z)(i.files):i.files[0];t(o)}};requestAnimationFrame((function(){window.addEventListener(d.Ks.FOCUS,a)}));var c=window.setInterval((function(){s()}),500);return function(e){clearInterval(c),o.cancel(),window.removeEventListener(d.Ks.FOCUS,a),document.removeEventListener(d.Ks.KEYUP,o),document.removeEventListener(d.Ks.POINTER_UP,o),e&&(console.warn("Opening the file was canceled (legacy-fs)."),e(new f._))}}})},m=function(e,t){return function(){return l.apply(this,arguments)}(e,{fileName:"".concat(t.name,".").concat(t.extension),description:t.description,extensions:[".".concat(t.extension)]},t.fileHandle)}},673:function(e,t,n){"use strict";n.r(t),n.d(t,{decodePngMetadata:function(){return E},decodeSvgMetadata:function(){return C},encodePngMetadata:function(){return _},encodeSvgMetadata:function(){return k},getTEXtChunk:function(){return x}});var r=n(8950),i=n(2975),o=n.n(i),a=n(2983),s=n.n(a),c=n(1194),u=n(3434),l=n.n(u),d=n(2744),f=n(2335),h=n(434),p=function(e){return new Promise((function(t,n){var r="string"==typeof e?new Blob([(new TextEncoder).encode(e)]):new Blob([e instanceof Uint8Array?e:new Uint8Array(e)]),i=new FileReader;i.onload=function(e){if(!e.target||"string"!=typeof e.target.result)return n(new Error("couldn't convert to byte string"));t(e.target.result)},i.readAsBinaryString(r)}))},m=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t},v=function(e){return new TextDecoder("utf-8").decode(m(e))},g=function(){var e=(0,r.Z)(o().mark((function e(t){var n=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>1&&void 0!==n[1]&&n[1])){e.next=5;break}e.t0=window.btoa(t),e.next=10;break;case 5:return e.t1=window,e.next=8,p(t);case 8:e.t2=e.sent,e.t0=e.t1.btoa.call(e.t1,e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.abrupt("return",n?window.atob(t):v(window.atob(t)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.text,!1===t.compress){e.next=11;break}return e.prev=2,e.next=5,p((0,d.deflate)(n));case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("encode: cannot deflate",e.t0);case 11:if(e.t1=!!r,e.t2=r,e.t2){e.next=17;break}return e.next=16,p(n);case 16:e.t2=e.sent;case 17:return e.t3=e.t2,e.abrupt("return",{version:"1",encoding:"bstring",compressed:e.t1,encoded:e.t3});case 19:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.encoding,e.next="bstring"===e.t0?3:12;break;case 3:if(!t.compressed){e.next=7;break}e.t1=t.encoded,e.next=10;break;case 7:return e.next=9,v(t.encoded);case 9:e.t1=e.sent;case 10:return n=e.t1,e.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(t.encoding,'"'));case 13:if(!t.compressed){e.next=15;break}return e.abrupt("return",(0,d.inflate)(new Uint8Array(m(n)),{to:"string"}));case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s(),e.t1=Uint8Array,e.next=4,(0,h.vZ)(t);case 4:if(e.t2=e.sent,e.t3=new e.t1(e.t2),n=(0,e.t0)(e.t3),!(r=n.find((function(e){return"tEXt"===e.name})))){e.next=10;break}return e.abrupt("return",c.decode(r.data));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.blob,r=t.metadata,e.t0=s(),e.t1=Uint8Array,e.next=5,(0,h.vZ)(n);case 5:return e.t2=e.sent,e.t3=new e.t1(e.t2),i=(0,e.t0)(e.t3),e.t4=c,e.t5=f.LO.excalidraw,e.t6=JSON,e.next=13,b({text:r,compress:!0});case 13:return e.t7=e.sent,e.t8=e.t6.stringify.call(e.t6,e.t7),a=e.t4.encode.call(e.t4,e.t5,e.t8),i.splice(-1,0,a),e.abrupt("return",new Blob([l()(i)],{type:f.LO.png}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:if((null==(n=e.sent)?void 0:n.keyword)!==f.LO.excalidraw){e.next=19;break}if(e.prev=4,"encoded"in(r=JSON.parse(n.text))){e.next=10;break}if(!("type"in r)||r.type!==f.r8.excalidraw){e.next=9;break}return e.abrupt("return",n.text);case 9:throw new Error("FAILED");case 10:return e.next=12,w(r);case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(4),console.error(e.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,e.t0=g,e.t1=JSON,e.next=5,b({text:n});case 5:return e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),e.next=9,(0,e.t0)(e.t3,!0);case 9:return r=e.sent,i="",i+="\x3c!-- payload-type:".concat(f.LO.excalidraw," --\x3e"),i+="\x3c!-- payload-version:2 --\x3e",i+="\x3c!-- payload-start --\x3e",i+=r,i+="\x3c!-- payload-end --\x3e",e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i,a,s,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.svg).includes("payload-type:".concat(f.LO.excalidraw))){e.next=26;break}if(r=n.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){e.next=5;break}throw new Error("INVALID");case 5:return i=n.match(/<!-- payload-version:(\d+) -->/),a=(null==i?void 0:i[1])||"1",s="1"!==a,e.prev=8,e.next=11,y(r[1],s);case 11:if(c=e.sent,"encoded"in(u=JSON.parse(c))){e.next=17;break}if(!("type"in u)||u.type!==f.r8.excalidraw){e.next=16;break}return e.abrupt("return",c);case 16:throw new Error("FAILED");case 17:return e.next=19,w(u);case 19:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t0=e.catch(8),console.error(e.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(t){return e.apply(this,arguments)}}()},5523:function(e,t,n){"use strict";n.d(t,{HT:function(){return b},I_:function(){return m},NI:function(){return w},Um:function(){return v},dS:function(){return y},n8:function(){return g},t1:function(){return x}});var r=n(6655),i=n(8950),o=n(2975),a=n.n(o),s=n(1393),c=n(8897),u=n(2335),l=n(1047),d=n(434);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){var n,r={},i=f(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;!o.isDeleted&&"fileId"in o&&o.fileId&&t[o.fileId]&&(r[o.fileId]=t[o.fileId])}}catch(e){i.e(e)}finally{i.f()}return r},m=function(e,t,n,r){var i={type:u.r8.excalidraw,version:u.Kr.excalidraw,source:u.pb,elements:"local"===r?(0,l._M)(e):(0,l.BQ)(e),appState:"local"===r?(0,c.s)(t):(0,c.eS)(t),files:"local"===r?p(e,n):void 0};return JSON.stringify(i,null,2)},v=function(){var e=(0,i.Z)(a().mark((function e(t,n,r){var i,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m(t,n,r,"local"),o=new Blob([i],{type:u.LO.excalidraw}),e.next=4,(0,s.NL)(o,{name:n.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,d.g8)(n.fileHandle)?null:n.fileHandle});case 4:return c=e.sent,e.abrupt("return",{fileHandle:c});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.I$)({description:"Excalidraw files"});case 2:return r=e.sent,e.t0=d.cT,e.next=6,(0,d.gY)(r);case 6:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r.handle,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return(null==e?void 0:e.type)===u.r8.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"===(0,r.Z)(e.appState)))},b=function(e){return"object"===(0,r.Z)(e)&&e&&e.type===u.r8.excalidrawLibrary&&(1===e.version||2===e.version)},w=function(e){var t={type:u.r8.excalidrawLibrary,version:u.Kr.excalidrawLibrary,source:u.pb,libraryItems:e};return JSON.stringify(t,null,2)},x=function(){var e=(0,i.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t),e.next=3,(0,s.NL)(new Blob([n],{type:u.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},7053:function(e,t,n){"use strict";n.d(t,{Di:function(){return T},WV:function(){return A},rF:function(){return E},xS:function(){return I},zh:function(){return S}});var r=n(7169),i=n(8950),o=n(5169),a=n(8821),s=n(1930),c=n(2975),u=n.n(c),l=n(434),d=n(679),f=n(4739),h=n(9487),p=n(8925),m=n(6797),v=n(5202),g=n(9787),y=n(2335);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,f.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),k=function(e){return JSON.parse(JSON.stringify(e))},C=function(e,t){return!e.find((function(e){return e.elements.length===t.elements.length&&e.elements.every((function(e,n){return e.id===t.elements[n].id&&e.versionNonce===t.elements[n].versionNonce}))}))},S=function(e,t){var n,r=[],i=x(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;C(e,o)&&r.push(o)}}catch(e){i.e(e)}finally{i.f()}return[].concat(r,(0,s.Z)(e))},j=(0,o.Z)((function e(t){var n=this;(0,a.Z)(this,e),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return n.updateQueue[n.updateQueue.length-1]},this.notifyListeners=function(){if(n.updateQueue.length>0)h.e_.set(E,{status:"loading",libraryItems:n.lastLibraryItems,isInitialized:n.isInitialized});else{n.isInitialized=!0,h.e_.set(E,{status:"loaded",libraryItems:n.lastLibraryItems,isInitialized:n.isInitialized});try{var e,t;null===(e=(t=n.app.props).onLibraryChange)||void 0===e||e.call(t,k(n.lastLibraryItems))}catch(e){console.error(e)}}},this.resetLibrary=function(){return n.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var e=(0,i.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getLastUpdateTask()||n.lastLibraryItems;case 3:r=e.sent,n.updateQueue.length>0?t(n.getLatestLibrary()):t(k(r)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",t(n.lastLibraryItems));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},this.updateLibrary=function(){var e=(0,i.Z)(u().mark((function e(t){var r,o,a,s,c,f,h,p,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryItems,o=t.prompt,a=void 0!==o&&o,s=t.merge,c=void 0!==s&&s,f=t.openLibraryMenu,h=void 0!==f&&f,p=t.defaultStatus,g=void 0===p?"unpublished":p,h&&n.app.setState({openSidebar:"library"}),e.abrupt("return",n.setLibrary((function(){return new Promise(function(){var e=(0,i.Z)(u().mark((function e(t,i){var o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"function"!=typeof r||r instanceof Blob?r:r(n.lastLibraryItems);case 3:if(!((o=e.sent)instanceof Blob)){e.next=10;break}return e.next=7,(0,l.lV)(o,g);case 7:s=e.sent,e.next=11;break;case 10:s=(0,d.wJ)(o,g);case 11:!a||window.confirm((0,v.t)("alerts.confirmAddLibrary",{numShapes:s.length}))?t(c?S(n.lastLibraryItems,s):s):i(new m._),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),i(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}())})).finally((function(){n.app.focusContainer()})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setLibrary=function(e){var t=new Promise(function(){var t=(0,i.Z)(u().mark((function t(r,i){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getLastUpdateTask();case 3:return"function"==typeof e&&(e=e(n.lastLibraryItems)),t.t0=k,t.next=7,e;case 7:t.t1=t.sent,n.lastLibraryItems=(0,t.t0)(t.t1),r(n.lastLibraryItems),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),i(t.t2);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){if("AbortError"===e.name)return console.warn("Library update aborted by user"),n.lastLibraryItems;throw e})).finally((function(){n.updateQueue=n.updateQueue.filter((function(e){return e!==t})),n.notifyListeners()}));return n.updateQueue.push(t),n.notifyListeners(),t},this.app=t}));t.ZP=j;var A=function(e){var t,n=Math.ceil(Math.sqrt(e.length)),r=[],i=0,o=0,a=0,c=0,u=0,l=0,d=0,f=x(e);try{var h=function(){var f=t.value;u&&u%n==0&&(o+=a+50,i=0,l=0,d++),0===l&&(a=function(t){return e.slice(t*n,t*n+n).reduce((function(e,t){var n=(0,p.v2)(t.elements).height;return Math.max(e,n)}),0)}(d)),c=function(t){var r,i=0,o=0,a=0,s=x(e);try{for(s.s();!(r=s.n()).done;){var c=r.value;if(i%n==0&&(o=0),o===t){var u=(0,p.v2)(c.elements).width;a=Math.max(a,u)}i++,o++}}catch(e){s.e(e)}finally{s.f()}return a}(l);var h=(0,p.v2)(f.elements),m=h.minX,v=h.minY,g=h.width,y=h.height,b=(c-g)/2,_=(a-y)/2;r.push.apply(r,(0,s.Z)(f.elements.map((function(e){return w(w({},e),{},{x:e.x+i+b-m,y:e.y+o+_-v})})))),i+=c+50,u++,l++};for(f.s();!(t=f.n()).done;)h()}catch(e){f.e(e)}finally{f.f()}return r},T=function(){var e=new URLSearchParams(window.location.hash.slice(1)).get(y.ah.addLibrary)||new URLSearchParams(window.location.search).get(y.UO.addLibrary),t=e?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return e?{libraryUrl:e,idToken:t}:null},I=function(e){var t=e.excalidrawAPI,n=e.getInitialLibraryItems,r=(0,g.useRef)(n);(0,g.useEffect)((function(){if(t){var e=function(){var e=(0,i.Z)(u().mark((function e(n){var r,o,a,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.libraryUrl,o=n.idToken,a=new Promise(function(){var e=(0,i.Z)(u().mark((function e(t,n){var i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(decodeURIComponent(r));case 3:return i=e.sent,e.next=6,i.blob();case 6:o=e.sent,t(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),s=o!==t.id,e.next=5,s&&document.hidden?new Promise((function(e){window.addEventListener("focus",(function(){return e()}),{once:!0})})):null;case 5:return e.prev=5,e.next=8,t.updateLibrary({libraryItems:a,prompt:s,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),e.t0;case 13:return e.prev=13,window.location.hash.includes(y.ah.addLibrary)?((c=new URLSearchParams(window.location.hash.slice(1))).delete(y.ah.addLibrary),window.history.replaceState({},y.iC,"#".concat(c.toString()))):window.location.search.includes(y.UO.addLibrary)&&((l=new URLSearchParams(window.location.search)).delete(y.UO.addLibrary),window.history.replaceState({},y.iC,"?".concat(l.toString()))),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[5,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),n=function(t){t.preventDefault();var n=T();n&&(t.stopImmediatePropagation(),window.history.replaceState({},"",t.oldURL),e(n))};r.current&&t.updateLibrary({libraryItems:r.current()});var o=T();return o&&e(o),window.addEventListener(y.Ks.HASHCHANGE,n),function(){window.removeEventListener(y.Ks.HASHCHANGE,n)}}}),[t])}},679:function(e,t,n){"use strict";n.d(t,{ET:function(){return k},lY:function(){return j},nu:function(){return A},wJ:function(){return I}});var r=n(2577),i=n(7169),o=n(1047),a=n(1974),s=n(6954),c=n(2335),u=n(8897),l=n(6938),d=n(1935),f=n(6340),h=n(5284);function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0},b=function(e){return Object.keys(c.ut).includes(e)?c.ut[e]:c.rk},w=function(e,t){var n,r,i,u,l,d,p,m,v,y,b,w,x,_,E={type:t.type||e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,isDeleted:null!==(r=e.isDeleted)&&void 0!==r&&r,id:e.id||(0,s.kb)(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(i=e.strokeStyle)&&void 0!==i?i:"solid",roughness:null!==(u=e.roughness)&&void 0!==u?u:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:null!==(l=null!==(d=t.x)&&void 0!==d?d:e.x)&&void 0!==l?l:0,y:null!==(p=null!==(m=t.y)&&void 0!==m?m:e.y)&&void 0!==p?p:0,strokeColor:e.strokeColor||h.black,backgroundColor:e.backgroundColor||"transparent",width:e.width||0,height:e.height||0,seed:null!==(v=e.seed)&&void 0!==v?v:1,groupIds:null!==(y=e.groupIds)&&void 0!==y?y:[],roundness:e.roundness?e.roundness:"round"===e.strokeSharpness?{type:(0,a.QI)(e.type)?c.a6.LEGACY:c.a6.PROPORTIONAL_RADIUS}:null,boundElements:e.boundElementIds?e.boundElementIds.map((function(e){return{type:"arrow",id:e}})):null!==(b=e.boundElements)&&void 0!==b?b:[],updated:null!==(w=e.updated)&&void 0!==w?w:(0,f.C3)(),link:null!==(x=e.link)&&void 0!==x?x:null,locked:null!==(_=e.locked)&&void 0!==_&&_};return"customData"in e&&(E.customData=e.customData),c.WR in e&&(E[c.WR]=e[c.WR]),g(g(g({},E),(0,o.Qp)(E)),t)},x=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e.type){case"text":var a=e.fontSize,s=e.fontFamily;if("font"in e){var u=e.font.split(" "),d=(0,r.Z)(u,2),f=d[0],h=d[1];a=parseInt(f,10),s=b(h)}return e=w(e,{fontSize:a,fontFamily:s,text:null!==(t=e.text)&&void 0!==t?t:"",baseline:e.baseline,textAlign:e.textAlign||c.Hg,verticalAlign:e.verticalAlign||c.hs,containerId:null!==(n=e.containerId)&&void 0!==n?n:null,originalText:e.originalText||e.text}),i&&(e=g(g({},e),(0,o.JZ)(e))),e;case"freedraw":return w(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return w(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1]});case"line":case"draw":case"arrow":var p=e,m=p.startArrowhead,v=void 0===m?null:m,y=p.endArrowhead,x=void 0===y?"arrow"===e.type?"arrow":null:y,_=e.x,E=e.y,k=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(0!==k[0][0]||0!==k[0][1]){var C=l._.getNormalizedPoints(e);k=C.points,_=C.x,E=C.y}return w(e,{type:"draw"===e.type?"line":e.type,startBinding:e.startBinding,endBinding:e.endBinding,lastCommittedPoint:null,startArrowhead:v,endArrowhead:x,points:k,x:_,y:E});case"ellipse":case"rectangle":case"diamond":return w(e,{})}},_=function(e,t){if(e.boundElements){var n=e.boundElements.slice(),r=new Set;e.boundElements=n.reduce((function(n,i){var o=t.get(i.id);if(o&&!r.has(i.id)){if(r.add(i.id),o.isDeleted)return n;n.push(i),(0,a.iB)(o)&&!o.containerId&&(o.containerId=e.id)}return n}),[])}},E=function(e,t){var n=e.containerId?t.get(e.containerId):null;if(n){if(!e.isDeleted&&n.boundElements&&!n.boundElements.find((function(t){return t.id===e.id}))){var r=(n.boundElements||(n.boundElements=[])).slice();r.push({type:"text",id:e.id}),n.boundElements=r}}else e.containerId=null},k=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t?(0,f.xn)(t):null,s=(e||[]).reduce((function(e,t){if("selection"!==t.type&&!(0,o.QD)(t)){var n=x(t,r);if(n){var a=null==i?void 0:i.get(t.id);a&&a.version>n.version&&(n=(0,d.ZP)(n,a.version)),e.push(n)}}return e}),[]),c=(0,f.xn)(s),u=p(s);try{for(u.s();!(n=u.n()).done;){var l=n.value;(0,a.iB)(l)&&l.containerId?E(l,c):l.boundElements&&_(l,c)}}catch(e){u.e(e)}finally{u.f()}return s},C=function(e,t,n){var r=t[e];return void 0!==r?r:n[e]},S={isLibraryOpen:function(e,t){return["openSidebar","isLibraryOpen"in e?e.isLibraryOpen?"library":null:C("openSidebar",e,t)]},isLibraryMenuDocked:function(e,t){var n;return["isSidebarDocked",null!==(n=e.isLibraryMenuDocked)&&void 0!==n?n:C("isSidebarDocked",e,t)]}},j=function(e,t){var n,i,o;e=e||{};for(var a=(0,u.im)(),s={},c=0,l=Object.keys(S);c<l.length;c++){var d=l[c];if(d in e){var h=S[d](e,a),p=(0,r.Z)(h,2),m=p[0],v=p[1];s[m]=v}}for(var b=0,w=Object.entries(a);b<w.length;b++){var x=(0,r.Z)(w[b],2),_=x[0],E=x[1],k=e[_],C=t?t[_]:void 0;s[_]=void 0!==k?k:void 0!==C?C:E}return g(g({},s),{},{cursorButton:(null==t?void 0:t.cursorButton)||"up",penDetected:null!==(n=null==t?void 0:t.penDetected)&&void 0!==n?n:!!e.penMode&&null!==(i=e.penDetected)&&void 0!==i&&i,activeTool:g(g({},(0,f.Om)(a,s.activeTool.type&&y[s.activeTool.type]?s.activeTool:{type:"selection"})),{},{lastActiveToolBeforeEraser:null,locked:null!==(o=s.activeTool.locked)&&void 0!==o&&o}),zoom:"number"==typeof e.zoom?{value:e.zoom}:e.zoom||a.zoom,openSidebar:"library"===s.openSidebar?s.isSidebarDocked?"library":null:s.openSidebar})},A=function(e,t,n){return{elements:k(null==e?void 0:e.elements,n),appState:j(null==e?void 0:e.appState,t||null),files:(null==e?void 0:e.files)||{}}},T=function(e){var t=k((0,o.Lm)(e.elements),null);return t.length?g(g({},e),{},{elements:t}):null},I=function(){var e,t=arguments.length>1?arguments[1]:void 0,n=[],r=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(Array.isArray(i)){var o=T({status:t,elements:i,id:(0,s.kb)(),created:Date.now()});o&&n.push(o)}else{var a=i,c=T(g(g({},a),{},{id:a.id||(0,s.kb)(),status:a.status||t,created:a.created||Date.now()}));c&&n.push(c)}}}catch(e){r.e(e)}finally{r.f()}return n}},4929:function(e,t,n){"use strict";n.d(t,{rj:function(){return U},nW:function(){return B},nz:function(){return q},sw:function(){return Y},lV:function(){return J},q$:function(){return H},wq:function(){return K},$u:function(){return W},Pp:function(){return X}});var r=n(7169),i=n(2577),o=n(6340),a=n(1935),s=n(7901),c=n(1319),u=n(3646),l=n(5202),d=n(9787),f=n(45),h=n(6066),p=n(3063),m=n(6552),v=n(2335),g=n(1894),y=n(75),b=n(2325),w=n(1047),x=n(487),_=n.n(x),E=n(631),k=n.n(E),C=n(2052),S=n.n(C),j=n(4010),A=n.n(j),T=n(1469),I=n.n(T),O=n(9329),D=n.n(O),N=n(5260),P={};P.styleTagTransform=D(),P.setAttributes=A(),P.insert=S().bind(null,"head"),P.domAPI=k(),P.insertStyleElement=I(),_()(N.Z,P),N.Z&&N.Z.locals&&N.Z.locals;var M=n(7047),L=n(8149),R=n(4512);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=document.createElement("img");U.src="data:".concat(v.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var z=!1,B=function(e){var t=e.element,n=e.setAppState,r=e.onLinkOpen,s=(0,L.gF)(),p=t.link||"",m=(0,d.useState)(p),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=(0,d.useRef)(null),x="editor"===s.showHyperlinkPopup||!p,_=(0,d.useCallback)((function(){if(w.current){var e=W(w.current.value);!t.link&&e&&(0,M.L)("hyperlink","create"),(0,a.DR)(t,{link:e}),n({showHyperlinkPopup:"info"})}}),[t,n]);(0,d.useLayoutEffect)((function(){return function(){_()}}),[_]),(0,d.useEffect)((function(){var e=null,r=function(r){x||(e&&clearTimeout(e),ee(t,s,[r.clientX,r.clientY])&&(e=window.setTimeout((function(){n({showHyperlinkPopup:!1})}),500)))};return window.addEventListener(v.Ks.POINTER_MOVE,r,!1),function(){window.removeEventListener(v.Ks.POINTER_MOVE,r,!1),e&&clearTimeout(e)}}),[s,t,x,n]);var E=(0,d.useCallback)((function(){(0,M.L)("hyperlink","delete"),(0,a.DR)(t,{link:null}),x&&(w.current.value=""),n({showHyperlinkPopup:!1})}),[n,t,x]),k=V(t,s),C=k.x,S=k.y;return s.draggingElement||s.resizingElement||s.isRotating||s.openMenu?null:(0,R.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(S,"px"),left:"".concat(C,"px"),width:320,padding:5},children:[x?(0,R.jsx)("input",{className:(0,f.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:w,value:y,onChange:function(e){return b(e.target.value)},autoFocus:!0,onKeyDown:function(e){e.stopPropagation(),e[h.tW.CTRL_OR_CMD]&&e.key===h.tW.K&&e.preventDefault(),e.key!==h.tW.ENTER&&e.key!==h.tW.ESCAPE||_()}}):(0,R.jsx)("a",{href:t.link||"",className:(0,f.Z)("excalidraw-hyperlinkContainer-link",{"d-none":x}),target:H(t.link)?"_self":"_blank",onClick:function(e){if(t.link&&r){var n=(0,o.ag)(v.Ks.EXCALIDRAW_LINK,e.nativeEvent);r(t,n),n.defaultPrevented&&e.preventDefault()}},rel:"noopener noreferrer",children:t.link}),(0,R.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!x&&(0,R.jsx)(c.V,{type:"button",title:(0,l.t)("buttons.edit"),"aria-label":(0,l.t)("buttons.edit"),label:(0,l.t)("buttons.edit"),onClick:function(){(0,M.L)("hyperlink","edit","popup-ui"),n({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:u.Pm}),p&&(0,R.jsx)(c.V,{type:"button",title:(0,l.t)("buttons.remove"),"aria-label":(0,l.t)("buttons.remove"),label:(0,l.t)("buttons.remove"),onClick:E,className:"excalidraw-hyperlinkContainer--remove",icon:u.XH})]})]})},V=function(e,t){var n=(0,w.qf)(e),r=(0,i.Z)(n,2),a=r[0],s=r[1],c=(0,o._i)({sceneX:a+e.width/2,sceneY:s},t),u=c.x,l=c.y;return{x:u-t.offsetLeft-160,y:l-t.offsetTop-85}},W=function(e){return(e=e.trim())&&(e.includes("://")||/^[[\\/]/.test(e)||(e="https://".concat(e))),e},H=function(e){return!!(null!=e&&e.includes(location.origin)||null!=e&&e.startsWith("/"))},q=(0,s.z)({name:"hyperlink",perform:function(e,t){return"editor"!==t.showHyperlinkPopup&&{elements:e,appState:F(F({},t),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(e){return e[h.tW.CTRL_OR_CMD]&&e.key===h.tW.K},contextItemLabel:function(e,t){return G(e,t)},contextItemPredicate:function(e,t){return 1===(0,y.eD)(e,t).length},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=(0,y.eD)(t,n);return(0,R.jsx)(c.V,{type:"button",icon:u.xP,"aria-label":(0,l.t)(G(t,n)),title:"".concat((0,l.t)("labels.link.label")," - ").concat((0,o.uY)("CtrlOrCmd+K")),onClick:function(){return r(null)},selected:1===i.length&&!!i[0].link})}}),G=function(e,t){return(0,y.eD)(e,t)[0].link?"labels.link.edit":"labels.link.create"},Y=function(e,t,n){var r=(0,i.Z)(e,4),o=r[0],a=r[1],s=r[2],c=r[3],u=p.Dn,l=u/n.zoom.value,d=u/n.zoom.value,f=u/n.zoom.value,h=(o+s)/2,v=(a+c)/2,g=(u-8)/(2*n.zoom.value),y=4/n.zoom.value,b=s+y-g,w=a-y-f+g,x=(0,m.U1)(b+l/2,w+d/2,h,v,t),_=(0,i.Z)(x,2);return[_[0]-l/2,_[1]-d/2,l,d]},K=function(e,t,n,r){var o=(0,i.Z)(n,2),a=o[0],s=o[1];if(!e.link||t.selectedElementIds[e.id])return!1;var c=4/t.zoom.value;if(!r&&t.viewModeEnabled&&(0,b.pX)(e,[a,s],c))return!0;var u=(0,w.qf)(e),l=(0,i.Z)(u,4),d=l[0],f=l[1],h=l[2],p=l[3],m=Y([d,f,h,p],e.angle,t),v=(0,i.Z)(m,4),g=v[0],y=v[1],x=v[2],_=v[3];return a>g-c&&a<g+c+x&&s>y-c&&s<y+_+c},Q=null,X=function(e,t){Q&&clearTimeout(Q),Q=window.setTimeout((function(){return $(e,t)}),v.sA)},$=function(e,t){if(e.link){var n=(0,g.bK)();n.classList.add("excalidraw-tooltip--visible"),n.style.maxWidth="20rem",n.textContent=e.link;var r=(0,w.qf)(e),a=(0,i.Z)(r,4),s=a[0],c=a[1],u=a[2],l=a[3],d=Y([s,c,u,l],e.angle,t),f=(0,i.Z)(d,4),h=f[0],p=f[1],m=f[2],v=f[3],y=(0,o._i)({sceneX:h,sceneY:p},t);(0,g.Js)(n,{left:y.x,top:y.y,width:m,height:v},"top"),(0,M.L)("hyperlink","tooltip","link-icon"),z=!0}},J=function(){Q&&clearTimeout(Q),z&&(z=!1,(0,g.bK)().classList.remove("excalidraw-tooltip--visible"))},ee=function(e,t,n){var r=(0,i.Z)(n,2),a=r[0],s=r[1],c=(0,o.dE)({clientX:a,clientY:s},t),u=c.x,l=c.y,d=15/t.zoom.value;if((0,b.pX)(e,[u,l],d))return!1;var f=(0,w.qf)(e),h=(0,i.Z)(f,3),p=h[0],m=h[1],v=h[2];if(u>=p&&u<=v&&l>=m-85&&l<=m)return!1;var g=V(e,t),y=g.x,x=g.y;return!(a>=y-d&&a<=y+320+10+d&&s>=x-d&&s<=x+d+10+42)}},8290:function(e,t,n){"use strict";n.d(t,{$q:function(){return V},DK:function(){return C},H:function(){return S},HG:function(){return y},N1:function(){return v},R:function(){return _},Ww:function(){return I},Y9:function(){return A},ZB:function(){return M},cz:function(){return m},ek:function(){return z},el:function(){return w}});var r=n(7169),i=n(2577),o=n(75),a=n(1974),s=n(2325),c=n(1935),u=n(1564),l=n(6938),d=n(6340),f=n(6066),h=n(5710);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=function(e){return!e[f.tW.CTRL_OR_CMD]},v=function(e){return e.isBindingEnabled},g=function(e,t){var n=[];return t.forEach((function(t){var r=e.getNonDeletedElement(t);null!=r&&n.push(r)})),n},y=function(e,t,n){var r=new Set,i=new Set;b(e,t,n,"start",r,i),b(e,n,t,"end",r,i);var o=Array.from(i).filter((function(e){return!r.has(e)}));g(u.Z.getScene(e),o).forEach((function(t){var n;(0,c.DR)(t,{boundElements:null===(n=t.boundElements)||void 0===n?void 0:n.filter((function(t){return"arrow"!==t.type||t.id!==e.id}))})}))},b=function(e,t,n,r,i,o){if("keep"!==t)if(null!=t)null!=n&&("keep"===n?k(e,t,r):"start"!==r&&n.id===t.id)||(E(e,t,r),i.add(t.id));else{var a=j(e,r);null!=a&&o.add(a)}},w=function(e){e.forEach((function(e){(0,a.Mn)(e)?y(e,R(e,"start"),R(e,"end")):(0,a.f0)(e)&&x(e)}))},x=function(e){F(e).forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],o=n[1];return y(r,"end"===o?"keep":e,"start"===o?"keep":e)}))},_=function(e,t,n,r){null!=t.startBoundElement&&E(e,t.startBoundElement,"start");var i=A(r,n);null==i||k(e,i,"end")||E(e,i,"end")},E=function(e,t,n){(0,c.DR)(e,(0,r.Z)({},"start"===n?"startBinding":"endBinding",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({elementId:t.id},T(e,t,n)))),(0,d.xn)(t.boundElements||[]).has(e.id)||(0,c.DR)(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})})},k=function(e,t,n){var r=e["start"===n?"endBinding":"startBinding"];return C(e,null==r?void 0:r.elementId,t)},C=function(e,t,n){return t===n.id&&e.points.length<3},S=function(e){e.forEach((function(e){(0,a.Mn)(e)&&y(e,null,null)}))},j=function(e,t){var n="start"===t?"startBinding":"endBinding",i=e[n];return null==i?null:((0,c.DR)(e,(0,r.Z)({},n,null)),i.elementId)},A=function(e,t){return(0,o.QG)(t.getNonDeletedElements(),(function(t){return(0,a.f0)(t,!1)&&(0,s.uu)(t,e)}))},T=function(e,t,n){var r="start"===n?-1:1,i=-1===r?0:e.points.length-1,o=i-r,a=l._.getPointAtIndexGlobalCoordinates(e,i),c=l._.getPointAtIndexGlobalCoordinates(e,o);return{focus:(0,s.T_)(t,c,a),gap:Math.max(1,(0,s.oT)(t,a))}},I=function(e,t){var n,r=(null!==(n=e.boundElements)&&void 0!==n?n:[]).filter((function(e){return"arrow"===e.type}));if(0!==r.length){var i=null!=t?t:{},o=i.newSize,s=i.simultaneouslyUpdated,l=D(s);g(u.Z.getScene(e),r.map((function(e){return e.id}))).forEach((function(t){if((0,a.bt)(t)){var n=e;if(O(t,n)){var r=P(n,t.startBinding,o),i=P(n,t.endBinding,o);l.has(t.id)?(0,c.DR)(t,{startBinding:r,endBinding:i}):(N(t,"start",r,e),N(t,"end",i,e),(0,h.WJ)(t)&&(0,h.RB)(t,!1))}}}))}},O=function(e,t){var n,r;return(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)===t.id||(null===(r=e.endBinding)||void 0===r?void 0:r.elementId)===t.id},D=function(e){return new Set((e||[]).map((function(e){return e.id})))},N=function(e,t,n,i){if(!(null==n||n.elementId!==i.id&&e.points.length>2)){var o=u.Z.getScene(e).getElement(n.elementId);if(null!=o){var a,c="start"===t?-1:1,d=-1===c?0:e.points.length-1,f=d-c,h=l._.getPointAtIndexGlobalCoordinates(e,f),p=(0,s.j_)(o,n.focus,h);if(0===n.gap)a=p;else{var m=(0,s.MZ)(o,h,p,n.gap);a=0===m.length?p:m[0]}l._.movePoints(e,[{index:d,point:l._.pointFromAbsoluteCoords(e,a)}],(0,r.Z)({},"start"===t?"startBinding":"endBinding",n))}}},P=function(e,t,n){if(null==t||null==n)return t;var r=t.gap,i=t.focus,o=t.elementId,a=n.width,c=n.height,u=e.width,l=e.height;return{elementId:o,gap:Math.max(1,Math.min((0,s.fb)(e,a,c),r*(a<c?a/u:c/l))),focus:i}},M=function(e){var t=new Set(e.map((function(e){return e.id})));return e.flatMap((function(e){return(0,a.Mn)(e,!1)?L(e).filter((function(e){return!t.has(e.id)})):(0,a.f0)(e,!1)?F(e).filter((function(e){return!t.has(e[0].id)})):[]}))},L=function(e){return[R(e,"start"),R(e,"end")].filter((function(e){return null!=e}))},R=function(e,t){return A(Z(e,t),u.Z.getScene(e))},Z=function(e,t){var n="start"===t?0:-1;return(0,d.AK)(l._.getPointAtIndexGlobalCoordinates(e,n))},F=function(e){return u.Z.getScene(e).getNonDeletedElements().map((function(t){if(!(0,a.Mn)(t,!1))return null;var n=U(t,"start",e),r=U(t,"end",e);return n||r?[t,n&&r?"both":n?"start":"end",e]:null})).filter((function(e){return null!=e}))},U=function(e,t,n){return null==e["start"===t?"startBinding":"endBinding"]&&!k(e,n,t)&&(0,s.uu)(n,Z(e,t))},z=function(e,t,n,r){var i=new Set,o=new Set,s="duplicatesServeAsOld"===r;t.forEach((function(e){var t=e.boundElements;if(null!=t&&t.length>0&&(t.forEach((function(e){s&&!n.has(e.id)&&i.add(e.id)})),o.add(n.get(e.id))),(0,a.Mn)(e)){if(null!=e.startBinding){var r=e.startBinding.elementId;s&&!n.has(r)&&o.add(r)}if(null!=e.endBinding){var c=e.endBinding.elementId;s&&!n.has(c)&&o.add(c)}null==e.startBinding&&null==e.endBinding||i.add(n.get(e.id))}})),e.filter((function(e){var t=e.id;return i.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;(0,c.DR)(e,{startBinding:B(t,n),endBinding:B(r,n)})})),e.filter((function(e){var t=e.id;return o.has(t)})).forEach((function(e){var t=e.boundElements;null!=t&&t.length>0&&(0,c.DR)(e,{boundElements:t.map((function(e){return n.has(e.id)?{id:n.get(e.id),type:e.type}:e}))})}))},B=function(e,t){var n;if(null==e)return null;var r=e.elementId;return{focus:e.focus,gap:e.gap,elementId:null!==(n=t.get(r))&&void 0!==n?n:r}},V=function(e,t){var n=new Set(t.map((function(e){return e.id}))),r=new Set;t.forEach((function(e){var t;(0,a.f0)(e)?null===(t=e.boundElements)||void 0===t||t.forEach((function(e){n.has(e.id)||r.add(e.id)})):(0,a.Mn)(e)&&(e.startBinding&&r.add(e.startBinding.elementId),e.endBinding&&r.add(e.endBinding.elementId))})),e.filter((function(e){var t=e.id;return r.has(t)})).forEach((function(e){(0,a.f0)(e)?(0,c.DR)(e,{boundElements:H(e.boundElements,n)}):(0,a.Mn)(e)&&(0,c.DR)(e,{startBinding:W(e.startBinding,n),endBinding:W(e.endBinding,n)})}))},W=function(e,t){return null==e||t.has(e.elementId)?null:e},H=function(e,t){return e?e.filter((function(e){return!t.has(e.id)})):null}},8925:function(e,t,n){"use strict";n.d(t,{CM:function(){return v},IX:function(){return b},KP:function(){return C},Pi:function(){return k},UC:function(){return m},Ut:function(){return j},Y5:function(){return _},os:function(){return A},qf:function(){return p},v2:function(){return T},wC:function(){return S}});var r=n(2577),i=n(1930),o=n(6552),a=n(8234),s=n(3063),c=n(1974),u=n(5001),l=n(5710),d=n(6938);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,c.F9)(e))return x(e);if((0,c.bt)(e))return d._.getElementAbsoluteCoords(e,t);if((0,c.iB)(e)){var n=(0,l.tl)(e);if((0,c.Yv)(n)){var r=d._.getBoundTextElementPosition(n,e);return[r.x,r.y,r.x+e.width,r.y+e.height,r.x+e.width/2,r.y+e.height/2]}}return[e.x,e.y,e.x+e.width,e.y+e.height,e.x+e.width/2,e.y+e.height/2]},m=function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]},v=function(e){var t,n=f(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("path"===r.type)return r.ops}}catch(e){n.e(e)}finally{n.f()}return e.sets[0].ops},g=function(e,t,n,r,i){var o=1-e;return Math.pow(o,3)*t+3*Math.pow(o,2)*e*n+3*o*Math.pow(e,2)*r+Math.pow(e,3)*i},y=function(e,t,n,r){var i=t-e,o=n-t,a=3*i-6*o+3*(r-n),s=6*o-6*i,c=3*i,u=s*s-4*a*c;if(!(u>=0))return!1;var l=null,d=null,f=1/0,h=1/0;return 0===a?f=h=-c/s:(f=(-s+Math.sqrt(u))/(2*a),h=(-s-Math.sqrt(u))/(2*a)),f>=0&&f<=1&&(l=g(f,e,t,n,r)),h>=0&&h<=1&&(d=g(h,e,t,n,r)),[l,d]},b=function(e,t){var n=[0,0],o=e.reduce((function(e,o){var a=o.op,s=o.data;if("move"===a)n=s;else if("bcurveTo"===a){var c=[s[0],s[1]],u=[s[2],s[3]],l=[s[4],s[5]],d=t?t.apply(void 0,c):c,f=t?t.apply(void 0,u):u,h=t?t.apply(void 0,l):l,p=t?t.apply(void 0,(0,i.Z)(n)):n;n=l;var m=function(e,t,n,r){var o=y(e[0],t[0],n[0],r[0]),a=y(e[1],t[1],n[1],r[1]),s=Math.min(e[0],r[0]),c=Math.max(e[0],r[0]);if(o){var u=o.filter((function(e){return null!==e}));s=Math.min.apply(Math,[s].concat((0,i.Z)(u))),c=Math.max.apply(Math,[c].concat((0,i.Z)(u)))}var l=Math.min(e[1],r[1]),d=Math.max(e[1],r[1]);if(a){var f=a.filter((function(e){return null!==e}));l=Math.min.apply(Math,[l].concat((0,i.Z)(f))),d=Math.max.apply(Math,[d].concat((0,i.Z)(f)))}return[s,l,c,d]}(p,d,f,h),v=(0,r.Z)(m,4),g=v[0],b=v[1],w=v[2],x=v[3];e.minX=Math.min(e.minX,g),e.minY=Math.min(e.minY,b),e.maxX=Math.max(e.maxX,w),e.maxY=Math.max(e.maxY,x)}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[o.minX,o.minY,o.maxX,o.maxY]},w=function(e){var t,n=1/0,i=1/0,o=-1/0,a=-1/0,s=f(e);try{for(s.s();!(t=s.n()).done;){var c=(0,r.Z)(t.value,2),u=c[0],l=c[1];n=Math.min(n,u),i=Math.min(i,l),o=Math.max(o,u),a=Math.max(a,l)}}catch(e){s.e(e)}finally{s.f()}return[n,i,o,a]},x=function(e){var t=w(e.points),n=(0,r.Z)(t,4),i=n[0],o=n[1],a=n[2],s=n[3],c=i+e.x,u=o+e.y,l=a+e.x,d=s+e.y;return[c,u,l,d,(c+l)/2,(u+d)/2]},_=function(e,t,n,i){var a=v(t[0]);if(a.length<1)return null;var s="start"===n?1:a.length-1,c=a[s].data,u=[c[4],c[5]],l=[c[2],c[3]],d=[c[0],c[1]],f=a[s-1],h=[0,0];"move"===f.op?h=f.data:"bcurveTo"===f.op&&(h=[f.data[4],f.data[5]]);var p=function(e,t){return Math.pow(1-e,3)*u[t]+3*e*Math.pow(1-e,2)*l[t]+3*Math.pow(e,2)*(1-e)*d[t]+h[t]*Math.pow(e,3)},m="start"===n?h:u,g=(0,r.Z)(m,2),y=g[0],b=g[1],w=[p(.3,0),p(.3,1)],x=w[0],_=w[1],E=Math.hypot(y-x,b-_),k=(y-x)/E,C=(b-_)/E,S={arrow:30,bar:15,dot:15,triangle:15}[i],j=0;if("arrow"===i){var A=(0,r.Z)(e.points[e.points.length-1],2),T=A[0],I=A[1],O=e.points.length>1?e.points[e.points.length-2]:[0,0],D=(0,r.Z)(O,2),N=D[0],P=D[1];j=Math.hypot(T-N,I-P)}else for(var M=0;M<e.points.length;M++){var L=e.points[M-1]||[0,0],R=(0,r.Z)(L,2),Z=R[0],F=R[1],U=(0,r.Z)(e.points[M],2),z=U[0],B=U[1];j+=Math.hypot(z-Z,B-F)}var V=Math.min(S,j/2),W=y-k*V,H=b-C*V;if("dot"===i)return[y,b,Math.hypot(H-b,W-y)+e.strokeWidth];var q={arrow:20,bar:90,triangle:25}[i],G=(0,o.U1)(W,H,y,b,-q*Math.PI/180),Y=(0,r.Z)(G,2),K=Y[0],Q=Y[1],X=(0,o.U1)(W,H,y,b,q*Math.PI/180),$=(0,r.Z)(X,2);return[y,b,K,Q,$[0],$[1]]},E=function(e,t,n){var i;if(e.points.length<2){var c=(0,r.Z)(e.points[0],2),u=c[0],f=c[1],h=(0,o.U1)(e.x+u,e.y+f,t,n,e.angle),p=(0,r.Z)(h,2),m=p[0],g=p[1],y=[m,g,m,g],w=(0,l.WJ)(e);if(w){var x=d._.getMinMaxXYWithBoundText(e,[m,g,m,g],w);y=[x[0],x[1],x[2],x[3]]}return y}var _=null===(i=(0,s.R2)(e))||void 0===i?void 0:i[0],E=null!=_?_:function(e){var t=a.Z.generator(),n=(0,s.i)(e);return t[e.roundness?"curve":n.fill?"polygon":"linearPath"](e.points,n)}(e),k=v(E),C=b(k,(function(r,i){return(0,o.U1)(e.x+r,e.y+i,t,n,e.angle)})),S=[C[0],C[1],C[2],C[3]],j=(0,l.WJ)(e);if(j){var A=d._.getMinMaxXYWithBoundText(e,S,j);S=[A[0],A[1],A[2],A[3]]}return S},k=function(e){var t,n=p(e),i=(0,r.Z)(n,6),a=i[0],s=i[1],u=i[2],l=i[3],d=i[4],f=i[5];if((0,c.F9)(e)){var h=w(e.points.map((function(t){var n=(0,r.Z)(t,2),i=n[0],a=n[1];return(0,o.U1)(i,a,d-e.x,f-e.y,e.angle)}))),m=(0,r.Z)(h,4),v=m[0],g=m[1],y=m[2],b=m[3];return[v+e.x,g+e.y,y+e.x,b+e.y]}if((0,c.bt)(e))t=E(e,d,f);else if("diamond"===e.type){var x=(0,o.U1)(d,s,d,f,e.angle),_=(0,r.Z)(x,2),k=_[0],C=_[1],S=(0,o.U1)(d,l,d,f,e.angle),j=(0,r.Z)(S,2),A=j[0],T=j[1],I=(0,o.U1)(a,f,d,f,e.angle),O=(0,r.Z)(I,2),D=O[0],N=O[1],P=(0,o.U1)(u,f,d,f,e.angle),M=(0,r.Z)(P,2),L=M[0],R=M[1];t=[Math.min(k,A,D,L),Math.min(C,T,N,R),Math.max(k,A,D,L),Math.max(C,T,N,R)]}else if("ellipse"===e.type){var Z=(u-a)/2,F=(l-s)/2,U=Math.cos(e.angle),z=Math.sin(e.angle),B=Math.hypot(Z*U,F*z),V=Math.hypot(F*U,Z*z);t=[d-B,f-V,d+B,f+V]}else{var W=(0,o.U1)(a,s,d,f,e.angle),H=(0,r.Z)(W,2),q=H[0],G=H[1],Y=(0,o.U1)(a,l,d,f,e.angle),K=(0,r.Z)(Y,2),Q=K[0],X=K[1],$=(0,o.U1)(u,l,d,f,e.angle),J=(0,r.Z)($,2),ee=J[0],te=J[1],ne=(0,o.U1)(u,s,d,f,e.angle),re=(0,r.Z)(ne,2),ie=re[0],oe=re[1];t=[Math.min(q,Q,ee,ie),Math.min(G,X,te,oe),Math.max(q,Q,ee,ie),Math.max(G,X,te,oe)]}return t},C=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,i=1/0,o=-1/0;return e.forEach((function(e){var a=k(e),s=(0,r.Z)(a,4),c=s[0],u=s[1],l=s[2],d=s[3];t=Math.min(t,c),i=Math.min(i,u),n=Math.max(n,l),o=Math.max(o,d)})),[t,i,n,o]},S=function(e,t,n,i){if(!(0,c.bt)(e)&&!(0,c.F9)(e))return[e.x,e.y,e.x+t,e.y+n];var o,l=(0,u.z)(0,t,(0,u.z)(1,n,e.points,i),i);if((0,c.F9)(e))o=w(l);else{var d=a.Z.generator(),f=e.roundness?d.curve(l,(0,s.i)(e)):d.linearPath(l,(0,s.i)(e)),h=v(f);o=b(h)}var p=o,m=(0,r.Z)(p,4),g=m[0],y=m[1],x=m[2],_=m[3];return[g+e.x,y+e.y,x+e.x,_+e.y]},j=function(e,t){var n=a.Z.generator(),i=null==e.roundness?n.linearPath(t,(0,s.i)(e)):n.curve(t,(0,s.i)(e)),o=v(i),c=b(o),u=(0,r.Z)(c,4),l=u[0],d=u[1],f=u[2],h=u[3];return[l+e.x,d+e.y,f+e.x,h+e.y]},A=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,i=e[0];return e.forEach((function(e){var a=k(e),s=(0,r.Z)(a,4),c=s[0],u=s[1],l=s[2],d=s[3],f=(0,o.LW)((c+l)/2,(u+d)/2,t.x,t.y);f<n&&(n=f,i=e)})),k(i)},T=function(e){var t=C(e),n=(0,r.Z)(t,4),i=n[0],o=n[1],a=n[2],s=n[3];return{minX:i,minY:o,maxX:a,maxY:s,width:a-i,height:s-o,midX:(i+a)/2,midY:(o+s)/2}}},2325:function(e,t,n){"use strict";n.d(t,{uu:function(){return V},T_:function(){return ae},j_:function(){return se},oT:function(){return q},wX:function(){return Z},MZ:function(){return ce},wB:function(){return F},Qu:function(){return U},pX:function(){return B},fb:function(){return W}});var r=n(2577),i=function(e,t){return[0,0,0,0,t,e,1,0]},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error("Expected `index` between 0 and 7, got `".concat(t,"`"));return 0!==e&&(n[t]=e),n},a=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},s=function(e,t){return m(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},c=function(e,t){return m(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[u(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},u=function(e,t){return t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6]},l=function(e,t){return[d(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},d=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},f=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},h=function(e){var t=f(e);if(0===t||1===t)return e;var n=e[6]<0?-1:1;return c(e,n/t)},p=function(e){var t=function(e){return Math.sqrt(Math.abs(e[7]*e[7]-e[5]*e[5]-e[4]*e[4]+e[1]*e[1]))}(e);return 0===t||1===t?e:c(e,1/t)},m=function(e){return"number"==typeof e},v=(o(1,1),o(1,2),o(1,3),o(1,4),o(1,5),o(1,6),o(1,7),function(e,t,n){return h([0,n,e,t,0,0,0,0])}),g=function(e,t){return h(l(t,e))},y=function(e,t){return n=e,[(r=t)[0]*n[0]+r[2]*n[2]+r[3]*n[3]-r[6]*n[6],r[1]*n[0]+r[0]*n[1]-r[4]*n[2]+r[5]*n[3]+r[2]*n[4]-r[3]*n[5]-r[7]*n[6]-r[6]*n[7],r[2]*n[0]+r[0]*n[2]-r[6]*n[3]+r[3]*n[6],r[3]*n[0]+r[6]*n[2]+r[0]*n[3]-r[2]*n[6],r[4]*n[0]+r[7]*n[3]+r[0]*n[4]+r[3]*n[7],r[5]*n[0]+r[7]*n[2]+r[0]*n[5]+r[2]*n[7],r[6]*n[0]+r[0]*n[6],r[7]*n[0]+r[0]*n[7]];var n,r},b=function(e){var t=(0,r.Z)(e,2),n=t[0];return[0,0,0,0,t[1],n,1,0]},w=function(e){return[e[5],e[4]]},x=function(e,t){return h((n=e,[(r=t)[0]*n[0],r[1]*n[0]+r[0]*n[1],r[2]*n[0]+r[0]*n[2],r[3]*n[0]+r[0]*n[3],r[4]*n[0]+r[2]*n[1]-r[1]*n[2]+r[0]*n[4],r[5]*n[0]-r[3]*n[1]+r[1]*n[3]+r[0]*n[5],r[6]*n[0]+r[3]*n[2]-r[2]*n[3]+r[0]*n[6],r[7]*n[0]+r[6]*n[1]+r[5]*n[2]+r[4]*n[3]+r[3]*n[4]+r[2]*n[5]+r[1]*n[6]]));var n,r},_=function(e,t){return f(l(e,t))},E=function(e,t){return d(e,t)},k=function(e){return[0,0,0,0,e[4],e[5],0,0]},C=function(e,t){return n=c(e,Math.sin(t/2)),r=Math.cos(t/2),m(r)?[n[0]+r,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+r[0],n[1]+r[1],n[2]+r[2],n[3]+r[3],n[4]+r[4],n[5]+r[5],n[6]+r[6],n[7]+r[7]];var n,r},S=function(e,t){return h(c(c(e,t),a(e)))},j=n(6552),A=n(1493),T=n(8925),I=n(3063),O=n(1974),D=n(1047),N=n(6340),P=n(267),M=n(5710);function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function e(t,n,r,i){var o=10/n.zoom.value,a=[r,i];if(z(n,t)&&(0,P.oY)([t],n))return B(t,a,o);var s=(0,M.WJ)(t);return!(!s||!e(s,n,r,i))||U(t,n,a)},F=function(e,t,n,r){var i=10/t.zoom.value,o=(0,M.WJ)(e);return(!o||!Z(o,t,n,r))&&!U(e,t,[n,r])&&B(e,[n,r],i)},U=function(e,t,n){var r=10/t.zoom.value,i=(0,D.iB)(e)?G:function(e){if("arrow"===e.type)return!1;if("freedraw"===e.type)return!0;var t=!(0,N.Qm)(e.backgroundColor)||(0,O.Xo)(e);return"line"===e.type?t&&(0,j.g6)(e.points):t||(0,O.pC)(e)}(e)?Y:K;return H({element:e,point:n,threshold:r,check:i})},z=function(e,t){return e.selectedElementIds[t.id]},B=function(e,t,n){var i=(0,r.Z)(t,2),o=i[0],a=i[1],s=(0,T.qf)(e),c=(0,r.Z)(s,4),u=c[0],l=c[1],d=c[2],f=c[3],h=(u+d)/2,p=(l+f)/2,m=(0,j.U1)(o,a,h,p,-e.angle),v=(0,r.Z)(m,2),g=v[0],y=v[1];return g>u-n&&g<d+n&&y>l-n&&y<f+n},V=function(e,t){var n=t.x,r=t.y,i=W(e,e.width,e.height);return H({element:e,point:[n,r],threshold:i,check:Q})},W=function(e,t,n){var r=("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*r,32))},H=function(e){switch(e.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var t=q(e.element,e.point);return e.check(t,e.threshold);case"freedraw":return!!e.check(X(e.element,e.point),e.threshold)&&te(e.element,e.point,e.threshold);case"arrow":case"line":return ne(e);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},q=function(e,t){switch(e.type){case"rectangle":case"image":case"text":return X(e,t);case"diamond":return $(e,t);case"ellipse":return J(e,t)}},G=function(e,t){return e<0},Y=function(e,t){return e<t},K=function(e,t){return Math.abs(e)<t},Q=function(e,t){return 0<=e&&e<t},X=function(e,t){var n=re(e,t),i=(0,r.Z)(n,4),o=i[1],a=i[2],s=i[3];return Math.max(E(o,v(0,1,-s)),E(o,v(1,0,-a)))},$=function(e,t){var n=re(e,t),i=(0,r.Z)(n,4),o=i[1],a=i[2],s=i[3],c=v(s,a,-s*a);return E(o,c)},J=function(e,t){var n,i=ee(e,t),o=(0,r.Z)(i,2),a=o[0],s=o[1];return n=s,-Math.sign(n[1])*E(a,s)},ee=function(e,t){var n=re(e,t),o=(0,r.Z)(n,4),a=o[1],s=o[2],c=o[3],u=w(a),l=(0,r.Z)(u,2),d=l[0],f=l[1],h=.707,p=.707,m=s,v=c;[0,1,2,3].forEach((function(e){var t=m*h,n=v*p,r=(m*m-v*v)*Math.pow(h,3)/m,i=(v*v-m*m)*Math.pow(p,3)/v,o=t-r,a=n-i,s=d-r,c=f-i,u=Math.hypot(a,o),l=Math.hypot(c,s);h=Math.min(1,Math.max(0,(s*u/l+r)/m)),p=Math.min(1,Math.max(0,(c*u/l+i)/v));var g=Math.hypot(p,h);h/=g,p/=g}));var b,x=i(m*h,v*p);return[a,y(g(a,b=x),b)]},te=function(e,t,n){var i,o;if(0===e.angle)i=t[0]-e.x,o=t[1]-e.y;else{var a=(0,T.qf)(e),s=(0,r.Z)(a,4),c=s[0],u=s[1],l=s[2],d=s[3],f=(0,j.xj)(t,[c+(l-c)/2,u+(d-u)/2],-e.angle);i=f[0]-e.x,o=f[1]-e.y}var h,p=(0,r.Z)(e.points,2),m=p[0],v=p[1];if((0,j.LW)(m[0],m[1],i,o)<n||(0,j.LW)(v[0],v[1],i,o)<n)return!0;for(var g=0;g<e.points.length;g++){var y=[v[0]-m[0],v[1]-m[1]],b=Math.hypot(y[1],y[0]),w=[y[0]/b,y[1]/b],x=[i-m[0],o-m[1]],_=(x[0]*w[0]+x[1]*w[1])/Math.hypot(w[1],w[0]);h=[m[0]+w[0]*_,m[1]+w[1]*_];var E=(0,j.LW)(h[0],h[1],m[0],m[1]),k=(0,j.LW)(h[0],h[1],v[0],v[1]);if(h=k<E&&E>b?v:E<k&&k>b?m:h,Math.hypot(o-h[1],i-h[0])<n)return!0;m=v,v=e.points[g+1]}var C=(0,I.R2)(e);return!(!C||!C.sets.length)&&ye(C,i,o,n)},ne=function(e){var t=e.element,n=e.threshold;if(!(0,I.R2)(t))return!1;var i=re(e.element,e.point),o=(0,r.Z)(i,4),a=o[0],s=o[1],c=o[2],u=o[3],l=v(0,1,-u),d=v(1,0,-c);if(!Y(E(s,l),n)||!Y(E(s,d),n))return!1;var f=w(a),h=(0,r.Z)(f,2),p=h[0],m=h[1],g=(0,I.R2)(t);return!!g&&(!(e.check!==Y||!g.some((function(e){return ge(e,p,m,t.roundness?"round":"sharp")})))||g.some((function(e){return ye(e,p,m,n)})))},re=function(e,t){var n,i=b(t),o=(0,T.qf)(e),a=(0,r.Z)(o,4),c=a[0],u=a[1],l=a[2],d=a[3],f=(0,T.qf)(e),h=oe([c,u,l,d]),p=C(h,e.angle),m=S(p,i),v=function(e){return[0,0,0,0,Math.abs(e[4]),Math.abs(e[5]),1,0]}(s(m,k(h))),g=(n=e.x,[0,0,0,0,e.y,n,0,0]),y=s(m,g),w=(0,r.Z)(f,4),x=w[0],_=w[1];return[y,v,(w[2]-x)/2,(w[3]-_)/2]},ie=function(e){var t=(0,T.qf)(e),n=(0,r.Z)(t,4),i=n[0],o=n[1],s=n[2],u=n[3],l=oe([i,o,s,u]),d=C(l,e.angle),f=a(function(e){return[1,0,0,0,-.5*e[5],.5*e[4],0,0]}(k(l)));return c(f,d)},oe=function(e){var t=(0,r.Z)(e,4),n=t[0],o=t[1],a=t[2],s=t[3];return i((n+a)/2,(o+s)/2)},ae=function(e,t,n){var r=ie(e),i=S(r,b(t)),o=S(r,b(n)),a=g(i,o),s=e.height/e.width,c=e.width/2,u=e.height/2,l=a[2],d=a[3],f=a[1],h=Math.abs(d),p=Math.abs(l);switch(e.type){case"rectangle":case"image":case"text":return f/(c*(p+s*h));case"diamond":return h<p?f/(p*c):f/(h*u);case"ellipse":return f/(c*Math.sqrt(Math.pow(l,2)+Math.pow(s,2)*Math.pow(d,2)))}},se=function(e,t,n){if(0===t){var i=(0,T.qf)(e),o=(0,r.Z)(i,4),s=o[0],c=o[1],u=o[2],l=o[3],d=oe([s,c,u,l]);return w(d)}var f,h=ie(e),p=S(h,b(n)),m=a(h);switch(e.type){case"rectangle":case"image":case"text":case"diamond":f=ve(e,t,p);break;case"ellipse":f=me(e,t,p)}return w(S(m,f))},ce=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=ie(e),o=S(i,b(t)),s=S(i,b(n)),c=g(o,s),u=a(i);return ue(e,c,o,r).map((function(e){return w(S(u,e))}))},ue=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;switch(e.type){case"rectangle":case"image":case"text":case"diamond":var o=le(e);r=o.flatMap((function(e,n){var r=[e,o[(n+1)%4]];return de(t,fe(r,i))})).concat(o.flatMap((function(e){return pe(e,i,t)})));break;case"ellipse":r=he(e,i,t)}if(r.length<2)return[];var a=r.sort((function(e,t){return _(e,n)-_(t,n)}));return[a[0],a[a.length-1]]},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"image":case"text":return[i(n,r),i(n,-r),i(-n,-r),i(-n,r)];case"diamond":return[i(0,r),i(n,0),i(0,-r),i(-n,0)]}},de=function(e,t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];return E(i,e)*E(o,e)>=0?[]:[x(e,g(i,o))]},fe=function(e,t){var n=(0,r.Z)(e,2),i=n[0],o=n[1],a=function(e,t){var n=.5*t;return[1,0,0,0,n*e[4],n*e[5],0,0]}(function(e,t){return p([0,0,0,0,t[4]-e[4],t[5]-e[5],0,0])}(i,o),t);return[S(a,i),S(a,o)]},he=function(e,t,n){var r=e.width/2+t,o=e.height/2+t,a=n[2],s=n[3],c=n[1],u=r*r*a*a+o*o*s*s,l=u-c*c;if(0===u||l<=0)return[];var d=Math.sqrt(l),f=-r*r*a*c,h=-o*o*s*c;return[i((f+r*o*s*d)/u,(h-r*o*a*d)/u),i((f-r*o*s*d)/u,(h+r*o*a*d)/u)]},pe=function(e,t,n){if(0===t)return 0===E(n,e)?[e]:[];var o=n[2],a=n[3],s=n[1],c=w(e),u=(0,r.Z)(c,2),l=u[0],d=u[1],f=o*o+a*a,h=t*t*f-Math.pow(o*l+a*d+s,2);if(0===f||h<=0)return[];var p=Math.sqrt(h),m=l*a*a-d*o*a-o*s,v=d*o*o-l*o*a-a*s;return[i((m+a*p)/f,(v-o*p)/f),i((m-a*p)/f,(v+o*p)/f)]},me=function(e,t,n){var o=Math.abs(t),a=e.width*o/2,s=e.height*o/2,c=Math.sign(t),u=w(n),l=(0,r.Z)(u,2),d=l[0],f=l[1],h=0===f?1e-4:f,p=Math.pow(d,2)*Math.pow(s,2)+Math.pow(h,2)*Math.pow(a,2),m=(-d*Math.pow(s,2)+c*h*Math.sqrt(Math.max(0,p-Math.pow(a,2)*Math.pow(s,2))))/p,v=(-m*d-1)/h,g=-Math.pow(a,2)*m/(Math.pow(v,2)*Math.pow(s,2)+Math.pow(m,2)*Math.pow(a,2));return i(g,(-m*g-1)/v)},ve=function(e,t,n){var r=Math.abs(t),i=Math.sign(t),o=le(e,r),a=0,s=null;return o.forEach((function(e){var t=i*g(n,e)[1];t>a&&(a=t,s=e)})),s},ge=function(e,t,n,r){var i,o=[],a=!1,s=L((0,T.CM)(e));try{for(s.s();!(i=s.n()).done;){var c=i.value;"move"===c.op?(a=!a)&&o.push([c.data[0],c.data[1]]):"bcurveTo"===c.op?a&&(o.push([c.data[0],c.data[1]]),o.push([c.data[2],c.data[3]]),o.push([c.data[4],c.data[5]])):"lineTo"===c.op&&a&&o.push([c.data[0],c.data[1]])}}catch(e){s.e(e)}finally{s.f()}if(o.length>=4){if("sharp"===r)return(0,j.c9)(o,t,n);var u=(0,A.s)(o,10,5);return(0,j.c9)(u,t,n)}return!1},ye=function(e,t,n,i){var o=(0,T.CM)(e),a=[0,0];return o.some((function(o,s){var c=o.op,u=o.data;if("move"===c)a=u;else{if("bcurveTo"===c){var l=[u[0],u[1]],d=[u[2],u[3]],f=[u[4],u[5]],h=a;a=f;var p=function(e,t,n,i,o,a){for(var s=(0,r.Z)(o,2),c=s[0],u=s[1],l=function(r,o){return Math.pow(1-r,3)*i[o]+3*r*Math.pow(1-r,2)*n[o]+3*Math.pow(r,2)*(1-r)*t[o]+e[o]*Math.pow(r,3)},d=0;d<=1;){var f=l(d,0),h=l(d,1);if(Math.sqrt(Math.pow(f-c,2)+Math.pow(h-u,2))<a)return!0;d+=.01}return!1}(h,l,d,f,[t,n],i);return p}if("lineTo"===c)return ge(e,t,n,"sharp");"qcurveTo"===c&&console.warn("qcurveTo is not implemented yet")}return!1}))}},5637:function(e,t,n){"use strict";n.d(t,{PK:function(){return h},Xx:function(){return p},bp:function(){return v},oA:function(){return m}});var r=n(2577),i=n(7169),o=n(8950),a=n(2975),s=n.n(a),c=n(2335),u=n(5202),l=n(1974);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},p=function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,i,a,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileIds,r=t.files,i=t.imageCache,a=new Map,u=new Map,e.next=5,Promise.all(n.reduce((function(e,t){var n=r[t];return n&&!a.has(t)?(a.set(t,!0),e.concat((0,o.Z)(s().mark((function e(){var r,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.mimeType!==c.LO.binary){e.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=h(n.dataURL),o={image:r,mimeType:n.mimeType},i.set(t,o),e.next=8,r;case 8:a=e.sent,i.set(t,f(f({},o),{},{image:a})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),u.set(t,!0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))())):e}),[]));case 5:return e.abrupt("return",{imageCache:i,updatedFiles:a,erroredFiles:u});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return e.filter((function(e){return(0,l.wi)(e)}))},v=function(){var e=(0,o.Z)(s().mark((function e(t){var n,i,o,a,l,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new DOMParser).parseFromString(t,c.LO.svg),i=n.querySelector("svg"),!n.querySelector("parsererror")&&"svg"===(null==(s=i)?void 0:s.nodeName.toLowerCase())){e.next=7;break}throw new Error((0,u.t)("errors.invalidSVGString"));case 7:return i.hasAttribute("xmlns")||i.setAttribute("xmlns",c.hR),i.hasAttribute("width")&&i.hasAttribute("height")||(o=i.getAttribute("viewBox"),a=i.getAttribute("width")||"50",l=i.getAttribute("height")||"50",o&&(d=o.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(f=(0,r.Z)(d,3),a=f[1],l=f[2]),i.setAttribute("width",a),i.setAttribute("height",l)),e.abrupt("return",i.outerHTML);case 10:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()},1047:function(e,t,n){"use strict";n.d(t,{ox:function(){return h.ox},BQ:function(){return z},_M:function(){return B},EJ:function(){return I},o8:function(){return j},Sy:function(){return d.Sy},os:function(){return f.os},KP:function(){return f.KP},Un:function(){return _},$V:function(){return T},qf:function(){return f.qf},Pi:function(){return f.Pi},jt:function(){return b},o4:function(){return u},Lm:function(){return Z},Qp:function(){return l},T:function(){return E.T},xx:function(){return E.xx},Uo:function(){return L},n2:function(){return w},PC:function(){return h.PC},kK:function(){return h.kK},n_:function(){return R},wX:function(){return p.wX},r2:function(){return o.r2},wB:function(){return p.wB},QD:function(){return s},qP:function(){return F},iB:function(){return o.iB},Up:function(){return d.Up},vw:function(){return d.vw},y8:function(){return d.y8},VL:function(){return d.VL},oN:function(){return C.oN},JZ:function(){return d.JZ},RT:function(){return N},b_:function(){return O.b_},vY:function(){return E.vY},N_:function(){return d.N_}});var r=n(7169),i=n(1935),o=n(1974),a=n(2335),s=function(e){return(0,o.bt)(e)||(0,o.F9)(e)?e.points.length<2:0===e.width&&0===e.height},c=function(e,t,n){var r=Math.abs(t),i=Math.abs(n);if("line"===e||"arrow"===e||"freedraw"===e){var o=Math.round(Math.atan(i/r)/a.ay)*a.ay;0===o?n=0:o===Math.PI/2?t=0:n=r*Math.tan(o)*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},u=function(e,t,n,r){var i=n-e,o=r-t,s=Math.round(Math.atan(o/i)/a.ay)*a.ay;if(0===s)o=0;else if(s===Math.PI/2)i=0;else{var c=Math.tan(s),u=t-c*e,l=-1/c,d=r-l*n;i=(-1*d- -1*u)/(-1*c- -1*l)-e,o=(u*l-d*c)/(-1*c- -1*l)-t}return{width:i,height:o}},l=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t},d=n(2791),f=n(8925),h=n(267),p=n(2325),m=n(2577),v=n(2726),g=["rotation"],y=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},b=function(e,t,n,r,i,o){return e.reduce((function(e,a){if(e)return e;var s=function(e,t,n,r,i,o){if(!t.selectedElementIds[e.id])return!1;var a=(0,h.PC)(e,i,o),s=a.rotation,c=(0,v.Z)(a,g);if(s&&y(s,n,r))return"rotation";var u=Object.keys(c).filter((function(e){var t=c[e];return!!t&&y(t,n,r)}));return u.length>0&&u[0]}(a,t,n,r,i,o);return s?{element:a,transformHandleType:s}:null}),null)},w=function(e,t,n,r,i){var o=(0,m.Z)(e,4),a=o[0],s=o[1],c=o[2],u=o[3],l=(0,h.kK)([a,s,c,u,(a+c)/2,(s+u)/2],0,r,i,h.ox);return Object.keys(l).find((function(e){var r=l[e];return r&&y(r,t,n)}))||!1},x=["ns","nesw","ew","nwse"],_=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)==-1,i=null;switch(n){case"n":case"s":i="ns";break;case"w":case"e":i="ew";break;case"nw":case"se":i=r?"nesw":"nwse";break;case"ne":case"sw":i=r?"nwse":"nesw";break;case"rotation":return"grab"}return i&&t&&(i=function(e,t){var n=x.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=x[(n+r)%x.length]}return e}(i,t.angle)),i?"".concat(i,"-resize"):""},E=n(8634),k=n(8290),C=n(5710),S=n(242),j=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7?arguments[7]:void 0,c=(0,f.KP)(t),u=(0,m.Z)(c,2),l={x:n-u[0],y:r-u[1]};t.forEach((function(n){if(A(i,o,a,e,n,l),!n.groupIds.length||s.editingGroupId&&!(0,S.zq)(s,n)){var r=(0,C.WJ)(n);r&&A(i,o,a,e,r,l)}(0,k.Ww)(n,{simultaneouslyUpdated:t})}))},A=function(e,t,n,r,o,a){var s,c;if(e){var u=e&&t<n,l=e&&t>n,d=r.originalElements.get(o.id);s=u&&d?d.x:o.x+a.x,c=l&&d?d.y:o.y+a.y}else s=o.x+a.x,c=o.y+a.y;(0,i.DR)(o,{x:s,y:c})},T=function(e,t,n){var r=(0,f.KP)(e),i=(0,m.Z)(r,2);return[t-i[0],n-i[1]]},I=function(e,t,n,r,o,a,s,u,l,d,f){if(l&&"selection"!==e.type)if(f)u=s/f;else{if(Math.abs(a-r)>Math.abs(o-n)){var h=c(t,u,o<n?-s:s);s=h.width,u=h.height}else{var p=c(t,s,a<r?-u:u);s=p.width,u=p.height}u<0&&(u=-u)}var m=o<n?n-s:n,v=a<r?r-u:r;d&&(m=n-(s+=s)/2,v=r-(u+=u)/2),0!==s&&0!==u&&(0,i.DR)(e,{x:m,y:v,width:s,height:u})},O=n(6906),D=n(75),N=function(e,t){return Boolean(!e.viewModeEnabled&&"custom"!==e.activeTool.type&&(e.editingElement||"selection"!==e.activeTool.type&&"eraser"!==e.activeTool.type)||(0,D.eD)(t,e).length)};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){return e.reduce((function(e,t){return e+t.version}),0)},R=function(e){return e.filter((function(e){return!e.isDeleted&&!s(e)}))},Z=function(e){return e.filter((function(e){return!e.isDeleted}))},F=function(e){return!e.isDeleted},U=function(e){return Z(e).map((function(e){return(0,o.dt)(e.type)?M(M({},e),{},{lastCommittedPoint:null}):e}))},z=function(e){return U(e)},B=function(e){return U(e)}},6938:function(e,t,n){"use strict";n.d(t,{_:function(){return C}});var r=n(1930),i=n(7169),o=n(2577),a=n(8821),s=n(5169),c=n(6552),u=n(1047),l=n(8925),d=n(1935),f=n(1564),h=n(8290),p=n(6340),m=n(1974),v=n(6066),g=n(5710),y=n(3063),b=n(2335);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={version:null,points:[],zoom:null},C=function(){function e(t,n){(0,a.Z)(this,e),this.elementId=t.id,f.Z.mapElementToScene(this.elementId,n),e.normalizePoints(t),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,s.Z)(e,null,[{key:"getElement",value:function(e){var t;return(null===(t=f.Z.getScene(e))||void 0===t?void 0:t.getNonDeletedElement(e))||null}},{key:"handleBoxSelection",value:function(t,n,r){var i;if(!n.editingLinearElement||"selection"!==(null===(i=n.draggingElement)||void 0===i?void 0:i.type))return!1;var a=n.editingLinearElement,s=a.selectedPointsIndices,c=a.elementId,l=e.getElement(c);if(!l)return!1;var d=(0,u.qf)(n.draggingElement),f=(0,o.Z)(d,4),h=f[0],p=f[1],m=f[2],v=f[3],g=e.getPointsGlobalCoordinates(l).reduce((function(e,n,r){return(n[0]>=h&&n[0]<=m&&n[1]>=p&&n[1]<=v||t.shiftKey&&null!=s&&s.includes(r))&&e.push(r),e}),[]);r({editingLinearElement:E(E({},a),{},{selectedPointsIndices:g.length?g:null})})}},{key:"handlePointDragging",value:function(t,n,r,i,a,s){if(!s)return!1;var c=s.selectedPointsIndices,u=s.elementId,l=e.getElement(u);if(!l)return!1;var d=l.points[s.pointerDownState.lastClickedPoint];if(c&&d){if((0,v.Ge)(t)&&1===c.length&&l.points.length>1){var f=c[0],h=l.points[0===f?1:f-1],y=e._getShiftLockedDelta(l,h,[r,i],n.gridSize),b=(0,o.Z)(y,2),w=b[0],x=b[1];e.movePoints(l,[{index:f,point:[w+h[0],x+h[1]],isDragging:f===s.pointerDownState.lastClickedPoint}])}else{var _=e.createPointAt(l,r-s.pointerOffset.x,i-s.pointerOffset.y,n.gridSize),E=_[0]-d[0],k=_[1]-d[1];e.movePoints(l,c.map((function(t){return{index:t,point:t===s.pointerDownState.lastClickedPoint?e.createPointAt(l,r-s.pointerOffset.x,i-s.pointerOffset.y,n.gridSize):[l.points[t][0]+E,l.points[t][1]+k],isDragging:t===s.pointerDownState.lastClickedPoint}}))),(0,g.WJ)(l)&&(0,g.RB)(l,!1)}if((0,m.Mn)(l,!1)){var C=[];0===c[0]&&C.push((0,p.AK)(e.getPointGlobalCoordinates(l,l.points[0])));var S=c[c.length-1];S===l.points.length-1&&C.push((0,p.AK)(e.getPointGlobalCoordinates(l,l.points[S]))),C.length&&a(l,C)}return!0}return!1}},{key:"handlePointerUp",value:function(t,n,r){var i,o=n.elementId,a=n.selectedPointsIndices,s=n.isDragging,u=n.pointerDownState,l=e.getElement(o);if(!l)return n;var d={};if(s&&a){var m,v=w(a);try{for(v.s();!(m=v.n()).done;){var g=m.value;if(0===g||g===l.points.length-1){(0,c.g6)(l.points,r.zoom.value)&&e.movePoints(l,[{index:g,point:0===g?l.points[l.points.length-1]:l.points[0]}]);var y=(0,h.N1)(r)?(0,h.Y9)((0,p.AK)(e.getPointAtIndexGlobalCoordinates(l,g)),f.Z.getScene(l)):null;d[0===g?"startBindingElement":"endBindingElement"]=y}}}catch(e){v.e(e)}finally{v.f()}}return E(E(E({},n),d),{},{selectedPointsIndices:s||t.shiftKey?!s&&t.shiftKey&&null!==(i=u.prevSelectedPointsIndices)&&void 0!==i&&i.includes(u.lastClickedPoint)?a&&a.filter((function(e){return e!==u.lastClickedPoint})):a:null!=a&&a.includes(u.lastClickedPoint)?[u.lastClickedPoint]:a,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(t,n,r,i){var o=(0,c.LW)(n[0],n[1],r[0],r[1]);return t.points.length>2&&t.roundness&&(o=(0,c.eH)(t,r)),o*i.value<4*e.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(t,n,r,i){var a=(0,c.H5)(n,r);if(t.points.length>2&&t.roundness){var s=(0,c.yB)(t,t.points[i]);if(s){var u=(0,c.lk)(t,t.points[i],.5),l=(0,c.N_)(s[0],s[1],s[2],s[3],u),d=(0,o.Z)(l,2),f=d[0],h=d[1];a=e.getPointGlobalCoordinates(t,[f,h])}}return a}},{key:"getSegmentMidPointIndex",value:function(t,n,r){var i=e.getElement(t.elementId);if(!i)return-1;for(var o=e.getEditorMidPoints(i,n),a=0;a<o.length;){if(e.arePointsEqual(r,o[a]))return a+1;a++}return-1}},{key:"handlePointerDown",value:function(t,n,i,a,s){var l,p={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!s)return p;var v=s.elementId,g=e.getElement(v);if(!g)return p;var y=e.getSegmentMidpointHitCoords(s,a,n),b=null;if(y&&(b=e.getSegmentMidPointIndex(s,n,y)),t.altKey&&n.editingLinearElement)return null==s.lastUncommittedPoint&&((0,d.DR)(g,{points:[].concat((0,r.Z)(g.points),[e.createPointAt(g,a.x,a.y,n.gridSize)])}),p.didAddPoint=!0),i.resumeRecording(),p.linearElementEditor=E(E({},s),{},{pointerDownState:{prevSelectedPointsIndices:s.selectedPointsIndices,lastClickedPoint:-1,origin:{x:a.x,y:a.y},segmentMidpoint:{value:y,index:b,added:!1}},selectedPointsIndices:[g.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,h.Y9)(a,f.Z.getScene(g))}),p.didAddPoint=!0,p;var w=e.getPointIndexUnderCursor(g,n.zoom,a.x,a.y);if(w>=0||y)p.hitElement=g;else{var x=s.startBindingElement,_=s.endBindingElement;(0,h.N1)(n)&&(0,m.Mn)(g)&&(0,h.HG)(g,x,_)}var k=(0,u.qf)(g),C=(0,o.Z)(k,4),j=C[0],A=C[1],T=(j+C[2])/2,I=(A+C[3])/2,O=w>-1&&(0,c.U1)(g.x+g.points[w][0],g.y+g.points[w][1],T,I,g.angle),D=w>-1||t.shiftKey?t.shiftKey||null!==(l=s.selectedPointsIndices)&&void 0!==l&&l.includes(w)?S([].concat((0,r.Z)(s.selectedPointsIndices||[]),[w])):[w]:null;return p.linearElementEditor=E(E({},s),{},{pointerDownState:{prevSelectedPointsIndices:s.selectedPointsIndices,lastClickedPoint:w,origin:{x:a.x,y:a.y},segmentMidpoint:{value:y,index:b,added:!1}},selectedPointsIndices:D,pointerOffset:O?{x:a.x-O[0],y:a.y-O[1]}:{x:0,y:0}}),p}},{key:"arePointsEqual",value:function(e,t){return!e&&!t||!(!e||!t)&&(0,c.Jj)(e,t)}},{key:"handlePointerMove",value:function(t,n,r,i){if(!i.editingLinearElement)return null;var a=i.editingLinearElement,s=a.elementId,c=a.lastUncommittedPoint,u=e.getElement(s);if(!u)return i.editingLinearElement;var l,d=u.points,f=d[d.length-1];if(!t.altKey)return f===c&&e.deletePoints(u,[d.length-1]),E(E({},i.editingLinearElement),{},{lastUncommittedPoint:null});if((0,v.Ge)(t)&&d.length>=2){var h=d[d.length-2],p=e._getShiftLockedDelta(u,h,[n,r],i.gridSize),m=(0,o.Z)(p,2),g=m[0],y=m[1];l=[g+h[0],y+h[1]]}else l=e.createPointAt(u,n-i.editingLinearElement.pointerOffset.x,r-i.editingLinearElement.pointerOffset.y,i.gridSize);return f===c?e.movePoints(u,[{index:u.points.length-1,point:l}]):e.addPoints(u,i,[{point:l}]),E(E({},i.editingLinearElement),{},{lastUncommittedPoint:u.points[u.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(e,t){var n=(0,u.qf)(e),r=(0,o.Z)(n,4),i=r[0],a=r[1],s=(i+r[2])/2,l=(a+r[3])/2,d=e.x,f=e.y,h=(0,c.U1)(d+t[0],f+t[1],s,l,e.angle),p=(0,o.Z)(h,2);return[d=p[0],f=p[1]]}},{key:"getPointsGlobalCoordinates",value:function(e){var t=(0,u.qf)(e),n=(0,o.Z)(t,4),r=n[0],i=n[1],a=n[2],s=n[3],l=(r+a)/2,d=(i+s)/2;return e.points.map((function(t){var n=e.x,r=e.y,i=(0,c.U1)(n+t[0],r+t[1],l,d,e.angle),a=(0,o.Z)(i,2);return[n=a[0],r=a[1]]}))}},{key:"getPointAtIndexGlobalCoordinates",value:function(e,t){var n=t<0?e.points.length+t:t,r=(0,u.qf)(e),i=(0,o.Z)(r,4),a=i[0],s=i[1],l=(a+i[2])/2,d=(s+i[3])/2,f=e.points[n],h=e.x,p=e.y;return f?(0,c.U1)(h+f[0],p+f[1],l,d,e.angle):(0,c.U1)(h,p,l,d,e.angle)}},{key:"pointFromAbsoluteCoords",value:function(e,t){var n=(0,u.qf)(e),r=(0,o.Z)(n,4),i=r[0],a=r[1],s=(i+r[2])/2,l=(a+r[3])/2,d=(0,c.U1)(t[0],t[1],s,l,-e.angle),f=(0,o.Z)(d,2),h=f[0],p=f[1];return[h-e.x,p-e.y]}},{key:"getPointIndexUnderCursor",value:function(t,n,r,i){for(var o=e.getPointsGlobalCoordinates(t),a=o.length;--a>-1;){var s=o[a];if((0,c.LW)(r,i,s[0],s[1])*n.value<e.POINT_HANDLE_SIZE+1)return a}return-1}},{key:"createPointAt",value:function(e,t,n,r){var i=(0,c.wC)(t,n,r),a=(0,u.qf)(e),s=(0,o.Z)(a,4),l=s[0],d=s[1],f=(l+s[2])/2,h=(d+s[3])/2,p=(0,c.U1)(i[0],i[1],f,h,-e.angle),m=(0,o.Z)(p,2),v=m[0],g=m[1];return[v-e.x,g-e.y]}},{key:"getNormalizedPoints",value:function(e){var t=e.points,n=t[0][0],r=t[0][1];return{points:t.map((function(e,t){return[e[0]-n,e[1]-r]})),x:e.x+n,y:e.y+r}}},{key:"normalizePoints",value:function(t){(0,d.DR)(t,e.getNormalizedPoints(t))}},{key:"duplicateSelectedPoints",value:function(t){if(!t.editingLinearElement)return!1;var n=t.editingLinearElement,r=n.selectedPointsIndices,i=n.elementId,o=e.getElement(i);if(!o||null===r)return!1;var a=o.points,s=[],c=!1,u=-1,l=a.reduce((function(e,t,n){if(++u,e.push(t),r.includes(n)){var i=a[n+1];i||(c=!0),e.push(i?[(t[0]+i[0])/2,(t[1]+i[1])/2]:[t[0],t[1]]),s.push(u+1),++u}return e}),[]);if((0,d.DR)(o,{points:l}),c){var f=o.points[o.points.length-1];e.movePoints(o,[{index:o.points.length-1,point:[f[0]+30,f[1]+30]}])}return{appState:E(E({},t),{},{editingLinearElement:E(E({},t.editingLinearElement),{},{selectedPointsIndices:s})})}}},{key:"deletePoints",value:function(t,n){var r=0,i=0;if(n.includes(0)){var o=t.points.find((function(e,t){return!n.includes(t)}));o&&(r=o[0],i=o[1])}var a=t.points.reduce((function(e,t,o){return n.includes(o)||e.push(e.length?[t[0]-r,t[1]-i]:[0,0]),e}),[]);e._updatePoints(t,a,r,i)}},{key:"addPoints",value:function(t,n,i){var o=[].concat((0,r.Z)(t.points),(0,r.Z)(i.map((function(e){return e.point}))));e._updatePoints(t,o,0,0)}},{key:"movePoints",value:function(t,n,r){var i=t.points,o=0,a=0,s=n.find((function(e){return 0===e.index}));s&&(o=s.point[0]+i[s.index][0],a=s.point[1]+i[s.index][1]);var c=i.map((function(e,t){var r=n.find((function(e){return e.index===t}));if(r){if(s)return e;var c=r.point[0]-i[r.index][0],u=r.point[1]-i[r.index][1];return[e[0]+c,e[1]+u]}return o||a?[e[0]-o,e[1]-a]:e}));e._updatePoints(t,c,o,a,r)}},{key:"shouldAddMidpoint",value:function(t,n,r){if(!e.getElement(t.elementId))return!1;var i=t.pointerDownState.segmentMidpoint;if(i.added||null===i.value||null===i.index||null===t.pointerDownState.origin)return!1;var o=t.pointerDownState.origin,a=(0,c.LW)(o.x,o.y,n.x,n.y);return!(!r.editingLinearElement&&a<b.f/r.zoom.value)}},{key:"addMidpoint",value:function(t,n,i){var o=e.getElement(t.elementId);if(o){var a=t.pointerDownState.segmentMidpoint,s={pointerDownState:t.pointerDownState,selectedPointsIndices:t.selectedPointsIndices},c=e.createPointAt(o,n.x,n.y,i.gridSize),u=[].concat((0,r.Z)(o.points.slice(0,a.index)),[c],(0,r.Z)(o.points.slice(a.index)));return(0,d.DR)(o,{points:u}),s.pointerDownState=E(E({},t.pointerDownState),{},{segmentMidpoint:E(E({},t.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:a.index}),s.selectedPointsIndices=[a.index],s}}},{key:"_updatePoints",value:function(e,t,n,r,i){var o=(0,l.Ut)(e,t),a=(0,l.Ut)(e,e.points),s=(o[0]+o[2])/2,u=(o[1]+o[3])/2,f=(a[0]+a[2])/2-s,h=(a[1]+a[3])/2-u,p=(0,c.U1)(n,r,f,h,e.angle);(0,d.DR)(e,E(E({},i),{},{points:t,x:e.x+p[0],y:e.y+p[1]}))}},{key:"_getShiftLockedDelta",value:function(t,n,r,i){var a=e.getPointGlobalCoordinates(t,n),s=(0,c.wC)(r[0],r[1],i),l=(0,o.Z)(s,2),d=l[0],f=l[1],h=(0,u.o4)(a[0],a[1],d,f),p=h.width,m=h.height;return(0,c.xj)([p,m],[0,0],-t.angle)}}]),e}();C.POINT_HANDLE_SIZE=10,C.getEditorMidPoints=function(e,t){var n=(0,g.WJ)(e);return!t.editingLinearElement&&e.points.length>2&&!n?[]:(k.version===e.version&&k.zoom===t.zoom.value||C.updateEditorMidPointsCache(e,t),k.points)},C.updateEditorMidPointsCache=function(e,t){for(var n=C.getPointsGlobalCoordinates(e),r=0,i=[];r<n.length-1;)if(C.isSegmentTooShort(e,e.points[r],e.points[r+1],t.zoom))i.push(null),r++;else{var o=C.getSegmentMidPoint(e,n[r],n[r+1],r+1);i.push(o),r++}k.points=i,k.version=e.version,k.zoom=t.zoom.value},C.getSegmentMidpointHitCoords=function(e,t,n){var r=e.elementId,i=C.getElement(r);if(!i)return null;if(C.getPointIndexUnderCursor(i,n.zoom,t.x,t.y)>=0)return null;if(C.getPointsGlobalCoordinates(i).length>=3&&!n.editingLinearElement)return null;var o=C.POINT_HANDLE_SIZE/n.zoom.value,a=e.segmentMidPointHoveredCoords;if(a&&(0,c.LW)(a[0],a[1],t.x,t.y)<=o)return a;for(var s=0,u=C.getEditorMidPoints(i,n);s<u.length;){if(null!==u[s]&&(0,c.LW)(u[s][0],u[s][1],t.x,t.y)<=o)return u[s];s++}return null},C.getBoundTextElementPosition=function(e,t){var n=C.getPointsGlobalCoordinates(e);n.length<2&&(0,d.DR)(t,{isDeleted:!0});var r=0,i=0;if(e.points.length%2==1){var o=Math.floor(e.points.length/2),a=C.getPointGlobalCoordinates(e,e.points[o]);r=a[0]-t.width/2,i=a[1]-t.height/2}else{var s=e.points.length/2-1,u=k.points[s];2===e.points.length&&(u=(0,c.H5)(n[0],n[1])),u&&k.version===e.version||(u=C.getSegmentMidPoint(e,n[s],n[s+1],s+1)),r=u[0]-t.width/2,i=u[1]-t.height/2}return{x:r,y:i}},C.getMinMaxXYWithBoundText=function(e,t,n){var r=(0,o.Z)(t,4),i=r[0],a=r[1],s=r[2],u=r[3],l=(i+s)/2,d=(a+u)/2,f=C.getBoundTextElementPosition(e,n),h=f.x,p=f.y,m=h+n.width,v=p+n.height,g=(0,c.xj)([i,a],[l,d],e.angle),y=(0,c.xj)([s,a],[l,d],e.angle),b=(0,c.xj)([h,p],[l,d],-e.angle),w=(0,c.xj)([m,p],[l,d],-e.angle),x=(0,c.xj)([h,v],[l,d],-e.angle),_=(0,c.xj)([m,v],[l,d],-e.angle);return g[0]<y[0]&&g[1]>=y[1]?(i=Math.min(i,x[0]),s=Math.max(s,Math.max(w[0],_[0])),a=Math.min(a,b[1]),u=Math.max(u,_[1])):g[0]>=y[0]&&g[1]>y[1]?(i=Math.min(i,_[0]),s=Math.max(s,Math.max(b[0],w[0])),a=Math.min(a,x[1]),u=Math.max(u,w[1])):g[0]>=y[0]?(i=Math.min(i,w[0]),s=Math.max(s,x[0]),a=Math.min(a,_[1]),u=Math.max(u,b[1])):g[1]<=y[1]&&(i=Math.min(i,Math.min(w[0],b[0])),s=Math.max(s,_[0]),a=Math.min(a,w[1]),u=Math.max(u,x[1])),[i,a,s,u,l,d]},C.getElementAbsoluteCoords=function(e){var t,n,r,i,a,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.points.length<2||!(0,y.R2)(e)){var c=e.points.reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];return e.minY=Math.min(e.minY,i),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,i),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),u=c.minX,d=c.minY,f=c.maxX,h=c.maxY;n=u+e.x,r=d+e.y,i=f+e.x,a=h+e.y}else{var p=(0,y.R2)(e),m=(0,l.CM)(p[0]),v=(0,l.IX)(m),b=(0,o.Z)(v,4),w=b[0],x=b[1],_=b[2],E=b[3];n=w+e.x,r=x+e.y,i=_+e.x,a=E+e.y}if(t=[n,r,i,a,(n+i)/2,(r+a)/2],!s)return t;var k=(0,g.WJ)(e);return k&&(t=C.getMinMaxXYWithBoundText(e,[n,r,i,a],k)),t};var S=function(e){var t=(0,r.Z)(new Set(e.filter((function(e){return null!==e&&-1!==e}))));return(t=t.sort((function(e,t){return e-t}))).length?t:null}},1935:function(e,t,n){"use strict";n.d(t,{BE:function(){return h},DR:function(){return f},ZP:function(){return p}});var r=n(6655),i=n(7169),o=n(3063),a=n(1564),s=n(5001),c=n(6954),u=n(6340);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=!1,f=t,h=f.points,p=f.fileId;for(var m in void 0!==h&&(t=d(d({},(0,s.k)(h)),t)),t){var v=t[m];if(void 0!==v){if(e[m]===v&&("object"!==(0,r.Z)(v)||null===v||"groupIds"===m||"scale"===m))continue;if("scale"===m){var g=e[m],y=v;if(g[0]===y[0]&&g[1]===y[1])continue}else if("points"===m){var b=e[m],w=v;if(b.length===w.length){for(var x=!1,_=b.length;--_;){var E=b[_],k=w[_];if(E[0]!==k[0]||E[1]!==k[1]){x=!0;break}}if(!x)continue}}e[m]=v,l=!0}}return l?(void 0===t.height&&void 0===t.width&&void 0===p&&void 0===h||(0,o.bI)(e),e.version++,e.versionNonce=(0,c.LU)(),e.updated=(0,u.C3)(),i&&(null===(n=a.Z.getScene(e))||void 0===n||n.informMutation()),e):e},h=function(e,t){var n=!1;for(var i in t){var o=t[i];if(void 0!==o){if(e[i]===o&&("object"!==(0,r.Z)(o)||null===o))continue;n=!0}}return n?d(d(d({},e),t),{},{updated:(0,u.C3)(),version:e.version+1,versionNonce:(0,c.LU)()}):e},p=function(e,t){return e.version=(null!=t?t:e.version)+1,e.versionNonce=(0,c.LU)(),e.updated=(0,u.C3)(),e}},2791:function(e,t,n){"use strict";n.d(t,{JZ:function(){return C},KE:function(){return T},N2:function(){return j},N_:function(){return A},OL:function(){return D},Sy:function(){return N},Up:function(){return x},VL:function(){return E},jd:function(){return S},vw:function(){return O},y8:function(){return I}});var r=n(6655),i=n(2577),o=n(7169),a=n(2726),s=n(6340),c=n(6954),u=n(1935),l=n(242),d=n(1047),f=n(6552),h=n(8925),p=n(5710),m=n(2335),v=n(1974),g=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","roundness","boundElements","link","locked"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e,t){var n,r,i=t.x,o=t.y,u=t.strokeColor,l=t.backgroundColor,d=t.fillStyle,f=t.strokeWidth,h=t.strokeStyle,p=t.roughness,m=t.opacity,v=t.width,y=void 0===v?0:v,b=t.height,w=void 0===b?0:b,x=t.angle,_=void 0===x?0:x,E=t.groupIds,k=void 0===E?[]:E,C=t.roundness,S=void 0===C?null:C,j=t.boundElements,A=void 0===j?null:j,T=t.link,I=void 0===T?null:T,O=t.locked,D=(0,a.Z)(t,g);return{id:D.id||(0,c.kb)(),type:e,x:i,y:o,width:y,height:w,angle:_,strokeColor:u,backgroundColor:l,fillStyle:d,strokeWidth:f,strokeStyle:h,roughness:p,opacity:m,groupIds:k,roundness:S,seed:null!==(n=D.seed)&&void 0!==n?n:(0,c.LU)(),version:D.version||1,versionNonce:null!==(r=D.versionNonce)&&void 0!==r?r:0,isDeleted:!1,boundElements:A,updated:(0,s.C3)(),link:I,locked:O}},x=function(e){return w(e.type,e)},_=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}},E=function(e){var t=(0,p.bG)(e.text),n=(0,p.X1)(t,(0,s.mO)(e)),r=_(e,n);return(0,u.BE)(b(b({},w("text",e)),{},{text:t,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-r.x,y:e.y-r.y,width:n.width,height:n.height,baseline:n.baseline,containerId:e.containerId||null,originalText:t}),{})},k=function(e,t){var n=null,r=(0,p.tl)(e);r&&(n=S(r));var o,a,c=(0,p.X1)(t,(0,s.mO)(e),n),l=c.width,g=c.height,y=c.baseline,b=e.textAlign,w=e.verticalAlign;if("center"!==b||w!==m.oX.MIDDLE||e.containerId){var x=(0,d.qf)(e),E=(0,i.Z)(x,4),k=E[0],C=E[1],j=E[2],A=E[3],T=(0,h.wC)(e,l,g,!1),I=(0,i.Z)(T,4),O=(k-I[0])/2,D=(C-I[1])/2,N=(j-I[2])/2,P=(A-I[3])/2,M=(0,f.yq)({s:!0,e:"center"===b||"left"===b,w:"center"===b||"right"===b},e.x,e.y,e.angle,O,D,N,P),L=(0,i.Z)(M,2);o=L[0],a=L[1]}else{var R=(0,p.X1)(e.text,(0,s.mO)(e),n),Z=_(e,{width:l-R.width,height:g-R.height});o=e.x-Z.x,a=e.y-Z.y}if(r){var F=(0,p.S)(e),U=(0,p.HE)(r),z=U.height,B=U.width;g>z-2*F&&(z=g+2*F),l>B-2*F&&(B=l+2*F),(0,v.Yv)(r)||z===U.height&&B===U.width||(0,u.DR)(r,{height:z,width:B})}return{width:l,height:g,x:Number.isFinite(o)?o:e.x,y:Number.isFinite(a)?a:e.y,baseline:y}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.text,n=(0,p.tl)(e);return n&&(t=(0,p.lD)(t,(0,s.mO)(e),S(n))),b({text:t},k(e,t))},S=function(e){var t=(0,p.HE)(e).width;if((0,v.Yv)(e)){var n=t-8*m.gK*2;if(n<=0){var r=(0,p.WJ)(e);return r?r.width:8*m.gK*2}return n}return t-2*m.gK},j=function(e){var t=(0,p.HE)(e).height;if((0,v.Yv)(e)){if(t-8*m.gK*2<=0){var n=(0,p.WJ)(e);return n?n.height:8*m.gK*2}return t}return t-2*m.gK},A=function(e,t){t.text;var n=t.isDeleted,r=t.originalText;return(0,u.BE)(e,b({originalText:r,isDeleted:null!=n?n:e.isDeleted},C(e,r)))},T=function(e){return b(b({},w(e.type,e)),{},{points:e.points||[],pressures:[],simulatePressure:e.simulatePressure,lastCommittedPoint:null})},I=function(e){return b(b({},w(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},O=function(e){var t,n,r;return b(b({},w("image",e)),{},{strokeColor:"transparent",status:null!==(t=e.status)&&void 0!==t?t:"pending",fileId:null!==(n=e.fileId)&&void 0!==n?n:null,scale:null!==(r=e.scale)&&void 0!==r?r:[1,1]})},D=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==t||"object"!==(0,r.Z)(t))return t;if("[object Object]"===Object.prototype.toString.call(t)){var i="function"==typeof t.constructor?Object.create(Object.getPrototypeOf(t)):{};for(var o in t)if(t.hasOwnProperty(o)){if(0===n&&("shape"===o||"canvas"===o))continue;i[o]=e(t[o],n+1)}return i}if(Array.isArray(t)){for(var a=t.length,s=new Array(a);a--;)s[a]=e(t[a],n+1);return s}return t},N=function(e,t,n,r){var i,o,a=D(n);return(0,s.h2)()?(a.id="".concat(a.id,"_copy"),null!==(i=window.h)&&void 0!==i&&null!==(o=i.app)&&void 0!==o&&o.getSceneElementsIncludingDeleted().find((function(e){return e.id===a.id}))&&(a.id+="_copy")):a.id=(0,c.kb)(),a.boundElements=null,a.updated=(0,s.C3)(),a.seed=(0,c.LU)(),a.groupIds=(0,l.Qy)(a.groupIds,e,(function(e){return t.has(e)||t.set(e,(0,c.kb)()),t.get(e)})),r&&(a=Object.assign(a,r)),a}},8634:function(e,t,n){"use strict";n.d(t,{LW:function(){return y},T:function(){return j},l2:function(){return E},vY:function(){return b},xx:function(){return S}});var r=n(7169),i=n(1930),o=n(2577),a=n(2335),s=n(5001),c=n(6552),u=n(8925),l=n(1974),d=n(1935),f=n(6340),h=n(8290),p=n(1564),m=n(5710),v=n(2791);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y=function(e){return e>=2*Math.PI?e-2*Math.PI:e},b=function(e,t,n,r,i,a,s,c,u,d,f){if(1===n.length){var p=(0,o.Z)(n,1)[0];return"rotation"===t?(w(p,c,u,i,e.originalElements),(0,h.Ww)(p)):!(0,l.iB)(p)||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?t&&E(e.originalElements,s,p,t,a,c,u):(_(p,t,a,c,u),(0,h.Ww)(p)),!0}if(n.length>1){if("rotation"===t)return C(e,n,c,u,i,d,f),!0;if("nw"===t||"ne"===t||"sw"===t||"se"===t)return k(e,n,t,a,c,u),!0}return!1},w=function(e,t,n,r,i){var s=(0,u.qf)(e),c=(0,o.Z)(s,4),f=c[0],h=c[1],v=(f+c[2])/2,g=(h+c[3])/2,b=5*Math.PI/2+Math.atan2(n-g,t-v);r&&(b+=a.ay/2,b-=b%a.ay),b=y(b);var w=(0,m.xB)(e);if((0,d.DR)(e,{angle:b}),w){var x,_=null===(x=p.Z.getScene(e))||void 0===x?void 0:x.getElement(w);_&&!(0,l.Yv)(e)&&(0,d.DR)(_,{angle:b})}},x=function(e,t,n){var r=e.width;if((0,l.Xh)(e)){var i=(0,m.tl)(e);i&&(r=(0,v.jd)(i))}var o=e.fontSize*(t/r);if(o<1)return null;var a=(0,m.X1)(e.text,(0,f.mO)({fontSize:o,fontFamily:e.fontFamily}),e.containerId?r:null);return{size:o,baseline:a.baseline+(n-a.height)}},_=function(e,t,n,r,i){var a,s=(0,u.qf)(e),l=(0,o.Z)(s,4),f=l[0],h=l[1],p=l[2],m=l[3],v=(f+p)/2,g=(h+m)/2,y=(0,c.U1)(r,i,v,g,-e.angle),b=(0,o.Z)(y,2),w=b[0],_=b[1];switch(t){case"se":a=Math.max((w-f)/(p-f),(_-h)/(m-h));break;case"nw":a=Math.max((p-w)/(p-f),(m-_)/(m-h));break;case"ne":a=Math.max((w-f)/(p-f),(m-_)/(m-h));break;case"sw":a=Math.max((p-w)/(p-f),(_-h)/(m-h))}if(a>0){var E=e.width*a,k=e.height*a,C=x(e,E,k);if(null===C)return;var S=(0,u.wC)(e,E,k,!1),j=(0,o.Z)(S,4),A=(f-j[0])/2,T=(h-j[1])/2,I=(p-j[2])/2,O=(m-j[3])/2,D=(0,c.yq)(function(e,t){return{n:/^(n|ne|nw)$/.test(e)||t&&/^(s|se|sw)$/.test(e),s:/^(s|se|sw)$/.test(e)||t&&/^(n|ne|nw)$/.test(e),w:/^(w|nw|sw)$/.test(e)||t&&/^(e|ne|se)$/.test(e),e:/^(e|ne|se)$/.test(e)||t&&/^(w|nw|sw)$/.test(e)}}(t,n),e.x,e.y,e.angle,A,T,I,O),N=(0,o.Z)(D,2),P=N[0],M=N[1];(0,d.DR)(e,{fontSize:C.size,width:E,height:k,baseline:C.baseline,x:P,y:M})}},E=function(e,t,n,r,a,p,v){var g=e.get(n.id),y=(0,u.wC)(g,g.width,g.height,!0),b=(0,o.Z)(y,4),w=[b[0],b[1]],_=[b[2],b[3]],E=(0,c.H5)(w,_),k=(0,c.xj)([p,v],E,-g.angle),C=(0,u.wC)(n,n.width,n.height,!0),S=(0,o.Z)(C,4),j=S[0],A=S[1],T=S[2]-j,I=S[3]-A,O=(_[0]-w[0])/T,D=(_[1]-w[1])/I,N={},P=(0,m.WJ)(n);r.includes("e")&&(O=(k[0]-w[0])/T),r.includes("s")&&(D=(k[1]-w[1])/I),r.includes("w")&&(O=(_[0]-k[0])/T),r.includes("n")&&(D=(_[1]-k[1])/I);var M=g.width,L=g.height,R=n.width*O,Z=n.height*D;if(a&&(R=2*R-M,Z=2*Z-L),t){var F=Math.abs(R)/M,U=Math.abs(Z)/L;if(1===r.length&&(Z*=F,R*=U),2===r.length){var z=Math.max(F,U);R=M*z*Math.sign(R),Z=L*z*Math.sign(Z)}}if(P){var B=e.get(P.id);if(B&&(N={fontSize:B.fontSize,baseline:B.baseline}),t){var V=(0,m.S)(P),W=x(P,R-2*V,Z-2*V);if(null===W)return;N={fontSize:W.size,baseline:W.baseline}}else{var H=(0,m.AT)((0,f.mO)(P)),q=(0,m.w_)((0,f.mO)(P));R=Math.ceil(Math.max(R,H)),Z=Math.ceil(Math.max(Z,q))}}var G=(0,u.wC)(g,R,Z,!0),Y=(0,o.Z)(G,4),K=Y[0],Q=Y[1],X=Y[2]-K,$=Y[3]-Q,J=[].concat(w);if(["n","w","nw"].includes(r)&&(J=[_[0]-Math.abs(X),_[1]-Math.abs($)]),"ne"===r){var ee=[w[0],_[1]];J=[ee[0],ee[1]-Math.abs($)]}if("sw"===r){var te=[_[0],w[1]];J=[te[0]-Math.abs(X),te[1]]}t&&(["s","n"].includes(r)&&(J[0]=E[0]-X/2),["e","w"].includes(r)&&(J[1]=E[1]-$/2)),R<0&&(r.includes("e")&&(J[0]-=Math.abs(X)),r.includes("w")&&(J[0]+=Math.abs(X))),Z<0&&(r.includes("s")&&(J[1]-=Math.abs($)),r.includes("n")&&(J[1]+=Math.abs($))),a&&(J[0]=E[0]-Math.abs(X)/2,J[1]=E[1]-Math.abs($)/2);var ne,re,ie=g.angle,oe=(0,c.xj)(J,E,ie),ae=[J[0]+Math.abs(X)/2,J[1]+Math.abs($)/2],se=(0,c.xj)(ae,E,ie);J=(0,c.xj)(oe,se,-ie),((0,l.bt)(n)||(0,l.F9)(n))&&(ne=(0,s.z)(1,Z,g.points,!0),re=(0,s.z)(0,R,ne,!0));var ce=(0,i.Z)(J);ce[0]+=g.x-K,ce[1]+=g.y-Q;var ue={width:Math.abs(R),height:Math.abs(Z),x:ce[0],y:ce[1],points:re};"scale"in n&&"scale"in g&&(0,d.DR)(n,{scale:[(Math.sign(O)||g.scale[0])*g.scale[0],(Math.sign(D)||g.scale[1])*g.scale[1]]}),0!==ue.width&&0!==ue.height&&Number.isFinite(ue.x)&&Number.isFinite(ue.y)&&((0,h.Ww)(n,{newSize:{width:ue.width,height:ue.height}}),(0,d.DR)(n,ue),P&&N&&(0,d.DR)(P,{fontSize:N.fontSize}),(0,m.RB)(n,r))},k=function(e,t,n,i,a,c){var f=t.reduce((function(t,n){var r=e.originalElements.get(n.id);return r&&t.push({orig:r,latest:n}),t}),[]),p=(0,u.v2)(f.map((function(e){return e.orig}))),v=p.minX,y=p.minY,b=p.maxX,w=p.maxY,_=p.midX,E=p.midY,k=n,C=i?[_,E]:{ne:[v,w],se:[v,y],sw:[b,y],nw:[b,w]}[k],S=(0,o.Z)(C,2),j=S[0],A=S[1],T={ne:[a>=j,c<=A],se:[a>=j,c>=A],sw:[a<=j,c>=A],nw:[a<=j,c<=A]}[k].map((function(e){return e?1:-1})),I=(0,o.Z)(T,2),O=I[0],D=I[1];if(!(O<0&&D<0)){var N=Math.max(O*Math.abs(a-j)/(b-v),D*Math.abs(c-A)/(w-y))*(i?2:1);0!==N&&f.forEach((function(e){var t=e.orig.width*N,i=e.orig.height*N,o=j+(e.orig.x-j)*N,a=A+(e.orig.y-A)*N,c=function(e,t,n,r){return(0,l.bt)(e)||(0,l.F9)(e)?{points:(0,s.z)(0,t,(0,s.z)(1,n,e.points,r),r)}:{}}(e.orig,t,i,!1),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:t,height:i,x:o,y:a},c),f=null,p=(0,m.WJ)(e.latest);if(p||(0,l.iB)(e.orig)){var v=2*(0,m.S)(p),y=x(null!=p?p:e.orig,t-v,i-v);if(!y)return;(0,l.iB)(e.orig)&&(u.fontSize=y.size,u.baseline=y.baseline),p&&(f={fontSize:y.size,baseline:y.baseline})}(0,h.Ww)(e.latest,{newSize:{width:t,height:i}}),(0,d.DR)(e.latest,u),p&&f&&((0,d.DR)(p,f),(0,m.RB)(e.latest,n))}))}},C=function(e,t,n,r,i,s,f){var h=5*Math.PI/2+Math.atan2(r-f,n-s);i&&(h+=a.ay/2,h-=h%a.ay),t.forEach((function(t){var n,r,i=(0,u.qf)(t),a=(0,o.Z)(i,4),v=a[0],g=a[1],b=(v+a[2])/2,w=(g+a[3])/2,x=null!==(n=null===(r=e.originalElements.get(t.id))||void 0===r?void 0:r.angle)&&void 0!==n?n:t.angle,_=(0,c.U1)(b,w,s,f,h+x-t.angle),E=(0,o.Z)(_,2),k=E[0],C=E[1];(0,d.DR)(t,{x:t.x+(k-b),y:t.y+(C-w),angle:y(h+x)});var S=(0,m.xB)(t);if(S){var j,A=null===(j=p.Z.getScene(t))||void 0===j?void 0:j.getElement(S);A&&!(0,l.Yv)(t)&&(0,d.DR)(A,{x:A.x+(k-b),y:A.y+(C-w),angle:y(h+x)})}}))},S=function(e,t,n,r){var i=1===t.length?(0,u.qf)(t[0]):(0,u.KP)(t),a=(0,o.Z)(i,4),s=a[0],l=a[1],d=a[2],f=a[3],h=(s+d)/2,p=(l+f)/2,m=1===t.length?t[0].angle:0,v=(0,c.U1)(n,r,h,p,-m),g=(0,o.Z)(v,2);switch(n=g[0],r=g[1],e){case"n":return(0,c.U1)(n-(s+d)/2,r-l,0,0,m);case"s":return(0,c.U1)(n-(s+d)/2,r-f,0,0,m);case"w":return(0,c.U1)(n-s,r-(l+f)/2,0,0,m);case"e":return(0,c.U1)(n-d,r-(l+f)/2,0,0,m);case"nw":return(0,c.U1)(n-s,r-l,0,0,m);case"ne":return(0,c.U1)(n-d,r-l,0,0,m);case"sw":return(0,c.U1)(n-s,r-f,0,0,m);case"se":return(0,c.U1)(n-d,r-f,0,0,m);default:return[0,0]}},j=function(e,t){var n=(0,o.Z)(t.points,2),r=(0,o.Z)(n[1],2),i=r[0],a=r[1];return"nw"===e&&(i<0||a<0)||"ne"===e&&i>=0||"sw"===e&&i<=0||"se"===e&&(i>0||a>0)?"end":"origin"}},5710:function(e,t,n){"use strict";n.d(t,{AT:function(){return O},HE:function(){return R},H_:function(){return F},OW:function(){return B},P7:function(){return w},RB:function(){return x},S:function(){return U},TP:function(){return Z},WJ:function(){return M},X1:function(){return E},Zr:function(){return V},bG:function(){return y},cn:function(){return z},hP:function(){return S},lD:function(){return T},mY:function(){return A},oN:function(){return b},tl:function(){return L},w_:function(){return D},xB:function(){return P}});var r,i,o=n(2577),a=n(1930),s=n(6340),c=n(1935),u=n(2335),l=n(1564),d=n(1047),f=n(2791),h=n(1974),p=n(6938),m=n(75),v=n(2325),g=n(6906),y=function(e){return e.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},b=function(e,t){var n=void 0,r=e.text;t&&(n=(0,f.jd)(t),r=T(e.originalText,(0,s.mO)(e),n));var i=E(r,(0,s.mO)(e),n),o=e.y,a=e.x;if(t)if((0,h.Yv)(t)){var l=e.x+e.width/2,d=e.y+e.height/2,p=i.width-e.width,m=i.height-e.height;o=d-(e.height+m)/2,a=l-(e.width+p)/2}else{var v=R(t),y=v.height,b=U(e);e.verticalAlign===u.oX.TOP?o=t.y+b:e.verticalAlign===u.oX.BOTTOM?o=t.y+v.height-i.height-b:(o=t.y+v.height/2-i.height/2,i.height>(0,f.N2)(t)&&(y=i.height+2*b,o=t.y+y/2-i.height/2)),a=e.textAlign===u.I8.LEFT?t.x+b:e.textAlign===u.I8.RIGHT?t.x+v.width-i.width-b:t.x+v.width/2-i.width/2,(0,g.h_)(t.id,y),(0,c.DR)(t,{height:y})}(0,c.DR)(e,{width:i.width,height:i.height,baseline:i.baseline,y:o,x:a,text:r})},w=function(e,t,n){var r=(0,s.xn)(e);t.forEach((function(e){var t=n.get(e.id),i=P(e);if(i){var o=n.get(i);if(o){var a=r.get(t);a&&(0,c.DR)(a,{boundElements:(a.boundElements||[]).concat({type:"text",id:o})});var s=r.get(o);s&&(0,d.iB)(s)&&(0,c.DR)(s,{containerId:a?t:null})}}}))},x=function(e,t){var n=P(e);if(n){(0,g.kT)(e.id);var r=l.Z.getScene(e).getElement(n);if(r&&r.text){if(!e)return;var i=(r=l.Z.getScene(e).getElement(n)).text,o=r.height,a=r.width,u=R(e),d=(0,f.jd)(e),p=(0,f.N2)(e),m=u.height,v=r.baseline;if("n"!==t&&"s"!==t){i&&(i=T(r.originalText,(0,s.mO)(r),d));var y=E(i,(0,s.mO)(r),d);o=y.height,a=y.width,v=y.baseline}if(o>p){var b=(m=o+2*U(r))-u.height,w=(0,h.Yv)(e)||"ne"!==t&&"nw"!==t&&"n"!==t?e.y:e.y-b;(0,c.DR)(e,{height:m,y:w})}(0,c.DR)(r,{text:i,width:a,height:o,baseline:v}),(0,h.Yv)(e)||_(e,r)}}},_=function(e,t){var n,r=R(e),i=U(t);n=t.verticalAlign===u.oX.TOP?e.y+i:t.verticalAlign===u.oX.BOTTOM?e.y+r.height-t.height-i:e.y+r.height/2-t.height/2;var o=t.textAlign===u.I8.LEFT?e.x+i:t.textAlign===u.I8.RIGHT?e.x+r.width-t.width-i:e.x+r.width/2-t.width/2;(0,c.DR)(t,{x:o,y:n})},E=function(e,t,n){e=e.split("\n").map((function(e){return e||" "})).join("\n");var r=document.createElement("div");r.style.position="absolute",r.style.whiteSpace="pre",r.style.font=t,r.style.minHeight="1em";var i=A(e,t);if(n){var o=S(t);r.style.width="".concat(String(Math.min(i,n)+1),"px"),r.style.overflow="hidden",r.style.wordBreak="break-word",r.style.lineHeight="".concat(String(o),"px"),r.style.whiteSpace="pre-wrap"}document.body.appendChild(r),r.innerText=e;var a=document.createElement("span");a.style.display="inline-block",a.style.overflow="hidden",a.style.width="1px",a.style.height="1px",r.appendChild(a);var c=a.offsetTop+a.offsetHeight,u=r.offsetWidth;n&&i>n&&(u-=1);var l=r.offsetHeight;return document.body.removeChild(r),(0,s.h2)()?{width:u,height:l,baseline:c,container:r}:{width:u,height:l,baseline:c}},k="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),C={},S=function(e){return C[e]||(C[e]=E(k,e,null).height),C[e]},j=function(e,t){r||(r=document.createElement("canvas"));var n=r.getContext("2d");n.font=t;var i=n.measureText(e);return(0,s.h2)()?10*i.width:i.width},A=function(e,t){var n=e.split("\n"),r=0;return n.forEach((function(e){r=Math.max(r,j(e,t))})),r},T=function(e,t,n){var r=[],i=e.split("\n"),o=j(" ",t),a=function(e){e.trim()&&r.push(e)};return i.forEach((function(e){var i=e.split(" ");if(1===i.length&&""===i[0])r.push(i[0]);else{for(var s="",c=0,u=0;u<i.length;)if(j(i[u],t)>=n){for(a(s),s="",c=0;i[u].length>0;){var l=i[u][0],d=I.calculate(l,t);c+=d,i[u]=i[u].slice(1),c>=n?(" "===s.slice(-1)&&(s=s.slice(0,-1)),a(s),s=l,(c=d)===n&&(s="",c=0)):s+=l}c+o>=n?(a(s),s="",c=0):(s+=" ",c+=o),u++}else{for(;c<n&&u<i.length;){var f=i[u];if((c=j(s+f,t))>=n){a(s),c=0,s="";break}if(u++,s+="".concat(f," "),c+o>=n){var h=s.slice(0,-1);a(h),s="",c=0;break}}c===n&&(s="",c=0)}s&&(" "===s.slice(-1)&&(s=s.slice(0,-1)),a(s))}})),r.join("\n")},I=(i={},{calculate:function(e,t){var n=e.charCodeAt(0);if(i[t]||(i[t]=[]),!i[t][n]){var r=j(e,t);i[t][n]=r}return i[t][n]},getCache:function(e){return i[e]}}),O=function(e){var t=N(e);return 0===t?E(k.split("").join("\n"),e).width+2*u.gK:t+2*u.gK},D=function(e){return S(e)+2*u.gK},N=function(e){var t=I.getCache(e);if(!t)return 0;var n=t.filter((function(e){return void 0!==e}));return Math.max.apply(Math,(0,a.Z)(n))},P=function(e){var t,n,r;return null!=e&&null!==(t=e.boundElements)&&void 0!==t&&t.length&&(null==e||null===(n=e.boundElements)||void 0===n||null===(r=n.filter((function(e){return"text"===e.type}))[0])||void 0===r?void 0:r.id)||null},M=function(e){if(!e)return null;var t,n=P(e);return n&&(null===(t=l.Z.getScene(e))||void 0===t?void 0:t.getElement(n))||null},L=function(e){return e&&e.containerId&&(null===(t=l.Z.getScene(e))||void 0===t?void 0:t.getElement(e.containerId))||null;var t},R=function(e){return(0,h.Yv)(e)?{width:Math.max(e.width,300),height:e.height}:{width:e.width,height:e.height}},Z=function(e,t){if(!(0,h.Yv)(e))return{x:e.x+e.width/2,y:e.y+e.height/2};var n=p._.getPointsGlobalCoordinates(e);if(n.length%2==1){var r=Math.floor(e.points.length/2),i=p._.getPointGlobalCoordinates(e,e.points[r]);return{x:i[0],y:i[1]}}var o=e.points.length/2-1,a=p._.getEditorMidPoints(e,t)[o];return a||(a=p._.getSegmentMidPoint(e,n[o],n[o+1],o+1)),{x:a[0],y:a[1]}},F=function(e){var t=L(e);return!t||(0,h.Yv)(t)?e.angle:t.angle},U=function(e){var t=L(e);return t?(0,h.Yv)(t)?8*u.gK:u.gK:0},z=function(e){return e.some((function(e){if((0,h.Xh)(e)){var t=L(e);return!(0,d.iB)(e)||!(0,h.Yv)(t)}return!!M(e)&&!(0,h.Yv)(e)}))},B=function(e,t,n,r){var i=(0,m.eD)(e,t);if(1===i.length)return(0,h.mG)(i[0],!1)?i[0]:null;for(var a=null,s=e.length-1;s>=0;--s)if(!e[s].isDeleted){var c=(0,d.qf)(e[s]),u=(0,o.Z)(c,4),l=u[0],f=u[1],p=u[2],g=u[3];if((0,h.Yv)(e[s])&&(0,v.Qu)(e[s],t,[n,r])){a=e[s];break}if(l<n&&n<p&&f<r&&r<g){a=e[s];break}}return(0,h.mG)(a,!1)?a:null},V=function(e){return"rectangle"===e.type||"ellipse"===e.type||"diamond"===e.type||(0,h.pC)(e)||(0,h.Yv)(e)}},6906:function(e,t,n){"use strict";n.d(t,{b_:function(){return k},eR:function(){return E},h_:function(){return x},kT:function(){return _}});var r=n(8950),i=n(2577),o=n(2975),a=n.n(o),s=n(6066),c=n(6340),u=n(1564),l=n(1974),d=n(2335),f=n(1935),h=n(5710),p=n(6208),m=n(828),v=n(2791),g=n(6938),y=n(6665),b=function(e,t,n,r,i,o){var a=r.zoom,s=180*n/Math.PI,c=e*(a.value-1)/2,u=t*(a.value-1)/2;return e>i&&1!==a.value&&(c=i*(a.value-1)/2),t>o&&1!==a.value&&(u=o*(a.value-1)/2),"translate(".concat(c,"px, ").concat(u,"px) scale(").concat(a.value,") rotate(").concat(s,"deg)")},w={},x=function(e,t){var n=w[e]||(w[e]={height:t});return n.height=t,n},_=function(e){w[e]&&delete w[e]},E=function(e){var t,n;return null!==(t=null===(n=w[e])||void 0===n?void 0:n.height)&&void 0!==t?t:null},k=function(e){var t=e.id,n=e.onChange,o=e.onSubmit,_=e.getViewportCoords,E=e.element,k=e.canvas,C=e.excalidrawContainer,S=e.app,j=function(){var e,n=S.state,r=null===(e=u.Z.getScene(E))||void 0===e?void 0:e.getElement(t);if(r){var o=r.textAlign,a=r.verticalAlign,s=(0,h.hP)((0,c.mO)(r));if(r&&(0,l.iB)(r)){var p=r.x,m=r.y,y=(0,h.tl)(r),k=r.width,C=r.height,j=r.width,T=r.height;if(y&&r.containerId){if((0,l.Yv)(y)){var I=g._.getBoundTextElementPosition(y,r);p=I.x,m=I.y}var O,D=function(e,t){if(!t.style.fontFamily||!t.style.fontSize)return!1;var n=t.style.fontFamily.replace(/"/g,"");return(0,c.$g)({fontFamily:e.fontFamily})!==n||"".concat(e.fontSize,"px")!==t.style.fontSize}(r,A),N=(0,h.HE)(y),P=Number(A.style.height.slice(0,-2));if(P>0&&(T=P),D&&(T=r.height),D?O=x(y.id,N.height):(O=w[y.id])||(O=x(y.id,N.height)),k=(0,v.jd)(y),C=(0,v.N2)(y),!(0,l.Yv)(y)&&T>C){var M=Math.min(T-C,s);return void(0,f.DR)(y,{height:N.height+M})}if(!(0,l.Yv)(y)&&N.height>O.height&&T<C){var L=Math.min(C-T,s);(0,f.DR)(y,{height:N.height-L})}else a===d.oX.MIDDLE&&((0,l.Yv)(y)||(m=y.y+N.height/2-T/2)),a===d.oX.BOTTOM&&(m=y.y+N.height-T-(0,h.S)(r))}var R=_(p,m),Z=(0,i.Z)(R,2),F=Z[0],U=Z[1],z=A.selectionStart,B=A.selectionEnd,V=A.value.length;if(A.value=r.originalText,z===B&&B!==V){var W=V-B;A.selectionStart=A.value.length-W,A.selectionEnd=A.value.length-W}var H=r.originalText.split("\n"),q=r.containerId?s:r.height/H.length;y||(k=(n.width-8-F)/n.zoom.value);var G=(n.height-U)/n.zoom.value;Object.assign(A.style,{font:(0,c.mO)(r),lineHeight:"".concat(q,"px"),width:"".concat(Math.min(j,k),"px"),height:"".concat(T,"px"),left:"".concat(F,"px"),top:"".concat(U,"px"),transform:b(j,T,(0,h.H_)(r),n,k,G),textAlign:o,verticalAlign:a,color:r.strokeColor,opacity:r.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(G,"px")}),(0,c.h2)()&&(A.style.fontFamily=(0,c.$g)(r)),(0,f.DR)(r,{x:p,y:m})}}},A=document.createElement("textarea");A.dir="auto",A.tabIndex=0,A.dataset.type="wysiwyg",A.wrap="off",A.classList.add("excalidraw-wysiwyg");var T="pre",I="normal";(0,l.Xh)(E)&&(T="pre-wrap",I="break-word"),Object.assign(A.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:I,whiteSpace:T,overflowWrap:"break-word",boxSizing:"content-box"}),j(),n&&(A.onpaste=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.mQ)(t,!0);case 2:if((n=e.sent).text){e.next=5;break}return e.abrupt("return");case 5:if(r=(0,h.bG)(n.text)){e.next=8;break}return e.abrupt("return");case 8:i=(0,h.tl)(E),o=(0,c.mO)({fontSize:S.state.currentItemFontSize,fontFamily:S.state.currentItemFontFamily}),i&&(s=(0,h.lD)("".concat(A.value).concat(r),o,(0,v.jd)(i)),u=(0,h.mY)(s,o),A.style.width="".concat(u,"px"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A.oninput=function(){var e,r=null===(e=u.Z.getScene(E))||void 0===e?void 0:e.getElement(t),i=(0,c.mO)(r),o=Math.round(A.scrollHeight/(0,h.hP)(i));if((0,l.Xh)(E)&&o>1){var a="auto";A.style.height="0px";var s=!1;if(2===o){var d=(0,h.tl)(E);1===(0,h.lD)(A.value,i,(0,v.jd)(d)).split("\n").length&&(a="".concat(A.scrollHeight/2,"px"),A.style.height=a,s=!0)}s||(A.style.height="".concat(A.scrollHeight,"px"))}n((0,h.bG)(A.value))}),A.onkeydown=function(e){if(!e.shiftKey&&m.Lo.keyTest(e))e.preventDefault(),S.actionManager.executeAction(m.Lo),j();else if(!e.shiftKey&&m.CZ.keyTest(e))e.preventDefault(),S.actionManager.executeAction(m.CZ),j();else if(p.Tu.keyTest(e))S.actionManager.executeAction(p.Tu);else if(p.Zq.keyTest(e))S.actionManager.executeAction(p.Zq);else if(e.key===s.tW.ESCAPE)e.preventDefault(),R=!0,Z();else if(e.key===s.tW.ENTER&&e[s.tW.CTRL_OR_CMD]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;R=!0,Z()}else(e.key===s.tW.TAB||e[s.tW.CTRL_OR_CMD]&&(e.code===s.aU.BRACKET_LEFT||e.code===s.aU.BRACKET_RIGHT))&&(e.preventDefault(),e.shiftKey||e.code===s.aU.BRACKET_LEFT?P():N(),A.dispatchEvent(new Event("input")))};var O=" ".repeat(4),D=new RegExp("^ {1,".concat(4,"}")),N=function(){var e=A.selectionStart,t=A.selectionEnd,n=M(),r=A.value;n.forEach((function(e){var t=r.slice(0,e),n=r.slice(e);r="".concat(t).concat(O).concat(n)})),A.value=r,A.selectionStart=e+4,A.selectionEnd=t+4*n.length},P=function(){var e=A.selectionStart,t=A.selectionEnd,n=M(),r=[],i=A.value;n.forEach((function(e){var t=i.slice(e,e+4).match(D);if(t){var n=i.slice(0,e),o=i.slice(e+t[0].length);i="".concat(n).concat(o),r.push(e)}})),A.value=i,r.length&&(e>r[r.length-1]?A.selectionStart=Math.max(e-4,r[r.length-1]):A.selectionStart=e,A.selectionEnd=Math.max(A.selectionStart,t-4*r.length))},M=function(){var e=A.selectionStart,t=A.selectionEnd,n=A.value,r=n.slice(0,e).match(/[^\n]*$/)[0].length;return e-=r,n.slice(e,t).split("\n").reduce((function(t,n,r,i){return t.concat(r?t[r-1]+i[r-1].length+1:e)}),[]).reverse()},L=function(e){e.preventDefault(),e.stopPropagation()},R=!1,Z=function(){var e;F();var t=null===(e=u.Z.getScene(E))||void 0===e?void 0:e.getElement(E.id);if(t){var n=A.value,r=(0,h.tl)(t);if(r)if(n=t.text,A.value.trim()){var i=(0,h.xB)(r);i&&i===E.id||(0,f.DR)(r,{boundElements:(r.boundElements||[]).concat({type:"text",id:E.id})})}else{var a;(0,f.DR)(r,{boundElements:null===(a=r.boundElements)||void 0===a?void 0:a.filter((function(e){return!(0,l.iB)(e)}))})}o({text:n,viaKeyboard:R,originalText:A.value})}},F=function(){V||(V=!0,A.onblur=null,A.oninput=null,A.onkeydown=null,W&&W.disconnect(),window.removeEventListener("resize",j),window.removeEventListener("wheel",L,!0),window.removeEventListener("pointerdown",z),window.removeEventListener("pointerup",U),window.removeEventListener("blur",Z),B(),A.remove())},U=function e(t){window.removeEventListener("pointerup",e);var n=null==t?void 0:t.target,r=n instanceof HTMLInputElement&&n.closest(".color-picker-input")&&(0,c.s)(n);setTimeout((function(){A.onblur=Z,n&&r&&(n.onblur=function(){A.focus()}),r||A.focus()}))},z=function(e){var t=e.target instanceof HTMLInputElement&&e.target.closest(".color-picker-input")&&(0,c.s)(e.target);((e.target instanceof HTMLElement||e.target instanceof SVGElement)&&e.target.closest(".".concat(d.$C.SHAPE_ACTIONS_MENU))&&!(0,c.s)(e.target)||t)&&(A.onblur=null,window.addEventListener("pointerup",U),window.addEventListener("blur",Z))},B=u.Z.getScene(E).addCallback((function(){var e;j(),null!==(e=document.activeElement)&&void 0!==e&&e.closest(".color-picker-input")||A.focus()})),V=!1;A.select(),U();var W=null;k&&"ResizeObserver"in window?(W=new window.ResizeObserver((function(){j()}))).observe(k):window.addEventListener("resize",j),window.addEventListener("pointerdown",z),window.addEventListener("wheel",L,{passive:!1,capture:!0}),null==C||C.querySelector(".excalidraw-textEditorContainer").appendChild(A)}},267:function(e,t,n){"use strict";n.d(t,{PC:function(){return v},kK:function(){return m},oY:function(){return g},ox:function(){return l}});var r=n(2577),i=n(8925),o=n(6552),a=n(1047),s=n(1974),c=n(3547),u={mouse:8,pen:16,touch:28},l={e:!0,s:!0,n:!0,w:!0},d={e:!0,s:!0,n:!0,w:!0},f={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},h={e:!0,s:!0,n:!0,w:!0},p=function(e,t,n,i,a,s,c){var u=(0,o.U1)(e+n/2,t+i/2,a,s,c),l=(0,r.Z)(u,2);return[l[0]-n/2,l[1]-i/2,n,i]},m=function(e,t,n,i){var o=(0,r.Z)(e,6),a=o[0],s=o[1],l=o[2],d=o[3],f=o[4],h=o[5],m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4,g=u[i],y=g/n.value,b=g/n.value,w=g/n.value,x=g/n.value,_=l-a,E=d-s,k=v/n.value,C=(g-2*c.Lu)/(2*n.value),S={nw:m.nw?void 0:p(a-k-w+C,s-k-x+C,y,b,f,h,t),ne:m.ne?void 0:p(l+k-C,s-k-x+C,y,b,f,h,t),sw:m.sw?void 0:p(a-k-w+C,d+k-C,y,b,f,h,t),se:m.se?void 0:p(l+k-C,d+k-C,y,b,f,h,t),rotation:m.rotation?void 0:p(a+_/2-y/2,s-k-x+C-16/n.value,y,b,f,h,t)},j=5*u.mouse/n.value;return Math.abs(_)>j&&(m.n||(S.n=p(a+_/2-y/2,s-k-x+C,y,b,f,h,t)),m.s||(S.s=p(a+_/2-y/2,d+k-C,y,b,f,h,t))),Math.abs(E)>j&&(m.w||(S.w=p(a-k-w+C,s+E/2-b/2,y,b,f,h,t)),m.e||(S.e=p(l+k-C,s+E/2-b/2,y,b,f,h,t))),S},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse";if(e.locked)return{};var o={};if("freedraw"===e.type||(0,s.bt)(e)){if(2===e.points.length){var u=(0,r.Z)(e.points,2)[1];0===u[0]||0===u[1]?o=h:u[0]>0&&u[1]<0?o=f:u[0]>0&&u[1]>0?o=h:u[0]<0&&u[1]>0?o=f:u[0]<0&&u[1]<0&&(o=h)}}else(0,a.iB)(e)&&(o=d);var l=(0,s.bt)(e)?c.Lu+8:c.Lu;return m((0,i.qf)(e,!0),e.angle,t,n,o,l)},g=function(e,t){if(t.editingLinearElement)return!1;if(e.length>1)return!0;var n=e[0];return!(0,s.bt)(n)||n.points.length>2}},1974:function(e,t,n){"use strict";n.d(t,{F9:function(){return s},Lx:function(){return h},Mn:function(){return f},QI:function(){return b},UQ:function(){return x},Xh:function(){return y},Xo:function(){return g},Yv:function(){return l},bt:function(){return u},dt:function(){return d},eK:function(){return w},f0:function(){return p},iB:function(){return a},mG:function(){return m},pC:function(){return o},r2:function(){return v},wi:function(){return i}});var r=n(2335),i=function(e){return!!e&&"image"===e.type&&!!e.fileId},o=function(e){return!!e&&"image"===e.type},a=function(e){return null!=e&&"text"===e.type},s=function(e){return null!=e&&c(e.type)},c=function(e){return"freedraw"===e},u=function(e){return null!=e&&d(e.type)},l=function(e){return null!=e&&"arrow"===e.type},d=function(e){return"arrow"===e||"line"===e},f=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&h(e.type)},h=function(e){return"arrow"===e},p=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!(null==e||e.locked&&!0!==t||"rectangle"!==e.type&&"diamond"!==e.type&&"ellipse"!==e.type&&"image"!==e.type&&("text"!==e.type||e.containerId))},m=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"image"===e.type||l(e))},v=function(e){return"text"===(null==e?void 0:e.type)||"diamond"===(null==e?void 0:e.type)||"rectangle"===(null==e?void 0:e.type)||"ellipse"===(null==e?void 0:e.type)||"arrow"===(null==e?void 0:e.type)||"freedraw"===(null==e?void 0:e.type)||"line"===(null==e?void 0:e.type)},g=function(e){var t;return p(e)&&!(null===(t=e.boundElements)||void 0===t||!t.some((function(e){return"text"===e.type})))},y=function(e){return null!==e&&"containerId"in e&&null!==e.containerId&&a(e)},b=function(e){return"rectangle"===e},w=function(e,t){return!(e!==r.a6.ADAPTIVE_RADIUS&&e!==r.a6.LEGACY||!b(t.type))||e===r.a6.PROPORTIONAL_RADIUS&&("line"===(n=t.type)||"arrow"===n||"diamond"===n);var n},x=function(e){return"arrow"===e.type||"line"===e.type||"diamond"===e.type?{type:r.a6.PROPORTIONAL_RADIUS}:"rectangle"===e.type?{type:r.a6.ADAPTIVE_RADIUS}:null}},6797:function(e,t,n){"use strict";n.d(t,{_:function(){return p},l:function(){return h}});var r=n(5169),i=n(8821),o=n(2248),a=n(7245),s=n(2312),c=n(5901);function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return l=u()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,c.Z)(i,n.prototype),i},l.apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,(0,s.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,c.Z)(r,e)},d(e)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var h=function(e){(0,o.Z)(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return(0,i.Z)(this,n),(e=t.call(this)).name=o,e.message=r,e}return(0,r.Z)(n)}(d(Error)),p=function(e){(0,o.Z)(n,e);var t=f(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request Aborted";return(0,i.Z)(this,n),t.call(this,e,"AbortError")}return(0,r.Z)(n)}(d(DOMException))},242:function(e,t,n){"use strict";n.d(t,{AI:function(){return k},F$:function(){return f},Fb:function(){return b},Nd:function(){return y},Qy:function(){return x},S_:function(){return _},YS:function(){return w},bO:function(){return v},h6:function(){return E},iE:function(){return g},iJ:function(){return m},yO:function(){return p},zq:function(){return h}});var r=n(1930),i=n(2577),o=n(7169),a=n(75),s=n(5710);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t,n){var r=n.filter((function(t){return t.groupIds.includes(e)}));return r.length<2?t.selectedGroupIds[e]||t.editingGroupId===e?d(d({},t),{},{selectedGroupIds:d(d({},t.selectedGroupIds),{},(0,o.Z)({},e,!1)),editingGroupId:null}):t:d(d({},t),{},{selectedGroupIds:d(d({},t.selectedGroupIds),{},(0,o.Z)({},e,!0)),selectedElementIds:d(d({},t.selectedElementIds),Object.fromEntries(r.map((function(e){return[e.id,!0]}))))})},h=function(e,t){return null!=p(e,t)},p=function(e,t){return t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))},m=function(e){return Object.entries(e.selectedGroupIds).filter((function(e){var t=(0,i.Z)(e,2);return t[0],t[1]})).map((function(e){var t=(0,i.Z)(e,2),n=t[0];return t[1],n}))},v=function(e,t){var n=d(d({},e),{},{selectedGroupIds:{}}),r=(0,a.eD)(t,e);if(!r.length)return d(d({},n),{},{editingGroupId:null});var i,o=c(r);try{for(o.s();!(i=o.n()).done;){var s=i.value.groupIds;if(e.editingGroupId){var u=s.indexOf(e.editingGroupId);u>-1&&(s=s.slice(0,u))}if(s.length>0){var l=s[s.length-1];n=f(l,n,t)}}}catch(e){o.e(e)}finally{o.f()}return n},g=function(e,t){return d(d({},e),{},{editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,o.Z)({},t.id,!0)})},y=function(e,t){return e.groupIds.includes(t)},b=function(e,t){return e.filter((function(e){return y(e,t)}))},w=function(e,t){return e.groupIds.find((function(e){return t[e]}))},x=function(e,t,n){for(var i=(0,r.Z)(e),o=t?e.indexOf(t):-1,a=o>-1?o:e.length,s=0;s<a;s++)i[s]=n(i[s]);return i},_=function(e,t,n){var i=(0,r.Z)(e),o=n?i.indexOf(n):-1,a=o>-1?o:i.length;return i.splice(a,0,t),i},E=function(e,t){return e.filter((function(e){return!t[e]}))},k=function(e){var t=new Map;return e.forEach((function(e){var n=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],i=t.get(n)||[],o=(0,s.WJ)(e);o&&i.push(o),t.set(n,[].concat((0,r.Z)(i),[e]))})),Array.from(t.values())}},5202:function(e,t,n){"use strict";n.d(t,{Fp:function(){return u},G3:function(){return m},Mj:function(){return l},m0:function(){return p},t:function(){return g}});var r=n(8950),i=n(2975),o=n.n(i),a=n(1463),s=JSON.parse('{"ar-SA":90,"bg-BG":58,"bn-BD":64,"ca-ES":99,"cs-CZ":66,"da-DK":34,"de-DE":100,"el-GR":99,"en":100,"es-ES":99,"eu-ES":99,"fa-IR":98,"fi-FI":97,"fr-FR":100,"gl-ES":45,"he-IL":94,"hi-IN":69,"hu-HU":94,"id-ID":100,"it-IT":100,"ja-JP":99,"kab-KAB":95,"kk-KZ":22,"ko-KR":100,"ku-TR":100,"lt-LT":23,"lv-LV":100,"mr-IN":100,"my-MM":44,"nb-NO":100,"nl-NL":86,"nn-NO":95,"oc-FR":99,"pa-IN":87,"pl-PL":89,"pt-BR":100,"pt-PT":99,"ro-RO":100,"ru-RU":99,"si-LK":8,"sk-SK":100,"sl-SI":100,"sv-SE":99,"ta-IN":97,"tr-TR":100,"uk-UA":100,"vi-VN":16,"zh-CN":100,"zh-HK":27,"zh-TW":100}'),c=n(2335),u={code:"en",label:"English"},l=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"ca-ES",label:"Catal\xe0"},{code:"cs-CZ",label:"\u010cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"es-ES",label:"Espa\xf1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06cc",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xe7ais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",rtl:!0},{code:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65e5\u672c\u8a9e"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},{code:"ko-KR",label:"\ud55c\uad6d\uc5b4"},{code:"ku-TR",label:"Kurd\xee"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xe5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xeas Brasileiro"},{code:"pt-PT",label:"Portugu\xeas"},{code:"ro-RO",label:"Rom\xe2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010dina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Sloven\u0161\u010dina"},{code:"tr-TR",label:"T\xfcrk\xe7e"},{code:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587"},{code:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587"},{code:"vi-VN",label:"Ti\u1ebfng Vi\u1ec7t"},{code:"mr-IN",label:"\u092e\u0930\u093e\u0920\u0940"}].concat([u]).sort((function(e,t){return e.label>t.label?1:-1})).filter((function(e){return s[e.code]>=85})),d="__test__";"production"===c.Vi.DEVELOPMENT&&l.unshift({code:d,label:"test language"},{code:"".concat(d,".rtl"),label:"\u202atest language (rtl)\u202c",rtl:!0});var f=u,h={},p=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t,document.documentElement.dir=f.rtl?"rtl":"ltr",document.documentElement.lang=f.code,!t.code.startsWith(d)){e.next=7;break}h={},e.next=10;break;case 7:return e.next=9,Promise.resolve().then(n.t.bind(n,1463,19));case 9:h=e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){return f},v=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"==typeof e)return e},g=function(e,t){if(f.code.startsWith(d)){var n=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e;return"\u202a[[".concat(n,"]]\u202c")}var r=e.split("."),i=v(h,r)||v(a,r);if(void 0===i)throw new Error("Can't find translation for ".concat(e));if(t)for(var o in t)i=i.replace("{{".concat(o,"}}"),String(t[o]));return i}},9487:function(e,t,n){"use strict";n.d(t,{e_:function(){return o},yE:function(){return i}});var r=n(4739),i=(n(9787),Symbol()),o=(0,r.Vv)()},6066:function(e,t,n){"use strict";n.d(t,{Dt:function(){return o},E0:function(){return l},ED:function(){return i},Ge:function(){return d},OA:function(){return u},Um:function(){return r},Wl:function(){return c},aU:function(){return a},tW:function(){return s}});var r=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),i=/^Win/.test(window.navigator.platform),o=/\b(android)\b/i.test(navigator.userAgent),a={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR"},s={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},c=function(e){return e===s.ARROW_LEFT||e===s.ARROW_RIGHT||e===s.ARROW_DOWN||e===s.ARROW_UP},u=function(e){return e.altKey},l=function(e){return e.shiftKey},d=function(e){return e.shiftKey}},6552:function(e,t,n){"use strict";n.d(t,{H5:function(){return l},Jj:function(){return E},LW:function(){return u},N_:function(){return b},U1:function(){return a},c9:function(){return f},eH:function(){return x},g6:function(){return d},lk:function(){return _},wC:function(){return v},xj:function(){return s},yB:function(){return y},yW:function(){return g},yq:function(){return c}});var r=n(2335),i=n(3063),o=n(8925),a=function(e,t,n,r,i){return[(e-n)*Math.cos(i)-(t-r)*Math.sin(i)+n,(e-n)*Math.sin(i)+(t-r)*Math.cos(i)+r]},s=function(e,t,n){return a(e[0],e[1],t[0],t[1],n)},c=function(e,t,n,r,i,o,a,s){var c=Math.cos(r),u=Math.sin(r);return e.e&&e.w?t+=i+a:e.e?(t+=i*(1+c),n+=i*u,t+=a*(1-c),n+=a*-u):e.w&&(t+=i*(1-c),n+=i*-u,t+=a*(1+c),n+=a*u),e.n&&e.s?n+=o+s:e.n?(t+=o*u,n+=o*(1-c),t+=s*-u,n+=s*(1+c)):e.s&&(t+=o*-u,n+=o*(1+c),t+=s*u,n+=s*(1-c)),[t,n]},u=function(e,t,n,r){var i=n-e,o=r-t;return Math.hypot(i,o)},l=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]],i=n[0],o=n[1];return u(i[0],i[1],o[0],o[1])<=r.qx/t}return!1},f=function(e,t,n){var r=e.length;if(r<3)return!1;for(var i=[Number.MAX_SAFE_INTEGER,n],o=[t,n],a=0,s=0;s<r;s++){var c=e[s],u=e[(s+1)%r];if(m(c,u,o,i)){if(0===p(c,o,u))return h(c,o,u);a++}}return a%2==1},h=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},p=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2},m=function(e,t,n,r){var i=p(e,t,n),o=p(e,t,r),a=p(n,r,e),s=p(n,r,t);return i!==o&&a!==s||!(0!==i||!h(e,n,t))||!(0!==o||!h(e,r,t))||!(0!==a||!h(n,e,r))||!(0!==s||!h(n,t,r))},v=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},g=function(e,t){var n,i,o;if((null===(n=t.roundness)||void 0===n?void 0:n.type)===r.a6.PROPORTIONAL_RADIUS||(null===(i=t.roundness)||void 0===i?void 0:i.type)===r.a6.LEGACY)return e*r.Rx;if((null===(o=t.roundness)||void 0===o?void 0:o.type)===r.a6.ADAPTIVE_RADIUS){var a,s,c=null!==(a=null===(s=t.roundness)||void 0===s?void 0:s.value)&&void 0!==a?a:r._9;return e<=c/r.Rx?e*r.Rx:c}return 0},y=function(e,t){var n=(0,i.R2)(e);if(!n)return null;for(var r=(0,o.CM)(n[0]),a=[0,0],s=0,c=1/0,l=null;s<r.length;){var d=r[s],f=d.op,h=d.data;if("move"===f&&(a=h),"bcurveTo"===f){var p=a,m=[h[0],h[1]],v=[h[2],h[3]],g=[h[4],h[5]],y=u(g[0],g[1],t[0],t[1]);y<c&&(c=y,l=[p,m,v,g]),a=g}s++}return l},b=function(e,t,n,r,i){var o=function(i,o){return Math.pow(1-i,3)*r[o]+3*i*Math.pow(1-i,2)*n[o]+3*Math.pow(i,2)*(1-i)*t[o]+e[o]*Math.pow(i,3)};return[o(i,0),o(i,1)]},w=function(e,t){var n=[];n[0]=0;for(var r=function(e,t){var n=y(e,t);if(!n)return[];for(var r=[],i=1;i>0;){var o=b(n[0],n[1],n[2],n[3],i);r.push([o[0],o[1]]),i-=.05}return r.length&&E(r.at(-1),t)&&r.push([t[0],t[1]]),r}(e,t),i=0,o=0;i<r.length-1;)o+=u(r[i][0],r[i][1],r[i+1][0],r[i+1][1]),n.push(o),i++;return n},x=function(e,t){return w(e,t).at(-1)},_=function(e,t,n){for(var r=w(e,t),i=r.length-1,o=n*r.at(-1),a=0,s=i,c=0;a<s;)r[c=Math.floor(a+(s-a)/2)]<o?a=c+1:s=c;return r[c]>o&&c--,r[c]===o?c/i:1-(c+(o-r[c])/(r[c+1]-r[c]))/i},E=function(e,t){return e[0]===t[0]&&e[1]===t[1]}},3024:function(e,t,n){"use strict";n.d(t,{$D:function(){return _},Fl:function(){return x},I_:function(){return h.I_},N7:function(){return v.N7},NI:function(){return h.NI},NL:function(){return w},ZY:function(){return m.ZY},cT:function(){return m.cT},i1:function(){return E},lV:function(){return m.lV},zh:function(){return g.zh}});var r=n(8950),i=n(7169),o=n(2975),a=n.n(o),s=n(4162),c=n(8897),u=n(1047),l=n(679),d=n(2335),f=n(673),h=n(5523),p=n(6665),m=n(434),v=n(3063),g=n(7053);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.maxWidthOrHeight,o=e.getDimensions,a=e.exportPadding,c=(0,l.nu)({elements:t,appState:n},null,null),d=c.elements,f=c.appState,h=f.exportBackground,p=f.viewBackgroundColor;return(0,s.NL)((0,u.Lm)(d),b(b({},f),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),r||{},{exportBackground:h,exportPadding:a,viewBackgroundColor:p},(function(e,t){var n,r=document.createElement("canvas");if(i){"function"==typeof o&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var a=Math.max(e,t),s=i/a;return r.width=e*s,r.height=t*s,{canvas:r,scale:s}}var c=(null==o?void 0:o(e,t))||{width:e,height:t};return r.width=c.width,r.height=c.height,{canvas:r,scale:null!==(n=c.scale)&&void 0!==n?n:1}}))},x=function(){var e=(0,r.Z)(a().mark((function e(t){var n,i,o,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(i=t).mimeType,s=void 0===o?d.LO.png:o,c=i.quality,s===d.LO.png&&"number"==typeof c&&console.warn('"quality" will be ignored for "'.concat(d.LO.png,'" mimeType')),"image/jpg"===s&&(s=d.LO.jpg),s!==d.LO.jpg||null!==(n=t.appState)&&void 0!==n&&n.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(d.LO.jpg,'" mimeType')),t=b(b({},t),{},{appState:b(b({},t.appState),{},{exportBackground:!0})})),e.next=6,w(t);case 6:return u=e.sent,c=c||(/image\/jpe?g/.test(s)?.92:.8),e.abrupt("return",new Promise((function(e,n){u.toBlob(function(){var i=(0,r.Z)(a().mark((function r(i){var o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i){r.next=2;break}return r.abrupt("return",n(new Error("couldn't export to blob")));case 2:if(!i||s!==d.LO.png||null===(o=t.appState)||void 0===o||!o.exportEmbedScene){r.next=6;break}return r.next=5,(0,f.encodePngMetadata)({blob:i,metadata:(0,h.I_)(t.elements,t.appState,t.files||{},"local")});case 5:i=r.sent;case 6:e(i);case 7:case"end":return r.stop()}}),r)})));return function(e){return i.apply(this,arguments)}}(),s,c)})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,i,o,d,f,h,p,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,r=t.appState,i=void 0===r?(0,c.im)():r,o=t.files,d=void 0===o?{}:o,f=t.exportPadding,h=(0,l.nu)({elements:n,appState:i},null,null),p=h.elements,m=h.appState,e.abrupt("return",(0,s.$D)((0,u.Lm)(p),b(b({},m),{},{exportPadding:f}),d));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("svg"!==t.type){e.next=8;break}return e.next=3,_(t);case 3:return n=e.sent,e.next=6,(0,p.dd)(n.outerHTML);case 6:case 11:case 17:e.next=20;break;case 8:if("png"!==t.type){e.next=13;break}return e.next=11,(0,p.uR)(x(t));case 13:if("json"!==t.type){e.next=19;break}return r=b(b({offsetTop:0,offsetLeft:0,width:0,height:0},(0,c.im)()),t.appState),e.next=17,(0,p.vQ)(t.elements,r,t.files);case 19:throw new Error("Invalid export type");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},5001:function(e,t,n){"use strict";n.d(t,{k:function(){return i},z:function(){return o}});var r=n(1930),i=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,(0,r.Z)(t))-Math.min.apply(Math,(0,r.Z)(t)),height:Math.max.apply(Math,(0,r.Z)(n))-Math.min.apply(Math,(0,r.Z)(n))}},o=function(e,t,n,i){var o=n.map((function(t){return t[e]})),a=Math.max.apply(Math,(0,r.Z)(o)),s=Math.min.apply(Math,(0,r.Z)(o)),c=a-s,u=0===c?1:t/c,l=1/0,d=n.map((function(t){var n=t[e]*u,i=(0,r.Z)(t);return i[e]=n,n<l&&(l=n),i}));if(!i)return d;if(2===d.length)return d;var f=s-l;return d.map((function(t){return t.map((function(t,n){return n===e?t+f:t}))}))}},6954:function(e,t,n){"use strict";n.d(t,{LU:function(){return c},kb:function(){return u}});var r=n(8152),i=n(5605),o=n(6340),a=new r.k(Date.now()),s=0,c=function(){return Math.floor(a.next()*Math.pow(2,31))},u=function(){return(0,o.h2)()?"id".concat(s++):(0,i.x0)()}},3063:function(e,t,n){"use strict";n.d(t,{Dn:function(){return z},aL:function(){return Q},i:function(){return X},N7:function(){return ae},R2:function(){return G},bI:function(){return K},lw:function(){return te},Rg:function(){return re}});var r=n(1930),i=n(7169),o=n(2577),a=n(1974),c=n(8925),u=n(6340),l=n(6552),d=n(8234),f=n(8897),h=n(2335);function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return e*r(.5-t*(.5-n))}function m(e,t){return[e[0]+t[0],e[1]+t[1]]}function v(e,t){return[e[0]-t[0],e[1]-t[1]]}function g(e,t){return[e[0]*t,e[1]*t]}function y(e){return[e[1],-e[0]]}function b(e,t){return e[0]*t[0]+e[1]*t[1]}function w(e,t){return e[0]===t[0]&&e[1]===t[1]}function x(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(v(e,t))}function _(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function E(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function k(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],s=o*r+a*i;return[o*i-a*r+t[0],s+t[1]]}function C(e,t,n){return m(e,g(v(t,e),n))}function S(e,t,n){return m(e,g(t,n))}var j=Math.min,A=Math.PI+1e-4;function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?16:n,i=t.smoothing,o=void 0===i?.5:i,a=t.thinning,s=void 0===a?.5:a,c=t.simulatePressure,u=void 0===c||c,l=t.easing,d=void 0===l?function(e){return e}:l,f=t.start,h=void 0===f?{}:f,w=t.end,E=void 0===w?{}:w,T=t.last,I=void 0!==T&&T,O=h.cap,D=void 0===O||O,N=h.easing,P=void 0===N?function(e){return e*(2-e)}:N,M=E.cap,L=void 0===M||M,R=E.easing,Z=void 0===R?function(e){return--e*e*e+1}:R;if(0===e.length||r<=0)return[];for(var F,U=e[e.length-1].runningLength,z=!1===h.taper?0:!0===h.taper?Math.max(r,U):h.taper,B=!1===E.taper?0:!0===E.taper?Math.max(r,U):E.taper,V=Math.pow(r*o,2),W=[],H=[],q=e.slice(0,10).reduce((function(e,t){var n=t.pressure;if(u){var i=j(1,t.distance/r),o=j(1,1-i);n=j(1,e+.275*i*(o-e))}return(e+n)/2}),e[0].pressure),G=p(r,s,e[e.length-1].pressure,d),Y=e[0].vector,K=e[0].point,Q=K,X=K,$=Q,J=!1,ee=0;ee<e.length;ee++){var te=e[ee].pressure,ne=e[ee],re=ne.point,ie=ne.vector,oe=ne.distance,ae=ne.runningLength;if(!(ee<e.length-1&&U-ae<3)){if(s){if(u){var se=j(1,oe/r),ce=j(1,1-se);te=j(1,q+.275*se*(ce-q))}G=p(r,s,te,d)}else G=r/2;void 0===F&&(F=G);var ue=ae<z?P(ae/z):1,le=U-ae<B?Z((U-ae)/B):1;G=Math.max(.01,G*Math.min(ue,le));var de=(ee<e.length-1?e[ee+1]:e[ee]).vector,fe=ee<e.length-1?b(ie,de):1,he=null!==fe&&fe<0;if(b(ie,Y)<0&&!J||he){for(var pe=g(y(Y),G),me=1/13,ve=0;ve<=1;ve+=me)X=k(v(re,pe),re,A*ve),W.push(X),$=k(m(re,pe),re,A*-ve),H.push($);K=X,Q=$,he&&(J=!0)}else if(J=!1,ee!==e.length-1){var ge=g(y(C(de,ie,fe)),G);X=v(re,ge),(ee<=1||x(K,X)>V)&&(W.push(X),K=X),$=m(re,ge),(ee<=1||x(Q,$)>V)&&(H.push($),Q=$),q=te,Y=ie}else{var ye=g(y(ie),G);W.push(v(re,ye)),H.push(m(re,ye))}}}var be=e[0].point.slice(0,2),we=e.length>1?e[e.length-1].point.slice(0,2):m(e[0].point,[1,1]),xe=[],_e=[];if(1===e.length){if(!z&&!B||I){for(var Ee=S(be,_(y(v(be,we))),-(F||G)),ke=[],Ce=1/13,Se=Ce;Se<=1;Se+=Ce)ke.push(k(Ee,be,2*A*Se));return ke}}else{if(!(z||B&&1===e.length))if(D)for(var je=1/13,Ae=je;Ae<=1;Ae+=je){var Te=k(H[0],be,A*Ae);xe.push(Te)}else{var Ie=v(W[0],H[0]),Oe=g(Ie,.5),De=g(Ie,.51);xe.push(v(be,Oe),v(be,De),m(be,De),m(be,Oe))}var Ne=y(function(e){return[-e[0],-e[1]]}(e[e.length-1].vector));if(B||z&&1===e.length)_e.push(we);else if(L)for(var Pe=S(we,Ne,G),Me=1/29,Le=Me;Le<1;Le+=Me)_e.push(k(Pe,we,3*A*Le));else _e.push(m(we,g(Ne,G)),m(we,g(Ne,.99*G)),v(we,g(Ne,.99*G)),v(we,g(Ne,G)))}return W.concat(_e,H.reverse(),xe)}(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.streamline,i=void 0===r?.5:r,o=n.size,a=void 0===o?16:o,c=n.last,u=void 0!==c&&c;if(0===e.length)return[];var l=.15+.85*(1-i),d=Array.isArray(e[0])?e:e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}));if(2===d.length){var f=d[1];d=d.slice(0,-1);for(var h=1;h<5;h++)d.push(C(d[0],f,h/4))}1===d.length&&(d=[].concat(s(d),[[].concat(s(m(d[0],[1,1])),s(d[0].slice(2)))]));for(var p=[{point:[d[0][0],d[0][1]],pressure:d[0][2]>=0?d[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],g=!1,y=0,b=p[0],x=d.length-1,k=1;k<d.length;k++){var S=u&&k===x?d[k].slice(0,2):C(b.point,d[k],l);if(!w(b.point,S)){var j=E(S,b.point);if(y+=j,k<x&&!g){if(y<a)continue;g=!0}b={point:S,pressure:d[k][2]>=0?d[k][2]:.5,vector:_(v(b.point,S)),distance:j,runningLength:y},p.push(b)}}return p[0].vector=(null==(t=p[1])?void 0:t.vector)||[0,0],p}(e,t),t)}var I=n(5710),O=n(6938);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P="invert(100%) hue-rotate(180deg) saturate(1.25)",M=(0,f.im)(),L=function(e,t){return(0,a.wi)(e)&&!t.imageCache.has(e.fileId)},R=function(e,t){var n;return"dark"===t.theme&&(0,a.wi)(e)&&!L(e,t)&&(null===(n=t.imageCache.get(e.fileId))||void 0===n?void 0:n.mimeType)!==h.LO.svg},Z=function(e){return[8,8+e]},F=function(e){return[1.5,6+e]},U=function(e){return"freedraw"===e.type?12*e.strokeWidth:20},z=14,B=document.createElement("img");B.src="data:".concat(h.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var V=document.createElement("img");V.src="data:".concat(h.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var W=function(e,t,n,r){switch(n.globalAlpha=e.opacity/100,e.type){case"rectangle":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(G(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",G(e).forEach((function(e){t.draw(e)}));break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var i=function(e){return ie.get(e)}(e),o=G(e);o&&t.draw(o),n.fillStyle=e.strokeColor,n.fill(i),n.restore();break;case"image":var s,c=(0,a.wi)(e)?null===(s=r.imageCache.get(e.fileId))||void 0===s?void 0:s.image:void 0;null==c||c instanceof Promise?function(e,t,n){t.fillStyle="#E7E7E7",t.fillRect(0,0,e.width,e.height);var r=Math.min(e.width,e.height),i=Math.min(r,Math.min(.4*r,100));t.drawImage("error"===e.status?V:B,e.width/2-i/2,e.height/2-i/2,i,i)}(e,n,r.zoom.value):n.drawImage(c,0,0,e.width,e.height);break;default:if(!(0,a.iB)(e))throw new Error("Unimplemented type ".concat(e.type));var l=(0,u.dZ)(e.text),d=l&&!n.canvas.isConnected;d&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",l?"rtl":"ltr"),n.save(),n.font=(0,u.mO)(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;var f=e.text.replace(/\r\n?/g,"\n").split("\n"),p=e.containerId?(0,I.hP)((0,u.mO)(e)):e.height/f.length,m=e.height-e.baseline;e.verticalAlign===h.oX.BOTTOM&&(m=(0,I.S)(e));for(var v="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,g=0;g<f.length;g++)n.fillText(f[g],v,(g+1)*p-m);n.restore(),d&&n.canvas.remove()}n.globalAlpha=1},H=new WeakMap,q=new WeakMap,G=function(e){return q.get(e)},Y=function(e,t){return q.set(e,t)},K=function(e){return q.delete(e)},Q=function(){H=new WeakMap,q=new WeakMap,ie=new WeakMap},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?Z(e.strokeWidth):"dotted"===e.strokeStyle?F(e.strokeWidth):void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor,preserveVertices:t};switch(e.type){case"rectangle":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(n.curveFitting=1),n;case"line":case"freedraw":return(0,l.g6)(e.points)&&(n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),n;case"arrow":return n;default:throw new Error("Unimplemented type ".concat(e.type))}},$=function(e,t){var n=q.get(e);if(void 0===n)switch(H.delete(e),e.type){case"rectangle":if(e.roundness){var i=e.width,a=e.height,s=(0,l.yW)(Math.min(i,a),e);n=t.path("M ".concat(s," 0 L ").concat(i-s," 0 Q ").concat(i," 0, ").concat(i," ").concat(s," L ").concat(i," ").concat(a-s," Q ").concat(i," ").concat(a,", ").concat(i-s," ").concat(a," L ").concat(s," ").concat(a," Q 0 ").concat(a,", 0 ").concat(a-s," L 0 ").concat(s," Q 0 0, ").concat(s," 0"),X(e,!0))}else n=t.rectangle(0,0,e.width,e.height,X(e));Y(e,n);break;case"diamond":var u=(0,c.UC)(e),d=(0,o.Z)(u,8),f=d[0],h=d[1],p=d[2],m=d[3],v=d[4],g=d[5],y=d[6],b=d[7];if(e.roundness){var w=(0,l.yW)(Math.abs(f-y),e),x=(0,l.yW)(Math.abs(m-h),e);n=t.path("M ".concat(f+w," ").concat(h+x," L ").concat(p-w," ").concat(m-x,"\n            C ").concat(p," ").concat(m,", ").concat(p," ").concat(m,", ").concat(p-w," ").concat(m+x,"\n            L ").concat(v+w," ").concat(g-x,"\n            C ").concat(v," ").concat(g,", ").concat(v," ").concat(g,", ").concat(v-w," ").concat(g-x,"\n            L ").concat(y+w," ").concat(b+x,"\n            C ").concat(y," ").concat(b,", ").concat(y," ").concat(b,", ").concat(y+w," ").concat(b-x,"\n            L ").concat(f-w," ").concat(h+x,"\n            C ").concat(f," ").concat(h,", ").concat(f," ").concat(h,", ").concat(f+w," ").concat(h+x),X(e,!0))}else n=t.polygon([[f,h],[p,m],[v,g],[y,b]],X(e));Y(e,n);break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,X(e)),Y(e,n);break;case"line":case"arrow":var _=X(e),E=e.points.length?e.points:[[0,0]];if(n=e.roundness?[t.curve(E,_)]:_.fill?[t.polygon(E,_)]:[t.linearPath(E,_)],"arrow"===e.type){var k=e.startArrowhead,C=void 0===k?null:k,S=e.endArrowhead,j=void 0===S?"arrow":S,A=function(e,n,r,i){var a=(0,c.Y5)(e,n,r,i);if(null===a)return[];if("dot"===i){var s=(0,o.Z)(a,3),u=s[0],l=s[1],d=s[2];return[t.circle(u,l,d,N(N({},_),{},{fill:e.strokeColor,fillStyle:"solid",stroke:"none"}))]}if("triangle"===i){var f=(0,o.Z)(a,6),h=f[0],p=f[1],m=f[2],v=f[3],g=f[4],y=f[5];return delete _.strokeLineDash,[t.polygon([[h,p],[m,v],[g,y],[h,p]],N(N({},_),{},{fill:e.strokeColor,fillStyle:"solid"}))]}var b=(0,o.Z)(a,6),w=b[0],x=b[1],E=b[2],k=b[3],C=b[4],S=b[5];if("dotted"===e.strokeStyle){var j=F(e.strokeWidth-1);_.strokeLineDash=[j[0],j[1]-1]}else delete _.strokeLineDash;return[t.line(E,k,w,x,_),t.line(C,S,w,x,_)]};if(null!==C){var T,I=A(e,n,"start",C);(T=n).push.apply(T,(0,r.Z)(I))}if(null!==j){var O,D=A(e,n,"end",j);(O=n).push.apply(O,(0,r.Z)(D))}}Y(e,n);break;case"freedraw":oe(e),n=(0,l.g6)(e.points)?t.polygon(e.points,N(N({},X(e)),{},{stroke:"none"})):null,Y(e,n);break;case"text":case"image":Y(e,null)}},J=function(e,t){var n,r=t?t.zoom:M.zoom,i=H.get(e),s=i&&i.canvasZoom!==r.value&&!(null!=t&&t.shouldCacheIgnoreZoom),l=(null===(n=(0,I.WJ)(e))||void 0===n?void 0:n.version)||null;if(!i||s||i.theme!==t.theme||i.boundTextElementVersion!==l){var f=function(e,t,n){var r,i=document.createElement("canvas"),s=i.getContext("2d"),l=U(e),f=0,h=0;if((0,a.bt)(e)||(0,a.F9)(e)){var p=(0,c.qf)(e),m=(0,o.Z)(p,4),v=m[0],g=m[1],y=m[2],b=m[3];i.width=(0,u.TE)(v,y)*window.devicePixelRatio*t.value+l*t.value*2,i.height=(0,u.TE)(g,b)*window.devicePixelRatio*t.value+l*t.value*2,f=e.x>v?(0,u.TE)(e.x,v)*window.devicePixelRatio*t.value:0,h=e.y>g?(0,u.TE)(e.y,g)*window.devicePixelRatio*t.value:0,s.translate(f,h)}else i.width=e.width*window.devicePixelRatio*t.value+l*t.value*2,i.height=e.height*window.devicePixelRatio*t.value+l*t.value*2;s.save(),s.translate(l*t.value,l*t.value),s.scale(window.devicePixelRatio*t.value,window.devicePixelRatio*t.value);var w=d.Z.canvas(i);return R(e,n)&&(s.filter=P),W(e,w,s,n),s.restore(),{element:e,canvas:i,theme:n.theme,canvasZoom:t.value,canvasOffsetX:f,canvasOffsetY:h,boundTextElementVersion:(null===(r=(0,I.WJ)(e))||void 0===r?void 0:r.version)||null}}(e,r,t);return H.set(e,f),f}return i},ee=function(e,t,n,r){var i=e.element,s=U(i),l=e.canvasZoom,d=(0,c.qf)(i),f=(0,o.Z)(d,4),p=f[0],m=f[1],v=f[2],g=f[3];(0,a.F9)(i)&&(p=Math.floor(p),v=Math.ceil(v),m=Math.floor(m),g=Math.ceil(g));var y=((p+v)/2+r.scrollX)*window.devicePixelRatio,b=((m+g)/2+r.scrollY)*window.devicePixelRatio,w=L(i,r),x="scale"in e.element&&!w?e.element.scale[0]:1,_="scale"in e.element&&!w?e.element.scale[1]:1;n.save(),n.scale(1/window.devicePixelRatio*x,1/window.devicePixelRatio*_);var E=(0,I.WJ)(i);if((0,a.Yv)(i)&&E){var k=document.createElement("canvas"),C=k.getContext("2d"),S=Math.max((0,u.TE)(p,v),(0,u.TE)(m,g));k.width=S*window.devicePixelRatio*l+s*e.canvasZoom*10,k.height=S*window.devicePixelRatio*l+s*e.canvasZoom*10;var j=(k.width-e.canvas.width)/2,A=(k.height-e.canvas.height)/2;C.translate(k.width/2,k.height/2),C.rotate(i.angle),C.drawImage(e.canvas,-e.canvas.width/2,-e.canvas.height/2,e.canvas.width,e.canvas.height);var T=(0,c.qf)(E),O=(0,o.Z)(T,6),D=O[4],N=O[5];C.rotate(-i.angle);var P=k.width/2-(D-p)*window.devicePixelRatio*l-j-s*l,M=k.height/2-(N-m)*window.devicePixelRatio*l-A-s*l;C.translate(-P,-M),C.clearRect(-(E.width/2+h.gK)*window.devicePixelRatio*l,-(E.height/2+h.gK)*window.devicePixelRatio*l,(E.width+2*h.gK)*window.devicePixelRatio*l,(E.height+2*h.gK)*window.devicePixelRatio*l),n.translate(y*x,b*_),n.drawImage(k,-(v-p)/2*window.devicePixelRatio-j/l-s,-(g-m)/2*window.devicePixelRatio-A/l-s,k.width/l,k.height/l)}else n.translate(y*x,b*_),n.rotate(i.angle*x*_),n.drawImage(e.canvas,-(v-p)/2*window.devicePixelRatio-s*e.canvasZoom/e.canvasZoom,-(g-m)/2*window.devicePixelRatio-s*e.canvasZoom/e.canvasZoom,e.canvas.width/e.canvasZoom,e.canvas.height/e.canvasZoom);n.restore()},te=function(e,t,n,r,i){var s=t.generator;switch(e.type){case"selection":n.save(),n.translate(e.x+r.scrollX,e.y+r.scrollY),n.fillStyle="rgba(0, 0, 200, 0.04)";var l=.5/r.zoom.value;n.fillRect(l,l,e.width,e.height),n.lineWidth=1/r.zoom.value,n.strokeStyle="rgb(105, 101, 219)",n.strokeRect(l,l,e.width,e.height),n.restore();break;case"freedraw":if($(e,s),r.isExporting){var f=(0,c.qf)(e),h=(0,o.Z)(f,4),p=h[0],m=h[1],v=h[2],g=h[3],y=(p+v)/2+r.scrollX,b=(m+g)/2+r.scrollY,w=(v-p)/2-(e.x-p),x=(g-m)/2-(e.y-m);n.save(),n.translate(y,b),n.rotate(e.angle),n.translate(-w,-x),W(e,t,n,r),n.restore()}else{var _=J(e,r);ee(_,0,n,r)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if($(e,s),r.isExporting){var E=(0,c.qf)(e),k=(0,o.Z)(E,4),C=k[0],S=k[1],j=k[2],A=k[3],T=(C+j)/2+r.scrollX,D=(S+A)/2+r.scrollY,N=(j-C)/2-(e.x-C),P=(A-S)/2-(e.y-S);if((0,a.iB)(e)){var M=(0,I.tl)(e);if((0,a.Yv)(M)){var L=O._.getBoundTextElementPosition(M,e);N=(j-C)/2-(L.x-C),P=(A-S)/2-(L.y-S)}}n.save(),n.translate(T,D),"image"===e.type&&n.scale(e.scale[0],e.scale[1]),R(e,r)&&(n.filter="none");var Z=(0,I.WJ)(e);if((0,a.Yv)(e)&&Z){var F=document.createElement("canvas"),z=F.getContext("2d"),B=Math.max((0,u.TE)(C,j),(0,u.TE)(S,A)),V=U(e);F.width=B*i.exportScale+10*V*i.exportScale,F.height=B*i.exportScale+10*V*i.exportScale,z.translate(F.width/2,F.height/2),z.scale(i.exportScale,i.exportScale),N=e.width/2-(e.x-C),P=e.height/2-(e.y-S),z.rotate(e.angle);var H=d.Z.canvas(F);z.translate(-N,-P),W(e,H,z,r),z.translate(N,P),z.rotate(-e.angle);var q=(0,c.qf)(Z),G=(0,o.Z)(q,6),Y=(C+j)/2-G[4],K=(S+A)/2-G[5];z.translate(-Y,-K),z.clearRect(-Z.width/2,-Z.height/2,Z.width,Z.height),n.scale(1/i.exportScale,1/i.exportScale),n.drawImage(F,-F.width/2,-F.height/2,F.width,F.height)}else n.rotate(e.angle),n.translate(-N,-P),W(e,t,n,r);n.restore()}else{var Q=J(e,r);ee(Q,0,n,r)}break;default:throw new Error("Unimplemented type ".concat(e.type))}},ne=function(e,t,n){if(void 0===n)return e.draw(t);var r={sets:t.sets,shape:t.shape,options:N(N({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(r)},re=function(e,t,n,r,i,s,d){var f=(0,c.qf)(e),p=(0,o.Z)(f,4),m=p[0],v=p[1],g=p[2],y=p[3],b=(g-m)/2-(e.x-m),w=(y-v)/2-(e.y-v);if((0,a.iB)(e)){var x=(0,I.tl)(e);if((0,a.Yv)(x)){var _=(0,c.qf)(x),E=(0,o.Z)(_,4),k=E[0],C=E[1],S=E[2],j=E[3],A=O._.getBoundTextElementPosition(x,e);b=(S-k)/2-(A.x-k),w=(j-C)/2-(A.y-C),i=i+A.x-e.x,s=s+A.y-e.y}}var T=180*e.angle/Math.PI,D=t.generator,N=n;if(e.link){var M=n.ownerDocument.createElementNS(h.hR,"a");M.setAttribute("href",e.link),N.appendChild(M),N=M}switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":$(e,D);var L=ne(t,G(e),h.zK),R=e.opacity/100;1!==R&&(L.setAttribute("stroke-opacity","".concat(R)),L.setAttribute("fill-opacity","".concat(R))),L.setAttribute("stroke-linecap","round"),L.setAttribute("transform","translate(".concat(i||0," ").concat(s||0,") rotate(").concat(T," ").concat(b," ").concat(w,")")),N.appendChild(L);break;case"line":case"arrow":var Z=(0,I.WJ)(e),F=n.ownerDocument.createElementNS(h.hR,"mask");if(Z){F.setAttribute("id","mask-".concat(e.id));var U=n.ownerDocument.createElementNS(h.hR,"rect");i=i||0,s=s||0,U.setAttribute("x","0"),U.setAttribute("y","0"),U.setAttribute("fill","#fff"),U.setAttribute("width","".concat(e.width+100+i)),U.setAttribute("height","".concat(e.height+100+s)),F.appendChild(U);var z=n.ownerDocument.createElementNS(h.hR,"rect"),B=O._.getBoundTextElementPosition(e,Z),V=i+B.x-e.x,W=s+B.y-e.y;z.setAttribute("x",V.toString()),z.setAttribute("y",W.toString()),z.setAttribute("fill","#000"),z.setAttribute("width","".concat(Z.width)),z.setAttribute("height","".concat(Z.height)),z.setAttribute("opacity","1"),F.appendChild(z)}$(e,D);var H=n.ownerDocument.createElementNS(h.hR,"g");Z&&H.setAttribute("mask","url(#mask-".concat(e.id,")"));var q=e.opacity/100;H.setAttribute("stroke-linecap","round"),G(e).forEach((function(n){var r=ne(t,n,h.zK);1!==q&&(r.setAttribute("stroke-opacity","".concat(q)),r.setAttribute("fill-opacity","".concat(q))),r.setAttribute("transform","translate(".concat(i||0," ").concat(s||0,") rotate(").concat(T," ").concat(b," ").concat(w,")")),"line"===e.type&&(0,l.g6)(e.points)&&"transparent"!==e.backgroundColor&&r.setAttribute("fill-rule","evenodd"),H.appendChild(r)})),N.appendChild(H),N.append(F);break;case"freedraw":$(e,D),oe(e);var Y=e.opacity/100,K=G(e),Q=K?ne(t,K,h.zK):n.ownerDocument.createElementNS(h.hR,"g");1!==Y&&(Q.setAttribute("stroke-opacity","".concat(Y)),Q.setAttribute("fill-opacity","".concat(Y))),Q.setAttribute("transform","translate(".concat(i||0," ").concat(s||0,") rotate(").concat(T," ").concat(b," ").concat(w,")")),Q.setAttribute("stroke","none");var X=n.ownerDocument.createElementNS(h.hR,"path");X.setAttribute("fill",e.strokeColor),X.setAttribute("d",ae(e)),Q.appendChild(X),N.appendChild(Q);break;case"image":var J=Math.round(e.width),ee=Math.round(e.height),te=(0,a.wi)(e)&&r[e.fileId];if(te){var re="image-".concat(te.id),ie=n.querySelector("#".concat(re));if(!ie){(ie=n.ownerDocument.createElementNS(h.hR,"symbol")).id=re;var se=n.ownerDocument.createElementNS(h.hR,"image");se.setAttribute("width","100%"),se.setAttribute("height","100%"),se.setAttribute("href",te.dataURL),ie.appendChild(se),N.prepend(ie)}var ce=n.ownerDocument.createElementNS(h.hR,"use");if(ce.setAttribute("href","#".concat(re)),d&&te.mimeType!==h.LO.svg&&ce.setAttribute("filter",P),ce.setAttribute("width","".concat(J)),ce.setAttribute("height","".concat(ee)),1!==e.scale[0]||1!==e.scale[1]){var ue=1!==e.scale[0]?-J:0,le=1!==e.scale[1]?-ee:0;ce.setAttribute("transform","scale(".concat(e.scale[0],", ").concat(e.scale[1],") translate(").concat(ue," ").concat(le,")"))}var de=n.ownerDocument.createElementNS(h.hR,"g");de.appendChild(ce),de.setAttribute("transform","translate(".concat(i||0," ").concat(s||0,") rotate(").concat(T," ").concat(b," ").concat(w,")")),N.appendChild(de)}break;default:if(!(0,a.iB)(e))throw new Error("Unimplemented type ".concat(e.type));var fe=e.opacity/100,he=n.ownerDocument.createElementNS(h.hR,"g");1!==fe&&(he.setAttribute("stroke-opacity","".concat(fe)),he.setAttribute("fill-opacity","".concat(fe))),he.setAttribute("transform","translate(".concat(i||0," ").concat(s||0,") rotate(").concat(T," ").concat(b," ").concat(w,")"));for(var pe=e.text.replace(/\r\n?/g,"\n").split("\n"),me=e.height/pe.length,ve=e.height-e.baseline,ge="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,ye=(0,u.dZ)(e.text)?"rtl":"ltr",be="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===ye?"end":"start",we=0;we<pe.length;we++){var xe=n.ownerDocument.createElementNS(h.hR,"text");xe.textContent=pe[we],xe.setAttribute("x","".concat(ge)),xe.setAttribute("y","".concat((we+1)*me-ve)),xe.setAttribute("font-family",(0,u.$g)(e)),xe.setAttribute("font-size","".concat(e.fontSize,"px")),xe.setAttribute("fill",e.strokeColor),xe.setAttribute("text-anchor",be),xe.setAttribute("style","white-space: pre;"),xe.setAttribute("direction",ye),he.appendChild(xe)}N.appendChild(he)}},ie=new WeakMap([]);function oe(e){var t=ae(e),n=new Path2D(t);return ie.set(e,n),n}function ae(e){return function(e){if(!e.length)return"";var t=e.length-1;return e.reduce((function(e,n,r,i){return r===t?e.push(n,se(n,i[0]),"L",i[0],"Z"):e.push(n,se(n,i[r+1])),e}),["M",e[0],"Q"]).join(" ").replace(ce,"$1")}(T(e.simulatePressure?e.points:e.points.length?e.points.map((function(t,n){var r=(0,o.Z)(t,2);return[r[0],r[1],e.pressures[n]]})):[[0,0,.5]],{simulatePressure:e.simulatePressure,size:4.25*e.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(e){return Math.sin(e*Math.PI/2)},last:!!e.lastCommittedPoint}))}function se(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var ce=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(e,t,n){"use strict";n.d(t,{Lu:function(){return C},Eu:function(){return N},M_:function(){return z}});var r,i=n(2577),o=n(1930),a=n(5284),s=n(1047),c=n(756),u=n(1868),l=n(3063),d=n(8982),f=n(6938),h=n(242),p=n(2325),m=n(8290),v=n(267),g=n(6340);!function(e){e.ACTIVE="active",e.AWAY="away",e.IDLE="idle"}(r||(r={}));var y=n(2335),b=n(4929),w=n(1974);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E,k=(0,g.Q5)(),C=2,S=function(e,t,n,r,i,o,a,s){var c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];e.save(),e.translate(o,a),e.rotate(s),c&&e.fillRect(t-o,n-a,r,i),e.strokeRect(t-o,n-a,r,i),e.restore()},j=function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),i&&e.stroke()},A=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];e.strokeStyle="#5e5ad8",e.setLineDash([]),e.fillStyle="rgba(255, 255, 255, 0.9)",o?e.fillStyle="rgba(134, 131, 226, 0.9)":a&&(e.fillStyle="rgba(177, 151, 252, 0.7)"),j(e,r[0],r[1],i/n.zoom.value,!a)},T=function(e,t,n,r){if(t.selectedLinearElement){e.save(),e.translate(n.scrollX,n.scrollY),e.lineWidth=1/n.zoom.value;var i=f._.getPointsGlobalCoordinates(r),o=f._.POINT_HANDLE_SIZE,a=t.editingLinearElement?o:o/2;i.forEach((function(r,i){var o,s,c=!(null===(o=t.editingLinearElement)||void 0===o||null===(s=o.selectedPointsIndices)||void 0===s||!s.includes(i));A(e,t,n,r,a,c)})),f._.getEditorMidPoints(r,t).filter((function(e){return null!==e})).forEach((function(r){var s;null!=t&&null!==(s=t.selectedLinearElement)&&void 0!==s&&s.segmentMidPointHoveredCoords&&f._.arePointsEqual(r,t.selectedLinearElement.segmentMidPointHoveredCoords)?t.editingLinearElement?(A(e,t,n,r,a,!1),I(r,e,n)):(I(r,e,n),A(e,t,n,r,a,!1)):(t.editingLinearElement||2===i.length)&&A(e,t,n,r,o/2,!1,!0)})),e.restore()}},I=function(e,t,n){t.fillStyle="rgba(105, 101, 219, 0.4)",j(t,e[0],e[1],f._.POINT_HANDLE_SIZE/n.zoom.value,!1)},O=function(e){var t,n=e.elements,p=e.appState,g=e.scale,b=e.rc,_=e.canvas,E=e.renderConfig;if(null===_)return{atLeastOneVisibleElement:!1};var j=E.renderScrollbars,A=void 0===j||j,O=E.renderSelection,D=void 0===O||O,N=E.renderGrid,R=void 0===N||N,Z=E.isExporting,z=E.selectionColor||a.black,B=_.getContext("2d");B.setTransform(1,0,0,1,0,0),B.save(),B.scale(g,g);var V=_.width/g,W=_.height/g;Z&&"dark"===E.theme&&(B.filter=y.ZF),"string"==typeof E.viewBackgroundColor?(("transparent"===E.viewBackgroundColor||5===E.viewBackgroundColor.length||9===E.viewBackgroundColor.length||/(hsla|rgba)\(/.test(E.viewBackgroundColor))&&B.clearRect(0,0,V,W),B.save(),B.fillStyle=E.viewBackgroundColor,B.fillRect(0,0,V,W),B.restore()):B.clearRect(0,0,V,W),B.save(),B.scale(E.zoom.value,E.zoom.value),R&&p.gridSize&&function(e,t,n,r,i,o){e.save(),e.strokeStyle="rgba(0,0,0,0.1)",e.beginPath();for(var a=n;a<n+i+2*t;a+=t)e.moveTo(a,r-t),e.lineTo(a,r+o+2*t);for(var s=r;s<r+o+2*t;s+=t)e.moveTo(n-t,s),e.lineTo(n+i+2*t,s);e.stroke(),e.restore()}(B,p.gridSize,-Math.ceil(E.zoom.value/p.gridSize)*p.gridSize+E.scrollX%p.gridSize,-Math.ceil(E.zoom.value/p.gridSize)*p.gridSize+E.scrollY%p.gridSize,V/E.zoom.value,W/E.zoom.value);var H=n.filter((function(e){return U(e,V,W,{zoom:E.zoom,offsetLeft:p.offsetLeft,offsetTop:p.offsetTop,scrollX:E.scrollX,scrollY:E.scrollY})})),q=void 0;if(H.forEach((function(e){try{var t;(0,l.lw)(e,b,B,E,p),(null===(t=p.editingLinearElement)||void 0===t?void 0:t.elementId)===e.id&&e&&(q=e),Z||F(e,B,p)}catch(e){console.error(e)}})),q&&T(B,p,E,q),p.selectionElement)try{(0,l.lw)(p.selectionElement,b,B,E,p)}catch(e){console.error(e)}(0,m.N1)(p)&&p.suggestedBindings.filter((function(e){return null!=e})).forEach((function(e){L(B,E,e)}));var G,Y=(0,u.eD)(n,p);if(1===Y.length&&(null===(t=p.editingLinearElement)||void 0===t?void 0:t.elementId)===Y[0].id&&T(B,p,E,Y[0]),p.selectedLinearElement&&p.selectedLinearElement.hoverPointIndex>=0&&function(e,t,n){var r,i,o=t.selectedLinearElement,a=o.elementId,s=o.hoverPointIndex;if(null===(r=t.editingLinearElement)||void 0===r||null===(i=r.selectedPointsIndices)||void 0===i||!i.includes(s)){var c=f._.getElement(a);if(c){var u=f._.getPointAtIndexGlobalCoordinates(c,s);e.save(),e.translate(n.scrollX,n.scrollY),I(u,e,n),e.restore()}}}(B,p,E),D&&!p.multiElement&&!p.editingLinearElement){var K,Q=(0,v.oY)(Y,p),X=Y.map((function(e){return e.id}));if(1===Y.length&&(0,w.bt)(Y[0])&&(null===(K=p.selectedLinearElement)||void 0===K?void 0:K.elementId)===Y[0].id&&!Y[0].locked&&T(B,p,E,Y[0]),Q){var $,J=n.reduce((function(e,t){var n=[];if(X.includes(t.id)&&!(0,h.zq)(p,t)&&n.push(z),E.remoteSelectedElementIds[t.id]&&n.push.apply(n,(0,o.Z)(E.remoteSelectedElementIds[t.id].map((function(e){var t,n=null===(t=p.collaborators.get(e))||void 0===t?void 0:t.avatarUrl;return(0,d.X)(n||e,p).background})))),n.length){var r=(0,s.qf)(t,!0),a=(0,i.Z)(r,6),c=a[0],u=a[1],l=a[2],f=a[3],m=a[4],v=a[5];e.push({angle:t.angle,elementX1:c,elementY1:u,elementX2:l,elementY2:f,selectionColors:n,dashed:!!E.remoteSelectedElementIds[t.id],cx:m,cy:v})}return e}),[]),ee=function(e){var t=(0,h.Fb)(n,e),r=(0,s.KP)(t),o=(0,i.Z)(r,4),c=o[0],u=o[1],l=o[2],d=o[3];J.push({angle:0,elementX1:c,elementX2:l,elementY1:u,elementY2:d,selectionColors:[a.black],dashed:!0,cx:c+(l-c)/2,cy:u+(d-u)/2})},te=x((0,h.iJ)(p));try{for(te.s();!($=te.n()).done;)ee($.value)}catch(e){te.e(e)}finally{te.f()}p.editingGroupId&&ee(p.editingGroupId),J.forEach((function(e){return M(B,E,e)}))}if(B.save(),B.translate(E.scrollX,E.scrollY),1===Y.length){B.fillStyle=a.white;var ne=(0,s.PC)(Y[0],E.zoom,"mouse");!p.viewModeEnabled&&Q&&P(B,E,ne,Y[0].angle)}else if(Y.length>1&&!p.isRotating){var re=2*C/E.zoom.value;B.fillStyle=a.white;var ie=(0,s.KP)(Y),oe=(0,i.Z)(ie,4),ae=oe[0],se=oe[1],ce=oe[2],ue=oe[3],le=B.getLineDash();B.setLineDash([2/E.zoom.value]);var de=B.lineWidth;B.lineWidth=1/E.zoom.value,B.strokeStyle=z,S(B,ae-re,se-re,ce-ae+2*re,ue-se+2*re,(ae+ce)/2,(se+ue)/2,0),B.lineWidth=de,B.setLineDash(le);var fe=(0,s.kK)([ae,se,ce,ue,(ae+ce)/2,(se+ue)/2],0,E.zoom,"mouse",s.ox);Y.some((function(e){return!e.locked}))&&P(B,E,fe,0)}B.restore()}for(var he in B.restore(),E.remotePointerViewportCoords){var pe,me=E.remotePointerViewportCoords[he],ve=me.x,ge=me.y;ve-=p.offsetLeft,ge-=p.offsetTop;var ye=ve<0||ve>V-9||ge<0||ge>W-14;ve=Math.max(ve,0),ve=Math.min(ve,V-9),ge=Math.max(ge,0),ge=Math.min(ge,W-14);var be=null===(pe=p.collaborators.get(he))||void 0===pe?void 0:pe.avatarUrl,we=(0,d.X)(be||he,p),xe=we.background,_e=we.stroke;B.save(),B.strokeStyle=_e,B.fillStyle=xe;var Ee=E.remotePointerUserStates[he];(ye||Ee===r.AWAY)&&(B.globalAlpha=.48),E.remotePointerButton&&"down"===E.remotePointerButton[he]&&(B.beginPath(),B.arc(ve,ge,15,0,2*Math.PI,!1),B.lineWidth=3,B.strokeStyle="#ffffff88",B.stroke(),B.closePath(),B.beginPath(),B.arc(ve,ge,15,0,2*Math.PI,!1),B.lineWidth=1,B.strokeStyle=_e,B.stroke(),B.closePath()),B.beginPath(),B.moveTo(ve,ge),B.lineTo(ve+1,ge+14),B.lineTo(ve+4,ge+9),B.lineTo(ve+9,ge+10),B.lineTo(ve,ge),B.fill(),B.stroke();var ke=E.remotePointerUsernames[he],Ce="";Ee===r.AWAY?Ce=k?"\u26ab\ufe0f":" (".concat(r.AWAY,")"):Ee===r.IDLE&&(Ce=k?"\ud83d\udca4":" (".concat(r.IDLE,")"));var Se="".concat(ke||"").concat(Ce?" ".concat(Ce):"");if(!ye&&Se){var je=ve+9,Ae=ge+14,Te=B.measureText(Se),Ie=Te.actualBoundingBoxDescent+Te.actualBoundingBoxAscent,Oe=je-1,De=Ae-1,Ne=Te.width+8+2,Pe=Ie+8+2;B.roundRect?(B.beginPath(),B.roundRect(Oe,De,Ne,Pe,4/E.zoom.value),B.fillStyle=xe,B.fill(),B.fillStyle=_e,B.stroke()):(B.fillStyle=_e,B.fillRect(Oe,De,Ne,Pe),B.fillStyle=xe,B.fillRect(je,Ae,Ne-2,Pe-2)),B.fillStyle=a.white,B.fillText(Se,je+4,Ae+4+Te.actualBoundingBoxAscent)}B.restore(),B.closePath()}return A&&(G=(0,c.tJ)(n,V,W,E),B.save(),B.fillStyle=c.w1,B.strokeStyle="rgba(255,255,255,0.8)",[G.horizontal,G.vertical].forEach((function(e){e&&function(e,t,n,r,i,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill(),e.stroke()}(B,e.x,e.y,e.width,e.height,c.nn/2)})),B.restore()),B.restore(),{atLeastOneVisibleElement:H.length>0,scrollBars:G}},D=(0,g.hR)((function(e){var t,n=O(e);null===(t=e.callback)||void 0===t||t.call(e,n)}),{trailing:!0}),N=function(e,t){var n;if(!t){var r=O(e);return null===(n=e.callback)||void 0===n||n.call(e,r),r}D(e)},P=function(e,t,n,r){Object.keys(n).forEach((function(o){var a=n[o];if(void 0!==a){var s=(0,i.Z)(a,4),c=s[0],u=s[1],l=s[2],d=s[3];e.save(),e.lineWidth=1/t.zoom.value,t.selectionColor&&(e.strokeStyle=t.selectionColor),"rotation"===o?j(e,c+l/2,u+d/2,l/2):e.roundRect?(e.beginPath(),e.roundRect(c,u,l,d,2/t.zoom.value),e.fill(),e.stroke()):S(e,c,u,l,d,c+l/2,u+d/2,r,!0),e.restore()}}))},M=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*C,i=n.angle,o=n.elementX1,a=n.elementY1,s=n.elementX2,c=n.elementY2,u=n.selectionColors,l=n.cx,d=n.cy,f=n.dashed,h=s-o,p=c-a,m=r/t.zoom.value,v=8/t.zoom.value,g=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;for(var y=u.length,b=0;b<y;++b)e.strokeStyle=u[b],f&&e.setLineDash([v,g+(v+g)*(y-1)]),e.lineDashOffset=(v+g)*b,S(e,o-m,a-m,h+2*m,p+2*m,l,d,i);e.restore()},L=function(e,t,n){var r=Array.isArray(n)?Z:R;e.save(),e.translate(t.scrollX,t.scrollY),r(e,n),e.restore()},R=function(e,t){var n=(0,s.qf)(t),r=(0,i.Z)(n,4),o=r[0],a=r[1],c=r[2]-o,u=r[3]-a,l=(0,p.fb)(t,c,u);e.strokeStyle="rgba(0,0,0,.05)",e.lineWidth=l-4;var d=2+l/2;switch(t.type){case"rectangle":case"text":case"image":S(e,o-d,a-d,c+2*d,u+2*d,o+c/2,a+u/2,t.angle);break;case"diamond":var f=Math.hypot(c,u);!function(e,t,n,r,i,o){e.save(),e.translate(r,i),e.rotate(o),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.restore()}(e,c+d*f/u*2,u+d*f/c*2,o+c/2,a+u/2,t.angle);break;case"ellipse":!function(e,t,n,r,i,o){e.beginPath(),e.ellipse(r,i,t/2,n/2,o,0,2*Math.PI),e.stroke()}(e,c+2*d,u+2*d,o+c/2,a+u/2,t.angle)}},Z=function(e,t){var n=(0,i.Z)(t,3),r=n[0],o=n[1],a=n[2],s=(0,p.fb)(a,a.width,a.height);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",("both"===o?[0,-1]:"start"===o?[0]:[-1]).forEach((function(t){var n=f._.getPointAtIndexGlobalCoordinates(r,t),o=(0,i.Z)(n,2),a=o[0],c=o[1];j(e,a,c,s)}))},F=function(e,t,n){if(e.link&&!n.selectedElementIds[e.id]){var r=(0,s.qf)(e),o=(0,i.Z)(r,4),a=o[0],c=o[1],u=o[2],l=o[3],d=(0,b.sw)([a,c,u,l],e.angle,n),f=(0,i.Z)(d,4),h=f[0],p=f[1],m=f[2],v=f[3],g=h+m/2,y=p+v/2;if(t.save(),t.translate(n.scrollX+g,n.scrollY+y),t.rotate(e.angle),E&&E.zoom===n.zoom.value)t.drawImage(E,h-g,p-y,m,v);else{(E=document.createElement("canvas")).zoom=n.zoom.value,E.width=m*window.devicePixelRatio*n.zoom.value,E.height=v*window.devicePixelRatio*n.zoom.value;var w=E.getContext("2d");w.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),w.fillStyle="#fff",w.fillRect(0,0,m,v),w.drawImage(b.rj,0,0,m,v),w.restore(),t.drawImage(E,h-g,p-y,m,v)}t.restore()}},U=function(e,t,n,r){var o=(0,s.Pi)(e),a=(0,i.Z)(o,4),c=a[0],u=a[1],l=a[2],d=a[3],f=(0,g.dE)({clientX:r.offsetLeft,clientY:r.offsetTop},r),h=(0,g.dE)({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return f.x<=l&&f.y<=d&&h.x>=c&&h.y>=u},z=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=i.offsetX,a=void 0===o?0:o,s=i.offsetY,c=void 0===s?0:s,u=i.exportWithDarkMode,d=void 0!==u&&u;n&&e.forEach((function(e,i){if(!e.isDeleted)try{(0,l.Rg)(e,t,n,r,e.x+a,e.y+c,d)}catch(e){console.error(e)}}))}},1564:function(e,t,n){"use strict";var r=n(1930),i=n(8821),o=n(5169),a=n(1047),s=function(e){return"string"==typeof e},c=function(){function e(){(0,i.Z)(this,e),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,o.Z)(e,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(e){return this.elementsMap.get(e)||null}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&(0,a.qP)(t)?t:null}},{key:"mapElements",value:function(e){var t=!1,n=this.elements.map((function(n){var r=e(n);return r!==n&&(t=!0),r}));return t&&this.replaceAllElements(n),t}},{key:"replaceAllElements",value:function(t){var n=this;this.elements=t,this.elementsMap.clear(),t.forEach((function(t){n.elementsMap.set(t.id,t),e.mapElementToScene(t,n)})),this.nonDeletedElements=(0,a.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var e=0,t=Array.from(this.callbacks);e<t.length;e++)(0,t[e])()}},{key:"addCallback",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}},{key:"destroy",value:function(){var t=this;e.sceneMapById.forEach((function(n,r){n===t&&e.sceneMapById.delete(r)})),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(e,t){if(!Number.isFinite(t)||t<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var n=[].concat((0,r.Z)(this.elements.slice(0,t)),[e],(0,r.Z)(this.elements.slice(t)));this.replaceAllElements(n)}},{key:"getElementIndex",value:function(e){return this.elements.findIndex((function(t){return t.id===e}))}}],[{key:"mapElementToScene",value:function(e,t){s(e)?this.sceneMapById.set(e,t):(this.sceneMapByElement.set(e,t),this.sceneMapById.set(e.id,t))}},{key:"getScene",value:function(e){return s(e)?this.sceneMapById.get(e)||null:this.sceneMapByElement.get(e)||null}}]),e}();c.sceneMapByElement=new WeakMap,c.sceneMapById=new Map,t.Z=c},8120:function(e,t,n){"use strict";n.d(t,{$b:function(){return r},CJ:function(){return d},M9:function(){return a},PD:function(){return i},QG:function(){return l},Un:function(){return u},Zd:function(){return o},bZ:function(){return c},sh:function(){return s}});var r=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"line"===e||"freedraw"===e},i=function(e){return"image"!==e},o=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"freedraw"===e||"arrow"===e||"line"===e},a=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},s=function(e){return"rectangle"===e||"arrow"===e||"line"===e||"diamond"===e},c=function(e){return"text"===e},u=function(e){return"arrow"===e},l=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var i=e[r];if(!i.isDeleted&&t(i)){n=i;break}}return n},d=function(e,t){return e.filter((function(e){return!e.isDeleted&&t(e)}))}},4162:function(e,t,n){"use strict";n.d(t,{$D:function(){return g},Cg:function(){return b},NL:function(){return v},oj:function(){return m}});var r=n(2577),i=n(8950),o=n(2975),a=n.n(o),s=n(8234),c=n(8925),u=n(3547),l=n(6340),d=n(2335),f=n(8897),h=n(5523),p=n(5637),m="\x3c!-- svg-source:excalidraw --\x3e",v=function(){var e=(0,i.Z)(a().mark((function e(t,n,i,o){var c,l,h,m,v,g,b,w,x,_,E,k,C,S,j,A,T,I,O=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.exportBackground,l=o.exportPadding,h=void 0===l?d.qy:l,m=o.viewBackgroundColor,v=O.length>4&&void 0!==O[4]?O[4]:function(e,t){var r=document.createElement("canvas");return r.width=e*n.exportScale,r.height=t*n.exportScale,{canvas:r,scale:n.exportScale}},g=y(t,h),b=(0,r.Z)(g,4),w=b[0],x=b[1],_=b[2],E=b[3],k=v(_,E),C=k.canvas,S=k.scale,j=void 0===S?1:S,A=(0,f.im)(),e.next=7,(0,p.Xx)({imageCache:new Map,fileIds:(0,p.oA)(t).map((function(e){return e.fileId})),files:i});case 7:return T=e.sent,I=T.imageCache,(0,u.Eu)({elements:t,appState:n,scale:j,rc:s.Z.canvas(C),canvas:C,renderConfig:{viewBackgroundColor:c?m:null,scrollX:-w+h,scrollY:-x+h,zoom:A.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:n.exportWithDarkMode?"dark":"light",imageCache:I,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}}),e.abrupt("return",C);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)(a().mark((function e(t,i,o){var c,l,f,p,v,g,b,w,x,_,E,k,C,S,j,A,T,I;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=i.exportPadding,l=void 0===c?d.qy:c,f=i.viewBackgroundColor,p=i.exportScale,v=void 0===p?1:p,g=i.exportEmbedScene,b="",!g){e.next=14;break}return e.prev=3,e.next=6,Promise.resolve().then(n.bind(n,673));case 6:return e.next=8,e.sent.encodeSvgMetadata({text:(0,h.I_)(t,i,o||{},"local")});case 8:b=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:return w=y(t,l),x=(0,r.Z)(w,4),_=x[0],E=x[1],k=x[2],C=x[3],(S=document.createElementNS(d.hR,"svg")).setAttribute("version","1.1"),S.setAttribute("xmlns",d.hR),S.setAttribute("viewBox","0 0 ".concat(k," ").concat(C)),S.setAttribute("width","".concat(k*v)),S.setAttribute("height","".concat(C*v)),i.exportWithDarkMode&&S.setAttribute("filter",d.ZF),j="https://excalidraw.com/",j=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@dwelle/excalidraw","@").concat("0.4.0-b1b5aaa"),null!==(A=j)&&void 0!==A&&A.startsWith("/")&&(j=j.replace("/","".concat(window.location.origin,"/"))),j="".concat(j,"/dist/excalidraw-assets/"),S.innerHTML="\n  ".concat(m,"\n  ").concat(b,'\n  <defs>\n    <style class="style-fonts">\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    </style>\n  </defs>\n  '),i.exportBackground&&f&&((T=S.ownerDocument.createElementNS(d.hR,"rect")).setAttribute("x","0"),T.setAttribute("y","0"),T.setAttribute("width","".concat(k)),T.setAttribute("height","".concat(C)),T.setAttribute("fill",f),S.appendChild(T)),I=s.Z.svg(S),(0,u.M_)(t,I,S,o||{},{offsetX:-_+l,offsetY:-E+l,exportWithDarkMode:i.exportWithDarkMode}),e.abrupt("return",S);case 29:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),y=function(e,t){var n=(0,c.KP)(e),i=(0,r.Z)(n,4),o=i[0],a=i[1],s=i[2],u=i[3];return[o,a,(0,l.TE)(o,s)+2*t,(0,l.TE)(a,u)+t+t]},b=function(e,t,n){var i=y(e,t).map((function(e){return Math.trunc(e*n)})),o=(0,r.Z)(i,4);return[o[2],o[3]]}},75:function(e,t,n){"use strict";n.d(t,{$b:function(){return a.$b},CJ:function(){return a.CJ},M9:function(){return a.M9},N:function(){return i.N},PR:function(){return i.PR},QG:function(){return a.QG},Un:function(){return a.Un},W:function(){return o.W},Yp:function(){return i.Yp},Zd:function(){return a.Zd},Zs:function(){return i.Zs},_4:function(){return r._4},bZ:function(){return a.bZ},eD:function(){return i.eD},j:function(){return s.j},sh:function(){return a.sh}});var r=n(756),i=n(1868),o=n(2264),a=n(8120),s=n(746)},2264:function(e,t,n){"use strict";n.d(t,{W:function(){return s},s:function(){return a}});var r=n(2577),i=n(1047),o=n(6340),a=function(e){var t=e.scenePoint,n=e.viewportDimensions,r=e.zoom;return{scrollX:n.width/2*(1/r.value)-t.x,scrollY:n.height/2*(1/r.value)-t.y}},s=function(e,t,n){if(!(e=(0,i.n_)(e)).length)return{scrollX:0,scrollY:0};var s=(0,i.KP)(e),c=(0,r.Z)(s,4),u=c[0],l=c[1],d=c[2],f=c[3];if(function(e,t,n){var i=(0,r.Z)(n,4),a=i[0],s=i[1],c=i[2],u=i[3],l=(0,o._i)({sceneX:a,sceneY:s},e),d=l.x,f=l.y,h=(0,o._i)({sceneX:c,sceneY:u},e),p=h.x,m=h.y;return p-d>e.width||m-f>e.height}(t,0,[u,l,d,f])){var h=(0,i.os)(e,(0,o.dE)({clientX:t.scrollX,clientY:t.scrollY},t)),p=(0,r.Z)(h,4);u=p[0],l=p[1],d=p[2],f=p[3]}return a({scenePoint:{x:(u+d)/2,y:(l+f)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})}},756:function(e,t,n){"use strict";n.d(t,{WM:function(){return s},_4:function(){return d},nn:function(){return c},tJ:function(){return l},w1:function(){return u}});var r=n(2577),i=n(1047),o=n(6340),a=n(5202),s=4,c=6,u="rgba(0,0,0,0.3)",l=function(e,t,n,u){var l=u.scrollX,d=u.scrollY,f=u.zoom;if(0===e.length)return{horizontal:null,vertical:null};var h=(0,i.KP)(e),p=(0,r.Z)(h,4),m=p[0],v=p[1],g=p[2],y=p[3],b=t/f.value,w=n/f.value,x=t-b,_=n-w,E={top:parseInt((0,o.IH)("sat")),bottom:parseInt((0,o.IH)("sab")),left:parseInt((0,o.IH)("sal")),right:parseInt((0,o.IH)("sar"))},k=(0,a.G3)().rtl,C=x/2-l+E.left,S=_/2-d+E.top,j=C+b-E.right,A=S+w-E.bottom,T=Math.min(m,C),I=Math.min(v,S),O=Math.max(g,j),D=Math.max(y,A);return{horizontal:C===T&&j===O?null:{x:Math.max(E.left,s)+(C-T)/(O-T)*t,y:n-c-Math.max(s,E.bottom),width:(j-C)/(O-T)*t-Math.max(2*s,E.left+E.right),height:c},vertical:S===I&&A===D?null:{x:k?Math.max(E.left,s):t-c-Math.max(E.right,s),y:(S-I)/(D-I)*n+Math.max(E.top,s),width:c,height:(A-S)/(D-I)*n-Math.max(2*s,E.top+E.bottom)}}},d=function(e,t,n){var i=[e.horizontal,e.vertical].map((function(e){return null!=e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),o=(0,r.Z)(i,2),a=o[0],s=o[1];return{isOverEither:a||s,isOverHorizontal:a,isOverVertical:s}}},1868:function(e,t,n){"use strict";n.d(t,{N:function(){return s},PR:function(){return c},Yp:function(){return a},Zs:function(){return l},eD:function(){return u}});var r=n(2577),i=n(1047),o=n(1974),a=function(e,t){var n=(0,i.qf)(t),a=(0,r.Z)(n,4),s=a[0],c=a[1],u=a[2],l=a[3];return e.filter((function(e){var t=(0,i.Pi)(e),n=(0,r.Z)(t,4),a=n[0],d=n[1],f=n[2],h=n[3];return!1===e.locked&&"selection"!==e.type&&!(0,o.Xh)(e)&&s<=a&&c<=d&&u>=f&&l>=h}))},s=function(e,t){return e.some((function(e){return t.selectedElementIds[e.id]}))},c=function(e,t,n){var r=Array.from(new Set(u(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.filter((function(e){return t.selectedElementIds[e.id]||n&&(0,o.Xh)(e)&&t.selectedElementIds[null==e?void 0:e.containerId]?e:null}))},l=function(e,t){return t.editingElement?[t.editingElement]:u(e,t,!0)}},746:function(e,t,n){"use strict";n.d(t,{E:function(){return o},j:function(){return i}});var r=n(2335),i=function(e){return Math.max(r.Zj,Math.min(e,30))},o=function(e,t){var n=e.viewportX,r=e.viewportY,i=e.nextZoom,o=n-t.offsetLeft,a=r-t.offsetTop,s=t.zoom.value;return{scrollX:t.scrollX+(o-o/s)+-(o-o/i),scrollY:t.scrollY+(a-a/s)+-(a-a/i),zoom:{value:i}}}},6340:function(e,t,n){"use strict";n.d(t,{$9:function(){return X},$g:function(){return k},AK:function(){return W},C3:function(){return ne},Ds:function(){return S},FG:function(){return H},Fc:function(){return b},G3:function(){return te},IH:function(){return z},Ip:function(){return J},KJ:function(){return D},OF:function(){return N},Om:function(){return I},Oo:function(){return w},PI:function(){return K},Pr:function(){return R},Q5:function(){return $},Qm:function(){return Y},TE:function(){return T},Uk:function(){return P},_Z:function(){return _},_i:function(){return U},ag:function(){return oe},cx:function(){return q},dE:function(){return F},dZ:function(){return V},h2:function(){return ie},hR:function(){return j},kr:function(){return ue},mO:function(){return C},qr:function(){return G},qz:function(){return ee},rB:function(){return M},s:function(){return E},tH:function(){return Q},uY:function(){return Z},v4:function(){return ae},wO:function(){return x},wo:function(){return L},xn:function(){return re},xp:function(){return ce},y8:function(){return se},yo:function(){return A},z8:function(){return O}});var r=n(6655),i=n(7169),o=n(1930),a=n(2577),s=n(5284),c=n(56),u=n(2335),l=n(5156),d=n(6066),f=n(9787),h=n.n(f);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v,g,y=null,b=function(){if(y)return y;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),i="".concat(e.getHours()).padStart(2,"0"),o="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(i).concat(o)},w=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},x=function(e){return e instanceof HTMLElement&&e.className.includes("ToolIcon")},_=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement},E=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},k=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(u.ut);n<r.length;n++){var i=(0,a.Z)(r[n],2),o=i[0];if(i[1]===t)return"".concat(o,", ").concat(u._D)}return u._D},C=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(k({fontFamily:n}))},S=function(e,t){var n=0,r=null,i=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r=o,clearTimeout(n),n=window.setTimeout((function(){r=null,e.apply(void 0,o)}),t)};return i.flush=function(){if(clearTimeout(n),r){var t=r;r=null,e.apply(void 0,(0,o.Z)(t))}},i.cancel=function(){r=null,clearTimeout(n)},i},j=function(e,t){var n=null,r=null,i=null,a=function t(a){n=window.requestAnimationFrame((function(){n=null,e.apply(void 0,(0,o.Z)(a)),r=null,i&&(r=i,i=null,t(r))}))},s=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];r=o,null===n?a(r):null!=t&&t.trailing&&(i=o)};return s.flush=function(){null!==n&&(cancelAnimationFrame(n),n=null),r&&(e.apply(void 0,(0,o.Z)(i||r)),r=i=null)},s.cancel=function(){r=i=null,null!==n&&(cancelAnimationFrame(n),n=null)},s},A=function(e,t){if(!e.length||t<1)return[];for(var n=0,r=0,i=Array(Math.ceil(e.length/t));n<e.length;)i[r++]=e.slice(n,n+=t);return i},T=function(e,t){return Math.abs(e-t)},I=function(e,t){return"custom"===t.type?m(m({},e.activeTool),{},{type:"custom",customType:t.customType}):m(m({},e.activeTool),{},{lastActiveToolBeforeEraser:void 0===t.lastActiveToolBeforeEraser?e.activeTool.lastActiveToolBeforeEraser:t.lastActiveToolBeforeEraser,type:t.type,customType:null})},O=function(e){e&&(e.style.cursor="")},D=function(e,t){e&&(e.style.cursor=t)},N=function(e,t){v&&v.theme===t||function(){var e=t===u.C6.DARK;(v=document.createElement("canvas")).theme=t,v.height=20,v.width=20;var n=v.getContext("2d");n.lineWidth=1,n.beginPath(),n.arc(v.width/2,v.height/2,5,0,2*Math.PI),n.fillStyle=e?s.black:s.white,n.fill(),n.strokeStyle=e?s.white:s.black,n.stroke(),g=v.toDataURL(u.LO.svg)}(),D(e,"url(".concat(g,") ").concat(10," ").concat(10,", auto"))},P=function(e,t){e&&("selection"===t.activeTool.type?O(e):"eraser"===t.activeTool.type?N(e,t.theme):["image","custom"].includes(t.activeTool.type)||(e.style.cursor=u.oc.CROSSHAIR))},M=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===e?void 0:e.nodeName)},L=function(){return document.documentElement.requestFullscreen()},R=function(){return document.exitFullscreen()},Z=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),d.Um?e.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},F=function(e,t){var n=e.clientX,r=e.clientY,i=t.zoom,o=t.offsetLeft,a=t.offsetTop,s=t.scrollX,c=t.scrollY,u=1/i.value;return{x:(n-o)*u-s,y:(r-a)*u-c}},U=function(e,t){var n=e.sceneX,r=e.sceneY,i=t.zoom,o=t.offsetLeft,a=t.offsetTop,s=t.scrollX,c=t.scrollY;return{x:(n+s)*i.value+o,y:(r+c)*i.value+a}},z=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},B=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),V=function(e){return B.test(e)},W=function(e){var t=(0,a.Z)(e,2);return{x:t[0],y:t[1]}},H=function(e){if("AbortError"!==(null==e?void 0:e.name))throw e;console.warn(e)},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return-1},G=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return-1},Y=function(e){var t=5===e.length&&"0"===e.substr(4,1),n=9===e.length&&"00"===e.substr(7,2);return t||n||e===c.Z.elementBackground[0]},K=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},Q=function(e){return function(t){(0,l.unstable_batchedUpdates)(e,t)}},X=function(e){return j((function(t){(0,l.unstable_batchedUpdates)(e,t)}))},$=function(){var e=document.createElement("canvas").getContext("2d");return!!e&&(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\ud83d\ude00",0,0),0!==e.getImageData(12,12,1,1).data[0])},J=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n||"overlay"===n))return t;t=t.parentElement}return document},ee=function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}},te=function(e){return Array.from(e).map((function(e){return"0".concat(e.toString(16)).slice(-2)})).join("")},ne=function(){return ie()?1:Date.now()},re=function(e){return e.reduce((function(e,t){return e.set("string"==typeof t?t:t.id,t),e}),new Map)},ie=function(){var e;return"undefined"!=typeof process&&"test"===(null===(e={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@dwelle/excalidraw",PKG_VERSION:"0.4.0-b1b5aaa",IS_EXCALIDRAW_NPM_PACKAGE:!0})||void 0===e?void 0:e.NODE_ENV)},oe=function(e,t){return new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0})},ae=function(e,t){var n=!1;for(var i in t){var o=t[i];if(void 0!==o){if(e[i]===o&&("object"!==(0,r.Z)(o)||null===o))continue;n=!0}}return n?m(m({},e),t):e},se=function(e){return!!e&&"object"===(0,r.Z)(e)&&"then"in e&&"catch"in e&&"finally"in e},ce=function(e){var t=null==e?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return t?Array.from(t).filter((function(e){return e.tabIndex>-1&&!e.disabled})):[]},ue=function(e){return h().Children.toArray(e).reduce((function(e,t){return h().isValidElement(t)&&"string"!=typeof t.type&&null!=t&&t.type.displayName&&(e[t.type.displayName]=t),e}),{})}},9669:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(e){"use strict";e.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(e){"use strict";e.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Cascadia.woff2"},3940:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Virgil.woff2"},9787:function(e){"use strict";e.exports=r},5156:function(e){"use strict";e.exports=i},9649:function(e,t,n){var r=n(8114).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new A(r||[]);return a(o,"_invoke",{value:k(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p={};function m(){}function v(){}function g(){}var y={};d(y,c,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&o.call(w,c)&&(y=w);var x=g.prototype=m.prototype=Object.create(y);function _(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,s,c){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=g,a(x,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=d(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},_(E.prototype),d(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(x),d(x,l,"Generator"),d(x,c,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8114:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2975:function(e,t,n){var r=n(9649)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},7017:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3173:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},8950:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},8821:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5169:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7169:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},2312:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},2248:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5901);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},2726:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},7245:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(6655),i=n(3173);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},5901:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},2577:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9139);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1930:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7017),i=n(9139);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6655:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},9139:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7017);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},5605:function(e,t,n){"use strict";n.d(t,{x0:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")}),"")}},5284:function(e){"use strict";e.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(e){"use strict";e.exports=JSON.parse('{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to file...","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn\'t add item to the library","errorRemovingFromLibrary":"Couldn\'t remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn\'t insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn\'t insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn\'t connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn\'t load library"},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn\'t export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it\'s filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"},"welcomeScreen":{"data":"All your data is saved locally in your browser.","switchToPlusApp":"Did you want to go to the Excalidraw+ instead?","menuHints":"Export, preferences, ...","toolbarHints":"Pick a tool & Start drawing!","helpHints":"Shortcuts & help"}}')}},m={};function v(e){var t=m[e];if(void 0!==t)return t.exports;var n=m[e]={id:e,exports:{}};return p[e](n,n.exports,v),n.exports}v.m=p,v.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return v.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},v.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);v.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},v.d(i,o),i},v.d=function(e,t){for(var n in t)v.o(t,n)&&!v.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},v.f={},v.e=function(e){return Promise.all(Object.keys(v.f).reduce((function(t,n){return v.f[n](e,t),t}),[]))},v.u=function(e){return"excalidraw-assets/vendor-2002fe1b8862917b36c1.js"},v.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),v.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},h="ExcalidrawLib:",v.l=function(e,t,r,i){if(n[e])n[e].push(t);else{var o,a;if(void 0!==r)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var u=s[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==h+r){o=u;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,v.nc&&o.setAttribute("nonce",v.nc),o.setAttribute("data-webpack",h+r),o.src=e),n[e]=[t];var l=function(t,r){o.onerror=o.onload=null,clearTimeout(d);var i=n[e];if(delete n[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),t)return t(r)},d=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),a&&document.head.appendChild(o)}},v.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.p="",function(){v.b=document.baseURI||self.location.href;var e={388:0};v.f.j=function(t,n){var r=v.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=v.p+v.u(t),a=new Error;v.l(o,(function(n){if(v.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,o=n[0],a=n[1],s=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)v.o(a,r)&&(v.m[r]=a[r]);s&&s(v)}for(t&&t(n);c<o.length;c++)i=o[c],v.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),v.nc=void 0;var g={};return function(){"use strict";v.r(g),v.d(g,{Excalidraw:function(){return ne},FONT_FAMILY:function(){return e.ut},Footer:function(){return F.Z},MIME_TYPES:function(){return e.LO},Sidebar:function(){return G.Y},THEME:function(){return e.C6},bumpVersion:function(){return W.ZP},cleanAppStateForExport:function(){return Y.s},clearAppStateForLocalStorage:function(){return Y.fx},defaultLang:function(){return T.Fp},exportToBlob:function(){return B.Fl},exportToCanvas:function(){return B.NL},exportToClipboard:function(){return B.i1},exportToSvg:function(){return B.$D},getDefaultAppState:function(){return Y.im},getFreeDrawSvgPath:function(){return B.N7},getNonDeletedElements:function(){return U.Lm},getSceneVersion:function(){return U.Uo},isInvisiblySmallElement:function(){return U.QD},isLinearElement:function(){return V.bt},jotaiScope:function(){return Z.yE},jotaiStore:function(){return Z.e_},languages:function(){return T.Mj},libraryItemsAtom:function(){return H.rF},loadFromBlob:function(){return B.cT},loadLibraryFromBlob:function(){return B.lV},loadSceneOrLibraryFromBlob:function(){return B.ZY},mergeLibraryItems:function(){return B.zh},mutateElement:function(){return W.DR},newElementWith:function(){return W.BE},parseLibraryTokensFromUrl:function(){return H.Di},restore:function(){return z.nu},restoreAppState:function(){return z.lY},restoreElements:function(){return z.ET},restoreLibraryItems:function(){return z.wJ},sceneCoordsToViewportCoords:function(){return q._i},serializeAsJSON:function(){return B.I_},serializeLibraryAsJSON:function(){return B.NI},useHandleLibrary:function(){return H.xS},viewportCoordsToSceneCoords:function(){return q.dE}});var e=v(2335);"production"!==e.Vi.TEST&&(v.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@dwelle/excalidraw","@").concat("0.4.0-b1b5aaa","/dist/"));var t=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0})},n=v(487),r=v.n(n),i=v(631),o=v.n(i),a=v(2052),s=v.n(a),c=v(4010),u=v.n(c),l=v(1469),d=v.n(l),f=v(9329),h=v.n(f),p=v(4295),m={};m.styleTagTransform=h(),m.setAttributes=u(),m.insert=s().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=d(),r()(p.Z,m),p.Z&&p.Z.locals&&p.Z.locals;var y=v(6479),b=v.n(y),w=v(9713),x=v.n(w),_=v(9787),E=v.n(_),k=v(8950),C=v(2577),S=v(2975),j=v.n(S),A=v(5440),T=v(5202),I=v(4512),O=function(e){var t=(0,_.useState)(!0),n=(0,C.Z)(t,2),r=n[0],i=n[1];return(0,_.useEffect)((function(){var t=function(){var e=(0,k.Z)(j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.m0)(n);case 2:i(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=T.Mj.find((function(t){return t.code===e.langCode}))||T.Fp;t()}),[e.langCode]),r?(0,I.jsx)(A.z,{theme:e.theme}):e.children},D=v(8149),N=v(9915),P={};P.styleTagTransform=h(),P.setAttributes=u(),P.insert=s().bind(null,"head"),P.domAPI=o(),P.insertStyleElement=d(),r()(N.Z,P),N.Z&&N.Z.locals&&N.Z.locals;var M=v(9310),L={};L.styleTagTransform=h(),L.setAttributes=u(),L.insert=s().bind(null,"head"),L.domAPI=o(),L.insertStyleElement=d(),r()(M.Z,L),M.Z&&M.Z.locals&&M.Z.locals;var R=v(4739),Z=v(9487),F=v(733),U=v(1047),z=v(679),B=v(3024),V=v(1974),W=v(1935),H=v(7053),q=v(6340),G=v(9430),Y=v(8897),K=["initialData","UIOptions"],Q=["initialData","UIOptions"];function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(t){var n,r,i,o=t.onChange,a=t.initialData,s=t.excalidrawRef,c=t.onCollabButtonClick,u=t.isCollaborating,l=void 0!==u&&u,d=t.onPointerUpdate,f=t.renderTopRightUI,h=t.renderSidebar,p=t.langCode,m=void 0===p?T.Fp.code:p,v=t.viewModeEnabled,g=t.zenModeEnabled,y=t.gridModeEnabled,b=t.libraryReturnUrl,w=t.theme,x=t.name,E=t.renderCustomStats,k=t.onPaste,C=t.detectScroll,S=void 0===C||C,j=t.handleKeyboardGlobally,A=void 0!==j&&j,N=t.onLibraryChange,P=t.autoFocus,M=void 0!==P&&P,L=t.generateIdForFile,F=t.onLinkOpen,U=t.onPointerDown,z=t.onScrollChange,B=t.id,V=t.onHomeButtonClick,W=t.onThemeToggle,H=t.children,q=null===(n=t.UIOptions)||void 0===n?void 0:n.canvasActions,G=$($({},t.UIOptions),{},{canvasActions:$($({},e.cW.canvasActions),q)});return null!=q&&q.export&&(G.canvasActions.export.saveFileToDisk=null!==(r=null===(i=q.export)||void 0===i?void 0:i.saveFileToDisk)&&void 0!==r?r:e.cW.canvasActions.export.saveFileToDisk),null===G.canvasActions.toggleTheme&&void 0===w&&(G.canvasActions.toggleTheme=!0),(0,_.useEffect)((function(){var e=function(e){"number"==typeof e.scale&&1!==e.scale&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchmove",e)}}),[]),(0,I.jsx)(O,{langCode:m,theme:w,children:(0,I.jsx)(R.zt,{unstable_createStore:function(){return Z.e_},scope:Z.yE,children:(0,I.jsx)(D.ZP,{id:B,onChange:o,initialData:a,excalidrawRef:s,onCollabButtonClick:c,isCollaborating:l,onPointerUpdate:d,renderTopRightUI:f,langCode:m,viewModeEnabled:v,zenModeEnabled:g,gridModeEnabled:y,libraryReturnUrl:b,theme:w,name:x,renderCustomStats:E,UIOptions:G,onPaste:k,detectScroll:S,handleKeyboardGlobally:A,onLibraryChange:N,autoFocus:M,generateIdForFile:L,onLinkOpen:F,onPointerDown:U,onScrollChange:z,renderSidebar:h,onHomeButtonClick:V,onThemeToggle:W,children:H})})})},ee=function(e,t){e.initialData;var n=e.UIOptions,r=void 0===n?{}:n,i=b()(e,K),o=(t.initialData,t.UIOptions),a=void 0===o?{}:o,s=b()(t,Q),c=Object.keys(r),u=Object.keys(a);if(c.length!==u.length)return!1;var l=c.every((function(e){return"canvasActions"===e&&Object.keys(r.canvasActions).every((function(e){var t,n,i,o;return"export"===e&&null!=r&&null!==(t=r.canvasActions)&&void 0!==t&&t.export&&null!=a&&null!==(n=a.canvasActions)&&void 0!==n&&n.export?r.canvasActions.export.saveFileToDisk===a.canvasActions.export.saveFileToDisk:(null==r||null===(i=r.canvasActions)||void 0===i?void 0:i[e])===(null==a||null===(o=a.canvasActions)||void 0===o?void 0:o[e])})),!0})),d=Object.keys(e),f=Object.keys(t);return l&&d.length===f.length&&d.every((function(e){return i[e]===s[e]}))},te=(0,_.forwardRef)((function(e,t){return(0,I.jsx)(J,$($({},e),{},{excalidrawRef:t}))})),ne=E().memo(te,ee);ne.displayName="Excalidraw",t()}(),g}())},2466:function(e,t,n){e.exports=n(71631)},64760:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(66797),a=n(42517),s=n(38164),c=n(98138),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",u),d="@firebase/app",f="[DEFAULT]",h=((i={})[d]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.Logger("@firebase/app"),m=function(){function e(e,t,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return c}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next()){var d=l.value;this._addComponent(d)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=f),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var v=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw l.create("duplicate-app",{appName:s});var c=new e(n,o,r);return t[s]=c,c},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&c.push("and"),a&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument",{appName:name});c.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:u,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!a.contains(t,e))throw l.create("no-app",{appName:e});return t[e]}function u(s){var c,u,d=s.name;if(n.has(d))return p.debug("There were multiple attempts to register component "+d+"."),"PUBLIC"===s.type?r[d]:null;if(n.set(d,s),"PUBLIC"===s.type){var f=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[d])throw l.create("invalid-app-argument",{appName:d});return e[d]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),r[d]=f,e.prototype[d]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,d).apply(this,s.multipleInstances?e:[])}}try{for(var h=o.__values(Object.keys(t)),m=h.next();!m.done;m=h.next()){var v=m.value;t[v]._addComponent(s)}}catch(g){c={error:g}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(c)throw c.error}}return"PUBLIC"===s.type?r[d]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(m);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,e)};var w=v;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(d,"0.6.11",t),e.registerVersion("fire-js","")}(w),t.default=w,t.firebase=w},52769:function(e,t,n){(function(){var e,t=n(64760).default,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in n||(n[a]={}),n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.v),reject:e(this.g)}},t.prototype.v=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.m(e):this.h(e)}},t.prototype.m=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.Pa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Pa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Pa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Pa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Pa(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},c=this||self,u=/^[\w+/_-]+[=]{0,2}$/,l=null;function d(){}function f(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function h(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now||function(){return+new Date};function k(e,t){function n(){}n.prototype=t.prototype,e.$a=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e,t,n){this.code=A+e,this.message=t||T[e]||"",this.a=n||null}function S(e){var t=e&&e.code;return t?new C(t.substring(A.length),e.message,e.serverResponse):null}k(C,Error),C.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},C.prototype.toJSON=function(){return this.w()};var j,A="auth/",T={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},I={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(e){for(var t in I)if(I[t].id===e)return{firebaseEndpoint:(e=I[t]).Sa,secureTokenEndpoint:e.Ya,identityPlatformEndpoint:e.Va};return null}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function N(e){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function P(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");N.call(this,n+e[r])}function M(e,t){throw new P("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function L(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function R(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function Z(){this.b=this.a=null}j=O("__EID__")?"__EID__":void 0,k(N,Error),N.prototype.name="CustomError",k(P,N),P.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var F=new L((function(){return new z}),(function(e){e.reset()}));function U(){var e=gt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function z(){this.next=this.b=this.a=null}Z.prototype.add=function(e,t){var n=F.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function G(e,t){return 0<=B(e,t)}function Y(e,t){var n;return(n=0<=(t=B(e,t)))&&Array.prototype.splice.call(e,t,1),n}function K(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Q(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var $,J=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ee=/&/g,te=/</g,ne=/>/g,re=/"/g,ie=/'/g,oe=/\x00/g,ae=/[\x00&<>"']/;function se(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var ue=c.navigator;if(ue){var le=ue.userAgent;if(le){$=le;break e}}$=""}function de(e){return se($,e)}function fe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function he(e){for(var t in e)return!1;return!0}function pe(e){var t,n={};for(t in e)n[t]=e[t];return n}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ge(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||c).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(m(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ye(e,t){this.a=e===xe&&t||"",this.b=we}function be(e){return e instanceof ye&&e.constructor===ye&&e.b===we?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}ye.prototype.sa=!0,ye.prototype.ra=function(){return this.a},ye.prototype.toString=function(){return"Const{"+this.a+"}"};var we={},xe={},_e=new ye(xe,"");function Ee(e,t){this.a=e===Te&&t||"",this.b=Ae}function ke(e){return e instanceof Ee&&e.constructor===Ee&&e.b===Ae?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=be(e);if(!je.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Se,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof ye?be(e):encodeURIComponent(String(e))})),new Ee(Te,e)}Ee.prototype.sa=!0,Ee.prototype.ra=function(){return this.a.toString()},Ee.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Se=/%{(\w+)}/g,je=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ae={},Te={};function Ie(e,t){this.a=e===Me&&t||"",this.b=Pe}function Oe(e){return e instanceof Ie&&e.constructor===Ie&&e.b===Pe?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Ie.prototype.sa=!0,Ie.prototype.ra=function(){return this.a.toString()},Ie.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var De=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ne(e){return e instanceof Ie?e:(e="object"==typeof e&&e.sa?e.ra():String(e),De.test(e)||(e="about:invalid#zClosurez"),new Ie(Me,e))}var Pe={},Me={};function Le(){this.a="",this.b=Ze}function Re(e){return e instanceof Le&&e.constructor===Le&&e.b===Ze?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}Le.prototype.sa=!0,Le.prototype.ra=function(){return this.a.toString()},Le.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ze={};function Fe(e){var t=new Le;return t.a=e,t}Fe("<!DOCTYPE html>");var Ue=Fe("");function ze(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Be(e){return ae.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ee,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(te,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ne,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(re,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ie,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(oe,"&#0;"))),e}function Ve(e){return Ve[" "](e),e}Fe("<br>"),Ve[" "]=d;var We,He=de("Opera"),qe=de("Trident")||de("MSIE"),Ge=de("Edge"),Ye=Ge||qe,Ke=de("Gecko")&&!(se($.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Qe=se($.toLowerCase(),"webkit")&&!de("Edge");function Xe(){var e=c.document;return e?e.documentMode:void 0}e:{var $e="",Je=function(){var e=$;return Ke?/rv:([^\);]+)(\)|;)/.exec(e):Ge?/Edge\/([\d\.]+)/.exec(e):qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qe?/WebKit\/(\S+)/.exec(e):He?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Je&&($e=Je?Je[1]:""),qe){var et=Xe();if(null!=et&&et>parseFloat($e)){We=String(et);break e}}We=$e}var tt,nt={};function rt(e){return function(e,t){var n=nt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=J(String(We)).split("."),r=J(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}tt=c.document&&qe?Xe():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(la){}var it=!qe||9<=Number(tt);function ot(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function at(e,t){fe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ut.hasOwnProperty(n)?e.setAttribute(ut[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var st,ct,ut={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function lt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||m(o)&&0<o.nodeType?r(o):V(ft(o)?X(o):o,r)}}function dt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function ft(e){if(e&&"number"==typeof e.length){if(m(e))return"function"==typeof e.item||"string"==typeof e.item;if(p(e))return"function"==typeof e.item}return!1}function ht(e){c.setTimeout((function(){throw e}),0)}function pt(){var e=c.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=dt(document,"IFRAME");e.style.display="none",function(e){var t=new Ee(Te,be(_e));ge(e,"HTMLIFrameElement"),e.src=ke(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(Re(Ue)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=x((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Fb;n.Fb=null,e()}},function(e){r.next={Fb:e},r=r.next,t.port2.postMessage(0)}}return function(e){c.setTimeout(e,0)}}function mt(e,t){ct||function(){if(c.Promise&&c.Promise.resolve){var e=c.Promise.resolve(void 0);ct=function(){e.then(yt)}}else ct=function(){var e=yt;!p(c.setImmediate)||c.Window&&c.Window.prototype&&!de("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(st||(st=pt()),st(e)):c.setImmediate(e)}}(),vt||(ct(),vt=!0),gt.add(e,t)}var vt=!1,gt=new Z;function yt(){for(var e;e=U();){try{e.a.call(e.b)}catch(t){ht(t)}R(F,e)}vt=!1}function bt(e,t){if(this.a=wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=d)try{var n=this;e.call(t,(function(e){Nt(n,xt,e)}),(function(e){if(!(e instanceof Ut))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Nt(n,_t,e)}))}catch(r){Nt(this,_t,r)}}var wt=0,xt=2,_t=3;function Et(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Et.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kt=new L((function(){return new Et}),(function(e){e.reset()}));function Ct(e,t,n){var r=kt.get();return r.g=e,r.b=t,r.f=n,r}function St(e){if(e instanceof bt)return e;var t=new bt(d);return Nt(t,xt,e),t}function jt(e){return new bt((function(t,n){n(e)}))}function At(e,t,n){Pt(e,t,n,null)||mt(_(t,e))}function Tt(e){return new bt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)At(e[o],_(i,o,!0),_(i,o,!1));else t(r)}))}function It(e,t){if(e.a==wt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==wt&&1==r?It(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Lt(n),Rt(n,i,_t,t)))}e.c=null}else Nt(e,_t,t)}function Ot(e,t){e.b||e.a!=xt&&e.a!=_t||Mt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(e,t,n,r){var i=Ct(null,null,null);return i.a=new bt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Ut?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Ot(e,i),i.a}function Nt(e,t,n){e.a==wt&&(e===n&&(t=_t,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Pt(n,e.Zc,e.$c,e)||(e.i=n,e.a=t,e.c=null,Mt(e),t!=_t||n instanceof Ut||function(e,t){e.g=!0,mt((function(){e.g&&Ft.call(null,t)}))}(e,n)))}function Pt(e,t,n,r){if(e instanceof bt)return Ot(e,Ct(t||d,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(m(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(c){o(c)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Mt(e){e.h||(e.h=!0,mt(e.fc,e))}function Lt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Rt(e,t,n,r){if(n==_t&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Zt(t,n,r);else try{t.c?t.g.call(t.f):Zt(t,n,r)}catch(i){Ft.call(null,i)}R(kt,t)}function Zt(e,t,n){t==xt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}bt.prototype.then=function(e,t,n){return Dt(this,p(e)?e:null,p(t)?t:null,n)},bt.prototype.$goog_Thenable=!0,(e=bt.prototype).na=function(e,t){return(e=Ct(e,e,t)).c=!0,Ot(this,e),this},e.s=function(e,t){return Dt(this,null,e,t)},e.cancel=function(e){if(this.a==wt){var t=new Ut(e);mt((function(){It(this,t)}),this)}},e.Zc=function(e){this.a=wt,Nt(this,xt,e)},e.$c=function(e){this.a=wt,Nt(this,_t,e)},e.fc=function(){for(var e;e=Lt(this);)Rt(this,e,this.a,this.i);this.h=!1};var Ft=ht;function Ut(e){N.call(this,e)}function zt(){0!=Bt&&(Vt[v(this)]=this),this.xa=this.xa,this.oa=this.oa}k(Ut,N),Ut.prototype.name="cancel";var Bt=0,Vt={};function Wt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Bt)){var t=v(e);if(0!=Bt&&e.oa&&0<e.oa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Vt[t]}}zt.prototype.xa=!1,zt.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ht=Object.freeze||function(e){return e},qt=!qe||9<=Number(tt),Gt=qe&&!rt("9"),Yt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",d,t),c.removeEventListener("test",d,t)}catch(n){}return e}();function Kt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Qt(e,t){if(Kt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ke){e:{try{Ve(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Kt.prototype.preventDefault=function(){this.defaultPrevented=!0},k(Qt,Kt);var Xt=Ht({2:"touch",3:"pen",4:"mouse"});Qt.prototype.preventDefault=function(){Qt.$a.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Gt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Qt.prototype.g=function(){return this.a};var $t="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function en(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Jt,this.va=this.Oa=!1}function tn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Ua=null}function nn(e){this.src=e,this.a={},this.b=0}function rn(e,t){var n=t.type;n in e.a&&Y(e.a[n],t)&&(tn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function on(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Ua==r)return i}return-1}nn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=on(e,t,r,i);return-1<a?(t=e[a],n||(t.Oa=!1)):((t=new en(t,this.src,o,!!r,i)).Oa=n,e.push(t)),t};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function cn(e,t,n,r,i){if(r&&r.once)ln(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=bn(n),e&&e[$t]?xn(e,t,n,m(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=gn(e);if(s||(e[an]=s=new nn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=vn,t=qt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=bn(n),e&&e[$t]?_n(e,t,n,m(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=bn(n),e&&e[$t]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=on(o=e.a[t],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=on(t,n,r,i)),(n=-1<e?t[e]:null)&&fn(n))}function fn(e){if("number"!==typeof e&&e&&!e.va){var t=e.src;if(t&&t[$t])rn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(rn(n,e),0==n.b&&(n.src=null,t[an]=null)):tn(e)}}}function hn(e){return e in sn?sn[e]:sn[e]="on"+e}function pn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(e,t){var n=e.listener,r=e.Ua||e.src;return e.Oa&&fn(e),n.call(r,t)}function vn(e,t){if(e.va)return!0;if(!qt){if(!t)e:{t=["window","event"];for(var n=c,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Qt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=pn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=pn(r[i],e,!1,t),n=n&&o}return n}return mn(e,new Qt(t,this))}function gn(e){return(e=e[an])instanceof nn?e:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(e){return p(e)?e:(e[yn]||(e[yn]=function(t){return e.handleEvent(t)}),e[yn])}function wn(){zt.call(this),this.v=new nn(this),this.$b=this,this.fb=null}function xn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function _n(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function En(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,c=a.Ua||a.src;a.Oa&&rn(e.v,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}function kn(e,t,n){if(p(e))n&&(e=x(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=x(e.handleEvent,e)}return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)}function Cn(e){var t=null;return new bt((function(n,r){-1==(t=kn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw c.clearTimeout(t),e}))}function Sn(e){if(e.V&&"function"==typeof e.V)return e.V();if("string"===typeof e)return e.split("");if(h(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function jn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.V||"function"!=typeof e.V){if(h(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function An(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof An)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Tn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];In(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)In(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function In(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k(wn,zt),wn.prototype[$t]=!0,wn.prototype.addEventListener=function(e,t,n,r){cn(this,e,t,n,r)},wn.prototype.removeEventListener=function(e,t,n,r){dn(this,e,t,n,r)},wn.prototype.dispatchEvent=function(e){var t,n=this.fb;if(n)for(t=[];n;n=n.fb)t.push(n);n=this.$b;var r=e.type||e;if("string"===typeof e)e=new Kt(e,n);else if(e instanceof Kt)e.target=e.target||n;else{var i=e;ve(e=new Kt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=En(a,r,!0,e)&&i}if(i=En(a=e.b=n,r,!0,e)&&i,i=En(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=En(a=e.b=t[o],r,!1,e)&&i;return i},wn.prototype.Da=function(){if(wn.$a.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)tn(n[r]);delete t.a[e],t.b--}}this.fb=null},(e=An.prototype).V=function(){Tn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Tn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return In(this.b,e)?this.b[e]:t},e.set=function(e,t){In(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(e,t){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,e instanceof Dn?(this.i=void 0!==t?t:e.i,Nn(this,e.f),this.l=e.l,this.a=e.a,Pn(this,e.g),this.c=e.c,Mn(this,er(e.b)),this.h=e.h):e&&(n=String(e).match(On))?(this.i=!!t,Nn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Pn(this,n[4]),this.c=Un(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!t,this.b=new Yn(null,this.i))}function Nn(e,t,n){e.f=n?Un(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Pn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Mn(e,t,n){t instanceof Yn?(e.b=t,function(e,t){t&&!e.f&&(Kn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xn(this,t),Jn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=zn(t,qn)),e.b=new Yn(t,e.i))}function Ln(e,t,n){e.b.set(t,n)}function Rn(e,t){return e.b.get(t)}function Zn(e){return e instanceof Dn?new Dn(e):new Dn(e,void 0)}function Fn(e,t,n,r){var i=new Dn(null,void 0);return e&&Nn(i,e),t&&(i.a=t),n&&Pn(i,n),r&&(i.c=r),i}function Un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Bn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Dn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(zn(t,Vn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(zn(t,Vn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(zn(n,"/"==n.charAt(0)?Hn:Wn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",zn(n,Gn)),e.join("")},Dn.prototype.resolve=function(e){var t=new Dn(this),n=!!e.f;n?Nn(t,e.f):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.c;if(n)Pn(t,e.g);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(se(i,"./")||se(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.b.toString(),n?Mn(t,er(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Vn=/[#\/\?@]/g,Wn=/[#\?:]/g,Hn=/[#\?]/g,qn=/[#\?@]/g,Gn=/#/g;function Yn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Kn(e){e.a||(e.a=new An,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qn(e){var t=jn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Yn(null,void 0);e=Sn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(e,t){Kn(e),t=tr(e,t),In(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,In((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Tn(e)))}function $n(e,t){return Kn(e),t=tr(e,t),In(e.a.b,t)}function Jn(e,t,n){Xn(e,t),0<n.length&&(e.c=null,e.a.set(tr(e,t),X(n)),e.b+=n.length)}function er(e){var t=new Yn;return t.c=e.c,e.a&&(t.a=new An(e.a),t.b=e.b),t}function tr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nr(e){var t=[];return ir(new rr,e,t),t.join("")}function rr(){}function ir(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ir(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),sr(r,n),n.push(":"),ir(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":sr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Yn.prototype).add=function(e,t){Kn(this),this.c=null,e=tr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Kn(this),this.a.forEach((function(n,r){V(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Kn(this);for(var e=this.a.V(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.V=function(e){Kn(this);var t=[];if("string"===typeof e)$n(this,e)&&(t=Q(t,this.a.get(tr(this,e))));else{e=this.a.V();for(var n=0;n<e.length;n++)t=Q(t,e[n])}return t},e.set=function(e,t){return Kn(this),this.c=null,$n(this,e=tr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(e,t){t.push('"',e.replace(ar,(function(e){var t=or[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),or[e]=t),t})),'"')}function cr(){var e=Ar();return qe&&!!tt&&11==tt||/Edge\/\d+/.test(e)}function ur(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function lr(e,t){t=t||c.window;var n="about:blank";e&&(n=Oe(Ne(e))),t.location.href=n}function dr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<dr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function fr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function hr(e){e=e||c.window;try{e.close()}catch(t){}}function pr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,se(n,"crios/")&&(t.target="_blank")),Cr(Ar())==Er&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ie?n:Ne("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ge(a=dt(document,"A"),"HTMLAnchorElement"),t instanceof Ie||t instanceof Ie||(t="object"==typeof t&&t.sa?t.ra():String(t),De.test(t)||(t="about:invalid#zClosurez"),t=new Ie(Me,t)),a.href=Oe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Oe(t),a&&(Ye&&se(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Fe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Be(e)+'">'),r=a.document)&&(r.write(Re(e)),r.close())):(a=r.open(Oe(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function gr(){var e=null;return new bt((function(t){"complete"==c.document.readyState?t():(e=function(){t()},ln(window,"load",e))})).s((function(t){throw dn(window,"load",e),t}))}function yr(e){return e=e||Ar(),!("file:"!==Nr()&&"ionic:"!==Nr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var e=c.window;try{return!(!e||e==e.top)}catch(t){return!1}}function wr(){return"undefined"!==typeof c.WorkerGlobalScope&&"function"===typeof c.importScripts}function xr(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function _r(){var e=xr();return"ReactNative"===e||"Node"===e}var Er="Firefox",kr="Chrome";function Cr(e){var t=e.toLowerCase();return se(t,"opera/")||se(t,"opr/")||se(t,"opios/")?"Opera":se(t,"iemobile")?"IEMobile":se(t,"msie")||se(t,"trident/")?"IE":se(t,"edge/")?"Edge":se(t,"firefox/")?Er:se(t,"silk/")?"Silk":se(t,"blackberry")?"Blackberry":se(t,"webos")?"Webos":!se(t,"safari/")||se(t,"chrome/")||se(t,"crios/")||se(t,"android")?!se(t,"chrome/")&&!se(t,"crios/")||se(t,"edge/")?se(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":kr:"Safari"}var Sr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function jr(e,t){t=t||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=xr())?r=Cr(i=Ar()):"Worker"===r&&(r=Cr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return c.navigator&&c.navigator.userAgent||""}function Tr(e,t){e=e.split("."),t=t||c;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ir(){try{var e=c.localStorage,t=Zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!cr()||!!c.indexedDB}catch(n){return wr()&&!!c.indexedDB}return!1}function Or(){return(Dr()||"chrome-extension:"===Nr()||yr())&&!_r()&&Ir()&&!wr()}function Dr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return c.location&&c.location.protocol||null}function Pr(e){return!fr(e=e||Ar())&&Cr(e)!=Er}function Mr(e){return"undefined"===typeof e?null:nr(e)}function Lr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Rr(e){if(null!==e)return JSON.parse(e)}function Zr(e){return e||Math.floor(1e9*Math.random()).toString()}function Fr(e){return"Safari"!=Cr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var e=c.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function zr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=xr(),this.b=fr(e)||"ReactNative"===t}function Br(){var e=c.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Vr(e){"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e)}function Wr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Hr(){return!(!Tr("fireauth.oauthhelper",c)&&!Tr("fireauth.iframe",c))}zr.prototype.get=function(){var e=c.navigator;return!e||"boolean"!==typeof e.onLine||!Dr()&&"chrome-extension:"!==Nr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,Gr={};function Yr(e){Gr[e]||(Gr[e]=!0,Vr(e))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Kr.abcd}catch(la){qr=!1}function Qr(e,t,n){qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Xr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Qr(e,n,t[n])}function $r(e){var t={};return Xr(t,e),t}function Jr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Qr(t,n,Jr(e[n]));return t}function ei(e){var t=e&&(e[oi]?"phone":null);if(!(t&&e&&e[ii]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",e[ii]),Qr(this,"displayName",e[ni]||null);var n=null;e[ri]&&(n=new Date(e[ri]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",t)}function ti(e){try{var t=new ai(e)}catch(n){t=null}return t}ei.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function ai(e){ei.call(this,e),Qr(this,"phoneNumber",e[oi])}function si(e){var t={},n=e[di],r=e[hi],i=e[pi];if(e=ti(e[fi]),!i||i!=ui&&i!=li&&!n||i==li&&!r||i==ci&&!e)throw Error("Invalid checkActionCode response!");i==li?(t[vi]=n||null,t[yi]=n||null,t[mi]=r):(t[vi]=r||null,t[yi]=r||null,t[mi]=n||null),t[gi]=e||null,Qr(this,wi,i),Qr(this,bi,Jr(t))}k(ai,ei),ai.prototype.w=function(){var e=ai.$a.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ci="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",di="email",fi="mfaInfo",hi="newEmail",pi="requestType",mi="email",vi="fromEmail",gi="multiFactorInfo",yi="previousEmail",bi="data",wi="operation";function xi(e){var t=Rn(e=Zn(e),_i)||null,n=Rn(e,Ei)||null,r=Rn(e,Si)||null;if(r=r&&Ai[r]||null,!t||!n||!r)throw new C("argument-error",_i+", "+Ei+"and "+Si+" are required in a valid action code URL.");Xr(this,{apiKey:t,operation:r,code:n,continueUrl:Rn(e,ki)||null,languageCode:Rn(e,Ci)||null,tenantId:Rn(e,ji)||null})}var _i="apiKey",Ei="oobCode",ki="continueUrl",Ci="languageCode",Si="mode",ji="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:ui,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Ti(e){try{return new xi(e)}catch(t){return null}}function Ii(e){var t=e[Mi];if("undefined"===typeof t)throw new C("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new C("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Oi];if(n&&"object"===typeof n){t=n[Zi];var r=n[Li];if(n=n[Ri],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new C("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new C("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new C("argument-error",Zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new C("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new C("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(t=e[Pi])&&"object"===typeof t){if("string"===typeof(t=t[Fi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new C("argument-error",Fi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new C("argument-error",Pi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Ni])&&"boolean"!==typeof t)throw new C("argument-error",Ni+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Di])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new C("argument-error",Di+" property must be a non empty string when specified.");this.i=e||null}var Oi="android",Di="dynamicLinkDomain",Ni="handleCodeInApp",Pi="iOS",Mi="url",Li="installApp",Ri="minimumVersion",Zi="packageName",Fi="bundleId";function Ui(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var zi=null;function Bi(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!zi){zi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===zi[o]&&(zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function Vi(e){var t=Hi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.g=e,this.c=t.exp,this.h=t.sub,E(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Wi(e){try{return new Vi(e)}catch(t){return null}}function Hi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Bi(e))}catch(r){}return null}Vi.prototype.S=function(){return this.f},Vi.prototype.i=function(){return this.b},Vi.prototype.toString=function(){return this.g};var qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Yi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Gi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Gi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Gi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:qi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Ki(e){for(var t in Yi)if(Yi[t].fa==e)return Yi[t];return null}function Qi(e){var t={};t["facebook.com"]=to,t["google.com"]=ro,t["github.com"]=no,t["twitter.com"]=io;var n=e&&e[$i];try{if(n)return t[n]?new t[n](e):new eo(e);if("undefined"!==typeof e[Xi])return new Ji(e)}catch(r){}return null}var Xi="idToken",$i="providerId";function Ji(e){var t=e[$i];if(!t&&e[Xi]){var n=Wi(e[Xi]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Qr(this,"providerId",t),Qr(this,"isNewUser",n)}function eo(e){Ji.call(this,e),Qr(this,"profile",Jr((e=Rr(e.rawUserInfo||"{}"))||{}))}function to(e){if(eo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(eo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function ro(e){if(eo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(e){if(eo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",e.screenName||null)}function oo(e){var t=Zn(e),n=Rn(t,"link"),r=Rn(Zn(n),"link");return t=Rn(t,"deep_link_id"),Rn(Zn(t),"link")||t||r||n||e}function ao(e,t){if(!e&&!t)throw new C("internal-error","Internal assert: no raw session string available");if(e&&t)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?so:co}k(eo,Ji),k(to,eo),k(no,eo),k(ro,eo),k(io,eo);var so="enroll",co="signin";function uo(){}function lo(e,t){return e.then((function(e){if(e[es]){var n=Wi(e[es]);if(!n||t!=n.h)throw new C("user-mismatch");return e}throw new C("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==A+"user-not-found"?new C("user-mismatch"):e}))}function fo(e,t){if(!t)throw new C("internal-error","failed to construct a credential");this.a=t,Qr(this,"providerId",e),Qr(this,"signInMethod",e)}function ho(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function po(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new fo(e.providerId,e.pendingToken)}catch(t){}return null}function mo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Qr(this,"idToken",t.idToken),t.accessToken&&Qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Qr(this,"accessToken",t.oauthToken),Qr(this,"secret",t.oauthTokenSecret)}Qr(this,"providerId",e),Qr(this,"signInMethod",n)}function vo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Qn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function go(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new mo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function yo(e,t){this.Pc=t||[],Xr(this,{providerId:e,isOAuthProvider:!0}),this.Hb={},this.ob=(Ki(e)||{}).Ja||null,this.nb=null}function bo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,e,[])}function wo(e){yo.call(this,e,Gi),this.a=[]}function xo(){wo.call(this,"facebook.com")}function _o(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new xo).credential({accessToken:t})}function Eo(){wo.call(this,"github.com")}function ko(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Eo).credential({accessToken:t})}function Co(){wo.call(this,"google.com"),this.Ca("profile")}function So(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new Co).credential({idToken:n,accessToken:t})}function jo(){yo.call(this,"twitter.com",qi)}function Ao(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function To(e,t,n){this.a=e,this.f=t,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Oo.EMAIL_LINK_SIGN_IN_METHOD?Oo.EMAIL_LINK_SIGN_IN_METHOD:Oo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(e){return e&&e.email&&e.password?new To(e.email,e.password,e.signInMethod):null}function Oo(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Do(e,t){if(!(t=No(t)))throw new C("argument-error","Invalid email link!");return new To(e,t.code,Oo.EMAIL_LINK_SIGN_IN_METHOD)}function No(e){return(e=Ti(e=oo(e)))&&e.operation===ui?e:null}function Po(e){if(!(e.cb&&e.bb||e.La&&e.ea))throw new C("internal-error");this.a=e,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Mo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Po(t)}return null}function Lo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.cb,code:e.a.bb}}function Ro(e){try{this.a=e||t.auth()}catch(n){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Zo(e,t){if(!e)throw new C("missing-verification-id");if(!t)throw new C("missing-verification-code");return new Po({cb:e,bb:t})}function Fo(e){if(e.temporaryProof&&e.phoneNumber)return new Po({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return So(o,n);case"facebook.com":return _o(n);case"github.com":return ko(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new fo(t,a):new mo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Uo(e){if(!e.isOAuthProvider)throw new C("invalid-oauth-provider")}function zo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Bo(e){return(e=e||{}).type?new zo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&S(e.error),e.postBody,e.tenantId):null}function Vo(){this.b=null,this.a=[]}ao.prototype.Ha=function(){return this.a?St(this.a):St(this.b)},ao.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ja=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},fo.prototype.ja=function(e){return _s(e,ho(this))},fo.prototype.b=function(e,t){var n=ho(this);return n.idToken=t,Es(e,n)},fo.prototype.c=function(e,t){return lo(ks(e,ho(this)),t)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ja=function(e){return _s(e,vo(this))},mo.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,Es(e,n)},mo.prototype.c=function(e,t){return lo(ks(e,vo(this)),t)},mo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},yo.prototype.Ka=function(e){return this.Hb=pe(e),this},k(bo,yo),k(wo,yo),wo.prototype.Ca=function(e){return G(this.a,e)||this.a.push(e),this},wo.prototype.Pb=function(){return X(this.a)},wo.prototype.credential=function(e,t){var n;if(!(n=m(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},k(xo,wo),Qr(xo,"PROVIDER_ID","facebook.com"),Qr(xo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(Eo,wo),Qr(Eo,"PROVIDER_ID","github.com"),Qr(Eo,"GITHUB_SIGN_IN_METHOD","github.com"),k(Co,wo),Qr(Co,"PROVIDER_ID","google.com"),Qr(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),k(jo,yo),Qr(jo,"PROVIDER_ID","twitter.com"),Qr(jo,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.ja=function(e){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?oc(e,Ds,{email:this.a,oobCode:this.f}):oc(e,ec,{email:this.a,password:this.f})},To.prototype.b=function(e,t){return this.signInMethod==Oo.EMAIL_LINK_SIGN_IN_METHOD?oc(e,Ns,{idToken:t,email:this.a,oobCode:this.f}):oc(e,qs,{idToken:t,email:this.a,password:this.f})},To.prototype.c=function(e,t){return lo(this.ja(e),t)},To.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Oo,{PROVIDER_ID:"password"}),Xr(Oo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Oo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ja=function(e){return e.eb(Lo(this))},Po.prototype.b=function(e,t){var n=Lo(this);return n.idToken=t,oc(e,nc,n)},Po.prototype.c=function(e,t){var n=Lo(this);return n.operation="REAUTH",lo(e=oc(e,rc,n),t)},Po.prototype.w=function(){var e={providerId:"phone"};return this.a.cb&&(e.verificationId=this.a.cb),this.a.bb&&(e.verificationCode=this.a.bb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Ro.prototype.eb=function(e,t){var n=this.a.a;return St(t.verify()).then((function(r){if("string"!==typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=m(e)?e.session:null,a=m(e)?e.phoneNumber:e;return i=o&&o.type==so?o.Ha().then((function(e){return function(e,t){return oc(e,Ys,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==co?o.Ha().then((function(t){return function(e,t){return oc(e,Ks,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return oc(e,Ws,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Xr(Ro,{PROVIDER_ID:"phone"}),Xr(Ro,{PHONE_SIGN_IN_METHOD:"phone"}),zo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},zo.prototype.S=function(){return this.h},zo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Ho=null;function qo(e){var t="unauthorized-domain",n=void 0,r=Zn(e);e=r.a,"chrome-extension"==(r=r.f)?n=ze("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=ze("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",C.call(this,t,n)}function Go(e,t,n){C.call(this,e,n),(e=t||{}).Ib&&Qr(this,"email",e.Ib),e.ea&&Qr(this,"phoneNumber",e.ea),e.credential&&Qr(this,"credential",e.credential),e.Yb&&Qr(this,"tenantId",e.Yb)}function Yo(e){if(e.code){var t=e.code||"";0==t.indexOf(A)&&(t=t.substring(A.length));var n={credential:Fo(e),Yb:e.tenantId};if(e.email)n.Ib=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new C(t,e.message||void 0);return new Go(t,n,e.message)}return null}function Ko(){}function Qo(e){return e.c||(e.c=e.b())}function Xo(){}function $o(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Jo(){}function ea(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.pc,this),this.a.onerror=x(this.Rb,this),this.a.onprogress=x(this.qc,this),this.a.ontimeout=x(this.uc,this)}function ta(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function na(e,t,n){this.reset(e,t,n,void 0,void 0)}k(qo,C),k(Go,C),Go.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ve(e,t),e},Go.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,k(Xo,Ko),Xo.prototype.a=function(){var e=$o(this);return e?new ActiveXObject(e):new XMLHttpRequest},Xo.prototype.b=function(){var e={};return $o(this)&&(e[0]=!0,e[1]=!0),e},Wo=new Xo,k(Jo,Ko),Jo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ea;throw Error("Unsupported browser")},Jo.prototype.b=function(){return{}},(e=ea.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ta(this,4)},e.Rb=function(){this.status=500,this.response=this.responseText="",ta(this,4)},e.uc=function(){this.Rb()},e.qc=function(){this.status=200,ta(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},na.prototype.a=null;function ra(e){this.f=e,this.b=this.c=this.a=null}function ia(e,t){this.name=e,this.value=t}na.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||E(),delete this.a},ia.prototype.toString=function(){return this.name};var oa=new ia("SEVERE",1e3),aa=new ia("WARNING",900),sa=new ia("CONFIG",700),ca=new ia("FINE",500);function ua(e){return e.c?e.c:e.a?ua(e.a):(M("Root logger has no level set."),null)}ra.prototype.log=function(e,t,n){if(e.value>=ua(this).value)for(p(t)&&(t=t()),e=new na(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var la,da={},fa=null;function ha(e){var t;if(fa||(fa=new ra(""),da[""]=fa,fa.c=sa),!(t=da[e])){t=new ra(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ha(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,da[e]=t}return t}function pa(e,t){e&&e.log(ca,t,void 0)}function ma(e){this.f=e}function va(e){wn.call(this),this.o=e,this.readyState=ga,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ha("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(ma,Ko),ma.prototype.a=function(){return new va(this.f)},ma.prototype.b=(la={},function(){return la}),k(va,wn);var ga=0;function ya(e){e.c.read().then(e.oc.bind(e)).catch(e.Ta.bind(e))}function ba(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,wa(e)}function wa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function xa(e){wn.call(this),this.headers=new An,this.O=e||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=_a,this.u=this.R=!1}(e=va.prototype).open=function(e,t){if(this.readyState!=ga)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,wa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.tc.bind(this),this.Ta.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ba(this,!1)),this.readyState=ga},e.tc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,wa(this)),this.a&&(this.readyState=3,wa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):"undefined"!==typeof c.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,ya(this)):e.text().then(this.sc.bind(this),this.Ta.bind(this)))))},e.oc=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ba(this,!0):wa(this),3==this.readyState&&ya(this)}},e.sc=function(e){this.a&&(this.response=this.responseText=e,ba(this,!0))},e.rc=function(e){this.a&&(this.response=e,ba(this,!0))},e.Ta=function(e){var t=this.h;t&&t.log(aa,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ba(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(aa,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(aa,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},k(xa,wn);var _a="";xa.prototype.b=ha("goog.net.XhrIo");var Ea=/^https?$/i,ka=["POST","PUT"];function Ca(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.G=!1,e.c=!0,e.a=e.O?e.O.a():Wo.a(),e.A=e.O?Qo(e.O):Qo(Wo),e.a.onreadystatechange=x(e.Ub,e);try{pa(e.b,Pa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return pa(e.b,Pa(e,"Error opening Xhr: "+a.message)),void ja(e,a)}t=r||"";var o=new An(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(h(e)||"string"===typeof e)V(e,t,void 0);else for(var n=jn(e),r=Sn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Sa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=c.FormData&&t instanceof c.FormData,!G(ka,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{Oa(e),0<e.g&&(e.u=function(e){return qe&&rt(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),pa(e.b,Pa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=x(e.Ma,e)):e.o=kn(e.Ma,e.g,e)),pa(e.b,Pa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){pa(e.b,Pa(e,"Send error: "+a.message)),ja(e,a)}}function Sa(e){return"content-type"==e.toLowerCase()}function ja(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Aa(e),Ia(e)}function Aa(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ta(e){if(e.c&&"undefined"!=typeof s)if(e.A[1]&&4==Da(e)&&2==Na(e))pa(e.b,Pa(e,"Local request error detected and ignored"));else if(e.i&&4==Da(e))kn(e.Ub,0,e);else if(e.dispatchEvent("readystatechange"),4==Da(e)){pa(e.b,Pa(e,"Request complete")),e.c=!1;try{var t,n=Na(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(On)[1]||null;if(!o&&c.self&&c.self.location){var a=c.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var u=2<Da(e)?e.a.statusText:""}catch(l){pa(e.b,"Can not get status: "+l.message),u=""}e.h=u+" ["+Na(e)+"]",Aa(e)}}finally{Ia(e)}}}function Ia(e,t){if(e.a){Oa(e);var n=e.a,r=e.A[0]?d:null;e.a=null,e.A=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(oa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Oa(e){e.a&&e.u&&(e.a.ontimeout=null),e.o&&(c.clearTimeout(e.o),e.o=null)}function Da(e){return e.a?e.a.readyState:0}function Na(e){try{return 2<Da(e)?e.a.status:-1}catch(t){return-1}}function Pa(e,t){return t+" ["+e.P+" "+e.l+" "+Na(e)+"]"}function Ma(e){var t=qa;this.g=[],this.u=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function La(e,t,n){e.a=!0,e.c=n,e.f=!t,Ua(e)}function Ra(e){if(e.a){if(!e.m)throw new za(e);e.m=!1}}function Za(e,t,n,r){e.g.push([t,n,r]),e.a&&Ua(e)}function Fa(e){return q(e.g,(function(e){return p(e[1])}))}function Ua(e){if(e.h&&e.a&&Fa(e)){var t=e.h,n=Wa[t];n&&(c.clearTimeout(n.a),delete Wa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.o,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(D(t)||"function"===typeof c.Promise&&t instanceof c.Promise)&&(r=!0,e.i=!0)}catch(u){t=u,e.f=!0,Fa(e)||(n=!0)}}e.c=t,r&&(s=x(e.v,e,!0),r=x(e.v,e,!1),t instanceof Ma?(Za(t,s,r),t.A=!0):t.then(s,r)),n&&(t=new Va(t),Wa[t.a]=t,e.h=t.a)}function za(){N.call(this)}function Ba(){N.call(this)}function Va(e){this.a=c.setTimeout(x(this.c,this),0),this.b=e}(e=xa.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,Pa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(pa(this.b,Pa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ia(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ia(this,!0)),xa.$a.Da.call(this)},e.Ub=function(){this.xa||(this.N||this.i||this.f?Ta(this):this.Ic())},e.Ic=function(){Ta(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case _a:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return pa(this.b,"Can not get response: "+t.message),null}},Ma.prototype.cancel=function(e){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(e=new Ba(this),Ra(this),La(this,!1,e))}},Ma.prototype.v=function(e,t){this.i=!1,La(this,e,t)},Ma.prototype.then=function(e,t,n){var r,i,o=new bt((function(e,t){r=e,i=t}));return Za(this,r,(function(e){e instanceof Ba?o.cancel():i(e)})),o.then(e,t,n)},Ma.prototype.$goog_Thenable=!0,k(za,N),za.prototype.message="Deferred has already fired",za.prototype.name="AlreadyCalledError",k(Ba,N),Ba.prototype.message="Deferred was canceled",Ba.prototype.name="CanceledError",Va.prototype.c=function(){throw delete Wa[this.a],this.b};var Wa={};function Ha(e){var t={},n=t.document||document,r=ke(e).toString(),i=dt(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Ma(o),s=null,d=null!=t.timeout?t.timeout:5e3;return 0<d&&(s=window.setTimeout((function(){Ga(i,!0);var e=new Qa(Ka,"Timeout reached for loading script "+r);Ra(a),La(a,!1,e)}),d),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ga(i,t.wd||!1,s),Ra(a),La(a,!0,null))},i.onerror=function(){Ga(i,!0,s);var e=new Qa(Ya,"Error while loading script "+r);Ra(a),La(a,!1,e)},ve(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),at(i,o),function(e,t){ge(e,"HTMLScriptElement"),e.src=ke(t),null===l&&(l=(t=(t=c.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""),(t=l)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function qa(){if(this&&this.Vb){var e=this.Vb;e&&"SCRIPT"==e.tagName&&Ga(e,!0,this.Ma)}}function Ga(e,t,n){null!=n&&c.clearTimeout(n),e.onload=d,e.onerror=d,e.onreadystatechange=d,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ya=0,Ka=1;function Qa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),N.call(this,n),this.code=e}function Xa(e){this.f=e}function $a(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=e.secureTokenTimeout||ts,this.g=pe(e.secureTokenHeaders||ns),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=e.firebaseTimeout||rs,this.a=pe(e.firebaseHeaders||is),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==xr(),!(r=c.XMLHttpRequest||r&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!wr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new ma(self):_r()?this.f=new Xa(r):this.f=new Jo,this.b=null}k(Qa,N),k(Xa,Ko),Xa.prototype.a=function(){return new this.f},Xa.prototype.b=function(){return{}};var Ja,es="idToken",ts=new zr(3e4,6e4),ns={"Content-Type":"application/x-www-form-urlencoded"},rs=new zr(3e4,6e4),is={"Content-Type":"application/json"};function os(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function as(e,t){t&&(e.l=ss("https://securetoken.googleapis.com/v1/token",t),e.h=ss("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ss("https://identitytoolkit.googleapis.com/v2/",t))}function ss(e,t){return e=Zn(e),t=Zn(t.url),e.c=e.a+e.c,Nn(e,t.f),e.a=t.a,Pn(e,t.g),e.toString()}function cs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function us(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e=Cr(e)!=kr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!qe||!tt||9<tt)})()||wr()?e=x(e.u,e):(Ja||(Ja=new bt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{c[ds]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Za(e,null,t,void 0)}(Ha(Ce(ls,{onload:ds})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=x(e.o,e)),e(t,n,r,i,o,a)}$a.prototype.S=function(){return this.b},$a.prototype.u=function(e,t,n,r,i,o){if(wr()&&("undefined"===typeof c.fetch||"undefined"===typeof c.Headers||"undefined"===typeof c.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new xa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}xn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return pa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),_n(a,"ready",(function(){s&&clearTimeout(s),Wt(this)})),_n(a,"timeout",(function(){s&&clearTimeout(s),Wt(this),t&&t(null)})),Ca(a,e,n,r,i)};var ls=new ye(xe,"https://apis.google.com/js/client.js?onload=%{onload}"),ds="__fcb"+Math.floor(1e6*Math.random()).toString();function fs(e,t,n,r,i,o,a){var s=Zn(t+n);Ln(s,"key",e.c),a&&Ln(s,"cb",E().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&Ln(s,u,i[u]);return new bt((function(t,n){us(e,s.toString(),(function(e){e?e.error?n(sc(e,o||{})):t(e):n(new C("network-request-failed"))}),r,c?void 0:nr(Lr(i)),e.a,e.m.get())}))}function hs(e){if("string"!==typeof(e=e.email)||!vr.test(e))throw new C("invalid-email")}function ps(e){"email"in e&&hs(e)}function ms(e){if(!e[es]){if(e.mfaPendingCredential)throw new C("multi-factor-auth-required",null,pe(e));throw new C("internal-error")}}function vs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new C("internal-error")}else{if(!e.sessionInfo)throw new C("missing-verification-id");if(!e.code)throw new C("missing-verification-code")}}$a.prototype.o=function(e,t,n,r,i){var o=this;Ja.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},$a.prototype.yb=function(){return oc(this,Gs,{})},$a.prototype.Ab=function(e,t){return oc(this,Hs,{idToken:e,email:t})},$a.prototype.Bb=function(e,t){return oc(this,qs,{idToken:e,password:t})};var gs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ys(e){if(!e.phoneVerificationInfo)throw new C("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new C("missing-verification-code")}function bs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new C("internal-error")}function ws(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&($n(e=new Yn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function xs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Yo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Yo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Yo(e)):e.errorMessage&&(t=ac(e.errorMessage)),t)throw t;ms(e)}function _s(e,t){return t.returnIdpCredential=!0,oc(e,Qs,t)}function Es(e,t){return t.returnIdpCredential=!0,oc(e,$s,t)}function ks(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,oc(e,Xs,t)}function Cs(e){if(!e.oobCode)throw new C("invalid-action-code")}(e=$a.prototype).Cb=function(e,t){var n={idToken:e},r=[];return fe(gs,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),oc(this,Hs,n)},e.ub=function(e,t){return ve(e={requestType:"PASSWORD_RESET",email:e},t),oc(this,Us,e)},e.vb=function(e,t){return ve(e={requestType:"EMAIL_SIGNIN",email:e},t),oc(this,Rs,e)},e.tb=function(e,t){return ve(e={requestType:"VERIFY_EMAIL",idToken:e},t),oc(this,Zs,e)},e.Db=function(e,t,n){return ve(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),oc(this,Fs,e)},e.eb=function(e){return oc(this,tc,e)},e.mb=function(e,t){return oc(this,Vs,{oobCode:e,newPassword:t})},e.Qa=function(e){return oc(this,js,{oobCode:e})},e.ib=function(e){return oc(this,Ss,{oobCode:e})};var Ss={endpoint:"setAccountInfo",B:Cs,Z:"email",C:!0},js={endpoint:"resetPassword",B:Cs,F:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new C("internal-error")},C:!0},As={endpoint:"signupNewUser",B:function(e){if(hs(e),!e.password)throw new C("weak-password")},F:ms,U:!0,C:!0},Ts={endpoint:"createAuthUri",C:!0},Is={endpoint:"deleteAccount",M:["idToken"]},Os={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(e){if("array"!=f(e.deleteProvider))throw new C("internal-error")}},Ds={endpoint:"emailLinkSignin",M:["email","oobCode"],B:hs,F:ms,U:!0,C:!0},Ns={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:hs,F:ms,U:!0},Ps={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:ys,F:ms,C:!0,Na:!0},Ms={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:ys,F:ms,C:!0,Na:!0},Ls={endpoint:"getAccountInfo"},Rs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new C("internal-error");hs(e)},Z:"email",C:!0},Zs={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new C("internal-error")},Z:"email",C:!0},Fs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new C("internal-error")},Z:"email",C:!0},Us={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(e){if("PASSWORD_RESET"!=e.requestType)throw new C("internal-error");hs(e)},Z:"email",C:!0},zs={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Bs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(e){if(!e.recaptchaSiteKey)throw new C("internal-error")}},Vs={endpoint:"resetPassword",B:Cs,Z:"email",C:!0},Ws={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Hs={endpoint:"setAccountInfo",M:["idToken"],B:ps,U:!0},qs={endpoint:"setAccountInfo",M:["idToken"],B:function(e){if(ps(e),!e.password)throw new C("weak-password")},F:ms,U:!0},Gs={endpoint:"signupNewUser",F:ms,U:!0,C:!0},Ys={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(e){if(!e.phoneEnrollmentInfo)throw new C("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},F:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new C("internal-error")},C:!0,Na:!0},Ks={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},F:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new C("internal-error")},C:!0,Na:!0},Qs={endpoint:"verifyAssertion",B:bs,Xa:ws,F:xs,U:!0,C:!0},Xs={endpoint:"verifyAssertion",B:bs,Xa:ws,F:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new C("user-not-found");if(e.errorMessage)throw ac(e.errorMessage);ms(e)},U:!0,C:!0},$s={endpoint:"verifyAssertion",B:function(e){if(bs(e),!e.idToken)throw new C("internal-error")},Xa:ws,F:xs,U:!0},Js={endpoint:"verifyCustomToken",B:function(e){if(!e.token)throw new C("invalid-custom-token")},F:ms,U:!0,C:!0},ec={endpoint:"verifyPassword",B:function(e){if(hs(e),!e.password)throw new C("wrong-password")},F:ms,U:!0,C:!0},tc={endpoint:"verifyPhoneNumber",B:vs,F:ms,C:!0},nc={endpoint:"verifyPhoneNumber",B:function(e){if(!e.idToken)throw new C("internal-error");vs(e)},F:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Yo(e);ms(e)}},rc={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:vs,F:ms,C:!0},ic={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(e){if(!!e[es]^!!e.refreshToken)throw new C("internal-error")},C:!0,Na:!0};function oc(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.M))return jt(new C("internal-error"));var r,i=!!t.Na,o=t.Tb||"POST";return St(n).then(t.B).then((function(){return t.U&&(n.returnSecureToken=!0),t.C&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),fs(e,i?e.i:e.h,t.endpoint,o,n,t.Gb,t.kb||!1)})).then((function(e){return r=e,t.Xa?t.Xa(n,r):r})).then(t.F).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new C("internal-error");return r[t.Z]}))}function ac(e){return sc({error:{errors:[{message:e}],code:400,message:e}})}function sc(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ve(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],t);return!t&&e&&(t=Mr(e)),new C("internal-error",t)}function cc(e){this.b=e,this.a=null,this.qb=function(e){return(fc||(fc=new bt((function(e,t){function n(){Ur(),Tr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Ur(),t(Error("Network Error"))},timeout:lc.get()})}if(Tr("gapi.iframes.Iframe"))e();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[r]=function(){Tr("gapi.load")?n():t(Error("Network Error"))},St(Ha(r=Ce(uc,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw fc=null,e})))).then((function(){return new bt((function(t,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),dc.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var uc=new ye(xe,"https://apis.google.com/js/api.js?onload=%{onload}"),lc=new zr(3e4,6e4),dc=new zr(5e3,15e3),fc=null;function hc(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Fn((e=Zn(this.g.url)).f,e.a,e.g,"/emulator/auth/iframe"):e=Fn("https",this.l,null,"/__/auth/iframe"),this.a=e,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function pc(e,t,n,r,i,o){this.u=e,this.o=t,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function mc(e){try{return t.app(e).auth().Ga()}catch(n){return[]}}function vc(e,t,n,r,i,o){this.o=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function gc(e){var t=ur();return function(e){return oc(e,zs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Zn(t),r=n.f;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new qo(ur())}))}function yc(e){return e.v||(e.v=gr().then((function(){if(!e.u){var t=e.c,n=e.i,r=mc(e.b),i=new hc(e.o,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.m=new cc(e.u),function(e){if(!e.m)throw Error("IfcHandler must be initialized!");!function(e,t){e.qb.then((function(){e.a.register("authEvent",t,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.m,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Bo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",St(n)}return n.status="ERROR",St(n)}))}(e)}))),e.v}function bc(e){return e.l||(e.A=e.c?jr(e.c,mc(e.b)):null,e.l=new $a(e.g,O(e.i),e.A),e.f&&as(e.l,e.f)),e.l}function wc(e,t,n,r,i,o,a,s,c,u,l,d){return(e=new pc(e,t,n,r,i,d)).l=o,e.g=a,e.i=s,e.b=pe(c||null),e.f=u,e.xb(l).toString()}function xc(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function _c(e){this.b=e,this.a={},this.f=x(this.c,this)}hc.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},pc.prototype.xb=function(e){return this.h=e,this},pc.prototype.toString=function(){if(this.m){var e=Zn(this.m.url);e=Fn(e.f,e.a,e.g,"/emulator/auth/handler")}else e=Fn("https",this.u,null,"/__/auth/handler");if(Ln(e,"apiKey",this.o),Ln(e,"appName",this.c),Ln(e,"authType",this.v),this.a.isOAuthProvider){var n=this.a;try{var r=t.app(this.c).auth().ka()}catch(c){r=null}for(var i in n.nb=r,Ln(e,"providerId",this.a.providerId),n=Lr((r=this.a).Hb))n[i]=n[i].toString();i=r.Pc,n=pe(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.ob&&r.nb&&!n[r.ob]&&(n[r.ob]=r.nb),he(n)||Ln(e,"customParameters",Mr(n))}if("function"===typeof this.a.Pb&&((r=this.a.Pb()).length&&Ln(e,"scopes",r.join(","))),this.l?Ln(e,"redirectUrl",this.l):Xn(e.b,"redirectUrl"),this.g?Ln(e,"eventId",this.g):Xn(e.b,"eventId"),this.i?Ln(e,"v",this.i):Xn(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Rn(e,s)&&Ln(e,s,this.b[s]);return this.h?Ln(e,"tid",this.h):Xn(e.b,"tid"),this.f?Ln(e,"eid",this.f):Xn(e.b,"eid"),(s=mc(this.c)).length&&Ln(e,"fw",s.join(",")),e.toString()},(e=vc.prototype).Nb=function(e,t,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(e){var t={type:"webStorageSupport"};return yc(e).then((function(){return function(e,t){return e.qb.then((function(){return new bt((function(n){e.a.send(t.type,t,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.m,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&hr(e),t(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new bt((function(t){return function n(){Cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Cn(n).then((function(){t(r)}))}))},e.Wb=function(){var e=Ar();return!Pr(e)&&!Fr(e)},e.Sb=function(){return!1},e.Lb=function(e,t,n,r,i,o,a,s){if(!e)return jt(new C("popup-blocked"));if(a&&!Pr())return this.la().s((function(t){hr(e),i(t)})),r(),St();this.a||(this.a=gc(bc(this)));var c=this;return this.a.then((function(){var t=c.la().s((function(t){throw hr(e),i(t),t}));return r(),t})).then((function(){(Uo(n),a)||lr(wc(c.o,c.g,c.b,t,n,null,o,c.c,void 0,c.i,s,c.f),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(c.a=null),e}))},e.Mb=function(e,t,n,r){this.a||(this.a=gc(bc(this)));var i=this;return this.a.then((function(){Uo(t),lr(wc(i.o,i.g,i.b,e,t,ur(),n,i.c,void 0,i.i,r,i.f))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.la=function(){var e=this;return yc(this).then((function(){return e.m.qb})).s((function(){throw e.a=null,new C("network-request-failed")}))},e.Zb=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ra=function(e){K(this.h,(function(t){return t==e}))},(e=xc.prototype).get=function(e){return St(this.a.getItem(e)).then((function(e){return e&&Rr(e)}))},e.set=function(e,t){return St(this.a.setItem(e,Mr(t)))},e.T=function(e){return St(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Ec,kc=[];function Cc(e,t,n){he(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Sc(e){this.a=e}function jc(e){this.c=e,this.b=!1,this.a=[]}function Ac(e,t,n,r){var i,o,a,s,c=n||{},u=null;if(e.b)return jt(Error("connection_unavailable"));var l=r?800:50,d="undefined"!==typeof MessageChannel?new MessageChannel:null;return new bt((function(n,r){d?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),d.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),u={messageChannel:d,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(u),d.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:c},[d.port2])):r(Error("connection_unavailable"))})).then((function(t){return Tc(e,u),t})).s((function(t){throw Tc(e,u),t}))}function Tc(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(e.a,(function(e){return e==t}))}}function Ic(){if(!Nc())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;wr()&&self?(this.l=function(){var e=wr()?self:null;if(V(kc,(function(n){n.b==e&&(t=n)})),!t){var t=new _c(e);kc.push(t)}return t}(),Cc(this.l,"keyChanged",(function(t,n){return Zc(e).then((function(t){return 0<t.length&&V(e.a,(function(e){e(t)})),{keyProcessed:G(t,n.key)}}))})),Cc(this.l,"ping",(function(){return St(["keyChanged"])}))):function(){var e=c.navigator;return e&&e.serviceWorker?St().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):St(null)}().then((function(t){(e.h=t)&&(e.g=new jc(new Sc(t)),Ac(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&G(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function Oc(e){return new bt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new bt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Oc(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function Dc(e){return e.v||(e.v=Oc(e)),e.v}function Nc(){try{return!!c.indexedDB}catch(la){return!1}}function Pc(e){return e.objectStore("firebaseLocalStorage")}function Mc(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Lc(e){return new bt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Rc(e,t){return e.g&&e.h&&function(){var e=c.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ac(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):St()}function Zc(e){return Dc(e).then((function(e){var t=Pc(Mc(e,!1));return t.getAll?Lc(t.getAll()):new bt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=dr(e.c,n),e.c=n}return r}))}function Fc(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Uc(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=St().then((function(){if(Nc()){var e=Zr(),r="__sak"+e;return Ec||(Ec=new Ic),(n=Ec).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){V(t.a,(function(t){t(e)}))})),e}))}function zc(){this.a={},this.type="inMemory"}function Bc(){if(!function(){var e="Node"==xr();if(!(e=Vc()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==xr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Vc()||t.INTERNAL.node.localStorage,this.type="localStorage"}function Vc(){try{var e=c.localStorage,t=Zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Wc(){this.type="nullStorage"}function Hc(){if(!function(){var e="Node"==xr();if(!(e=qc()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==xr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=qc()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qc(){try{var e=c.sessionStorage,t=Zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Gc(){var e={};e.Browser=Qc,e.Node=Xc,e.ReactNative=$c,e.Worker=Jc,this.a=e[xr()]}_c.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];V(r,(function(t){i.push(St().then((function(){return t(e.origin,e.data.data)})))})),Tt(i).then((function(r){var i=[];V(r,(function(e){i.push({fulfilled:e.Ob,value:e.value,reason:e.reason?e.reason.message:void 0})})),V(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Sc.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},jc.prototype.close=function(){for(;0<this.a.length;)Tc(this,this.a[0]);this.b=!0},(e=Ic.prototype).set=function(e,t){var n,r=!1,i=this;return Dc(this).then((function(t){return Lc((t=Pc(Mc(n=t,!0))).get(e))})).then((function(o){var a=Pc(Mc(n,!0));return o?(o.value=t,Lc(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,Lc(a.add(o)))})).then((function(){return i.c[e]=t,Rc(i,e)})).na((function(){r&&i.b--}))},e.get=function(e){return Dc(this).then((function(t){return Lc(Pc(Mc(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.T=function(e){var t=!1,n=this;return Dc(this).then((function(r){return t=!0,n.b++,Lc(Pc(Mc(r,!0)).delete(e))})).then((function(){return delete n.c[e],Rc(n,e)})).na((function(){t&&n.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.i=Zc(e).then((function(t){0<t.length&&V(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Fc(e),t()}(this),this.a.push(e)},e.ia=function(e){K(this.a,(function(t){return t==e})),0==this.a.length&&Fc(this)},(e=Uc.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.T=function(e){return this.b.then((function(t){return t.T(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){K(this.a,(function(t){return t==e}))},(e=zc.prototype).get=function(e){return St(this.a[e])},e.set=function(e,t){return this.a[e]=t,St()},e.T=function(e){return delete this.a[e],St()},e.ca=function(){},e.ia=function(){},(e=Bc.prototype).get=function(e){var t=this;return St().then((function(){return Rr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return St().then((function(){var r=Mr(t);null===r?n.T(e):n.a.setItem(e,r)}))},e.T=function(e){var t=this;return St().then((function(){t.a.removeItem(e)}))},e.ca=function(e){c.window&&cn(c.window,"storage",e)},e.ia=function(e){c.window&&dn(c.window,"storage",e)},(e=Wc.prototype).get=function(){return St(null)},e.set=function(){return St()},e.T=function(){return St()},e.ca=function(){},e.ia=function(){},(e=Hc.prototype).get=function(e){var t=this;return St().then((function(){return Rr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return St().then((function(){var r=Mr(t);null===r?n.T(e):n.a.setItem(e,r)}))},e.T=function(e){var t=this;return St().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Yc,Kc,Qc={D:Bc,ab:Hc},Xc={D:Bc,ab:Hc},$c={D:xc,ab:Wc},Jc={D:Bc,ab:Wc},eu={qd:"local",NONE:"none",sd:"session"};function tu(){var e=!(Fr(Ar())||!br()),t=Pr(),n=Ir();this.v=e,this.h=t,this.l=n,this.a={},Yc||(Yc=new Gc),e=Yc;try{this.g=!cr()&&Hr()||!c.indexedDB?new e.a.D:new Uc(wr()?new zc:new e.a.D)}catch(r){this.g=new zc,this.h=!0}try{this.i=new e.a.ab}catch(r){this.i=new zc}this.m=new zc,this.f=x(this.Xb,this),this.b={}}function nu(){return Kc||(Kc=new tu),Kc}function ru(e,t){switch(t){case"session":return e.i;case"none":return e.m;default:return e.g}}function iu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ou(e,t,n){return n=iu(t,n),"local"==t.D&&(e.b[n]=null),ru(e,t.D).T(n)}function au(e){e.c&&(clearInterval(e.c),e.c=null)}function su(e){this.a=e,this.b=nu()}(e=tu.prototype).get=function(e,t){return ru(this,e.D).get(iu(e,t))},e.set=function(e,t,n){var r=iu(e,n),i=this,o=ru(this,e.D);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.D&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=iu(e,t),this.l&&(this.b[e]=c.localStorage.getItem(e)),he(this.a)&&(ru(this,"local").ca(this.f),this.h||(cr()||!Hr())&&c.indexedDB||!this.l||function(e){au(e),e.c=setInterval((function(){for(var t in e.a){var n=c.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Qt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Xb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=iu(e,t),this.a[e]&&(K(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),he(this.a)&&(ru(this,"local").ia(this.f),au(this))},e.Xb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=c.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?ru(this,"local").ia(this.f):au(this),this.v)if(n=c.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?c.localStorage.setItem(t,r):c.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===c.localStorage.getItem(t)||(o.b[t]=c.localStorage.getItem(t),o.lb(t))},qe&&tt&&10==tt&&c.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else V(e,x(this.lb,this))},e.lb=function(e){this.a[e]&&V(this.a[e],(function(e){e()}))};var cu,uu={name:"authEvent",D:"local"};function lu(){this.a=nu()}function du(e,t){this.b=fu,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0===cu&&(cu=c.Int32Array?new Int32Array(bu):bu),this.reset()}k(du,(function(){this.b=-1}));for(var fu=64,hu=fu-1,pu=[],mu=0;mu<hu;mu++)pu[mu]=0;var vu=Q(128,pu);function gu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],c=0|e.a[3],u=0|e.a[4],l=0|e.a[5],d=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&l^~u&d)+(0|cu[t])|0)+(0|n[t])|0)|0,o=d,d=l,l=u,u=c+a|0,c=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+c|0,e.a[4]=e.a[4]+u|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+d|0,e.a[7]=e.a[7]+o|0}function yu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(gu(e),i=0);else{if(!h(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(gu(e),i=0)}}e.c=i,e.g+=n}du.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):X(this.h)};var bu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wu(){du.call(this,8,xu)}k(wu,du);var xu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _u(e,t,n,r,i,o){this.m=e,this.i=t,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=t+":"+n,this.A=new lu,this.g=new su(this.h),this.f=null,this.b=[],this.a=this.c=null}function Eu(e){return new C("invalid-cordova-configuration",e)}function ku(e){var t=new wu;yu(t,e),e=[];var n=8*t.g;56>t.c?yu(t,vu,56-t.c):yu(t,vu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(gu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Cu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Su(e){return e.f||(e.f=e.la().then((function(){return new bt((function(t){e.Ea((function n(r){return t(r),e.Ra(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),ju(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=oo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Rr(Rn(o=Zn(i),"firebaseError")||null))?S(o):null)?new zo(r.c,r.b,null,null,o,null,r.S()):new zo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Cu(e,i)}))}var n=new zo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Cn(500).then((function(){return ju(e).then((function(){r||Cu(e,n)}))})),o=c.handleOpenURL;c.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Tr("BuildInfo.packageName",c).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Ho||(Ho=new Vo),function(e){var t=Ho;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Tr("universalLinks.subscribe",c))&&e(null,t.b))}(t)}(e)}))}))),e.f}function ju(e){var t=null;return function(e){return e.b.get(uu,e.a).then((function(e){return Bo(e)}))}(e.g).then((function(n){return t=n,ou((n=e.g).b,uu,n.a)})).then((function(){return t}))}function Au(e){this.a=e,this.b=nu()}(e=_u.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?gr().then((function(){return new bt((function(e,t){var n=c.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):jt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Tr("universalLinks.subscribe",c))throw Eu("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Tr("BuildInfo.packageName",c))throw Eu("cordova-plugin-buildinfo is not installed");if("function"!==typeof Tr("cordova.plugins.browsertab.openUrl",c))throw Eu("cordova-plugin-browsertab is not installed");if("function"!==typeof Tr("cordova.InAppBrowser.open",c))throw Eu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},e.Nb=function(e,t){return t(new C("operation-not-supported-in-this-environment")),St()},e.Lb=function(){return jt(new C("operation-not-supported-in-this-environment"))},e.Zb=function(){return!1},e.Wb=function(){return!0},e.Sb=function(){return!0},e.Mb=function(e,t,n,r){if(this.c)return jt(new C("redirect-operation-pending"));var i=this,o=c.document,a=null,s=null,u=null,l=null;return this.c=St().then((function(){return Uo(t),Su(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new zo(t,r,null,o,new C("no-auth-event"),null,i),s=Tr("BuildInfo.packageName",c);if("string"!==typeof s)throw new C("invalid-cordova-configuration");var u=Tr("BuildInfo.displayName",c),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Ar().toLowerCase().match(/android/))return jt(new C("operation-not-supported-in-this-environment"));l.apn=s}u&&(l.appDisplayName=u),o=ku(o),l.sessionId=o;var d=wc(e.m,e.i,e.l,t,n,null,r,e.v,l,e.u,i,e.o);return e.la().then((function(){var t=e.h;return e.A.a.set(uu,a.w(),t)})).then((function(){var t=Tr("cordova.plugins.browsertab.isAvailable",c);if("function"!==typeof t)throw new C("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Tr("cordova.plugins.browsertab.openUrl",c)))throw new C("invalid-cordova-configuration");n(d)}else{if("function"!==typeof(n=Tr("cordova.InAppBrowser.open",c)))throw new C("invalid-cordova-configuration");t=Ar(),e.a=n(d,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new bt((function(e,t){s=function(){var t=Tr("cordova.plugins.browsertab.close",c);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),u=function(){a||(a=Cn(2e3).then((function(){t(new C("redirect-cancelled-by-user"))})))},l=function(){Br()&&u()},o.addEventListener("resume",u,!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(e){return ju(i).then((function(){throw e}))}))})).na((function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ra(s),i.c=null}))},e.Ea=function(e){this.b.push(e),Su(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new zo("unknown",null,null,null,new C("no-auth-event")),e(t))}))},e.Ra=function(e){K(this.b,(function(t){return t==e}))};var Tu={name:"pendingRedirect",D:"session"};function Iu(e){return ou(e.b,Tu,e.a)}function Ou(e,t,n,r){this.i={},this.u=0,this.O=e,this.m=t,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=x(this.o,this),this.b=new qu,this.A=new Xu,this.g=new Au(Wu(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Du(this.O,this.m,this.v,j,this.G)}function Du(e,n,r,i,o){var a=t.SDK_VERSION||null;return yr()?new _u(e,n,r,a,i,o):new vc(e,n,r,a,i,o)}function Nu(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.la().s((function(n){throw e.a==t&&e.reset(),n}))}function Pu(e){e.a.Wb()&&Nu(e).s((function(t){var n=new zo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Uu(t)&&e.o(n)})),e.a.Sb()||Gu(e.b)}function Mu(e,t){G(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Tu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Iu(e.g).then((function(){Nu(e).s((function(t){var n=new zo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Uu(t)&&e.o(n)}))})):Pu(e)})).s((function(){Pu(e)}))}function Lu(e,t){K(e.h,(function(e){return e==t}))}Ou.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Du(this.O,this.m,this.v,null,this.G),this.i={}},Ou.prototype.o=function(e){if(!e)throw new C("invalid-auth-event");if(6e5<=E()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=E())),t=!0;break}}return Gu(this.b),t};var Ru=new zr(2e3,1e4),Zu=new zr(3e4,6e4);function Fu(e,t,n,r,i,o,a){return e.a.Lb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Uu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function zu(e,t,n,r,i){var o;return function(e){return e.b.set(Tu,"pending",e.a)}(e.g).then((function(){return e.a.Mb(t,n,r,i).s((function(t){if(Uu(t))throw new C("operation-not-supported-in-this-environment");return o=t,Iu(e.g).then((function(){throw o}))})).then((function(){return e.a.Zb()?new bt((function(){})):Iu(e.g).then((function(){return e.qa()})).then((function(){})).s((function(){}))}))}))}function Bu(e,t,n,r,i){return e.a.Nb(r,(function(e){t.ma(n,null,e,i)}),Ru.get())}Ou.prototype.qa=function(){return this.b.qa()};var Vu={};function Wu(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Hu(e,t,n,r){var i=Wu(t,n,r);return Vu[i]||(Vu[i]=new Ou(e,t,n,r)),Vu[i]}function qu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gu(e){e.g||(e.g=!0,Qu(e,!1,null,null))}function Yu(e){e.g&&!e.i&&Qu(e,!1,null,null)}function Ku(e,t){if(e.b=function(){return St(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qu(e,t,n,r){t?r?function(e,t){if(e.b=function(){return jt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Ku(e,n):Ku(e,{user:null}),e.f=[],e.c=[]}function Xu(){}function $u(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(e){this.hb=e},enumerable:!1})}function Ju(e,t){this.a=t,Qr(this,"verificationId",e)}function el(e,t,n,r){return new Ro(e).eb(t,n).then((function(e){return new Ju(e,r)}))}function tl(e){var t=Hi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:e,expirationTime:Wr(1e3*t.exp),authTime:Wr(1e3*t.auth_time),issuedAtTime:Wr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function nl(e,t,n){var r=t&&t[il];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=pe(t),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;V(t[rl]||[],(function(e){(e=ti(e))&&i.b.push(e)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}qu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qu.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Qu(this,!0,null,e.a),St()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.S(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Qu(e,s,t,null)})).s((function(t){Qu(e,s,null,t)}))}(this,e,t):jt(new C("invalid-auth-event")):(Qu(this,!1,null,null),St())}else jt(new C("invalid-auth-event"))},qu.prototype.qa=function(){var e=this;return new bt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new C("timeout");e.a&&e.a.cancel(),e.a=Cn(Zu.get()).then((function(){e.b||(e.g=!0,Qu(e,!0,null,t))}))}(e))}))},Xu.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ma(e.c,null,e.a,e.b),St()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.S(),e.i).then((function(e){t.ma(r,e,null,n)})).s((function(e){t.ma(r,null,e,n)}))}(e,t):jt(new C("invalid-auth-event"))}else jt(new C("invalid-auth-event"))},Ju.prototype.confirm=function(e){return e=Zo(this.verificationId,e),this.a(e)};var rl="mfaInfo",il="mfaPendingCredential";function ol(e,t,n,r){C.call(this,"multi-factor-auth-required",r,t),this.b=new nl(e,t,n),Qr(this,"resolver",this.b)}function al(e,t,n){if(e&&m(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ol(t,e.serverResponse,n,e.message)}catch(r){}return null}function sl(){}function cl(e){Qr(this,"factorId",e.fa),this.a=e}function ul(e){if(cl.call(this,e),this.a.fa!=Ro.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ll(e,t){for(var n in Kt.call(this,e),t)this[n]=t[n]}function dl(e,t){this.a=e,this.b=[],this.c=x(this.xc,this),cn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&V(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ii]=e.uid),e.displayName&&(r[ni]=e.displayName),e.enrollmentTime&&(r[ri]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[oi]=e.phoneNumber);try{t=new ai(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),fl(this,n)}function fl(e,t){e.b=t,Qr(e,"enrolledFactors",t)}function hl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pl(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=c.document,t=null;return Br()||!e?St():new bt((function(n){t=function(){Br()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){pl(e,!0)})).s((function(t){e.i(t)&&pl(e,!1)}))}function ml(e){this.c=e,this.b=this.a=null}function vl(e){return e.b&&1e3*e.b.c||0}function gl(e,t){var n=t.refreshToken;e.b=Wi(t[es]||""),e.a=n}function yl(e,t){return function(e,t){return new bt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?us(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(sc(e)):e.access_token&&e.refresh_token?n(e):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Qn(t).toString(),e.g,e.v.get()):r(new C("internal-error"))}))}(e.c,t).then((function(t){return e.b=Wi(t.access_token),e.a=t.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function bl(e,t){this.a=e||null,this.b=t||null,Xr(this,{lastSignInTime:Wr(t||null),creationTime:Wr(e||null)})}function wl(e,t,n,r,i,o){Xr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function xl(e,n,r){this.G=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null;var i=t.SDK_VERSION?jr(t.SDK_VERSION):null;this.a=new $a(this.l,O(j),i),e.emulatorConfig&&as(this.a,e.emulatorConfig),this.b=new ml(this.a),Tl(this,n[es]),gl(this.b,n),Qr(this,"refreshToken",this.b.a),Dl(this,r||{}),wn.call(this),this.P=!1,this.o&&Or()&&(this.i=Hu(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(e){return new hl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=vl(e.b)-E()-3e5;return 0<t?t:0}))}(this),this.$=x(this.gb,this);var o=this;this.pa=null,this.Ba=function(e){o.wa(e.h)},this.ba=null,this.za=function(e){as(o.a,e.c)},this.W=null,this.X=[],this.Aa=function(e){kl(o,e.f)},this.aa=null,this.N=new dl(this,r),Qr(this,"multiFactor",this.N)}function _l(e,t){e.ba&&dn(e.ba,"languageCodeChanged",e.Ba),(e.ba=t)&&cn(t,"languageCodeChanged",e.Ba)}function El(e,t){e.W&&dn(e.W,"emulatorConfigChanged",e.za),(e.W=t)&&cn(t,"emulatorConfigChanged",e.za)}function kl(e,n){e.X=n,cs(e.a,t.SDK_VERSION?jr(t.SDK_VERSION,e.X):null)}function Cl(e,t){e.aa&&dn(e.aa,"frameworkChanged",e.Aa),(e.aa=t)&&cn(t,"frameworkChanged",e.Aa)}function Sl(e){try{return t.app(e.m).auth()}catch(n){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function jl(e){e.A||e.u.b||(e.u.start(),dn(e,"tokenChanged",e.$),cn(e,"tokenChanged",e.$))}function Al(e){dn(e,"tokenChanged",e.$),e.u.stop()}function Tl(e,t){e.ya=t,Qr(e,"_lat",t)}function Il(e){for(var t=[],n=0;n<e.R.length;n++)t.push(e.R[n](e));return Tt(t).then((function(){return e}))}function Ol(e){e.i&&!e.P&&(e.P=!0,Mu(e.i,e))}function Dl(e,t){Xr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new bl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Nl(){}function Pl(e){return St().then((function(){if(e.A)throw new C("app-deleted")}))}function Ml(e){return H(e.providerData,(function(e){return e.providerId}))}function Ll(e,t){t&&(Rl(e,t.providerId),e.providerData.push(t))}function Rl(e,t){K(e.providerData,(function(e){return e.providerId==t}))}function Zl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Qr(e,t,n)}function Fl(e,t){e!=t&&(Xr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Qr(e,"metadata",function(e){return new bl(e.a,e.b)}(t.metadata)):Qr(e,"metadata",new bl),V(t.providerData,(function(t){Ll(e,t)})),function(e,t){e.b=t.b,e.a=t.a}(e.b,t.b),Qr(e,"refreshToken",e.b.a),fl(e.N,t.N.b))}function Ul(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return oc(e.a,Ls,{idToken:t}).then(x(e.Jc,e))}(e,t).then((function(){return n||Zl(e,"isAnonymous",!1),t}))}))}function zl(e,t){t[es]&&e.ya!=t[es]&&(gl(e.b,t),e.dispatchEvent(new ll("tokenChanged")),Tl(e,t[es]),Zl(e,"refreshToken",e.b.a))}function Bl(e,t){return Ul(e).then((function(){if(G(Ml(e),t))return Il(e).then((function(){throw new C("provider-already-linked")}))}))}function Vl(e,t,n){return $r({user:e,credential:Fo(t),additionalUserInfo:t=Qi(t),operationType:n})}function Wl(e,t){return zl(e,t),e.reload().then((function(){return e}))}function Hl(e,n,r,i,o){if(!Or())return jt(new C("operation-not-supported-in-this-environment"));if(e.f&&!o)return jt(e.f);var a=Ki(r.providerId),s=Zr(e.uid+":::"),c=null;(!Pr()||br())&&e.o&&r.isOAuthProvider&&(c=wc(e.o,e.l,e.m,n,r,null,s,t.SDK_VERSION||null,null,null,e.tenantId));var u=pr(c,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Gl(e),!o)return e.I().then((function(){}))})).then((function(){return Fu(e.i,u,n,r,s,!!c,e.tenantId)})).then((function(){return new bt((function(t,r){e.ma(n,null,new C("cancelled-popup-request"),e.h||null),e.g=t,e.O=r,e.h=s,e.c=Bu(e.i,e,n,u,s)}))})).then((function(e){return u&&hr(u),e?$r(e):null})).s((function(e){throw u&&hr(u),e})),Yl(e,i,o)}function ql(e,t,n,r,i){if(!Or())return jt(new C("operation-not-supported-in-this-environment"));if(e.f&&!i)return jt(e.f);var o=null,a=Zr(e.uid+":::");return r=r().then((function(){if(Gl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Il(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Xl,e.w(),t.a)),t})).then((function(){return zu(e.i,t,n,a,e.tenantId)})).s((function(t){if(o=t,e.ha)return $l(e.ha);throw o})).then((function(){if(o)throw o})),Yl(e,r,i)}function Gl(e){if(!e.i||!e.P){if(e.i&&!e.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Yl(e,t,n){var r=function(e,t,n){return e.f&&!n?(t.cancel(),jt(e.f)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.f||e.dispatchEvent(new ll("userInvalidated")),e.f=t),t}))}(e,t,n);return e.G.push(r),r.na((function(){Y(e.G,r)})),r.s((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=al(t.w(),Sl(e),x(e.ic,e))),n||t}))}function Kl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[es]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=new xl(t,n,e);return e.providerData&&V(e.providerData,(function(e){e&&Ll(r,$r(e))})),e.redirectEventId&&(r.ga=e.redirectEventId),r}function Ql(e){this.a=e,this.b=nu()}nl.prototype.Qc=function(e){var t=this;return e.rb(this.a.a,this.c).then((function(e){var n=pe(t.f);return delete n[rl],delete n[il],ve(n,e),t.g(n)}))},k(ol,C),sl.prototype.rb=function(e,t,n){return t.type==so?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),ve(n,{phoneVerificationInfo:Lo(e.a)}),oc(t,Ps,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ve(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(e.a)}),oc(t,Ms,n)}))}(this,e,t)},k(cl,sl),k(ul,cl),k(ll,Kt),(e=dl.prototype).xc=function(e){fl(this,function(e){var t=[];return V(e.mfaInfo||[],(function(e){(e=ti(e))&&t.push(e)})),t}(e.gd))},e.Qb=function(){return this.a.I().then((function(e){return new ao(e,null)}))},e.ec=function(e,t){var n=this,r=this.a.a;return this.Qb().then((function(n){return e.rb(r,n,t)})).then((function(e){return zl(n.a,e),n.a.reload()}))},e.ad=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return oc(r,ic,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=W(t.b,(function(e){return e.uid!=n}));return fl(t,r),zl(t.a,e),t.a.reload().s((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},hl.prototype.start=function(){this.a=this.c,pl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ml.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:vl(this)}},ml.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?jt(new C("user-token-expired")):e||!this.b||E()>vl(this)-3e4?this.a?yl(this,{grant_type:"refresh_token",refresh_token:this.a}):St(null):St({accessToken:this.b.toString(),refreshToken:this.a})},bl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(xl,wn),xl.prototype.wa=function(e){this.pa=e,os(this.a,e)},xl.prototype.ka=function(){return this.pa},xl.prototype.Ga=function(){return X(this.X)},xl.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(xl.prototype,"providerId","firebase"),(e=xl.prototype).reload=function(){var e=this;return Yl(this,Pl(this).then((function(){return Ul(e).then((function(){return Il(e)})).then(Nl)})))},e.nc=function(e){return this.I(e).then((function(e){return new tl(e)}))},e.I=function(e){var t=this;return Yl(this,Pl(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new C("internal-error");return e.accessToken!=t.ya&&(Tl(t,e.accessToken),t.dispatchEvent(new ll("tokenChanged"))),Zl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Jc=function(e){if(!(e=e.users)||!e.length)throw new C("internal-error");Dl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new wl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ll(this,t[n]);Zl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ll("userReloaded",{gd:e}))},e.Kc=function(e){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(e)},e.sb=function(e){var t=this,n=null;return Yl(this,e.c(this.a,this.uid).then((function(e){return zl(t,e),n=Vl(t,e,"reauthenticate"),t.f=null,t.reload()})).then((function(){return n})),!0)},e.Bc=function(e){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(e)},e.pb=function(e){var t=this,n=null;return Yl(this,Bl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Vl(t,e,"link"),Wl(t,e)})).then((function(){return n})))},e.Cc=function(e,t){var n=this;return Yl(this,Bl(this,"phone").then((function(){return el(Sl(n),e,t,x(n.pb,n))})))},e.Lc=function(e,t){var n=this;return Yl(this,St().then((function(){return el(Sl(n),e,t,x(n.sb,n))})),!0)},e.Ab=function(e){var t=this;return Yl(this,this.I().then((function(n){return t.a.Ab(n,e)})).then((function(e){return zl(t,e),t.reload()})))},e.dd=function(e){var t=this;return Yl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return zl(t,e),t.reload()})))},e.Bb=function(e){var t=this;return Yl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return zl(t,e),t.reload()})))},e.Cb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pl(this);var t=this;return Yl(this,this.I().then((function(n){return t.a.Cb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return zl(t,e),Zl(t,"displayName",e.displayName||null),Zl(t,"photoURL",e.photoUrl||null),V(t.providerData,(function(e){"password"===e.providerId&&(Qr(e,"displayName",t.displayName),Qr(e,"photoURL",t.photoURL))})),Il(t)})).then(Nl))},e.bd=function(e){var t=this;return Yl(this,Ul(this).then((function(n){return G(Ml(t),e)?function(e,t,n){return oc(e,Os,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return V(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),V(Ml(t),(function(e){n[e]||Rl(t,e)})),n[Ro.PROVIDER_ID]||Qr(t,"phoneNumber",null),Il(t)})):Il(t).then((function(){throw new C("no-such-provider")}))})))},e.delete=function(){var e=this;return Yl(this,this.I().then((function(t){return oc(e.a,Is,{idToken:t})})).then((function(){e.dispatchEvent(new ll("userDeleted"))}))).then((function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");_l(e,null),El(e,null),Cl(e,null),e.G=[],e.A=!0,Al(e),Qr(e,"refreshToken",null),e.i&&Lu(e.i,e)}))},e.Eb=function(e,t){return!!("linkViaPopup"==e&&(this.h||null)==t&&this.g||"reauthViaPopup"==e&&(this.h||null)==t&&this.g||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.ma=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.h||null)||(n&&this.O?this.O(n):t&&!n&&this.g&&this.g(t),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.h||null)?x(this.Jb,this):"reauthViaPopup"==e&&t==(this.h||null)?x(this.Kb,this):"linkViaRedirect"==e&&(this.ga||null)==t?x(this.Jb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?x(this.Kb,this):null},e.Dc=function(e){var t=this;return Hl(this,"linkViaPopup",e,(function(){return Bl(t,e.providerId).then((function(){return Il(t)}))}),!1)},e.Mc=function(e){return Hl(this,"reauthViaPopup",e,(function(){return St()}),!0)},e.Ec=function(e){var t=this;return ql(this,"linkViaRedirect",e,(function(){return Bl(t,e.providerId)}),!1)},e.Nc=function(e){return ql(this,"reauthViaRedirect",e,(function(){return St()}),!0)},e.Jb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Yl(this,this.I().then((function(n){return Es(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Vl(i,e,"link"),Wl(i,e)})).then((function(){return o})))},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Yl(this,St().then((function(){return lo(ks(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Vl(i,e,"reauthenticate"),zl(i,e),i.f=null,i.reload()})).then((function(){return o})),!0)},e.tb=function(e){var t=this,n=null;return Yl(this,this.I().then((function(t){return n=t,"undefined"===typeof e||he(e)?{}:Ui(new Ii(e))})).then((function(e){return t.a.tb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Db=function(e,t){var n=this,r=null;return Yl(this,this.I().then((function(e){return r=e,"undefined"===typeof t||he(t)?{}:Ui(new Ii(t))})).then((function(t){return n.a.Db(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.ic=function(e){var t=null,n=this;return Yl(this,e=lo(St(e),n.uid).then((function(e){return t=Vl(n,e,"reauthenticate"),zl(n,e),n.f=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ve(e,this.metadata.w()),V(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ve(e,this.N.w()),e};var Xl={name:"redirectUser",D:"session"};function $l(e){return ou(e.b,Xl,e.a)}function Jl(e){this.a=e,this.b=nu(),this.c=null,this.f=function(e){var t=nd("local"),n=nd("session"),r=nd("none");return function(e,t,n){var r=iu(t,n),i=ru(e,t.D);return e.get(t,n).then((function(o){var a=null;try{a=Rr(c.localStorage.getItem(r))}catch(s){}if(a&&!o)return c.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&c.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(td,e.a).then((function(e){return e?nd(e):t}))}))}))})).then((function(t){return e.c=t,ed(e,t.D)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(nd("local"),this.a,x(this.g,this))}function ed(e,t){var n,r=[];for(n in eu)eu[n]!==t&&r.push(ou(e.b,nd(eu[n]),e.a));return r.push(ou(e.b,td,e.a)),function(e){return new bt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)At(e[s],_(o,s),a);else t(i)}))}(r)}Jl.prototype.g=function(){var e=this,t=nd("local");ad(this,(function(){return St().then((function(){return e.c&&"local"!=e.c.D?e.b.get(t,e.a):null})).then((function(n){if(n)return ed(e,"local").then((function(){e.c=t}))}))}))};var td={name:"persistence",D:"session"};function nd(e){return{name:"authUser",D:e}}function rd(e,t){return ad(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function id(e){return ad(e,(function(){return ou(e.b,e.c,e.a)}))}function od(e,t,n){return ad(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Kl(e||{})}))}))}function ad(e,t){return e.f=e.f.then(t,t),e.f}function sd(e){if(this.m=!1,Qr(this,"settings",new $u),Qr(this,"app",e),!vd(this).options||!vd(this).options.apiKey)throw new C("invalid-api-key");e=t.SDK_VERSION?jr(t.SDK_VERSION):null,this.a=new $a(vd(this).options&&vd(this).options.apiKey,O(j),e),this.R=[],this.u=[],this.P=[],this.ac=t.INTERNAL.createSubscribe(x(this.yc,this)),this.X=void 0,this.bc=t.INTERNAL.createSubscribe(x(this.zc,this)),pd(this,null),this.l=new Jl(vd(this).options.apiKey+":"+vd(this).name),this.G=new Ql(vd(this).options.apiKey+":"+vd(this).name),this.$=wd(this,function(e){var t=vd(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Xl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Kl(e||{})}))}(e.G,vd(e).options.authDomain).then((function(t){return(e.o=t)&&(t.ha=e.G),$l(e.G)}));return wd(e,t)}(e).then((function(){return od(e.l,t,e.f)})).then((function(t){return t?(t.ha=e.G,e.o&&(e.o.ga||null)==(t.ga||null)?t:t.reload().then((function(){return rd(e.l,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:id(e.l)}))):null})).then((function(t){pd(e,t||null)}));return wd(e,n)}(this)),this.i=wd(this,function(e){return e.$.then((function(){return fd(e)})).s((function(){})).then((function(){if(!e.m)return e.pa()})).s((function(){})).then((function(){if(!e.m){e.ba=!0;var t=e.l;t.b.addListener(nd("local"),t.a,e.pa)}}))}(this)),this.ba=!1,this.pa=x(this.Yc,this),this.Ba=x(this.da,this),this.ya=x(this.kc,this),this.za=x(this.vc,this),this.Aa=x(this.wc,this),this.b=null,function(e){var t=vd(e).options.authDomain,n=vd(e).options.apiKey;t&&Or()&&(e.gb=e.$.then((function(){if(!e.m){if(e.b=Hu(t,n,vd(e).name,e.f),Mu(e.b,e),gd(e)&&Ol(gd(e)),e.o){Ol(e.o);var r=e.o;r.wa(e.ka()),_l(r,e),kl(r=e.o,e.N),Cl(r,e),as((r=e.o).a,e.f),El(r,e),e.o=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Fc,this),this.A=0,wn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ka()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.S()},set:function(e){this.xb(e)},enumerable:!1}),e.W=null}(this),this.N=[],this.f=null}function cd(e){Kt.call(this,"languageCodeChanged"),this.h=e}function ud(e){Kt.call(this,"emulatorConfigChanged"),this.c=e}function ld(e){Kt.call(this,"frameworkChanged"),this.f=e}function dd(e){return e.gb||jt(new C("auth-domain-config-required"))}function fd(e){if(!Or())return jt(new C("operation-not-supported-in-this-environment"));var t=dd(e).then((function(){return e.b.qa()})).then((function(e){return e?$r(e):null}));return wd(e,t)}function hd(e,t){var n={};return n.apiKey=vd(e).options.apiKey,n.authDomain=vd(e).options.authDomain,n.appName=vd(e).name,e.f&&(n.emulatorConfig=e.f),e.$.then((function(){return function(e,t,n,r){var i=new xl(e,t);return n&&(i.ha=n),r&&kl(i,r),i.reload().then((function(){return i}))}(n,t,e.G,e.Ga())})).then((function(t){return gd(e)&&t.uid==gd(e).uid?(Fl(gd(e),t),e.da(t)):(pd(e,t),Ol(t),e.da(t))})).then((function(){bd(e)}))}function pd(e,t){gd(e)&&(function(e,t){K(e.R,(function(e){return e==t}))}(gd(e),e.Ba),dn(gd(e),"tokenChanged",e.ya),dn(gd(e),"userDeleted",e.za),dn(gd(e),"userInvalidated",e.Aa),Al(gd(e))),t&&(t.R.push(e.Ba),cn(t,"tokenChanged",e.ya),cn(t,"userDeleted",e.za),cn(t,"userInvalidated",e.Aa),0<e.A&&jl(t)),Qr(e,"currentUser",t),t&&(t.wa(e.ka()),_l(t,e),kl(t,e.N),Cl(t,e),as(t.a,e.f),El(t,e))}function md(e,t){var n=null,r=null;return wd(e,t.then((function(t){return n=Fo(t),r=Qi(t),hd(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=al(t.w(),e,x(e.jc,e))),n||t})).then((function(){return $r({user:gd(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vd(e){return e.app}function gd(e){return e.currentUser}function yd(e){return gd(e)&&gd(e)._lat||null}function bd(e){if(e.ba){for(var t=0;t<e.u.length;t++)e.u[t]&&e.u[t](yd(e));if(e.X!==e.getUid()&&e.P.length)for(e.X=e.getUid(),t=0;t<e.P.length;t++)e.P[t]&&e.P[t](yd(e))}}function wd(e,t){return e.R.push(t),t.na((function(){Y(e.R,t)})),t}function xd(){}function _d(){this.a={},this.b=1e12}Jl.prototype.wb=function(e){var t=null,n=this;return function(e){var t=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");e:{for(r in eu)if(eu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(xr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Nc()&&"none"!==e)throw n;break;default:if(!Ir()&&"none"!==e)throw n}}(e),ad(this,(function(){return e!=n.c.D?n.b.get(n.c,n.a).then((function(r){return t=r,ed(n,e)})).then((function(){if(n.c=nd(e),t)return n.b.set(n.c,t,n.a)})):St()}))},k(sd,wn),k(cd,Kt),k(ud,Kt),k(ld,Kt),(e=sd.prototype).wb=function(e){return wd(this,e=this.l.wb(e))},e.wa=function(e){this.aa===e||this.m||(this.aa=e,os(this.a,this.aa),this.dispatchEvent(new cd(this.ka())))},e.ka=function(){return this.aa},e.ed=function(){var e=c.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.fd=function(e){if(!this.f){if(!/^https?:\/\//.test(e))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Vr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&gr().then((function(){var e=c.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),c.document.body.appendChild(e)})),this.f={url:e},this.settings.hb=!0,as(this.a,this.f),this.dispatchEvent(new ud(this.f))}},e.Fc=function(e){this.N.push(e),cs(this.a,t.SDK_VERSION?jr(t.SDK_VERSION,this.N):null),this.dispatchEvent(new ld(this.N))},e.Ga=function(){return X(this.N)},e.xb=function(e){this.W===e||this.m||(this.W=e,this.a.b=this.W)},e.S=function(){return this.W},e.toJSON=function(){return{apiKey:vd(this).options.apiKey,authDomain:vd(this).options.authDomain,appName:vd(this).name,currentUser:gd(this)&&gd(this).w()}},e.Eb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==t&&!!this.g;default:return!1}},e.ma=function(e,t,n,r){"signInViaPopup"==e&&this.h==r&&(n&&this.O?this.O(n):t&&!n&&this.g&&this.g(t),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.h==t&&this.g?x(this.hc,this):null},e.hc=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return md(i,_s(i.a,o))}))},e.Wc=function(e){if(!Or())return jt(new C("operation-not-supported-in-this-environment"));var n=this,r=Ki(e.providerId),i=Zr(),o=null;(!Pr()||br())&&vd(this).options.authDomain&&e.isOAuthProvider&&(o=wc(vd(this).options.authDomain,vd(this).options.apiKey,vd(this).name,"signInViaPopup",e,null,i,t.SDK_VERSION||null,null,null,this.S(),this.f));var a=pr(o,r&&r.ua,r&&r.ta);return wd(this,r=dd(this).then((function(t){return Fu(t,a,"signInViaPopup",e,i,!!o,n.S())})).then((function(){return new bt((function(e,t){n.ma("signInViaPopup",null,new C("cancelled-popup-request"),n.h),n.g=e,n.O=t,n.h=i,n.c=Bu(n.b,n,"signInViaPopup",a,i)}))})).then((function(e){return a&&hr(a),e?$r(e):null})).s((function(e){throw a&&hr(a),e})))},e.Xc=function(e){if(!Or())return jt(new C("operation-not-supported-in-this-environment"));var t=this,n=dd(this).then((function(){return function(e){return ad(e,(function(){return e.b.set(td,e.c.D,e.a)}))}(t.l)})).then((function(){return zu(t.b,"signInViaRedirect",e,void 0,t.S())}));return wd(this,n)},e.qa=function(){var e=this;return fd(this).then((function(t){return e.b&&Yu(e.b.b),t})).s((function(t){throw e.b&&Yu(e.b.b),t}))},e.cd=function(e){if(!e)return jt(new C("null-user"));if(this.W!=e.tenantId)return jt(new C("tenant-id-mismatch"));var t=this,n={};n.apiKey=vd(this).options.apiKey,n.authDomain=vd(this).options.authDomain,n.appName=vd(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[es]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new xl(t||{apiKey:e.l,authDomain:e.o,appName:e.m},o),n&&(t.ha=n),r&&kl(t,r),Fl(t,e),t}(e,n,t.G,t.Ga());return wd(this,this.i.then((function(){if(vd(t).options.apiKey!=e.l)return r.reload()})).then((function(){return gd(t)&&e.uid==gd(t).uid?(Fl(gd(t),e),t.da(e)):(pd(t,r),Ol(r),t.da(r))})).then((function(){bd(t)})))},e.zb=function(){var e=this;return wd(this,this.i.then((function(){return e.b&&Yu(e.b.b),gd(e)?(pd(e,null),id(e.l).then((function(){bd(e)}))):St()})))},e.Yc=function(){var e=this;return od(this.l,vd(this).options.authDomain).then((function(t){if(!e.m){var n;if(n=gd(e)&&t){n=gd(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Fl(gd(e),t),gd(e).I();(gd(e)||t)&&(pd(e,t),t&&(Ol(t),t.ha=e.G),e.b&&Mu(e.b,e),bd(e))}}))},e.da=function(e){return rd(this.l,e)},e.kc=function(){bd(this),this.da(gd(this))},e.vc=function(){this.zb()},e.wc=function(){this.zb()},e.jc=function(e){var t=this;return this.i.then((function(){return md(t,St(e))}))},e.yc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(gd(t))}))},e.zc=function(e){var t=this;!function(e,t){e.P.push(t),wd(e,e.i.then((function(){!e.m&&G(e.P,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(yd(e)))})))}(this,(function(){e.next(gd(t))}))},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(gd(r)):"function"===typeof e.next&&e.next(gd(r))})),this.ac(e,t,n)},e.Gc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof e?e(gd(r)):"function"===typeof e.next&&e.next(gd(r))})),this.bc(e,t,n)},e.mc=function(e){var t=this;return wd(this,this.i.then((function(){return gd(t)?gd(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Sc=function(e){var t=this;return this.i.then((function(){return md(t,oc(t.a,Js,{token:e}))})).then((function(e){var n=e.user;return Zl(n,"isAnonymous",!1),t.da(n),e}))},e.Tc=function(e,t){var n=this;return this.i.then((function(){return md(n,oc(n.a,ec,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.i.then((function(){return md(n,oc(n.a,As,{email:e,password:t}))}))},e.Za=function(e){var t=this;return this.i.then((function(){return md(t,e.ja(t.a))}))},e.Rc=function(e){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(e)},e.yb=function(){var e=this;return this.i.then((function(){var t=gd(e);if(t&&t.isAnonymous){var n=$r({providerId:null,isNewUser:!1});return $r({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return md(e,e.a.yb()).then((function(t){var n=t.user;return Zl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return gd(this)&&gd(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.A++,0<this.A&&gd(this)&&jl(gd(this))},e.Oc=function(e){var t=this;V(this.u,(function(n){n==e&&t.A--})),0>this.A&&(this.A=0),0==this.A&&gd(this)&&Al(gd(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.u.push(e),wd(this,this.i.then((function(){t.m||G(t.u,e)&&e(yd(t))})))},e.removeAuthTokenListener=function(e){K(this.u,(function(t){return t==e}))},e.delete=function(){this.m=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.l&&(e=this.l).b.removeListener(nd("local"),e.a,this.pa),this.b&&(Lu(this.b,this),Yu(this.b.b)),Promise.resolve()},e.gc=function(e){return wd(this,function(e,t){return oc(e,Ts,{identifier:t,continueUri:Dr()?ur():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Ac=function(e){return!!No(e)},e.vb=function(e,t){var n=this;return wd(this,St().then((function(){var e=new Ii(t);if(!e.c)throw new C("argument-error",Ni+" must be true when sending sign in link to email");return Ui(e)})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.hd=function(e){return this.Qa(e).then((function(e){return e.data.email}))},e.mb=function(e,t){return wd(this,this.a.mb(e,t).then((function(){})))},e.Qa=function(e){return wd(this,this.a.Qa(e).then((function(e){return new si(e)})))},e.ib=function(e){return wd(this,this.a.ib(e).then((function(){})))},e.ub=function(e,t){var n=this;return wd(this,St().then((function(){return"undefined"===typeof t||he(t)?{}:Ui(new Ii(t))})).then((function(t){return n.a.ub(e,t)})).then((function(){})))},e.Vc=function(e,t){return wd(this,el(this,e,t,x(this.Za,this)))},e.Uc=function(e,t){var n=this;return wd(this,St().then((function(){var r=t||ur(),i=Do(e,r);if(!(r=No(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new C("tenant-id-mismatch");return n.Za(i)})))},xd.prototype.render=function(){},xd.prototype.reset=function(){},xd.prototype.getResponse=function(){},xd.prototype.execute=function(){};var Ed=null;function kd(e,t){return(t=Cd(t))&&e.a[t]||null}function Cd(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Sd(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ot(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function jd(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ad(){}function Td(){}_d.prototype.render=function(e,t){return this.a[this.b.toString()]=new Sd(e,t),this.b++},_d.prototype.reset=function(e){var t=kd(this,e);e=Cd(e),t&&e&&(t.delete(),delete this.a[e])},_d.prototype.getResponse=function(e){return(e=kd(this,e))?e.getResponse():null},_d.prototype.execute=function(e){(e=kd(this,e))&&e.execute()},Sd.prototype.getResponse=function(){return jd(this),this.b},Sd.prototype.execute=function(){jd(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Sd.prototype.delete=function(){jd(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qr(Ad,"FACTOR_ID","phone"),Td.prototype.g=function(){return Ed||(Ed=new _d),St(Ed)},Td.prototype.c=function(){};var Id=null;function Od(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dd=new ye(xe,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nd=new zr(3e4,6e4);Od.prototype.g=function(e){var t=this;return new bt((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),Nd.get());!c.grecaptcha||e!==t.f&&!t.b?(c[t.a]=function(){if(c.grecaptcha){t.f=e;var o=c.grecaptcha.render;c.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(c.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete c[t.a]},St(Ha(Ce(Dd,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(c.grecaptcha))}))},Od.prototype.c=function(){this.b--};var Pd=null;function Md(e,t,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=t,this.g=null,a?(Id||(Id=new Td),a=Id):(Pd||(Pd=new Od),a=Pd),this.v=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Zd])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Fd],!c.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ot(t)||!this.i&&ot(t).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new $a(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var u=this.a[Ld];this.a[Ld]=function(e){if(Ud(s,e),"function"===typeof u)u(e);else if("string"===typeof u){var t=Tr(u,c);"function"===typeof t&&t(e)}};var l=this.a[Rd];this.a[Rd]=function(){if(Ud(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=Tr(l,c);"function"===typeof e&&e()}}}var Ld="callback",Rd="expired-callback",Zd="sitekey",Fd="size";function Ud(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function zd(e,t){return e.h.push(t),t.na((function(){Y(e.h,t)})),t}function Bd(e){if(e.A)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vd(e,n,r){var i=!1;try{this.b=r||t.app()}catch(s){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=t.SDK_VERSION?jr(t.SDK_VERSION,a):null,Md.call(this,r,e,n,(function(){try{var e=o.b.auth().ka()}catch(t){e=null}return e}),a,O(j),i)}function Wd(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].K(n[i])&&!o){if(t=t[i],0>i||i>=Hd.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Hd[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.J+".";break e}r=null}}if(r)throw new C("argument-error",e+" failed: "+r)}(e=Md.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=zd(this,St().then((function(){if(Dr()&&!wr())return gr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.v.g(e.u())})).then((function(t){return e.g=t,oc(e.o,Bs,{})})).then((function(t){e.a[Zd]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},e.render=function(){Bd(this);var e=this;return zd(this,this.Ia().then((function(){if(null===e.c){var t=e.m;if(!e.i){var n=ot(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!it&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Be(a.name),'"'),a.type){o.push(' type="',Be(a.type),'"');var s={};ve(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=dt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):at(o,a)),2<r.length&&lt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Bd(this);var e=this;return zd(this,this.render().then((function(t){return new bt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){K(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Bd(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Bd(this),this.A=!0,this.v.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ot(this.m);for(var t;t=e.firstChild;)e.removeChild(t)}},k(Vd,Md);var Hd="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qd(e,t){return{name:e||"",J:"a valid string",optional:!!t,K:function(e){return"string"===typeof e}}}function Gd(e,t){return{name:e||"",J:"a boolean",optional:!!t,K:function(e){return"boolean"===typeof e}}}function Yd(e,t){return{name:e||"",J:"a valid object",optional:!!t,K:m}}function Kd(e,t){return{name:e||"",J:"a function",optional:!!t,K:function(e){return"function"===typeof e}}}function Qd(e,t){return{name:e||"",J:"null",optional:!!t,K:function(e){return null===e}}}function Xd(e){return{name:e?e+"Credential":"credential",J:e?"a valid "+e+" credential":"a valid credential",optional:!1,K:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ja||!n)}}}function $d(e,t){return m(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function Jd(e){return m(e)&&"string"===typeof e.uid}function ef(e,t,n,r){return{name:n||"",J:e.J+" or "+t.J,optional:!!r,K:function(n){return e.K(n)||t.K(n)}}}function tf(e,t){for(var n in t){var r=t[n].name;e[r]=of(r,e[n],t[n].j)}}function nf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:_((function(e){return this[e]}),n),set:_((function(e,t,n,r){Wd(e,[n],[r],!0),this[t]=r}),r,n,t[n].jb),enumerable:!0})}}function rf(e,t,n,r){e[t]=of(t,n,r)}function of(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Wd(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}tf(sd.prototype,{ib:{name:"applyActionCode",j:[qd("code")]},Qa:{name:"checkActionCode",j:[qd("code")]},mb:{name:"confirmPasswordReset",j:[qd("code"),qd("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qd("email"),qd("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[qd("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[qd("emailLink")]},Gc:{name:"onAuthStateChanged",j:[ef(Yd(),Kd(),"nextOrObserver"),Kd("opt_error",!0),Kd("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[ef(Yd(),Kd(),"nextOrObserver"),Kd("opt_error",!0),Kd("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[qd("email"),ef(Yd("opt_actionCodeSettings",!0),Qd(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[qd("email"),Yd("actionCodeSettings")]},wb:{name:"setPersistence",j:[qd("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Xd()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Xd()]},Sc:{name:"signInWithCustomToken",j:[qd("token")]},Tc:{name:"signInWithEmailAndPassword",j:[qd("email"),qd("password")]},Uc:{name:"signInWithEmailLink",j:[qd("email"),qd("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[qd("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[ef({name:"user",J:"an instance of Firebase User",optional:!1,K:function(e){return!!(e&&e instanceof xl)}},Qd(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qd(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[qd("url")]},hd:{name:"verifyPasswordResetCode",j:[qd("code")]}}),nf(sd.prototype,{lc:{name:"languageCode",jb:ef(qd(),Qd(),"languageCode")},ti:{name:"tenantId",jb:ef(qd(),Qd(),"tenantId")}}),sd.Persistence=eu,sd.Persistence.LOCAL="local",sd.Persistence.SESSION="session",sd.Persistence.NONE="none",tf(xl.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Gd("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gd("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Xd()]},pb:{name:"linkWithCredential",j:[Xd()]},Cc:{name:"linkWithPhoneNumber",j:[qd("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xd()]},sb:{name:"reauthenticateWithCredential",j:[Xd()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[qd("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[ef(Yd("opt_actionCodeSettings",!0),Qd(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qd(null,!0)]},bd:{name:"unlink",j:[qd("provider")]},Ab:{name:"updateEmail",j:[qd("email")]},Bb:{name:"updatePassword",j:[qd("password")]},dd:{name:"updatePhoneNumber",j:[Xd("phone")]},Cb:{name:"updateProfile",j:[Yd("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[qd("email"),ef(Yd("opt_actionCodeSettings",!0),Qd(null,!0),"opt_actionCodeSettings",!0)]}}),tf(_d.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(xd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(bt.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nf($u.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Gd("appVerificationDisabledForTesting")}}),tf(Ju.prototype,{confirm:{name:"confirm",j:[qd("verificationCode")]}}),rf(uo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[go,Io,Mo,po],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ef(qd(),Yd(),"json")]),rf(Oo,"credential",(function(e,t){return new To(e,t)}),[qd("email"),qd("password")]),tf(To.prototype,{w:{name:"toJSON",j:[qd(null,!0)]}}),tf(xo.prototype,{Ca:{name:"addScope",j:[qd("scope")]},Ka:{name:"setCustomParameters",j:[Yd("customOAuthParameters")]}}),rf(xo,"credential",_o,[ef(qd(),Yd(),"token")]),rf(Oo,"credentialWithLink",Do,[qd("email"),qd("emailLink")]),tf(Eo.prototype,{Ca:{name:"addScope",j:[qd("scope")]},Ka:{name:"setCustomParameters",j:[Yd("customOAuthParameters")]}}),rf(Eo,"credential",ko,[ef(qd(),Yd(),"token")]),tf(Co.prototype,{Ca:{name:"addScope",j:[qd("scope")]},Ka:{name:"setCustomParameters",j:[Yd("customOAuthParameters")]}}),rf(Co,"credential",So,[ef(qd(),ef(Yd(),Qd()),"idToken"),ef(qd(),Qd(),"accessToken",!0)]),tf(jo.prototype,{Ka:{name:"setCustomParameters",j:[Yd("customOAuthParameters")]}}),rf(jo,"credential",Ao,[ef(qd(),Yd(),"token"),qd("secret",!0)]),tf(wo.prototype,{Ca:{name:"addScope",j:[qd("scope")]},credential:{name:"credential",j:[ef(qd(),ef(Yd(),Qd()),"optionsOrIdToken"),ef(qd(),Qd(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Yd("customOAuthParameters")]}}),tf(mo.prototype,{w:{name:"toJSON",j:[qd(null,!0)]}}),tf(fo.prototype,{w:{name:"toJSON",j:[qd(null,!0)]}}),rf(Ro,"credential",Zo,[qd("verificationId"),qd("verificationCode")]),tf(Ro.prototype,{eb:{name:"verifyPhoneNumber",j:[ef(qd(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(e){return!!e&&(e.session&&e.phoneNumber?$d(e.session,so)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?$d(e.session,co)&&Jd(e.multiFactorHint):e.session&&e.multiFactorUid?$d(e.session,co)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),tf(Po.prototype,{w:{name:"toJSON",j:[qd(null,!0)]}}),tf(C.prototype,{toJSON:{name:"toJSON",j:[qd(null,!0)]}}),tf(Go.prototype,{toJSON:{name:"toJSON",j:[qd(null,!0)]}}),tf(qo.prototype,{toJSON:{name:"toJSON",j:[qd(null,!0)]}}),tf(ol.prototype,{toJSON:{name:"toJSON",j:[qd(null,!0)]}}),tf(nl.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.rb}}]}}),tf(dl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.rb}},qd("displayName",!0)]},ad:{name:"unenroll",j:[ef({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Jd},qd(),"multiFactorInfoIdentifier")]}}),tf(Vd.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(xi,"parseLink",Ti,[qd("link")]),rf(Ad,"assertion",(function(e){return new ul(e)}),[Xd("phone")]),function(){if("undefined"===typeof t||!t.INTERNAL||!t.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sd,AuthCredential:uo,Error:C};rf(e,"EmailAuthProvider",Oo,[]),rf(e,"FacebookAuthProvider",xo,[]),rf(e,"GithubAuthProvider",Eo,[]),rf(e,"GoogleAuthProvider",Co,[]),rf(e,"TwitterAuthProvider",jo,[]),rf(e,"OAuthProvider",wo,[qd("providerId")]),rf(e,"SAMLAuthProvider",bo,[qd("providerId")]),rf(e,"PhoneAuthProvider",Ro,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(e){return!!(e&&e instanceof sd)}}]),rf(e,"RecaptchaVerifier",Vd,[ef(qd(),{name:"",J:"an HTML element",optional:!1,K:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Yd("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof t.app.App)}}]),rf(e,"ActionCodeURL",xi,[]),rf(e,"PhoneMultiFactorGenerator",Ad,[]),t.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new sd(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),t.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:x((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:x(e.mc,e),addAuthTokenListener:x(e.cc,e),removeAuthTokenListener:x(e.Oc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.registerVersion("@firebase/auth","0.15.0"),t.INTERNAL.extendNamespace({User:xl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},38164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66797),i=n(42517),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(c){if(i)return null;throw c}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService(a)}catch(f){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),c=s[0],u=s[1],l=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService(l);u.resolve(d)}catch(f){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spread(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return e===a?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e}();var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=c,t.Provider=s},40089:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64760),i=n(66797),o=n(42517),a=n(98138),s=n(38164);function c(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var u=c(r),l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),o.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:o.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),d=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return o.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new d},h=f("localStorage"),p=f("sessionStorage"),m=new a.Logger("@firebase/database"),v=function(){var e=1;return function(){return e++}}(),g=function(e){var t=o.stringToByteArray(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?o.stringify(a):a,r+=" "}return r},b=null,w=!0,x=function(e,t){o.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(m.logLevel=a.LogLevel.VERBOSE,b=m.log.bind(m),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===b&&!0===p.get("logging_enabled")&&x(!0)),b){var n=y.apply(null,e);b(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_.apply(void 0,i.__spread([e],t))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,i.__spread(e));m.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,i.__spread(e));throw m.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,i.__spread(e));m.warn(n)},j=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",T="[MAX_NAME]",I=function(e,t){if(e===t)return 0;if(e===A||t===T)return-1;if(t===A||e===T)return 1;var n=Z(e),r=Z(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},O=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+o.stringify(t))},N=function e(t){if("object"!==typeof t||null===t)return o.stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=o.stringify(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},P=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){o.assert(!j(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var c=[];for(a=52;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)c.push(n%2?1:0),n=Math.floor(n/2);c.push(t?1:0),c.reverse();var u=c.join(""),l="";for(a=0;a<64;a+=8){var d=parseInt(u.substr(a,8),2).toString(16);1===d.length&&(d="0"+d),l+=d}return l.toLowerCase()},R=new RegExp("^-?(0*)\\d{1,10}$"),Z=function(e){if(R.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},F=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw S("Exception was thrown by user callback.",e),t}),Math.floor(0))}},U=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!1,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),B=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=o.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=o.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),V="5",W="firebaseio.com",H="websocket",q="long_polling",G=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(o.assert("string"===typeof e,"typeof type must == string"),o.assert("object"===typeof t,"typeof params must == object"),e===H)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==q)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return M(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();var Y,K,Q=function(e,t){var n=X(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new G(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new z(n.pathString)}},X=function(e){var t="",n="",r="",o="",a="",s=!0,c="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(c=e.substring(0,l-1),e=e.substring(l+2));var d=e.indexOf("/");-1===d&&(d=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(d,f)),d<f&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(d,f)));var h=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=i.__values(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var c=s.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):S("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===c||"wss"===c,u=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:s,scheme:c,pathString:o,namespace:a}},$=/[\[\].#$\/\u0000-\u001F\u007F]/,J=/[\[\].#$\u0000-\u001F\u007F]/,ee=10485760,te=function(e){return"string"===typeof e&&0!==e.length&&!$.test(e)},ne=function(e){return"string"===typeof e&&0!==e.length&&!J.test(e)},re=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!j(e)||e&&"object"===typeof e&&o.contains(e,".sv")},ie=function(e,t,n,r,i){i&&void 0===n||oe(o.errorPrefix(e,t,i),n,r)},oe=function e(t,n,r){var i=r instanceof z?new B(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+i.toErrorString());if("function"===typeof n)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(j(n))throw new Error(t+"contains "+n.toString()+" "+i.toErrorString());if("string"===typeof n&&n.length>ee/3&&o.stringLength(n)>ee)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(M(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!te(n)))throw new Error(t+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),e(t,r,i),i.pop()})),a&&s)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ae=function(e,t,n,r,i){if(!i||void 0!==n){var a=o.errorPrefix(e,t,i);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];M(n,(function(e,t){var n=new z(e);if(oe(a,t,r.child(n)),".priority"===n.getBack()&&!re(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!te(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(z.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},se=function(e,t,n,r){if(!r||void 0!==n){if(j(n))throw new Error(o.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!re(n))throw new Error(o.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ce=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(o.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ue=function(e,t,n,r){if((!r||void 0!==n)&&!te(n))throw new Error(o.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},le=function(e,t,n,r){if((!r||void 0!==n)&&!ne(n))throw new Error(o.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},de=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),le(e,t,n,r)},fe=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},he=function(e,t,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!te(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ne(e)}(r))throw new Error(o.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},pe=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(o.errorPrefix(e,t,r)+"must be a boolean.")},me=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){o.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),o.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new o.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){o.validateArgCount("OnDisconnect.remove",0,1,arguments.length),fe("OnDisconnect.remove",this.path_),o.validateCallback("OnDisconnect.remove",1,e,!0);var t=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){o.validateArgCount("OnDisconnect.set",1,2,arguments.length),fe("OnDisconnect.set",this.path_),ie("OnDisconnect.set",1,e,this.path_,!1),o.validateCallback("OnDisconnect.set",2,t,!0);var n=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){o.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),fe("OnDisconnect.setWithPriority",this.path_),ie("OnDisconnect.setWithPriority",1,e,this.path_,!1),se("OnDisconnect.setWithPriority",2,t,!1),o.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new o.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(o.validateArgCount("OnDisconnect.update",1,2,arguments.length),fe("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ae("OnDisconnect.update",1,e,this.path_,!1),o.validateCallback("OnDisconnect.update",2,t,!0);var i=new o.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),ve=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return o.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),ge=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var i,a=r===t;t=r;var s=new Array(8);for(i=7;i>=0;i--)s[i]=e.charAt(r%64),r=Math.floor(r/64);o.assert(0===r,"Cannot push at time == 0");var c=s.join("");if(a){for(i=11;i>=0&&63===n[i];i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)c+=e.charAt(n[i]);return o.assert(20===c.length,"nextPushId: Length should be 20."),c}}(),ye=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),be=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new ye(A,e),r=new ye(A,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return ye.MIN},e}(),we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Y},set:function(e){Y=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return I(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw o.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return ye.MIN},t.prototype.maxPost=function(){return new ye(T,Y)},t.prototype.makePost=function(e,t){return o.assert("string"===typeof e,"KeyIndex indexValue must always be a string."),new ye(e,Y)},t.prototype.toString=function(){return".key"},t}(be),xe=new we;var _e,Ee,ke,Ce=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},Se=function(e){if(e.isLeafNode()){var t=e.val();o.assert("string"===typeof t||"number"===typeof t||"object"===typeof t&&o.contains(t,".sv"),"Priority must be a string or number.")}else o.assert(e===K||e.isEmpty(),"priority of unexpected type.");o.assert(e===K||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},je=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,o.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Se(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return _e},set:function(e){_e=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(o.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ce(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(o.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return o.assert(i>=0,"Unknown leaf type: "+n),o.assert(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Ae,Te,Ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return ye.MIN},t.prototype.maxPost=function(){return new ye(T,new je("[PRIORITY-POST]",ke))},t.prototype.makePost=function(e,t){var n=Ee(e);return new ye(t,new je("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(be),Oe=new Ie,De=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ne=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Me.EMPTY_NODE,this.right=null!=o?o:Me.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Me.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Me.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Pe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ne(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Me=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ne.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ne.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new De(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new De(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new De(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new De(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Pe,e}(),Le=Math.log(2),Re=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Le,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ze=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Ne(a,o.node,Ne.BLACK,null,null);var c=parseInt(s/2,10)+r,u=t(r,c),l=t(c+1,i);return o=e[c],a=n?n(o):o,new Ne(a,o.node,Ne.BLACK,u,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var u=i(o+1,s),l=e[o],d=n?n(l):l;c(new Ne(d,l.node,r,null,u))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)},u=0;u<t.count;++u){var l=t.nextBitIsOne(),d=Math.pow(2,t.count-(u+1));l?s(d,Ne.BLACK):(s(d,Ne.BLACK),s(d,Ne.RED))}return o}(new Re(e.length));return new Me(r||t,o)},Fe={},Ue=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return o.assert(Fe&&Oe,"ChildrenNode.ts has not been loaded"),Ae=Ae||new e({".priority":Fe},{".priority":Oe})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=o.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Me?t:null},e.prototype.hasIndex=function(e){return o.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){o.assert(t!==xe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,c=n.getIterator(ye.Wrap),u=c.getNext();u;)s=s||t.isDefinedOn(u.node),a.push(u),u=c.getNext();r=s?Ze(a,t.getCompare()):Fe;var l=t.toString(),d=i.__assign({},this.indexSet_);d[l]=t;var f=i.__assign({},this.indexes_);return f[l]=r,new e(f,d)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(o.map(this.indexes_,(function(e,i){var a=o.safeGet(r.indexSet_,i);if(o.assert(a,"Missing index implementation for "+i),e===Fe){if(a.isDefinedOn(t.node)){for(var s=[],c=n.getIterator(ye.Wrap),u=c.getNext();u;)u.name!==t.name&&s.push(u),u=c.getNext();return s.push(t),Ze(s,a.getCompare())}return Fe}var l=n.get(t.name),d=e;return l&&(d=d.remove(new ye(t.name,l))),d.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(o.map(this.indexes_,(function(e){if(e===Fe)return e;var r=n.get(t.name);return r?e.remove(new ye(t.name,r)):e})),this.indexSet_)},e}();function ze(e,t){return I(e.name,t.name)}function Be(e,t){return I(e,t)}var Ve=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Se(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Te||(Te=new e(new Me(Be),null,Ue.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Te},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Te:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new ye(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Te:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;o.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Oe,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ce(this.getPriority().val())+":"),this.forEachChild(Oe,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new ye(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new ye(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new ye(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,ye.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,ye.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===We?-1:0},e.prototype.withIndex=function(t){if(t===xe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===xe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Oe),r=t.getIterator(Oe),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===xe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),We=new(function(e){function t(){return e.call(this,new Me(Be),Ve.EMPTY_NODE,Ue.Default)||this}return i.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Ve.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ve));Object.defineProperties(ye,{MIN:{value:new ye(A,Ve.EMPTY_NODE)},MAX:{value:new ye(T,We)}}),we.__EMPTY_NODE=Ve.EMPTY_NODE,je.__childrenNodeConstructor=Ve,K=We,function(e){ke=e}(We);function He(e,t){if(void 0===t&&(t=null),null===e)return Ve.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),o.assert(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new je(e,He(t));if(e instanceof Array){var n=Ve.EMPTY_NODE;return M(e,(function(t,r){if(o.contains(e,t)&&"."!==t.substring(0,1)){var i=He(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(He(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=He(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new ye(e,n)))}})),0===r.length)return Ve.EMPTY_NODE;var a=Ze(r,ze,(function(e){return e.name}),Be);if(i){var s=Ze(r,Oe.getCompare());return new Ve(a,He(t),new Ue({".priority":s},{".priority":Oe}))}return new Ve(a,He(t),Ue.Default)}!function(e){Ee=e}(He);var qe,Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?I(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return ye.MIN},t.prototype.maxPost=function(){return ye.MAX},t.prototype.makePost=function(e,t){var n=He(e);return new ye(t,n)},t.prototype.toString=function(){return".value"},t}(be),Ye=new Ge,Ke=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,o.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return i.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=He(e),r=Ve.EMPTY_NODE.updateChild(this.indexPath_,n);return new ye(t,r)},t.prototype.maxPost=function(){var e=Ve.EMPTY_NODE.updateChild(this.indexPath_,We);return new ye(T,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(be),Qe=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return o.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return o.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return o.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return o.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){o.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),le("DataSnapshot.child",1,t,!1);var n=new z(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Oe)},e.prototype.hasChild=function(e){o.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),le("DataSnapshot.hasChild",1,e,!1);var t=new z(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return o.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(o.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),o.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Oe))}))},e.prototype.hasChildren=function(){return o.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return o.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return o.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Xe=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o.stringify(this.snapshot.exportVal())},e}(),$e=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Je=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new Xe("value",this,new Qe(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new $e(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),et=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,o.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new $e(this,e,t):null},e.prototype.createEvent=function(e,t){o.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new Xe(e.type,this,new Qe(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return s===a&&(!t.callbacks_[a]||!this.callbacks_[s]||t.callbacks_[a]===this.callbacks_[s])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),tt=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return o.assert(qe,"Reference.ts has not been loaded"),qe},set:function(e){qe=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===xe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==A)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==T)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Oe){if(null!=t&&!re(t)||null!=n&&!re(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(e.getIndex()instanceof Ke||e.getIndex()===Ye,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return o.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){o.validateArgCount("Query.on",2,4,arguments.length),ce("Query.on",1,t,!1),o.validateCallback("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[t]=n,this.onChildEvent(s,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new Je(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new et(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){o.validateArgCount("Query.off",0,3,arguments.length),ce("Query.off",1,e,!0),o.validateCallback("Query.off",2,t,!0),o.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var a=t||null;r=new Je(a,null,n||null)}else e&&(t&&((i={})[e]=t),r=new et(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var a=this;o.validateArgCount("Query.once",1,4,arguments.length),ce("Query.once",1,t,!1),o.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),c=!0,u=new o.Deferred;u.promise.catch((function(){}));var l=function e(r){c&&(c=!1,a.off(t,e),n&&n.bind(s.context)(r),u.resolve(r))};return this.on(t,l,(function(e){a.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),u.reject(e)})),u.promise},e.prototype.limitToFirst=function(t){if(o.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(o.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(o.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');le("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new z(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ke(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){o.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(xe);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){o.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Oe);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){o.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Ye);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),o.validateArgCount("Query.startAt",0,2,arguments.length),ie("Query.startAt",1,t,this.path,!0),ue("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),o.validateArgCount("Query.endAt",0,2,arguments.length),ie("Query.endAt",1,t,this.path,!0),ue("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(o.validateArgCount("Query.equalTo",1,2,arguments.length),ie("Query.equalTo",1,e,this.path,!1),ue("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return o.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return o.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=N(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(o.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),a=this.queryIdentifier()===t.queryIdentifier();return r&&i&&a},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,o.validateCallback(e,3,r.cancel,!0),r.context=n,o.validateContextObject(e,4,r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(o.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),nt=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),rt=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),it=function(e,t,n){return e&&"object"===typeof e?(o.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ot(e[".sv"],t,n):"object"===typeof e[".sv"]?at(e[".sv"],t):void o.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ot=function(e,t,n){if("timestamp"===e)return n.timestamp;o.assert(!1,"Unexpected server value: "+e)},at=function(e,t,n){e.hasOwnProperty("increment")||o.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&o.assert(!1,"Unexpected increment value: "+r);var i=t.node();if(o.assert(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},st=function(e,t,n,r){return ut(t,new rt(n,e),r)},ct=function(e,t,n){return ut(e,new nt(t),n)};function ut(e,t,n){var r,i=e.getPriority().val(),o=it(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=it(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new je(s,He(o)):e}var c=e;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new je(o))),c.forEachChild(Oe,(function(e,i){var o=ut(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var lt,dt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Oe,(function(e,t){n.remember(new z(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();if(e=e.popFront(),this.children.has(r))this.children.get(r).forget(e)&&this.children.delete(r);return 0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new z(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}();!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(lt||(lt={}));var ft,ht,pt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,o.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),mt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=lt.ACK_USER_WRITE,this.source=pt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return o.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new z(t));return new e(z.Empty,n,this.revert)}return o.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),vt=function(){function e(e,t){void 0===t&&(ft||(ft=new Me(O)),t=ft),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return M(t,(function(e,t){n=n.set(new z(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:z.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new z(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=(this.children.get(r)||e.Empty).setTree(t.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(z.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,z.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,z.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(z.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),gt=function(){function e(e,t){this.source=e,this.path=t,this.type=lt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,z.Empty):new e(this.source,this.path.popFront())},e}(),yt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=lt.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,z.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),bt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=lt.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new z(t));return n.isEmpty()?null:n.value?new yt(this.source,z.Empty,n.value):new e(this.source,z.Empty,n)}return o.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),wt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),xt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new wt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new wt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new wt(Ve.EMPTY_NODE,!1,!1),new wt(Ve.EMPTY_NODE,!1,!1)),e}(),_t=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),Et=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){o.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(_t.childRemovedChange(t,s)):o.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_t.childAddedChange(t,n)):a.trackChildChange(_t.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Oe,(function(e,r){t.hasChild(e)||n.trackChildChange(_t.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(Oe,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_t.childChangedChange(t,r,i))}else n.trackChildChange(_t.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Ve.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),kt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;o.assert(t===_t.CHILD_ADDED||t===_t.CHILD_CHANGED||t===_t.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t===_t.CHILD_ADDED&&i===_t.CHILD_REMOVED)this.changeMap.set(n,_t.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t===_t.CHILD_REMOVED&&i===_t.CHILD_ADDED)this.changeMap.delete(n);else if(t===_t.CHILD_REMOVED&&i===_t.CHILD_CHANGED)this.changeMap.set(n,_t.childRemovedChange(n,r.oldSnap));else if(t===_t.CHILD_CHANGED&&i===_t.CHILD_ADDED)this.changeMap.set(n,_t.childAddedChange(n,e.snapshotNode));else{if(t!==_t.CHILD_CHANGED||i!==_t.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_t.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Ct=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),St=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new wt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),jt=function(e,t){this.viewCache=e,this.changes=t},At=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){o.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var a,s,c=new kt;if(n.type===lt.OVERWRITE){var u=n;u.source.fromUser?a=this.applyUserOverwrite_(t,u.path,u.snap,r,i,c):(o.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.getServerCache().isFiltered()&&!u.path.isEmpty(),a=this.applyServerOverwrite_(t,u.path,u.snap,r,i,s,c))}else if(n.type===lt.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(t,l.path,l.children,r,i,c):(o.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.getServerCache().isFiltered(),a=this.applyServerMerge_(t,l.path,l.children,r,i,s,c))}else if(n.type===lt.ACK_USER_WRITE){var d=n;a=d.revert?this.revertUserWrite_(t,d.path,r,i,c):this.ackUserWrite_(t,d.path,d.affectedTree,r,i,c)}else{if(n.type!==lt.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);a=this.listenComplete_(t,n.path,r,c)}var f=c.getChanges();return e.maybeAddValueEvent_(t,a,f),new jt(a,f)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_t.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s=void 0,c=void 0;if(t.isEmpty())if(o.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var u=e.getCompleteServerSnap(),l=u instanceof Ve?u:Ve.EMPTY_NODE,d=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(e.getEventCache().getNode(),d,i)}else{var f=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),f,i)}else{var h=t.getFront();if(".priority"===h){o.assert(1===t.getLength(),"Can't have a priority with additional path components");var p=a.getNode();c=e.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(t,p,c);s=null!=m?this.filter_.updatePriority(p,m):a.getNode()}else{var v=t.popFront(),g=void 0;if(a.isCompleteForChild(h)){c=e.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),c);g=null!=y?a.getNode().getImmediateChild(h).updateChild(v,y):a.getNode().getImmediateChild(h)}else g=n.calcCompleteChild(h,e.getServerCache());s=null!=g?this.filter_.updateChild(a.getNode(),h,g,v,r,i):a.getNode()}}return e.updateEventSnap(s,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,c=e.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=u.updateFullNode(c.getNode(),n,null);else if(u.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(t,n);s=u.updateFullNode(c.getNode(),l,null)}else{var d=t.getFront();if(!c.isCompleteForPath(t)&&t.getLength()>1)return e;var f=t.popFront(),h=c.getNode().getImmediateChild(d).updateChild(f,n);s=".priority"===d?u.updatePriority(c.getNode(),h):u.updateChild(c.getNode(),d,h,f,Ct,null)}var p=e.updateServerSnap(s,c.isFullyInitialized()||t.isEmpty(),u.filtersNodes()),m=new St(r,p,i);return this.generateEventCacheAfterServerEvent_(p,t,r,m,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,c=e.getEventCache(),u=new St(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,c.isFullyInitialized(),c.isFiltered());else{var d=t.popFront(),f=c.getNode().getImmediateChild(l),h=void 0;if(d.isEmpty())h=n;else{var p=u.getCompleteChild(l);h=null!=p?".priority"===d.getBack()&&p.getChild(d.parent()).isEmpty()?p:p.updateChild(d,n):Ve.EMPTY_NODE}if(f.equals(h))a=e;else{var m=this.filter_.updateChild(c.getNode(),l,h,d,u,o);a=e.updateEventSnap(m,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,c=t;return r.foreach((function(r,u){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(c=s.applyUserOverwrite_(c,l,u,i,o,a))})),r.foreach((function(r,u){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(c=s.applyUserOverwrite_(c,l,u,i,o,a))})),c},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var c,u=e;c=t.isEmpty()?n:vt.Empty.setTree(t,n);var l=e.getServerCache().getNode();return c.children.inorderTraversal((function(t,n){if(l.hasChild(t)){var c=e.getServerCache().getNode().getImmediateChild(t),d=s.applyMerge_(c,n);u=s.applyServerOverwrite_(u,new z(t),d,r,i,o,a)}})),c.children.inorderTraversal((function(t,n){var c=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!c){var d=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(d,n);u=s.applyServerOverwrite_(u,new z(t),f,r,i,o,a)}})),u},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var c=vt.Empty;return s.getNode().forEachChild(xe,(function(e,t){c=c.set(new z(e),t)})),this.applyServerMerge_(e,t,c,r,i,a,o)}return e}var u=vt.Empty;return n.foreach((function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(u=u.set(e,s.getNode().getChild(r)))})),this.applyServerMerge_(e,t,u,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,Ct,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var a;if(null!=n.shadowingWrite(t))return e;var s=new St(n,e,r),c=e.getEventCache().getNode(),u=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var d=e.getServerCache().getNode();o.assert(d instanceof Ve,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(d)}u=this.filter_.updateFullNode(c,l,i)}else{var f=t.getFront(),h=n.calcCompleteChild(f,e.getServerCache());null==h&&e.getServerCache().isCompleteForChild(f)&&(h=c.getImmediateChild(f)),(u=null!=h?this.filter_.updateChild(c,f,h,t.popFront(),s,i):e.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(c,f,Ve.EMPTY_NODE,t.popFront(),s,i):c).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,a,i))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(z.Empty),e.updateEventSnap(u,a,this.filter_.filtersNodes())},e}(),Tt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===_t.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(_t.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,_t.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,_t.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,_t.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,_t.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,_t.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter((function(e){return e.type===t}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw o.assertionError("Should only compare child_ events.");var n=new ye(e.childName,e.snapshotNode),r=new ye(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),It=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Et(n.getIndex()),i=n.getNodeFilter();this.processor_=new At(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(Ve.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Ve.EMPTY_NODE,a.getNode(),null),u=new wt(s,o.isFullyInitialized(),r.filtersNodes()),l=new wt(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new xt(l,u),this.eventGenerator_=new Tt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){o.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t,r);i&&n.push(i)}))}if(e){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===lt.MERGE&&null!==e.source.queryId&&(o.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),o.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),o.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];t.getNode().isLeafNode()||t.getNode().forEachChild(Oe,(function(e,t){n.push(_t.childAddedChange(e,t))}));return t.isFullyInitialized()&&n.push(_t.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Ot=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return o.assert(ht,"Reference.ts has not been loaded"),ht},set:function(e){o.assert(!ht,"__referenceConstructor has already been defined"),ht=e},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,a,s=e.source.queryId;if(null!==s){var c=this.views.get(s);return o.assert(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(e,t,n)}var u=[];try{for(var l=i.__values(this.views.values()),d=l.next();!d.done;d=l.next()){c=d.value;u=u.concat(c.applyOperation(e,t,n))}}catch(f){r={error:f}}finally{try{d&&!d.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return u},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),c=!1;s?c=!0:r instanceof Ve?(s=n.calcCompleteEventChildren(r),c=!1):(s=Ve.EMPTY_NODE,c=!1);var u=new xt(new wt(s,c,!1),new wt(r,i,!1));a=new It(e,u),this.views.set(o,a)}return a.addEventRegistration(t),a.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var o,a,s=t.queryIdentifier(),c=[],u=[],l=this.hasCompleteView();if("default"===s)try{for(var d=i.__values(this.views.entries()),f=d.next();!f.done;f=d.next()){var h=i.__read(f.value,2),p=h[0],m=h[1];u=u.concat(m.removeEventRegistration(n,r)),m.isEmpty()&&(this.views.delete(p),m.getQuery().getQueryParams().loadsAllData()||c.push(m.getQuery()))}}catch(v){o={error:v}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}else(m=this.views.get(s))&&(u=u.concat(m.removeEventRegistration(n,r)),m.isEmpty()&&(this.views.delete(s),m.getQuery().getQueryParams().loadsAllData()||c.push(m.getQuery())));return l&&!this.hasCompleteView()&&c.push(new e.__referenceConstructor(t.repo,t.path)),{removed:c,events:u}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=i.__values(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var o=i.__values(this.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r||s.getCompleteServerCache(e)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=i.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),Dt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new vt(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=z.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new vt(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return M(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,vt.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(z.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Oe,(function(t,n){e.push(new ye(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new ye(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new vt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return Nt(z.Empty,this.writeTree_,e)},e.Empty=new e(new vt(null)),e}();function Nt(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(o.assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Nt(e.child(t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(e.child(".priority"),r)),n}var Pt=function(){function e(){this.visibleWrites_=Dt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Mt(e,this)},e.prototype.addOverwrite=function(e,t,n,r){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));o.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var c=this.allWrites_[s];c.visible&&(s>=n&&this.recordContainsPath_(c,r.path)?i=!1:r.path.contains(c.path)&&(a=!0)),s--}if(i){if(a)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))}));return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(z.Empty)){var a=e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t);u=n||Ve.EMPTY_NODE;return a.apply(u)}return null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var c=this.visibleWrites_.childCompoundWrite(t);if(c.isEmpty())return n;if(null!=n||c.hasCompleteWrite(z.Empty)){var u=n||Ve.EMPTY_NODE;return c.apply(u)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=Ve.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Oe,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Oe,(function(e,t){var r=i.childCompoundWrite(new z(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){o.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var a=this.visibleWrites_.childCompoundWrite(i);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),c=s.getCompleteNode(z.Empty);if(null!=c)a=c;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],l=o.getCompare(),d=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=d.getNext();f&&u.length<r;)0!==l(f,n)&&u.push(f),f=d.getNext();return u},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,z.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Dt.Empty,i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,c=void 0;if(a.snap)n.contains(s)?(c=z.relativePath(n,s),r=r.addWrite(c,a.snap)):s.contains(n)&&(c=z.relativePath(s,n),r=r.addWrite(z.Empty,a.snap.getChild(c)));else{if(!a.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))c=z.relativePath(n,s),r=r.addWrites(c,a.children);else if(s.contains(n))if((c=z.relativePath(s,n)).isEmpty())r=r.addWrites(z.Empty,a.children);else{var u=o.safeGet(a.children,c.getFront());if(u){var l=u.getChild(c.popFront());r=r.addWrite(z.Empty,l)}}}}}return r},e}(),Mt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Lt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=vt.Empty,this.pendingWriteTree_=new Pt,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new yt(pt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=vt.fromObject(t);return this.applyOperationToSyncPoints_(new bt(pt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=vt.Empty;return null!=n.snap?r=r.set(z.Empty,!0):M(n.children,(function(e,t){r=r.set(new z(e),t)})),this.applyOperationToSyncPoints_(new mt(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new yt(pt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=vt.fromObject(t);return this.applyOperationToSyncPoints_(new bt(pt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new gt(pt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,c=z.relativePath(a,t),u=new yt(pt.forServerTaggedQuery(s),c,n);return this.applyTaggedOperation_(a,u)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,c=z.relativePath(a,t),u=vt.fromObject(n),l=new bt(pt.forServerTaggedQuery(s),c,u);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=z.relativePath(o,t),c=new gt(pt.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,c)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=z.relativePath(e,r);i=i||t.getCompleteServerCache(n),a=a||t.hasCompleteView()}));var s,c=this.syncPointTree_.get(r);(c?(a=a||c.hasCompleteView(),i=i||c.getCompleteServerCache(z.Empty)):(c=new Ot,this.syncPointTree_=this.syncPointTree_.set(r,c)),null!=i)?s=!0:(s=!1,i=Ve.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(z.Empty);n&&(i=i.updateImmediateChild(e,n))})));var u=c.viewExistsForQuery(t);if(!u&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);o.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var d=e.getNextQueryTag_();this.queryToTagMap.set(l,d),this.tagToQueryMap.set(d,l)}var f=this.pendingWriteTree_.childWrites(r),h=c.addEventRegistration(t,n,f,i,s);if(!u&&!a){var p=c.viewForQuery(t);h=h.concat(this.setupListener_(t,p))}return h},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var c=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=c.removed;s=c.events;var l=-1!==u.findIndex((function(e){return e.getQueryParams().loadsAllData()})),d=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!d){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var h=this.collectDistinctViewsForSubTree_(f),p=0;p<h.length;++p){var m=h[p],v=m.getQuery(),g=this.createListenerForView_(m);this.listenProvider_.startListening(e.queryForListening_(v),this.tagForQuery_(v),g.hashFn,g.onComplete)}}if(!d&&u.length>0&&!r)if(l){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else u.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}));this.removeTags_(u)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=z.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),M(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),i,a.hashFn,a.onComplete),c=this.syncPointTree_.subtree(r);if(i)o.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var d=u[l];this.listenProvider_.stopListening(e.queryForListening_(d),this.tagForQuery_(d))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||Ve.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return o.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new z(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);o.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(z.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(z.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(z.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),c=t.children.get(a);if(c&&s){var u=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,c,u,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(z.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(z.Empty));var a=[];return t.children.inorderTraversal((function(t,o){var s=n?n.getImmediateChild(t):null,c=r.child(t),u=e.operationForChild(t);u&&(a=a.concat(i.applyOperationDescendantsHelper_(u,o,s,c)))})),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),Rt=function(){function e(){this.rootNode_=Ve.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Zt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),o.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return o.deepCopy(this.counters_)},e}(),Ft=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Zt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Ut=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=i.__assign({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),zt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ut(e);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&o.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Bt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Vt(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Vt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();b&&_("event: "+t.toString()),F(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Wt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},o.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=i.__spread(this.listeners_[e]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){o.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Ht=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return i.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Wt),qt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||o.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return i.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Wt),Gt=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&F((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Yt="start",Kt="close",Qt=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=Ft.getCollection(t),this.urlFn=function(e){return t.connectionURL(q,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Gt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(o.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Xt((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.__read(e,5),o=r[0],a=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Yt)n.id=a,n.password=s;else{if(o!==Kt)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.__read(e,2),o=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=V,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(W)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!o.isNodeSdk()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=o.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=o.base64Encode(t),r=P(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!o.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=o.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Xt=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,o.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){_("frame writing exception"),c.stack&&_(c.stack),_(c)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;o.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),$t="";var Jt=null;"undefined"!==typeof MozWebSocket?Jt=MozWebSocket:"undefined"!==typeof WebSocket&&(Jt=WebSocket);var en=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Ft.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={};return r.v=V,!o.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(W)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL(H,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(o.isNodeSdk()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+$t+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new Jt(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Jt(this.connURL,[],i)}}catch(u){this.log_("Error instantiating WebSocket.");var c=u.message||u.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Jt&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=o.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(o.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=o.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=P(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),tn=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Qt,en]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=en&&en.isAvailable(),a=o&&!en.previouslyFailed();if(t.webSocketOnly&&(o||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[en];else{var s=this.transports_=[];try{for(var c=i.__values(e.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&s.push(l)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),nn=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new tn(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),V!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),rn=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),on=1e3,an=function(e){function t(n,r,i,a,s,c,u){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=c,l.authOverride_=u,l.id=t.nextPersistentConnectionId_++,l.log_=E("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=on,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,u&&!o.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Ht.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&qt.getInstance().on("online",l.onOnline_,l),l}return i.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(o.stringify(i)),o.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),o.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),o.assert(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,c=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==c&&n.removeListen_(i,o),e.onComplete&&e.onComplete(c,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&o.contains(e,"w")){var n=o.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||o.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=o.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),o.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+o.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+o.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;o.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=on),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this,c=this.lastSessionId,u=!1,l=null,d=function(){l?l.close():(u=!0,i())};this.realtime_={close:d,sendRequest:function(e){o.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){u?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=e&&e.accessToken,l=new nn(a,s.repoInfo_,s.applicationId_,n,r,i,(function(e){S(e+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),c))})).then(null,(function(t){s.log_("Failed to get token: "+t),u||(e.repoInfo_.nodeAdmin&&S(t),d())}))}},t.prototype.interrupt=function(e){_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=on,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return N(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new z(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var o=i.__values(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var c=(n=void 0,i.__values(s.values())),u=c.next();!u.done;u=c.next()){var l=u.value;this.sendListen_(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var d=0;d<this.outstandingPuts_.length;d++)this.outstandingPuts_[d]&&this.sendPut_(d);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";o.isNodeSdk()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+$t.replace(/\./g,"-")]=1,o.isMobileCordova()?e["framework.cordova"]=1:o.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=qt.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(rn),sn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=E("p:rest:"),i.listens_={},i}return i.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(o.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var c=t.getListenId_(e,r),u={};this.listens_[c]=u;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),o.safeGet(a.listens_,c)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+o.querystring(t);r.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=o.jsonEval(c.responseText)}catch(t){S("Failed to parse JSON response for "+s+": "+c.responseText)}n(null,e)}else 401!==c.status&&404!==c.status&&S("Got unsuccessful REST response for "+s+" Status: "+c.status),n(c.status);n=null}},c.open("GET",s,!0),c.send()}))},t}(rn),cn="repo_interrupt",un=function(){function e(e,t,n,r){var i=this;if(this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new dt,this.persistentConnection_=null,this.stats_=Ft.getCollection(e),t||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new sn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if("undefined"!==typeof a&&null!==a){if("object"!==typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o.stringify(a)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}this.persistentConnection_=new an(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,a),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(e){i.server_.refreshAuthToken(e)})),this.statsReporter_=Ft.getOrCreateReporter(e,(function(){return new zt(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Rt,this.infoSyncTree_=new Lt({startListening:function(e,t,n,r){var o=[],a=i.infoData_.getNode(e.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Lt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,(function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new z(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new z(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var a=[];if(r)if(n){var s=o.map(t,(function(e){return He(e)}));a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var c=He(t);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,c,r)}else if(n){var u=o.map(t,(function(e){return He(e)}));a=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=He(t);a=this.serverSyncTree_.applyServerOverwrite(i,l)}var d=i;a.length>0&&(d=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(d,a)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;M(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new z("/.info/"+e),r=He(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=He(t,n),s=this.serverSyncTree_.calcCompleteEventCache(e),c=ct(a,s,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,c,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(e.toString(),a.val(!0),(function(t,n){var o="ok"===t;o||S("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)}));var d=this.abortTransactions_(e);this.rerunTransactions_(d),this.eventQueue_.raiseEventsForChangedPath(d,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),a={};if(M(t,(function(t,n){i=!1,a[t]=st(e.child(t),He(n),r.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(e,a,s);this.eventQueue_.queueEvents(c),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||S("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(s,!o),c=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(c,a),r.callOnCompleteCallback(n,t,i)})),M(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new dt;this.onDisconnect_.forEachTree(z.Empty,(function(r,i){var o=st(r,i,e.serverSyncTree_,t);n.remember(r,o)}));var r=[];n.forEachTree(z.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new dt,this.eventQueue_.raiseEventsForChangedPath(z.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=He(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=He(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(o.isEmpty(t))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&M(t,(function(t,n){var i=He(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(cn)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(cn)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Ut(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);M(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),_.apply(void 0,i.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&F((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new xn(this))},enumerable:!1,configurable:!0}),e}(),ln=function(){function e(t){this.indexedFilter_=new Et(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new ye(t,n))||(n=Ve.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Ve.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Ve.EMPTY_NODE);var i=this;return t.forEachChild(Oe,(function(e,t){i.matches(new ye(e,t))||(r=r.updateImmediateChild(e,Ve.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),dn=function(){function e(e){this.rangedFilter_=new ln(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new ye(t,n))||(n=Ve.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Ve.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Ve.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Ve.EMPTY_NODE);var s=void 0,c=void 0,u=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var d=!1;i.hasNext();){a=i.getNext();!d&&u(s,a)<=0&&(d=!0),d&&o<this.limit_&&u(a,c)<=0?o++:r=r.updateImmediateChild(a.name,Ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var c=e;o.assert(c.numChildren()===this.limit_,"");var u=new ye(t,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),d=this.rangedFilter_.matches(u);if(c.hasChild(t)){for(var f=c.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||c.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var p=null==h?1:a(h,u);if(d&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_t.childChangedChange(t,n,f)),c.updateImmediateChild(t,n);null!=i&&i.trackChildChange(_t.childRemovedChange(t,f));var m=c.updateImmediateChild(t,Ve.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(_t.childAddedChange(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}return n.isEmpty()?e:d&&a(l,u)>=0?(null!=i&&(i.trackChildChange(_t.childRemovedChange(l.name,l.node)),i.trackChildChange(_t.childAddedChange(t,n))),c.updateImmediateChild(t,n).updateImmediateChild(l.name,Ve.EMPTY_NODE)):e},e}(),fn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return o.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Oe&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Oe},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new Et(this.getIndex()):this.hasLimit()?new dn(this):new ln(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Oe?t=n.PRIORITY_INDEX:this.index_===Ye?t=n.VALUE_INDEX:this.index_===xe?t=n.KEY_INDEX:(o.assert(this.index_ instanceof Ke,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=o.stringify(t),this.startSet_&&(r[n.START_AT]=o.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+o.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=o.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+o.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),hn=function(e){function t(t,n){if(!(t instanceof un))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,fn.DEFAULT,!1)||this}return i.__extends(t,e),t.prototype.getKey=function(){return o.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return o.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof e?e=String(e):e instanceof z||(null===this.path.getFront()?de("Reference.child",1,e,!1):le("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){o.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){o.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){o.validateArgCount("Reference.set",1,2,arguments.length),fe("Reference.set",this.path),ie("Reference.set",1,e,this.path,!1),o.validateCallback("Reference.set",2,t,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(o.validateArgCount("Reference.update",1,2,arguments.length),fe("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ae("Reference.update",1,e,this.path,!1),o.validateCallback("Reference.update",2,t,!0);var i=new o.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(o.validateArgCount("Reference.setWithPriority",2,3,arguments.length),fe("Reference.setWithPriority",this.path),ie("Reference.setWithPriority",1,e,this.path,!1),se("Reference.setWithPriority",2,t,!1),o.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return o.validateArgCount("Reference.remove",0,1,arguments.length),fe("Reference.remove",this.path),o.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(o.validateArgCount("Reference.transaction",1,3,arguments.length),fe("Reference.transaction",this.path),o.validateCallback("Reference.transaction",1,e,!1),o.validateCallback("Reference.transaction",2,t,!0),pe("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.Deferred;"function"===typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new ve(n,i)),"function"===typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){o.validateArgCount("Reference.setPriority",1,2,arguments.length),fe("Reference.setPriority",this.path),se("Reference.setPriority",1,e,!1),o.validateCallback("Reference.setPriority",2,t,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){o.validateArgCount("Reference.push",0,2,arguments.length),fe("Reference.push",this.path),ie("Reference.push",1,e,this.path,!0),o.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=ge(r),a=this.child(i),s=this.child(i);return n=null!=e?a.set(e,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"===typeof t&&n.catch((function(){})),a},t.prototype.onDisconnect=function(){return fe("Reference.onDisconnect",this.path),new me(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(tt);tt.__referenceConstructor=hn,Ot.__referenceConstructor=hn;var pn,mn=function(){this.children={},this.childCount=0,this.value=null},vn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new mn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof z?t:new z(t),r=this,i=n.getFront();null!==i;){r=new e(i,r,o.safeGet(r.node_.children,i)||new mn),i=(n=n.popFront()).getFront()}return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){o.assert("undefined"!==typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;M(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new z(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=o.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(pn||(pn={})),un.MAX_TRANSACTION_RETRIES_=25,un.prototype.transactionsInit_=function(){this.transactionQueueTree_=new vn},un.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},a=new hn(this,e);a.on("value",i);var s={path:e,update:t,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(e);s.currentInputSnapshot=c;var u=s.update(c.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new Qe(s.currentInputSnapshot,new hn(this,s.path),Oe);s.onComplete(null,!1,l)}}else{oe("transaction failed: Data returned ",u,s.path),s.status=pn.RUN;var d=this.transactionQueueTree_.subTree(e),f=d.getValue()||[];f.push(s),d.setValue(f);var h=void 0;if("object"===typeof u&&null!==u&&o.contains(u,".priority"))h=o.safeGet(u,".priority"),o.assert(re(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else h=(this.serverSyncTree_.calcCompleteEventCache(e)||Ve.EMPTY_NODE).getPriority().val();var p=this.generateServerValues(),m=He(u,h),g=ct(m,c,p);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(e,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,y),this.sendReadyTransactions_()}},un.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Ve.EMPTY_NODE},un.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);o.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===pn.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},un.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),a=i,s=i.hash(),c=0;c<t.length;c++){var u=t[c];o.assert(u.status===pn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=pn.SENT,u.retryCount++;var l=z.relativePath(e,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var d=a.val(!0),f=e;this.server_.put(f.toString(),d,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=pn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,c=new hn(n,t[a].path),u=new Qe(s,c,Oe);o.push(t[a].onComplete.bind(null,null,!0,u))}t[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(a=0;a<o.length;a++)F(o[a])}else{if("datastale"===r)for(a=0;a<t.length;a++)t[a].status===pn.SENT_NEEDS_ABORT?t[a].status=pn.NEEDS_ABORT:t[a].status=pn.RUN;else{S("transaction at "+f.toString()+" failed: "+r);for(a=0;a<t.length;a++)t[a].status=pn.NEEDS_ABORT,t[a].abortReason=r}n.rerunTransactions_(e)}}),s)},un.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},un.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,r=[],i=[],a=e.filter((function(e){return e.status===pn.RUN})).map((function(e){return e.currentWriteId})),s=0;s<e.length;s++){var c=e[s],u=z.relativePath(t,c.path),l=!1,d=void 0;if(o.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===pn.NEEDS_ABORT)l=!0,d=c.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0));else if(c.status===pn.RUN)if(c.retryCount>=un.MAX_TRANSACTION_RETRIES_)l=!0,d="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0));else{var f=this.getLatestState_(c.path,a);c.currentInputSnapshot=f;var h=e[s].update(f.val());if(void 0!==h){oe("transaction failed: Data returned ",h,c.path);var p=He(h);"object"===typeof h&&null!=h&&o.contains(h,".priority")||(p=p.updatePriority(f.getPriority()));var m=c.currentWriteId,v=this.generateServerValues(),g=ct(p,f,v);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(m),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(c.path,g,c.currentWriteId,c.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(m,!0))}else l=!0,d="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(c.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],l&&(e[s].status=pn.COMPLETED,n=e[s].unwatcher,setTimeout(n,Math.floor(0)),e[s].onComplete))if("nodata"===d){var y=new hn(this,e[s].path),b=e[s].currentInputSnapshot,w=new Qe(b,y,Oe);r.push(e[s].onComplete.bind(null,null,!1,w))}else r.push(e[s].onComplete.bind(null,new Error(d),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)F(r[s]);this.sendReadyTransactions_()}},un.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=e.getFront();null!==t&&null===n.getValue();)n=n.subTree(t),t=(e=e.popFront()).getFront();return n},un.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},un.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},un.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==pn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},un.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},un.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,a=0;a<t.length;a++)if(t[a].status===pn.SENT_NEEDS_ABORT);else if(t[a].status===pn.SENT)o.assert(i===a-1,"All SENT items should be at beginning of queue."),i=a,t[a].status=pn.SENT_NEEDS_ABORT,t[a].abortReason="set";else if(o.assert(t[a].status===pn.RUN,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[a].currentWriteId,!0)),t[a].onComplete){n.push(t[a].onComplete.bind(null,new Error("set"),!1,null))}-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(a=0;a<n.length;a++)F(n[a])}};var gn,yn=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),bn=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),wn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return gn||(gn=new e),gn},e.prototype.interrupt=function(){var e,t,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var c=(n=void 0,i.__values(Object.keys(this.repos_[s]))),u=c.next();!u.done;u=c.next()){var l=u.value;this.repos_[s][l].interrupt()}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var o=i.__values(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var c=(n=void 0,i.__values(Object.keys(this.repos_[s]))),u=c.next();!u.done;u=c.next()){var l=u.value;this.repos_[s][l].resume()}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.databaseFromApp=function(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,a=Q(i,r),s=a.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,i="http://"+c+"?ns="+s.namespace,s=(a=Q(i,r)).repoInfo):o=!a.repoInfo.secure;var u=r&&o?new bn:new yn(e,t);return he("Invalid Firebase Database URL",1,a),a.path.isEmpty()||C("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,e,u).database},e.prototype.deleteRepo=function(e){var t=o.safeGet(this.repos_,e.app.name);t&&o.safeGet(t,e.repoInfo_.toURLString())===e||C("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t,n){var r=o.safeGet(this.repos_,t.name);r||(r={},this.repos_[t.name]=r);var i=o.safeGet(r,e.toURLString());return i&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new un(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),xn=function(){function e(e){this.repo_=e,e instanceof un||C("Don't call new Database() directly - please use firebase.database()."),this.root_=new hn(e,z.Empty),this.INTERNAL=new _n(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),o.validateArgCount("database.ref",0,1,arguments.length),e instanceof hn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),o.validateArgCount(t,1,1,arguments.length);var n=Q(e,this.repo_.repoInfo_.nodeAdmin);he(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&C(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&C("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){o.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){o.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),_n=function(){function e(e){this.database=e}return e.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return this.database.checkDeleted_("delete"),wn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),En=Object.freeze({__proto__:null,forceLongPolling:function(){en.forceDisallow(),Qt.forceAllow()},forceWebSockets:function(){Qt.forceDisallow()},isWebSocketsAvailable:function(){return en.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),kn=an;an.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},an.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Cn=nn,Sn=G,jn=Object.freeze({__proto__:null,DataConnection:kn,RealTimeConnection:Cn,hijackHash:function(e){var t=an.prototype.put;return an.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){an.prototype.put=t}},ConnectionTarget:Sn,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){wn.getInstance().forceRestClient(e)}}),An=xn.ServerValue;function Tn(t){!function(e){$t=e}(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new s.Component("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return wn.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:hn,Query:tt,Database:xn,DataSnapshot:Qe,enableLogging:x,INTERNAL:En,ServerValue:An,TEST_ACCESS:jn}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.6.13"),o.isNodeSdk()&&(e.exports=n)}Tn(u.default),t.DataSnapshot=Qe,t.Database=xn,t.OnDisconnect=me,t.Query=tt,t.Reference=hn,t.ServerValue=An,t.enableLogging=x,t.registerDatabase=Tn},57702:function(e,t,n){"use strict";var r=n(66797),i=n(64760),o=n(98138),a=n(42517),s=n(46423),c=n(38164);var u=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(t,e),t}(Error),f=new o.Logger("@firebase/firestore");function h(){return f.logLevel}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.DEBUG){var i=t.map(g);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+e],i))}}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.ERROR){var i=t.map(g);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+e],i))}}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(f.logLevel<=o.LogLevel.WARN){var i=t.map(g);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+e],i))}}function g(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function y(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function b(e,t){e||y()}function w(e,t){return e}function x(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function E(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var k=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&y(),void 0===n?n=e.length-t:n>e.length-t&&y(),this.segments=e,this.offset=t,this.t=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.i(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.o(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.u=function(e){return e=void 0===e?1:e,this.o(this.segments,this.offset+e,this.length-e)},e.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},e.prototype.l=function(){return this.segments[this.offset]},e.prototype._=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.m=function(){return 0===this.length},e.prototype.T=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.I=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},e.i=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.prototype.R=function(){return this.A().join("/")},t.prototype.toString=function(){return this.R()},t.g=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new d(l.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.P=function(){return new t([])},t}(k),S=/^[_a-zA-Z][_a-zA-Z0-9]*$/,j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.V=function(e){return S.test(e)},t.prototype.R=function(){return this.A().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.V(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.R()},t.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},t.v=function(){return new t(["__name__"])},t.S=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new d(l.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new d(l.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new d(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new d(l.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.P=function(){return new t([])},t}(k),A=function(){function e(e){this.path=e}return e.D=function(t){return new e(C.g(t))},e.C=function(t){return new e(C.g(t).u(5))},e.prototype.N=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===C.i(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.i=function(e,t){return C.i(e.path,t.path)},e.F=function(e){return e.length%2==0},e.$=function(t){return new e(new C(t.slice()))},e}();function T(e,t){if(0!==t.length)throw new d(l.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+G(t.length,"argument")+".")}function I(e,t,n){if(t.length!==n)throw new d(l.INVALID_ARGUMENT,"Function "+e+"() requires "+G(n,"argument")+", but was called with "+G(t.length,"argument")+".")}function O(e,t,n){if(t.length<n)throw new d(l.INVALID_ARGUMENT,"Function "+e+"() requires at least "+G(n,"argument")+", but was called with "+G(t.length,"argument")+".")}function D(e,t,n,r){if(t.length<n||t.length>r)throw new d(l.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+G(t.length,"argument")+".")}function N(e,t,n,r){F(e,t,q(n)+" argument",r)}function P(e,t,n,r){void 0!==r&&N(e,t,n,r)}function M(e,t,n,r){F(e,t,n+" option",r)}function L(e,t,n,r){void 0!==r&&M(e,t,n,r)}function R(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var c=s[a];if(c===r)return;o.push(z(c))}var u=z(r);throw new d(l.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function Z(e,t,n,r){if(!t.some((function(e){return e===r})))throw new d(l.INVALID_ARGUMENT,"Invalid value "+z(r)+" provided to function "+e+"() for its "+q(n)+" argument. Acceptable values: "+t.join(", "));return r}function F(e,t,n,r){if(!("object"===t?U(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=z(r);throw new d(l.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function U(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function z(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y()}function B(e,t,n){if(void 0===n)throw new d(l.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+q(t)+" argument, but it was undefined.")}function V(e,t,n){_(t,(function(t,r){if(n.indexOf(t)<0)throw new d(l.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function W(e,t,n,r){var i=z(r);return new d(l.INVALID_ARGUMENT,"Function "+e+"() requires its "+q(n)+" argument to be a "+t+", but it was: "+i)}function H(e,t,n){if(n<=0)throw new d(l.INVALID_ARGUMENT,"Function "+e+"() requires its "+q(t)+" argument to be a positive number, but it was: "+n+".")}function q(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function G(e,t){return e+" "+t+(1===e?"":"s")}function Y(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var K=function(){function e(){}return e.k=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Y(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Q(e,t){return e<t?-1:e>t?1:0}function X(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $(e){return e+"\0"}var J=function(){function e(e){this.M=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.M,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.M)},e.prototype.O=function(){return 2*this.M.length},e.prototype.L=function(e){return Q(this.M,e.M)},e.prototype.isEqual=function(e){return this.M===e.M},e}();J.B=new J("");var ee=function(){function e(e){this.q=e}return e.fromBase64String=function(t){try{return new e(J.fromBase64String(t))}catch(t){throw new d(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(J.fromUint8Array(t))},e.prototype.toBase64=function(){return this.q.toBase64()},e.prototype.toUint8Array=function(){return this.q.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.q.isEqual(e.q)},e}();function te(){if("undefined"==typeof Uint8Array)throw new d(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ne(){if("undefined"==typeof atob)throw new d(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.fromBase64String=function(e){I("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,e),ne();try{return new t(J.fromBase64String(e))}catch(e){throw new d(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(I("Blob.fromUint8Array",arguments,1),te(),!(e instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,e);return new t(J.fromUint8Array(e))},t.prototype.toBase64=function(){return I("Blob.toBase64",arguments,0),ne(),e.prototype.toBase64.call(this)},t.prototype.toUint8Array=function(){return I("Blob.toUint8Array",arguments,0),te(),e.prototype.toUint8Array.call(this)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(ee),ie=function(e,t,n,r,i,o){this.U=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},oe=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.L=function(e){return Q(this.projectId,e.projectId)||Q(this.database,e.database)},e}(),ae=function(){function e(e,t){this.K=e,this.G=t,this.H={}}return e.prototype.get=function(e){var t=this.K(e),n=this.H[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.G(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.K(e),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.H[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.K(e),n=this.H[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],e))return 1===n.length?delete this.H[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){_(this.H,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.m=function(){return E(this.H)},e}(),se=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new d(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new d(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new d(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new d(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.Y=function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ce=function(){function e(e){this.timestamp=e}return e.J=function(t){return new e(t)},e.min=function(){return new e(new se(0,0))},e.prototype.L=function(e){return this.timestamp.Y(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.Z=function(){return this.timestamp},e}();function ue(e){return null==e}function le(e){return 0===e&&1/e==-1/0}function de(e){return"number"==typeof e&&Number.isInteger(e)&&!le(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var fe=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.tt=null};function he(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new fe(e,t,n,r,i,o,a)}function pe(e){var t=w(e);if(null===t.tt){var n=t.path.R();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.R()+e.op.toString()+ot(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.R()+t.dir;var t})).join(","),ue(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=lr(t.startAt)),t.endAt&&(n+="|ub:",n+=lr(t.endAt)),t.tt=n}return t.tt}function me(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!mr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!tt(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fr(e.startAt,t.startAt)&&fr(e.endAt,t.endAt)}function ve(e){return A.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ge,ye,be=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ce.min()),void 0===o&&(o=ce.min()),void 0===a&&(a=J.B),this.target=e,this.targetId=t,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.st=function(t){return new e(this.target,this.targetId,this.et,t,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.it=function(t,n){return new e(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.rt=function(t){return new e(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,t,this.resumeToken)},e}(),we=function(e){this.count=e};function xe(e){switch(e){case l.OK:return y();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return y()}}function _e(e){if(void 0===e)return m("GRPC error has no .code"),l.UNKNOWN;switch(e){case ge.OK:return l.OK;case ge.CANCELLED:return l.CANCELLED;case ge.UNKNOWN:return l.UNKNOWN;case ge.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case ge.INTERNAL:return l.INTERNAL;case ge.UNAVAILABLE:return l.UNAVAILABLE;case ge.UNAUTHENTICATED:return l.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case ge.NOT_FOUND:return l.NOT_FOUND;case ge.ALREADY_EXISTS:return l.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return l.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case ge.ABORTED:return l.ABORTED;case ge.OUT_OF_RANGE:return l.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return l.UNIMPLEMENTED;case ge.DATA_LOSS:return l.DATA_LOSS;default:return y()}}(ye=ge||(ge={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var Ee=function(){function e(e,t){this.i=e,this.root=t||Ce.EMPTY}return e.prototype.ot=function(t,n){return new e(this.i,this.root.ot(t,n,this.i).copy(null,null,Ce.at,null,null))},e.prototype.remove=function(t){return new e(this.i,this.root.remove(t,this.i).copy(null,null,Ce.at,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.m();){var n=this.i(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.m();){var r=this.i(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.m=function(){return this.root.m()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.ct=function(){return this.root.ct()},e.prototype.ut=function(){return this.root.ut()},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.forEach=function(e){this.ht((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ht((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.lt=function(e){return this.root.lt(e)},e.prototype._t=function(){return new ke(this.root,null,this.i,!1)},e.prototype.ft=function(e){return new ke(this.root,e,this.i,!1)},e.prototype.dt=function(){return new ke(this.root,null,this.i,!0)},e.prototype.wt=function(e){return new ke(this.root,e,this.i,!0)},e}(),ke=function(){function e(e,t,n,r){this.Tt=r,this.Et=[];for(var i=1;!e.m();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.Tt?e.left:e.right;else{if(0===i){this.Et.push(e);break}this.Et.push(e),e=this.Tt?e.right:e.left}}return e.prototype.It=function(){var e=this.Et.pop(),t={key:e.key,value:e.value};if(this.Tt)for(e=e.left;!e.m();)this.Et.push(e),e=e.right;else for(e=e.right;!e.m();)this.Et.push(e),e=e.left;return t},e.prototype.At=function(){return this.Et.length>0},e.prototype.Rt=function(){if(0===this.Et.length)return null;var e=this.Et[this.Et.length-1];return{key:e.key,value:e.value}},e}(),Ce=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.m=function(){return!1},e.prototype.ht=function(e){return this.left.ht(e)||e(this.key,this.value)||this.right.ht(e)},e.prototype.lt=function(e){return this.right.lt(e)||e(this.key,this.value)||this.left.lt(e)},e.prototype.min=function(){return this.left.m()?this:this.left.min()},e.prototype.ct=function(){return this.min().key},e.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},e.prototype.ot=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.ot(e,t,n))).gt()},e.prototype.Pt=function(){if(this.left.m())return e.EMPTY;var t=this;return t.left.yt()||t.left.left.yt()||(t=t.Vt()),(t=t.copy(null,null,null,t.left.Pt(),null)).gt()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(t,i.key)){if(i.right.m())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.gt()},e.prototype.yt=function(){return this.color},e.prototype.gt=function(){var e=this;return e.right.yt()&&!e.left.yt()&&(e=e.St()),e.left.yt()&&e.left.left.yt()&&(e=e.bt()),e.left.yt()&&e.right.yt()&&(e=e.Dt()),e},e.prototype.Vt=function(){var e=this.Dt();return e.right.left.yt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.bt())).St()).Dt()),e},e.prototype.vt=function(){var e=this.Dt();return e.left.left.yt()&&(e=(e=e.bt()).Dt()),e},e.prototype.St=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.bt=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Dt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.Ct=function(){var e=this.Nt();return Math.pow(2,e)<=this.size+1},e.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw y();if(this.right.yt())throw y();var e=this.left.Nt();if(e!==this.right.Nt())throw y();return e+(this.yt()?0:1)},e}();Ce.EMPTY=null,Ce.RED=!0,Ce.at=!1,Ce.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.ot=function(e,t,n){return new Ce(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.m=function(){return!0},e.prototype.ht=function(e){return!1},e.prototype.lt=function(e){return!1},e.prototype.ct=function(){return null},e.prototype.ut=function(){return null},e.prototype.yt=function(){return!1},e.prototype.Ct=function(){return!0},e.prototype.Nt=function(){return 0},e}());var Se=function(){function e(e){this.i=e,this.data=new Ee(this.i)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.ct()},e.prototype.last=function(){return this.data.ut()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ht((function(t,n){return e(t),!1}))},e.prototype.Ft=function(e,t){for(var n=this.data.ft(e[0]);n.At();){var r=n.It();if(this.i(r.key,e[1])>=0)return;t(r.key)}},e.prototype.xt=function(e,t){var n;for(n=void 0!==t?this.data.ft(t):this.data._t();n.At();)if(!e(n.It().key))return},e.prototype.$t=function(e){var t=this.data.ft(e);return t.At()?t.It().key:null},e.prototype._t=function(){return new je(this.data._t())},e.prototype.ft=function(e){return new je(this.data.ft(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).ot(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.m=function(){return this.data.m()},e.prototype.kt=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data._t(),r=t.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},e.prototype.A=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.i);return n.data=t,n},e}(),je=function(){function e(e){this.Mt=e}return e.prototype.It=function(){return this.Mt.It().key},e.prototype.At=function(){return this.Mt.At()},e}(),Ae=new Ee(A.i);function Te(){return Ae}function Ie(){return Te()}var Oe=new Ee(A.i);function De(){return Oe}var Ne=new Ee(A.i),Pe=new Se(A.i);function Me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Pe,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Le=new Se(Q);function Re(){return Le}var Ze=function(){function e(e){this.i=e?function(t,n){return e(t,n)||A.i(t.key,n.key)}:function(e,t){return A.i(e.key,t.key)},this.Ot=De(),this.Lt=new Ee(this.i)}return e.Bt=function(t){return new e(t.i)},e.prototype.has=function(e){return null!=this.Ot.get(e)},e.prototype.get=function(e){return this.Ot.get(e)},e.prototype.first=function(){return this.Lt.ct()},e.prototype.last=function(){return this.Lt.ut()},e.prototype.m=function(){return this.Lt.m()},e.prototype.indexOf=function(e){var t=this.Ot.get(e);return t?this.Lt.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.Lt.ht((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.Ot.ot(e.key,e),t.Lt.ot(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.Ot.remove(e),this.Lt.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Lt._t(),r=t.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.i=this.i,r.Ot=t,r.Lt=n,r},e}(),Fe=function(){function e(){this.qt=new Ee(A.i)}return e.prototype.track=function(e){var t=e.doc.key,n=this.qt.get(t);n?0!==e.type&&3===n.type?this.qt=this.qt.ot(t,e):3===e.type&&1!==n.type?this.qt=this.qt.ot(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.qt=this.qt.ot(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.qt=this.qt.ot(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.qt=this.qt.remove(t):1===e.type&&2===n.type?this.qt=this.qt.ot(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.qt=this.qt.ot(t,{type:2,doc:e.doc}):y():this.qt=this.qt.ot(t,e)},e.prototype.Ut=function(){var e=[];return this.qt.ht((function(t,n){e.push(n)})),e},e}(),Ue=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=a,this.Kt=s}return e.Gt=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ze.Bt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.jt===e.jt&&this.Wt.isEqual(e.Wt)&&Kn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Qt.isEqual(e.Qt)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),ze=function(){function e(e,t,n,r,i){this.nt=e,this.zt=t,this.Ht=n,this.Yt=r,this.Jt=i}return e.Xt=function(t,n){var r=new Map;return r.set(t,Be.Zt(t,n)),new e(ce.min(),r,Re(),Te(),Me())},e}(),Be=function(){function e(e,t,n,r,i){this.resumeToken=e,this.te=t,this.ee=n,this.ne=r,this.se=i}return e.Zt=function(t,n){return new e(J.B,n,Me(),Me(),Me())},e}(),Ve=function(e,t,n,r){this.ie=e,this.removedTargetIds=t,this.key=n,this.re=r},We=function(e,t){this.targetId=e,this.oe=t},He=function(e,t,n,r){void 0===n&&(n=J.B),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},qe=function(){function e(){this.ae=0,this.ce=Ke(),this.ue=J.B,this.he=!1,this.le=!0}return Object.defineProperty(e.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),e.prototype.de=function(e){e.O()>0&&(this.le=!0,this.ue=e)},e.prototype.we=function(){var e=Me(),t=Me(),n=Me();return this.ce.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:y()}})),new Be(this.ue,this.he,e,t,n)},e.prototype.me=function(){this.le=!1,this.ce=Ke()},e.prototype.Te=function(e,t){this.le=!0,this.ce=this.ce.ot(e,t)},e.prototype.Ee=function(e){this.le=!0,this.ce=this.ce.remove(e)},e.prototype.Ie=function(){this.ae+=1},e.prototype.Ae=function(){this.ae-=1},e.prototype.Re=function(){this.le=!0,this.he=!0},e}(),Ge=function(){function e(e){this.ge=e,this.Pe=new Map,this.ye=Te(),this.Ve=Ye(),this.pe=new Se(Q)}return e.prototype.be=function(e){for(var t=0,n=e.ie;t<n.length;t++){var r=n[t];e.re instanceof Nn?this.ve(r,e.re):e.re instanceof Pn&&this.Se(r,e.key,e.re)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){var a=o[i];this.Se(a,e.key,e.re)}},e.prototype.De=function(e){var t=this;this.Ce(e,(function(n){var r=t.Ne(n);switch(e.state){case 0:t.Fe(n)&&r.de(e.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(e.resumeToken);break;case 2:r.Ae(),r._e||t.removeTarget(n);break;case 3:t.Fe(n)&&(r.Re(),r.de(e.resumeToken));break;case 4:t.Fe(n)&&(t.xe(n),r.de(e.resumeToken));break;default:y()}}))},e.prototype.Ce=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Pe.forEach((function(e,r){n.Fe(r)&&t(r)}))},e.prototype.$e=function(e){var t=e.targetId,n=e.oe.count,r=this.ke(t);if(r){var i=r.target;if(ve(i))if(0===n){var o=new A(i.path);this.Se(t,o,new Pn(o,ce.min()))}else b(1===n);else this.Me(t)!==n&&(this.xe(t),this.pe=this.pe.add(t))}},e.prototype.Oe=function(e){var t=this,n=new Map;this.Pe.forEach((function(r,i){var o=t.ke(i);if(o){if(r.te&&ve(o.target)){var a=new A(o.target.path);null!==t.ye.get(a)||t.Le(i,a)||t.Se(i,a,new Pn(a,e))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Me();this.Ve.forEach((function(e,n){var i=!0;n.xt((function(e){var n=t.ke(e);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ze(e,n,this.pe,this.ye,r);return this.ye=Te(),this.Ve=Ye(),this.pe=new Se(Q),i},e.prototype.ve=function(e,t){if(this.Fe(e)){var n=this.Le(e,t.key)?2:0;this.Ne(e).Te(t.key,n),this.ye=this.ye.ot(t.key,t),this.Ve=this.Ve.ot(t.key,this.Be(t.key).add(e))}},e.prototype.Se=function(e,t,n){if(this.Fe(e)){var r=this.Ne(e);this.Le(e,t)?r.Te(t,1):r.Ee(t),this.Ve=this.Ve.ot(t,this.Be(t).delete(e)),n&&(this.ye=this.ye.ot(t,n))}},e.prototype.removeTarget=function(e){this.Pe.delete(e)},e.prototype.Me=function(e){var t=this.Ne(e).we();return this.ge.qe(e).size+t.ee.size-t.se.size},e.prototype.Ie=function(e){this.Ne(e).Ie()},e.prototype.Ne=function(e){var t=this.Pe.get(e);return t||(t=new qe,this.Pe.set(e,t)),t},e.prototype.Be=function(e){var t=this.Ve.get(e);return t||(t=new Se(Q),this.Ve=this.Ve.ot(e,t)),t},e.prototype.Fe=function(e){var t=null!==this.ke(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ke=function(e){var t=this.Pe.get(e);return t&&t._e?null:this.ge.Ue(e)},e.prototype.xe=function(e){var t=this;this.Pe.set(e,new qe),this.ge.qe(e).forEach((function(n){t.Se(e,n,null)}))},e.prototype.Le=function(e,t){return this.ge.qe(e).has(t)},e}();function Ye(){return new Ee(A.i)}function Ke(){return new Ee(A.i)}function Qe(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xe(e){var t=e.mapValue.fields.__previous_value__;return Qe(t)?Xe(t):t}function $e(e){var t=st(e.mapValue.fields.__local_write_time__.timestampValue);return new se(t.seconds,t.nanos)}var Je=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function et(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qe(e)?4:10:y()}function tt(e,t){var n=et(e);if(n!==et(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $e(e).isEqual($e(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=st(e.timestampValue),r=st(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ut(e.bytesValue).isEqual(ut(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ct(e.geoPointValue.latitude)===ct(t.geoPointValue.latitude)&&ct(e.geoPointValue.longitude)===ct(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ct(e.integerValue)===ct(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ct(e.doubleValue),r=ct(t.doubleValue);return n===r?le(n)===le(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return X(e.arrayValue.values||[],t.arrayValue.values||[],tt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(x(n)!==x(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tt(n[i],r[i])))return!1;return!0}(e,t);default:return y()}}function nt(e,t){return void 0!==(e.values||[]).find((function(e){return tt(e,t)}))}function rt(e,t){var n=et(e),r=et(t);if(n!==r)return Q(n,r);switch(n){case 0:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ct(e.integerValue||e.doubleValue),r=ct(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return it(e.timestampValue,t.timestampValue);case 4:return it($e(e),$e(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ut(e),r=ut(t);return n.L(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Q(n[i],r[i]);if(0!==o)return o}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Q(ct(e.latitude),ct(t.latitude));return 0!==n?n:Q(ct(e.longitude),ct(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=rt(n[i],r[i]);if(o)return o}return Q(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Q(r[a],o[a]);if(0!==s)return s;var c=rt(n[r[a]],i[o[a]]);if(0!==c)return c}return Q(r.length,o.length)}(e.mapValue,t.mapValue);default:throw y()}}function it(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);var n=st(e),r=st(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function ot(e){return at(e)}function at(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=st(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ut(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,A.C(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=at(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+at(e.fields[o])}return t+"}"}(e.mapValue):y();var t,n}function st(e){if(b(!!e),"string"==typeof e){var t=0,n=Je.exec(e);if(b(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ct(e.seconds),nanos:ct(e.nanos)}}function ct(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ut(e){return"string"==typeof e?J.fromBase64String(e):J.fromUint8Array(e)}function lt(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.R()}}function dt(e){return!!e&&"integerValue"in e}function ft(e){return!!e&&"arrayValue"in e}function ht(e){return!!e&&"nullValue"in e}function pt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mt(e){return!!e&&"mapValue"in e}var vt={asc:"ASCENDING",desc:"DESCENDING"},gt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yt=function(e,t){this.U=e,this.Qe=t};function bt(e){return{integerValue:""+e}}function wt(e,t){if(e.Qe){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:le(t)?"-0":t}}function xt(e,t){return de(t)?bt(t):wt(e,t)}function _t(e,t){return e.Qe?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Et(e,t){return e.Qe?t.toBase64():t.toUint8Array()}function kt(e,t){return _t(e,t.Z())}function Ct(e){return b(!!e),ce.J(function(e){var t=st(e);return new se(t.seconds,t.nanos)}(e))}function St(e,t){return function(e){return new C(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).R()}function jt(e){var t=C.g(e);return b(Qt(t)),t}function At(e,t){return St(e.U,t.path)}function Tt(e,t){var n=jt(t);return b(n.get(1)===e.U.projectId),b(!n.get(3)&&!e.U.database||n.get(3)===e.U.database),new A(Nt(n))}function It(e,t){return St(e.U,t)}function Ot(e){var t=jt(e);return 4===t.length?C.P():Nt(t)}function Dt(e){return new C(["projects",e.U.projectId,"databases",e.U.database]).R()}function Nt(e){return b(e.length>4&&"documents"===e.get(4)),e.u(5)}function Pt(e,t,n){return{name:At(e,t),fields:n.proto.mapValue.fields}}function Mt(e,t){var n;if(t instanceof xn)n={update:Pt(e,t.key,t.value)};else if(t instanceof jn)n={delete:At(e,t.key)};else if(t instanceof _n)n={update:Pt(e,t.key,t.data),updateMask:Kt(t.We)};else if(t instanceof kn)n={transform:{document:At(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof tn)return{fieldPath:t.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof nn)return{fieldPath:t.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof on)return{fieldPath:t.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof sn)return{fieldPath:t.field.R(),increment:n.je};throw y()}(0,e)}))}};else{if(!(t instanceof An))return y();n={verify:At(e,t.key)}}return t.Ge.Ke||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kt(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y()}(e,t.Ge)),n}function Lt(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?hn.updateTime(Ct(e.updateTime)):void 0!==e.exists?hn.exists(e.exists):hn.ze()}(t.currentDocument):hn.ze();if(t.update){t.update.name;var r=Tt(e,t.update.name),i=new Tn({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ln(t.map((function(e){return j.S(e)})))}(t.updateMask);return new _n(r,i,o,n)}return new xn(r,i,n)}if(t.delete){var a=Tt(e,t.delete);return new jn(a,n)}if(t.transform){var s=Tt(e,t.transform.document),c=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)b("REQUEST_TIME"===t.setToServerValue),n=new tn;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new nn(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new on(i)}else"increment"in t?n=new sn(e,t.increment):y();var o=j.S(t.fieldPath);return new dn(o,n)}(e,t)}));return b(!0===n.exists),new kn(s,c)}if(t.verify){var u=Tt(e,t.verify);return new An(u,n)}return y()}function Rt(e,t){return{documents:[It(e,t.path)]}}function Zt(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=It(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=It(e,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(pt(e.value))return{unaryFilter:{field:Ht(e.field),op:"IS_NAN"}};if(ht(e.value))return{unaryFilter:{field:Ht(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pt(e.value))return{unaryFilter:{field:Ht(e.field),op:"IS_NOT_NAN"}};if(ht(e.value))return{unaryFilter:{field:Ht(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ht(e.field),op:Wt(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ht(e.field),direction:Vt(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.Qe||ue(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=zt(t.startAt)),t.endAt&&(n.structuredQuery.endAt=zt(t.endAt)),n}function Ft(e){var t=Ot(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ut(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new hr(qt(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;n.limit&&(c=function(e){var t;return ue(t="object"==typeof e?e.value:e)?null:t}(n.limit));var u=null;n.startAt&&(u=Bt(n.startAt));var l=null;return n.endAt&&(l=Bt(n.endAt)),Hn(Rn(t,i,s,a,c,"F",u,l))}function Ut(e){return e?void 0!==e.unaryFilter?[Yt(e)]:void 0!==e.fieldFilter?[Gt(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ut(e)})).reduce((function(e,t){return e.concat(t)})):y():[]}function zt(e){return{before:e.before,values:e.position}}function Bt(e){var t=!!e.before,n=e.values||[];return new ur(n,t)}function Vt(e){return vt[e]}function Wt(e){return gt[e]}function Ht(e){return{fieldPath:e.R()}}function qt(e){return j.S(e.fieldPath)}function Gt(e){return er.create(qt(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value)}function Yt(e){switch(e.unaryFilter.op){case"IS_NAN":var t=qt(e.unaryFilter.field);return er.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=qt(e.unaryFilter.field);return er.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qt(e.unaryFilter.field);return er.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qt(e.unaryFilter.field);return er.create(i,"!=",{nullValue:"NULL_VALUE"});default:return y()}}function Kt(e){var t=[];return e.fields.forEach((function(e){return t.push(e.R())})),{fieldPaths:t}}function Qt(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Xt=function(){this.He=void 0};function $t(e,t,n){return e instanceof tn?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nn?rn(e,t):e instanceof on?an(e,t):function(e,t){var n=en(e,t),r=cn(n)+cn(e.je);return dt(n)&&dt(e.je)?bt(r):wt(e.serializer,r)}(e,t)}function Jt(e,t,n){return e instanceof nn?rn(e,t):e instanceof on?an(e,t):n}function en(e,t){return e instanceof sn?dt(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(Xt),nn=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return r.__extends(t,e),t}(Xt);function rn(e,t){for(var n=un(t),r=function(e){n.some((function(t){return tt(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var on=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return r.__extends(t,e),t}(Xt);function an(e,t){for(var n=un(t),r=function(e){n=n.filter((function(t){return!tt(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.je=n,r}return r.__extends(t,e),t}(Xt);function cn(e){return ct(e.integerValue||e.doubleValue)}function un(e){return ft(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ln=function(){function e(e){this.fields=e,e.sort(j.i)}return e.prototype.Ye=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].T(e))return!0;return!1},e.prototype.isEqual=function(e){return X(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),dn=function(e,t){this.field=e,this.transform=t},fn=function(e,t){this.version=e,this.transformResults=t},hn=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.ze=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function pn(e,t){return void 0!==e.updateTime?t instanceof Nn&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof Nn}var mn=function(){};function vn(e,t,n){return e instanceof xn?function(e,t,n){return new Nn(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof _n?function(e,t,n){if(!pn(e.Ge,t))return new Mn(e.key,n.version);var r=En(e,t);return new Nn(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof kn?function(e,t,n){if(b(null!=n.transformResults),!pn(e.Ge,t))return new Mn(e.key,n.version);var r=Cn(e,t),i=function(e,t,n){var r=[];b(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=null;t instanceof Nn&&(s=t.field(o.field)),r.push(Jt(a,s,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,a=Sn(e,r.data(),i);return new Nn(e.key,o,a,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new Pn(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function gn(e,t,n,r){return e instanceof xn?function(e,t){if(!pn(e.Ge,t))return t;var n=wn(t);return new Nn(e.key,n,e.value,{Je:!0})}(e,t):e instanceof _n?function(e,t){if(!pn(e.Ge,t))return t;var n=wn(t),r=En(e,t);return new Nn(e.key,n,r,{Je:!0})}(e,t):e instanceof kn?function(e,t,n,r){if(!pn(e.Ge,t))return t;var i=Cn(e,t),o=function(e,t,n,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],c=s.transform,u=null;n instanceof Nn&&(u=n.field(s.field)),null===u&&r instanceof Nn&&(u=r.field(s.field)),i.push($t(c,u,t))}return i}(e.fieldTransforms,n,t,r),a=Sn(e,i.data(),o);return new Nn(e.key,i.version,a,{Je:!0})}(e,t,r,n):function(e,t){return pn(e.Ge,t)?new Pn(e.key,ce.min()):t}(e,t)}function yn(e,t){return e instanceof kn?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t instanceof Nn?t.field(o.field):void 0,s=en(o.transform,a||null);null!=s&&(n=null==n?(new In).set(o.field,s):n.set(o.field,s))}return n?n.Xe():null}(e,t):null}function bn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.Ge.isEqual(t.Ge)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.We.isEqual(t.We):2!==e.type||X(e.fieldTransforms,e.fieldTransforms,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nn&&t instanceof nn||e instanceof on&&t instanceof on?X(e.elements,t.elements,tt):e instanceof sn&&t instanceof sn?tt(e.je,t.je):e instanceof tn&&t instanceof tn}(e.transform,t.transform)}(e,t)})))}function wn(e){return e instanceof Nn?e.version:ce.min()}var xn=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(t,e),t}(mn),_n=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return r.__extends(t,e),t}(mn);function En(e,t){return function(e,t){var n=new In(t);return e.We.fields.forEach((function(t){if(!t.m()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.Xe()}(e,t instanceof Nn?t.data():Tn.empty())}var kn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ge=hn.exists(!0),r}return r.__extends(t,e),t}(mn);function Cn(e,t){return t}function Sn(e,t,n){for(var r=new In(t),i=0;i<e.fieldTransforms.length;i++){var o=e.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var jn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ge=n,r.type=3,r}return r.__extends(t,e),t}(mn),An=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ge=n,r.type=4,r}return r.__extends(t,e),t}(mn),Tn=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.m())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!mt(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e._()])||null},e.prototype.isEqual=function(e){return tt(this.proto,e.proto)},e}(),In=function(){function e(e){void 0===e&&(e=Tn.empty()),this.Ze=e,this.tn=new Map}return e.prototype.set=function(e,t){return this.en(e,t),this},e.prototype.delete=function(e){return this.en(e,null),this},e.prototype.en=function(e,t){for(var n=this.tn,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===et(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e._(),t)},e.prototype.Xe=function(){var e=this.nn(j.P(),this.tn);return null!=e?new Tn(e):this.Ze},e.prototype.nn=function(e,t){var n=this,r=!1,i=this.Ze.field(e),o=mt(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var a=n.nn(e.child(i),t);null!=a&&(o[i]=a,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function On(e){var t=[];return _(e.fields||{},(function(e,n){var r=new j([e]);if(mt(n)){var i=On(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new ln(t)}var Dn=function(e,t){this.key=e,this.version=t},Nn=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(t,e),t.prototype.field=function(e){return this.sn.field(e)},t.prototype.data=function(){return this.sn},t.prototype.rn=function(){return this.sn.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Je===e.Je&&this.hasCommittedMutations===e.hasCommittedMutations&&this.sn.isEqual(e.sn)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(Dn),Pn=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Dn),Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Dn),Ln=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=a,this.endAt=s,this.cn=null,this.un=null,this.startAt,this.endAt};function Rn(e,t,n,r,i,o,a,s){return new Ln(e,t,n,r,i,o,a,s)}function Zn(e){return new Ln(e)}function Fn(e){return!ue(e.limit)&&"F"===e.an}function Un(e){return!ue(e.limit)&&"L"===e.an}function zn(e){return e.on.length>0?e.on[0].field:null}function Bn(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.hn())return r.field}return null}function Vn(e){return null!==e.collectionGroup}function Wn(e){var t=w(e);if(null===t.cn){t.cn=[];var n=Bn(t),r=zn(t);if(null!==n&&null===r)n.p()||t.cn.push(new hr(n)),t.cn.push(new hr(j.v(),"asc"));else{for(var i=!1,o=0,a=t.on;o<a.length;o++){var s=a[o];t.cn.push(s),s.field.p()&&(i=!0)}if(!i){var c=t.on.length>0?t.on[t.on.length-1].dir:"asc";t.cn.push(new hr(j.v(),c))}}}return t.cn}function Hn(e){var t=w(e);if(!t.un)if("F"===t.an)t.un=he(t.path,t.collectionGroup,Wn(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Wn(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new hr(o.field,a))}var s=t.endAt?new ur(t.endAt.position,!t.endAt.before):null,c=t.startAt?new ur(t.startAt.position,!t.startAt.before):null;t.un=he(t.path,t.collectionGroup,n,t.filters,t.limit,s,c)}return t.un}function qn(e,t,n){return new Ln(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gn(e,t){return new Ln(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),e.limit,e.an,t,e.endAt)}function Yn(e,t){return new Ln(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),e.limit,e.an,e.startAt,t)}function Kn(e,t){return me(Hn(e),Hn(t))&&e.an===t.an}function Qn(e){return pe(Hn(e))+"|lt:"+e.an}function Xn(e){return"Query(target="+function(e){var t=e.path.R();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.R()+" "+t.op+" "+ot(t.value);var t})).join(", ")+"]"),ue(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return(t=e).field.R()+" ("+t.dir+")";var t})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+lr(e.startAt)),e.endAt&&(t+=", endAt: "+lr(e.endAt)),"Target("+t+")"}(Hn(e))+"; limitType="+e.an+")"}function $n(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.N(e.collectionGroup)&&e.path.T(n):A.F(e.path)?e.path.isEqual(n):e.path.I(n)}(e,t)&&function(e,t){for(var n=0,r=e.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!dr(e.startAt,Wn(e),t))&&(!e.endAt||!dr(e.endAt,Wn(e),t))}(e,t)}function Jn(e){return function(t,n){for(var r=!1,i=0,o=Wn(e);i<o.length;i++){var a=o[i],s=pr(a,t,n);if(0!==s)return s;r=r||a.field.p()}return 0}}var er=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return r.__extends(t,e),t.create=function(e,n,r){if(e.p())return"in"===n||"not-in"===n?this.ln(e,n,r):new tr(e,n,r);if(ht(r)){if("=="!==n&&"!="!==n)throw new d(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new t(e,n,r)}if(pt(r)){if("=="!==n&&"!="!==n)throw new d(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new t(e,n,r)}return"array-contains"===n?new or(e,r):"in"===n?new ar(e,r):"not-in"===n?new sr(e,r):"array-contains-any"===n?new cr(e,r):new t(e,n,r)},t.ln=function(e,t,n){return"in"===t?new nr(e,n):new rr(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this._n(rt(t,this.value)):null!==t&&et(this.value)===et(t)&&this._n(rt(t,this.value))},t.prototype._n=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}},t.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),tr=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=A.C(r.referenceValue),i}return r.__extends(t,e),t.prototype.matches=function(e){var t=A.i(e.key,this.key);return this._n(t)},t}(er),nr=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=ir("in",n),r}return r.__extends(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(er),rr=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=ir("not-in",n),r}return r.__extends(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(er);function ir(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return A.C(e.referenceValue)}))}var or=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return r.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return ft(t)&&nt(t.arrayValue,this.value)},t}(er),ar=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return r.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&nt(this.value.arrayValue,t)},t}(er),sr=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return r.__extends(t,e),t.prototype.matches=function(e){if(nt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!nt(this.value.arrayValue,t)},t}(er),cr=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return r.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!ft(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return nt(t.value.arrayValue,e)}))},t}(er),ur=function(e,t){this.position=e,this.before=t};function lr(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ot(e)})).join(",")}function dr(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.p()?A.i(A.C(a.referenceValue),n.key):rt(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function fr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!tt(e.position[n],t.position[n]))return!1;return!0}var hr=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function pr(e,t,n){var r=e.field.p()?A.i(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?rt(r,i):y()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function mr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var vr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},gr=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=e,this.dn=t,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return e.prototype.reset=function(){this.En=0},e.prototype.Rn=function(){this.En=this.Tn},e.prototype.gn=function(e){var t=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return t.An=Date.now(),e()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},e.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},e.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},e.prototype.Pn=function(){return(Math.random()-.5)*this.En},e}(),yr=function(){function e(e){var t=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,e((function(e){t.Sn=!0,t.result=e,t.bn&&t.bn(e)}),(function(e){t.Sn=!0,t.error=e,t.vn&&t.vn(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Dn&&y(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(t,this.result):new e((function(e,i){r.bn=function(n){r.Nn(t,n).next(e,i)},r.vn=function(t){r.Cn(n,t).next(e,i)}}))},e.prototype.Fn=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.xn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.Nn=function(t,n){return t?this.xn((function(){return t(n)})):e.resolve(n)},e.prototype.Cn=function(t,n){return t?this.xn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.$n=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.kn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.$n(r)},e}(),br=function(){function e(t,n,r){this.name=t,this.version=n,this.Mn=r,12.2===e.On(a.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return p("SimpleDb","Removing database:",e),Cr(window.indexedDB.deleteDatabase(e)).Fn()},e.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(e.Bn())return!0;var t=a.getUA(),n=e.On(t),r=0<n&&n<10,i=e.qn(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Bn=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"})||void 0===e?void 0:e.Un)},e.Qn=function(e,t){return e.store(t)},e.On=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.qn=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Wn=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new xr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new d(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new xr(e,n))},i.onupgradeneeded=function(e){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Mn.createOrUpgrade(t,i.transaction,e.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(e){return n.jn(e)}),this.db)]}}))}))},e.prototype.Kn=function(e){this.jn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,c,u;return r.__generator(this,(function(l){switch(l.label){case 0:o="readonly"===t,a=0,s=function(){var t,s,u,l,d;return r.__generator(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,c.Wn(e)];case 2:return c.db=r.sent(),t=Er.open(c.db,e,o?"readonly":"readwrite",n),s=i(t).catch((function(e){return t.abort(e),yr.reject(e)})).Fn(),u={},s.catch((function(){})),[4,t.Gn];case 3:return[2,(u.value=(r.sent(),s),u)];case 4:return l=r.sent(),d="FirebaseError"!==l.name&&a<3,p("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),c.close(),d?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},c=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),wr=function(){function e(e){this.zn=e,this.Hn=!1,this.Yn=null}return Object.defineProperty(e.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.zn=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Hn=!0},e.prototype.Xn=function(e){this.Yn=e},e.prototype.delete=function(){return Cr(this.zn.delete())},e}(),xr=function(e){function t(t,n){var r=this;return(r=e.call(this,l.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(t,e),t}(d);function _r(e){return"IndexedDbTransactionError"===e.name}var Er=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.Zn=new vr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){t.error?n.Zn.reject(new xr(e,t.error)):n.Zn.resolve()},this.transaction.onerror=function(t){var r=jr(t.target.error);n.Zn.reject(new xr(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new xr(n,t)}},Object.defineProperty(e.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.Zn.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new kr(t)},e}(),kr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Cr(n)},e.prototype.add=function(e){return p("SimpleDb","ADD",this.store.name,e,e),Cr(this.store.add(e))},e.prototype.get=function(e){var t=this;return Cr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return p("SimpleDb","DELETE",this.store.name,e),Cr(this.store.delete(e))},e.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Cr(this.store.count())},e.prototype.ts=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.es(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.ns=function(e,t){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(e,t,n){return n.delete()}))},e.prototype.rs=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.es(r,t)},e.prototype.os=function(e){var t=this.cursor({});return new yr((function(n,r){t.onerror=function(e){var t=jr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.es=function(e,t){var n=[];return new yr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new wr(i),a=t(i.primaryKey,i.value,o);if(a instanceof yr){var s=a.catch((function(e){return o.done(),yr.reject(e)}));n.push(s)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return yr.$n(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.ss?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Cr(e){return new yr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=jr(e.target.error);n(t)}}))}var Sr=!1;function jr(e){var t=br.On(a.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new d("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sr||(Sr=!0,setTimeout((function(){throw r}),0)),r}}return e}function Ar(){return"undefined"!=typeof window?window:null}function Tr(){return"undefined"!=typeof document?document:null}var Ir=function(){function e(e,t,n,r,i){this.cs=e,this.dn=t,this.us=n,this.op=r,this.hs=i,this.ls=new vr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(e){}))}return e._s=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.fs=setTimeout((function(){return t.ds()}),e)},e.prototype.pn=function(){return this.ds()},e.prototype.cancel=function(e){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new d(l.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.ds=function(){var e=this;this.cs.ws((function(){return null!==e.fs?(e.clearTimeout(),e.op().then((function(t){return e.ls.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},e}(),Or=function(){function e(){var e=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new gr(this,"async_queue_retry"),this.Vs=function(){var t=Tr();t&&p("AsyncQueue","Visibility state changed to  ",t.visibilityState),e.ys.Vn()};var t=Tr();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(e.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),e.prototype.ws=function(e){this.enqueue(e)},e.prototype.bs=function(e){this.vs(),this.Ss(e)},e.prototype.Ds=function(){if(!this.Is){this.Is=!0;var e=Tr();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vs)}},e.prototype.enqueue=function(e){return this.vs(),this.Is?new Promise((function(e){})):this.Ss(e)},e.prototype.Cs=function(e){var t=this;this.ws((function(){return t.Es.push(e),t.Ns()}))},e.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!_r(e=n.sent()))throw e;return p("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return t.Ns()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ss=function(e){var t=this,n=this.Ts.then((function(){return t.gs=!0,e().catch((function(e){throw t.Rs=e,t.gs=!1,m("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gs=!1,e}))}));return this.Ts=n,n},e.prototype.yn=function(e,t,n){var r=this;this.vs(),this.Ps.indexOf(e)>-1&&(t=0);var i=Ir._s(this,e,t,n,(function(e){return r.Fs(e)}));return this.As.push(i),i},e.prototype.vs=function(){this.Rs&&y()},e.prototype.xs=function(){},e.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return[4,e=this.Ts];case 1:t.sent(),t.label=2;case 2:if(e!==this.Ts)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.ks=function(e){for(var t=0,n=this.As;t<n.length;t++)if(n[t].dn===e)return!0;return!1},e.prototype.Ms=function(e){var t=this;return this.$s().then((function(){t.As.sort((function(e,t){return e.us-t.us}));for(var n=0,r=t.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==e&&i.dn===e)break}return t.$s()}))},e.prototype.Os=function(e){this.Ps.push(e)},e.prototype.Fs=function(e){var t=this.As.indexOf(e);this.As.splice(t,1)},e}();function Dr(e,t){if(m("AsyncQueue",t+": "+e),_r(e))return new d(l.UNAVAILABLE,t+": "+e);throw e}var Nr=function(){this.Ls=void 0,this.listeners=[]},Pr=function(){this.Bs=new ae((function(e){return Qn(e)}),Kn),this.onlineState="Unknown",this.qs=new Set};function Mr(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,c,u;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=w(e),i=t.query,o=!1,(a=n.Bs.get(i))||(o=!0,a=new Nr),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.Us(i)];case 2:return s.Ls=r.sent(),[3,4];case 3:return c=r.sent(),u=Dr(c,"Initialization of query '"+Xn(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.Bs.set(i,a),a.listeners.push(t),t.Qs(n.onlineState),a.Ls&&t.Ws(a.Ls)&&Fr(n),[2]}}))}))}function Lr(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){return n=w(e),i=t.query,o=!1,(a=n.Bs.get(i))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function Rr(e,t){for(var n=w(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,c=n.Bs.get(s);if(c){for(var u=0,l=c.listeners;u<l.length;u++)l[u].Ws(a)&&(r=!0);c.Ls=a}}r&&Fr(n)}function Zr(e,t,n){var r=w(e),i=r.Bs.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.Bs.delete(t)}function Fr(e){e.qs.forEach((function(e){e.next()}))}var Ur=function(){function e(e,t,n){this.query=e,this.Ks=t,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Ws=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ue(e.query,e.docs,e.Qt,t,e.Wt,e.fromCache,e.jt,!0)}var o=!1;return this.Gs?this.Hs(e)&&(this.Ks.next(e),o=!0):this.Ys(e,this.onlineState)&&(this.Js(e),o=!0),this.zs=e,o},e.prototype.onError=function(e){this.Ks.error(e)},e.prototype.Qs=function(e){this.onlineState=e;var t=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,e)&&(this.Js(this.zs),t=!0),t},e.prototype.Ys=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.Xs&&n||e.docs.m()&&"Offline"!==t)},e.prototype.Hs=function(e){if(e.docChanges.length>0)return!0;var t=this.zs&&this.zs.hasPendingWrites!==e.hasPendingWrites;return!(!e.jt&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.Js=function(e){e=Ue.Gt(e.query,e.docs,e.Wt,e.fromCache),this.Gs=!0,this.Ks.next(e)},e}(),zr=function(){function e(e){this.uid=e}return e.prototype.Zs=function(){return null!=this.uid},e.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();zr.UNAUTHENTICATED=new zr(null),zr.ei=new zr("google-credentials-uid"),zr.ni=new zr("first-party-uid");var Br=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.si=function(e){return n.ii(e)},this.ri=function(e){return t.oi(e)})}return e.prototype.ii=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.ri&&this.ri(e),e},e}();function Vr(e,t){return"firestore_clients_"+e+"_"+t}function Wr(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.Zs()&&(r+="_"+t.uid),r}function Hr(e,t){return"firestore_targets_"+e+"_"+t}Br.ai=-1;var qr=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.ci=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new d(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(m("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Gr=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.ci=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new d(r.error.code,r.error.message)),i?new e(t,r.state,o):(m("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Yr=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.ci=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Re(),a=0;i&&a<r.activeTargetIds.length;++a)i=de(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(m("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Kr=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.ci=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(m("SharedClientState","Failed to parse online state: "+t),null)},e}(),Qr=function(){function e(){this.activeTargetIds=Re()}return e.prototype.hi=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.li=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.ui=function(){var e={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Xr=function(){function e(e,t,n,r,i){this.window=e,this.fn=t,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Ee(Q),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Vr(this.persistenceKey,this._i),this.Ri=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Qr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return e.Ln=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,n,i,o,a,s,c,u,l,d,f=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this._i&&(o=this.getItem(Vr(this.persistenceKey,i)))&&(a=Yr.ci(i,o))&&(this.Ti=this.Ti.ot(a.clientId,a));for(this.bi(),(s=this.storage.getItem(this.Vi))&&(c=this.vi(s))&&this.Si(c),u=0,l=this.Ii;u<l.length;u++)d=l[u],this.mi(d);return this.Ii=[],this.window.addEventListener("unload",(function(){return f.Di()})),this.Ei=!0,[2]}}))}))},e.prototype.oi=function(e){this.setItem(this.Ri,JSON.stringify(e))},e.prototype.Ci=function(){return this.Ni(this.Ti)},e.prototype.Fi=function(e){var t=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.xi=function(e){this.$i(e,"pending")},e.prototype.ki=function(e,t,n){this.$i(e,t,n),this.Mi(e)},e.prototype.Oi=function(e){var t="not-current";if(this.Fi(e)){var n=this.storage.getItem(Hr(this.persistenceKey,e));if(n){var r=Gr.ci(e,n);r&&(t=r.state)}}return this.Li.hi(e),this.bi(),t},e.prototype.Bi=function(e){this.Li.li(e),this.bi()},e.prototype.qi=function(e){return this.Li.activeTargetIds.has(e)},e.prototype.Ui=function(e){this.removeItem(Hr(this.persistenceKey,e))},e.prototype.Qi=function(e,t,n){this.Wi(e,t,n)},e.prototype.ji=function(e,t,n){var r=this;t.forEach((function(e){r.Mi(e)})),this.currentUser=e,n.forEach((function(e){r.xi(e)}))},e.prototype.Ki=function(e){this.Gi(e)},e.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.mi=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(t,void 0,void 0,(function(){var e,t,i,o,a,s;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return e=this.zi(n.key),[2,this.Hi(e,null)];if(t=this.Yi(n.key,n.newValue))return[2,this.Hi(t.clientId,t)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(o=this.Zi(n.key,n.newValue)))return[2,this.tr(o)]}else if(n.key===this.Vi){if(null!==n.newValue&&(a=this.vi(n.newValue)))return[2,this.Si(a)]}else n.key===this.Ri&&(s=function(e){var t=Br.ai;if(null!=e)try{var n=JSON.parse(e);b("number"==typeof n),t=n}catch(e){m("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Br.ai&&this.si(s)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),e.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},e.prototype.$i=function(e,t,n){var r=new qr(this.currentUser,e,t,n),i=Wr(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ui())},e.prototype.Mi=function(e){var t=Wr(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Gi=function(e){var t={clientId:this._i,onlineState:e};this.storage.setItem(this.Vi,JSON.stringify(t))},e.prototype.Wi=function(e,t,n){var r=Hr(this.persistenceKey,e),i=new Gr(e,t,n);this.setItem(r,i.ui())},e.prototype.zi=function(e){var t=this.gi.exec(e);return t?t[1]:null},e.prototype.Yi=function(e,t){var n=this.zi(e);return Yr.ci(n,t)},e.prototype.Ji=function(e,t){var n=this.Pi.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return qr.ci(new zr(i),r,t)},e.prototype.Zi=function(e,t){var n=this.yi.exec(e),r=Number(n[1]);return Gr.ci(r,t)},e.prototype.vi=function(e){return Kr.ci(e)},e.prototype.Xi=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.fi.er(e.batchId,e.state,e.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.tr=function(e){return this.fi.nr(e.targetId,e.state,e.error)},e.prototype.Hi=function(e,t){var n=this,r=t?this.Ti.ot(e,t):this.Ti.remove(e),i=this.Ni(this.Ti),o=this.Ni(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.fi.sr(a,s).then((function(){n.Ti=r}))},e.prototype.Si=function(e){this.Ti.get(e.clientId)&&this.di(e.onlineState)},e.prototype.Ni=function(e){var t=Re();return e.forEach((function(e,n){t=t.kt(n.activeTargetIds)})),t},e}(),$r=function(){function e(){this.ir=new Qr,this.rr={},this.di=null,this.si=null}return e.prototype.xi=function(e){},e.prototype.ki=function(e,t,n){},e.prototype.Oi=function(e){return this.ir.hi(e),this.rr[e]||"not-current"},e.prototype.Qi=function(e,t,n){this.rr[e]=t},e.prototype.Bi=function(e){this.ir.li(e)},e.prototype.qi=function(e){return this.ir.activeTargetIds.has(e)},e.prototype.Ui=function(e){delete this.rr[e]},e.prototype.Ci=function(){return this.ir.activeTargetIds},e.prototype.Fi=function(e){return this.ir.activeTargetIds.has(e)},e.prototype.start=function(){return this.ir=new Qr,Promise.resolve()},e.prototype.ji=function(e,t,n){},e.prototype.Ki=function(e){},e.prototype.Di=function(){},e.prototype.oi=function(e){},e}(),Jr=function(){function e(e,t,n,r){this.batchId=e,this.ar=t,this.baseMutations=n,this.mutations=r}return e.prototype.cr=function(e,t,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=vn(o,t,r[i]))}return t},e.prototype.hr=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=gn(i,t,t,this.ar))}for(var o=t,a=0,s=this.mutations;a<s.length;a++){var c=s[a];c.key.isEqual(e)&&(t=gn(c,t,o,this.ar))}return t},e.prototype.lr=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.hr(r.key,e.get(r.key));i&&(n=n.ot(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Me())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&X(this.mutations,e.mutations,(function(e,t){return bn(e,t)}))&&X(this.baseMutations,e.baseMutations,(function(e,t){return bn(e,t)}))},e}(),ei=function(){function e(e,t,n,r){this.batch=e,this._r=t,this.ur=n,this.dr=r}return e.from=function(t,n,r){b(t.mutations.length===r.length);for(var i=Ne,o=t.mutations,a=0;a<o.length;a++)i=i.ot(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),ti=function(){function e(){this.wr=new ae((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.mr=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.Tr},set:function(e){this.Tr=e},enumerable:!1,configurable:!0}),e.prototype.Er=function(e,t){this.Ir(),this.readTime=t,this.wr.set(e.key,e)},e.prototype.Ar=function(e,t){this.Ir(),t&&(this.readTime=t),this.wr.set(e,null)},e.prototype.Rr=function(e,t){this.Ir();var n=this.wr.get(t);return void 0!==n?yr.resolve(n):this.gr(e,t)},e.prototype.getEntries=function(e,t){return this.Pr(e,t)},e.prototype.apply=function(e){return this.Ir(),this.mr=!0,this.yr(e)},e.prototype.Ir=function(){},e}(),ni="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ri=function(){function e(){this.Vr=[]}return e.prototype.pr=function(e){this.Vr.push(e)},e.prototype.br=function(){this.Vr.forEach((function(e){return e()}))},e}(),ii=function(){function e(e,t,n){this.vr=e,this.Sr=t,this.Dr=n}return e.prototype.Cr=function(e,t){var n=this;return this.Sr.Nr(e,t).next((function(r){return n.Fr(e,t,r)}))},e.prototype.Fr=function(e,t,n){return this.vr.Rr(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].hr(t,e);return e}))},e.prototype.$r=function(e,t,n){var r=Ie();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].hr(e,t);r=r.ot(e,t)})),r},e.prototype.kr=function(e,t){var n=this;return this.vr.getEntries(e,t).next((function(t){return n.Mr(e,t)}))},e.prototype.Mr=function(e,t){var n=this;return this.Sr.Or(e,t).next((function(r){var i=n.$r(e,t,r),o=Te();return i.forEach((function(e,t){t||(t=new Pn(e,ce.min())),o=o.ot(e,t)})),o}))},e.prototype.Lr=function(e,t,n){return function(e){return A.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Br(e,t.path):Vn(t)?this.qr(e,t,n):this.Ur(e,t,n)},e.prototype.Br=function(e,t){return this.Cr(e,new A(t)).next((function(e){var t=De();return e instanceof Nn&&(t=t.ot(e.key,e)),t}))},e.prototype.qr=function(e,t,n){var r=this,i=t.collectionGroup,o=De();return this.Dr.Qr(e,i).next((function(a){return yr.forEach(a,(function(a){var s=function(e,t){return new Ln(t,null,e.on.slice(),e.filters.slice(),e.limit,e.an,e.startAt,e.endAt)}(t,a.child(i));return r.Ur(e,s,n).next((function(e){e.forEach((function(e,t){o=o.ot(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Ur=function(e,t,n){var r,i,o=this;return this.vr.Lr(e,t,n).next((function(n){return r=n,o.Sr.Wr(e,t)})).next((function(t){return i=t,o.jr(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var c=s[a],u=c.key,l=r.get(u),d=gn(c,l,l,o.ar);r=d instanceof Nn?r.ot(u,d):r.remove(u)}}))})).next((function(){return r.forEach((function(e,n){$n(t,n)||(r=r.remove(e))})),r}))},e.prototype.jr=function(e,t,n){for(var r=Me(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var c=s[a];c instanceof _n&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.vr.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Nn&&(u=u.ot(e,t))})),u}))},e}(),oi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Kr=n,this.Gr=r}return e.zr=function(t,n){for(var r=Me(),i=Me(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}();function ai(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Q(n,i);return 0===a?Q(r,o):a}var si=function(){function e(e){this.Hr=e,this.buffer=new Se(ai),this.Yr=0}return e.prototype.Jr=function(){return++this.Yr},e.prototype.Xr=function(e){var t=[e,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ai(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),ci={Zr:!1,eo:0,no:0,so:0},ui=function(){function e(e,t,n){this.io=e,this.ro=t,this.oo=n}return e.ao=function(t){return new e(t,e.co,e.uo)},e}();ui.ho=-1,ui.lo=1048576,ui._o=41943040,ui.co=10,ui.uo=1e3,ui.fo=new ui(ui._o,ui.co,ui.uo),ui.do=new ui(ui.ho,0,0);var li=function(){function e(e,t){this.wo=e,this.cs=t,this.mo=!1,this.To=null}return e.prototype.start=function(e){this.wo.params.io!==ui.ho&&this.Eo(e)},e.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(e.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),e.prototype.Eo=function(e){var t=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return _r(t=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Io(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),di=function(){function e(e,t){this.Ao=e,this.params=t}return e.prototype.Ro=function(e,t){return this.Ao.Po(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.yo=function(e,t){var n=this;if(0===t)return yr.resolve(Br.ai);var r=new si(t);return this.Ao.Ce(e,(function(e){return r.Xr(e.sequenceNumber)})).next((function(){return n.Ao.Vo(e,(function(e){return r.Xr(e)}))})).next((function(){return r.maxValue}))},e.prototype.po=function(e,t,n){return this.Ao.po(e,t,n)},e.prototype.bo=function(e,t){return this.Ao.bo(e,t)},e.prototype.vo=function(e,t){var n=this;return this.params.io===ui.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),yr.resolve(ci)):this.So(e).next((function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ci):n.Do(e,t)}))},e.prototype.So=function(e){return this.Ao.So(e)},e.prototype.Do=function(e,t){var n,r,i,a,s,c,u,l=this,d=Date.now();return this.Ro(e,this.params.ro).next((function(t){return t>l.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+t),r=l.params.oo):r=t,a=Date.now(),l.yo(e,r)})).next((function(r){return n=r,s=Date.now(),l.po(e,n,t)})).next((function(t){return i=t,c=Date.now(),l.bo(e,n)})).next((function(e){return u=Date.now(),h()<=o.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(c-s)+"ms\n\tRemoved "+e+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-d)+"ms"),yr.resolve({Zr:!0,eo:r,no:i,so:e})}))},e}();function fi(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=pi(t)),t=hi(e.get(n),t);return pi(t)}function hi(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function pi(e){return e+"\x01\x01"}function mi(e){var t=e.length;if(b(t>=2),2===t)return b("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),C.P();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&y(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),c=void 0;0===i.length?c=s:(c=i+=s,i=""),r.push(c);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:y()}o=a+2}return new C(r)}var vi=function(e){this.Co=e};function gi(e,t){if(t.document)return function(e,t,n){var r=Tt(e,t.name),i=Ct(t.updateTime),o=new Tn({mapValue:{fields:t.fields}});return new Nn(r,i,o,{hasCommittedMutations:!!n})}(e.Co,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=A.$(t.noDocument.path),r=_i(t.noDocument.readTime);return new Pn(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=A.$(t.unknownDocument.path),o=_i(t.unknownDocument.version);return new Mn(i,o)}return y()}function yi(e,t,n){var r=bi(n),i=t.key.path.h().A();if(t instanceof Nn){var o=function(e,t){return{name:At(e,t.key),fields:t.rn().mapValue.fields,updateTime:_t(e,t.version.Z())}}(e.Co,t),a=t.hasCommittedMutations;return new Yi(null,null,o,a,r,i)}if(t instanceof Pn){var s=t.key.path.A(),c=xi(t.version),u=t.hasCommittedMutations;return new Yi(null,new qi(s,c),null,u,r,i)}if(t instanceof Mn){var l=t.key.path.A(),d=xi(t.version);return new Yi(new Gi(l,d),null,null,!0,r,i)}return y()}function bi(e){var t=e.Z();return[t.seconds,t.nanoseconds]}function wi(e){var t=new se(e[0],e[1]);return ce.J(t)}function xi(e){var t=e.Z();return new zi(t.seconds,t.nanoseconds)}function _i(e){var t=new se(e.seconds,e.nanoseconds);return ce.J(t)}function Ei(e,t){var n=(t.baseMutations||[]).map((function(t){return Lt(e.Co,t)})),r=t.mutations.map((function(t){return Lt(e.Co,t)})),i=se.fromMillis(t.localWriteTimeMs);return new Jr(t.batchId,i,n,r)}function ki(e){var t,n,r=_i(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?_i(e.lastLimboFreeSnapshotVersion):ce.min();return void 0!==e.query.documents?(b(1===(n=e.query).documents.length),t=Hn(Zn(Ot(n.documents[0])))):t=Ft(e.query),new be(t,e.targetId,0,e.lastListenSequenceNumber,r,i,J.fromBase64String(e.resumeToken))}function Ci(e,t){var n,r=xi(t.nt),i=xi(t.lastLimboFreeSnapshotVersion);n=ve(t.target)?Rt(e.Co,t.target):Zt(e.Co,t.target);var o=t.resumeToken.toBase64();return new Qi(t.targetId,pe(t.target),r,o,t.sequenceNumber,i,n)}var Si=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.Dr=n,this.No=r,this.Fo={}}return e.xo=function(t,n,r,i){return b(""!==t.uid),new e(t.Zs()?t.uid:"",n,r,i)},e.prototype.$o=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ti(e).rs({index:Wi.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.ko=function(e,t,n,r){var i=this,o=Ii(e),a=Ti(e);return a.add({}).next((function(s){b("number"==typeof s);for(var c=new Jr(s,t,n,r),u=function(e,t,n){var r=n.baseMutations.map((function(t){return Mt(e.Co,t)})),i=n.mutations.map((function(t){return Mt(e.Co,t)}));return new Wi(t,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,c),l=[],d=new Se((function(e,t){return Q(e.R(),t.R())})),f=0,h=r;f<h.length;f++){var p=h[f],m=Hi.key(i.userId,p.key.path,s);d=d.add(p.key.path.h()),l.push(a.put(u)),l.push(o.put(m,Hi.PLACEHOLDER))}return d.forEach((function(t){l.push(i.Dr.Mo(e,t))})),e.pr((function(){i.Fo[s]=c.keys()})),yr.$n(l).next((function(){return c}))}))},e.prototype.Oo=function(e,t){var n=this;return Ti(e).get(t).next((function(e){return e?(b(e.userId===n.userId),Ei(n.serializer,e)):null}))},e.prototype.Lo=function(e,t){var n=this;return this.Fo[t]?yr.resolve(this.Fo[t]):this.Oo(e,t).next((function(e){if(e){var r=e.keys();return n.Fo[t]=r,r}return null}))},e.prototype.Bo=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ti(e).rs({index:Wi.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(b(t.batchId>=r),o=Ei(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.qo=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ti(e).rs({index:Wi.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Uo=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ti(e).ts(Wi.userMutationsIndex,n).next((function(e){return e.map((function(e){return Ei(t.serializer,e)}))}))},e.prototype.Nr=function(e,t){var n=this,r=Hi.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ii(e).rs({range:i},(function(r,i,a){var s=r[0],c=r[1],u=r[2],l=mi(c);if(s===n.userId&&t.path.isEqual(l))return Ti(e).get(u).next((function(e){if(!e)throw y();b(e.userId===n.userId),o.push(Ei(n.serializer,e))}));a.done()})).next((function(){return o}))},e.prototype.Or=function(e,t){var n=this,r=new Se(Q),i=[];return t.forEach((function(t){var o=Hi.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Ii(e).rs({range:a},(function(e,i,o){var a=e[0],s=e[1],c=e[2],u=mi(s);a===n.userId&&t.path.isEqual(u)?r=r.add(c):o.done()}));i.push(s)})),yr.$n(i).next((function(){return n.Qo(e,r)}))},e.prototype.Wr=function(e,t){var n=this,r=t.path,i=r.length+1,o=Hi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Se(Q);return Ii(e).rs({range:a},(function(e,t,o){var a=e[0],c=e[1],u=e[2],l=mi(c);a===n.userId&&r.T(l)?l.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Qo(e,s)}))},e.prototype.Qo=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ti(e).get(t).next((function(e){if(null===e)throw y();b(e.userId===n.userId),r.push(Ei(n.serializer,e))})))})),yr.$n(i).next((function(){return r}))},e.prototype.Wo=function(e,t){var n=this;return Ai(e.jo,this.userId,t).next((function(r){return e.pr((function(){n.Ko(t.batchId)})),yr.forEach(r,(function(t){return n.No.Go(e,t)}))}))},e.prototype.Ko=function(e){delete this.Fo[e]},e.prototype.zo=function(e){var t=this;return this.$o(e).next((function(n){if(!n)return yr.resolve();var r=IDBKeyRange.lowerBound(Hi.prefixForUser(t.userId)),i=[];return Ii(e).rs({range:r},(function(e,n,r){if(e[0]===t.userId){var o=mi(e[1]);i.push(o)}else r.done()})).next((function(){b(0===i.length)}))}))},e.prototype.Ho=function(e,t){return ji(e,this.userId,t)},e.prototype.Yo=function(e){var t=this;return Oi(e).get(this.userId).next((function(e){return e||new Vi(t.userId,-1,"")}))},e}();function ji(e,t,n){var r=Hi.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ii(e).rs({range:o,ss:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Ai(e,t,n){var r=e.store(Wi.store),i=e.store(Hi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=r.rs({range:a},(function(e,t,n){return s++,n.delete()}));o.push(c.next((function(){b(1===s)})));for(var u=[],l=0,d=n.mutations;l<d.length;l++){var f=d[l],h=Hi.key(t,f.key.path,n.batchId);o.push(i.delete(h)),u.push(f.key)}return yr.$n(o).next((function(){return u}))}function Ti(e){return ho.Qn(e,Wi.store)}function Ii(e){return ho.Qn(e,Hi.store)}function Oi(e){return ho.Qn(e,Vi.store)}var Di=function(){function e(e,t){this.serializer=e,this.Dr=t}return e.prototype.Er=function(e,t,n){return Mi(e).put(Li(t),n)},e.prototype.Ar=function(e,t){var n=Mi(e),r=Li(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Jo(e,r)}))},e.prototype.Rr=function(e,t){var n=this;return Mi(e).get(Li(t)).next((function(e){return n.Xo(e)}))},e.prototype.Zo=function(e,t){var n=this;return Mi(e).get(Li(t)).next((function(e){var t=n.Xo(e);return t?{ta:t,size:Ri(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Ie();return this.ea(e,t,(function(e,t){var i=n.Xo(t);r=r.ot(e,i)})).next((function(){return r}))},e.prototype.na=function(e,t){var n=this,r=Ie(),i=new Ee(A.i);return this.ea(e,t,(function(e,t){var o=n.Xo(t);o?(r=r.ot(e,o),i=i.ot(e,Ri(t))):(r=r.ot(e,null),i=i.ot(e,0))})).next((function(){return{sa:r,ia:i}}))},e.prototype.ea=function(e,t,n){if(t.m())return yr.resolve();var r=IDBKeyRange.bound(t.first().path.A(),t.last().path.A()),i=t._t(),o=i.It();return Mi(e).rs({range:r},(function(e,t,r){for(var a=A.$(e);o&&A.i(o,a)<0;)n(o,null),o=i.It();o&&o.isEqual(a)&&(n(o,t),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},e.prototype.Lr=function(e,t,n){var r=this,i=De(),o=t.path.length+1,a={};if(n.isEqual(ce.min())){var s=t.path.A();a.range=IDBKeyRange.lowerBound(s)}else{var c=t.path.A(),u=bi(n);a.range=IDBKeyRange.lowerBound([c,u],!0),a.index=Yi.collectionReadTimeIndex}return Mi(e).rs(a,(function(e,n,a){if(e.length===o){var s=gi(r.serializer,n);t.path.T(s.key.path)?s instanceof Nn&&$n(t,s)&&(i=i.ot(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.ra=function(e){return new Ni(this,!!e&&e.oa)},e.prototype.aa=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Pi(e).get(Ki.key).next((function(e){return b(!!e),e}))},e.prototype.Jo=function(e,t){return Pi(e).put(Ki.key,t)},e.prototype.Xo=function(e){if(e){var t=gi(this.serializer,e);return t instanceof Pn&&t.version.isEqual(ce.min())?null:t}return null},e}(),Ni=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).ca=t,r.oa=n,r.ua=new ae((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return r.__extends(t,e),t.prototype.yr=function(e){var t=this,n=[],r=0,i=new Se((function(e,t){return Q(e.R(),t.R())}));return this.wr.forEach((function(o,a){var s=t.ua.get(o);if(a){var c=yi(t.ca.serializer,a,t.readTime);i=i.add(o.path.h());var u=Ri(c);r+=u-s,n.push(t.ca.Er(e,o,c))}else if(r-=s,t.oa){var l=yi(t.ca.serializer,new Pn(o,ce.min()),t.readTime);n.push(t.ca.Er(e,o,l))}else n.push(t.ca.Ar(e,o))})),i.forEach((function(r){n.push(t.ca.Dr.Mo(e,r))})),n.push(this.ca.updateMetadata(e,r)),yr.$n(n)},t.prototype.gr=function(e,t){var n=this;return this.ca.Zo(e,t).next((function(e){return null===e?(n.ua.set(t,0),null):(n.ua.set(t,e.size),e.ta)}))},t.prototype.Pr=function(e,t){var n=this;return this.ca.na(e,t).next((function(e){var t=e.sa;return e.ia.forEach((function(e,t){n.ua.set(e,t)})),t}))},t}(ti);function Pi(e){return ho.Qn(e,Ki.store)}function Mi(e){return ho.Qn(e,Yi.store)}function Li(e){return e.path.A()}function Ri(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y();t=e.noDocument}return JSON.stringify(t).length}var Zi=function(){function e(){this.ha=new Fi}return e.prototype.Mo=function(e,t){return this.ha.add(t),yr.resolve()},e.prototype.Qr=function(e,t){return yr.resolve(this.ha.getEntries(t))},e}(),Fi=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e._(),n=e.h(),r=this.index[t]||new Se(C.i),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e._(),n=e.h(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Se(C.i)).A()},e}(),Ui=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;b(n<r&&n>=0&&r<=10);var o=new Er("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Bi.store)}(e),function(e){e.createObjectStore(Vi.store,{keyPath:Vi.keyPath}),e.createObjectStore(Wi.store,{keyPath:Wi.keyPath,autoIncrement:!0}).createIndex(Wi.userMutationsIndex,Wi.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Hi.store)}(e),eo(e),function(e){e.createObjectStore(Yi.store)}(e));var a=yr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Xi.store),e.deleteObjectStore(Qi.store),e.deleteObjectStore($i.store)}(e),eo(e)),a=a.next((function(){return function(e){var t=e.store($i.store),n=new $i(0,0,ce.min().Z(),0);return t.put($i.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Wi.store).ts().next((function(n){e.deleteObjectStore(Wi.store),e.createObjectStore(Wi.store,{keyPath:Wi.keyPath,autoIncrement:!0}).createIndex(Wi.userMutationsIndex,Wi.userMutationsKeyPath,{unique:!0});var r=t.store(Wi.store),i=n.map((function(e){return r.put(e)}));return yr.$n(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(to.store,{keyPath:to.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Ki.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Yi.store);t.createIndex(Yi.readTimeIndex,Yi.readTimeIndexPath,{unique:!1}),t.createIndex(Yi.collectionReadTimeIndex,Yi.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.rewriteCanonicalIds(o)}))),a},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Yi.store).rs((function(e,n){t+=Ri(n)})).next((function(){var n=new Ki(t);return e.store(Ki.store).put(Ki.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Vi.store),r=e.store(Wi.store);return n.ts().next((function(n){return yr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Wi.userMutationsIndex,i).next((function(r){return yr.forEach(r,(function(r){b(r.userId===n.userId);var i=Ei(t.serializer,r);return Ai(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Xi.store),n=e.store(Yi.store);return e.store($i.store).get($i.key).next((function(e){var r=[];return n.rs((function(n,i){var o=new C(n),a=function(e){return[0,fi(e)]}(o);r.push(t.get(a).next((function(n){return n?yr.resolve():function(n){return t.put(new Xi(0,fi(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return yr.$n(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Ji.store,{keyPath:Ji.keyPath});var n=t.store(Ji.store),r=new Fi,i=function(e){if(r.add(e)){var t=e._(),i=e.h();return n.put({collectionId:t,parent:fi(i)})}};return t.store(Yi.store).rs({ss:!0},(function(e,t){var n=new C(e);return i(n.h())})).next((function(){return t.store(Hi.store).rs({ss:!0},(function(e,t){e[0];var n=e[1],r=(e[2],mi(n));return i(r.h())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(Qi.store);return n.rs((function(e,r){var i=ki(r),o=Ci(t.serializer,i);return n.put(o)}))},e}(),zi=function(e,t){this.seconds=e,this.nanoseconds=t},Bi=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Bi.store="owner",Bi.key="owner";var Vi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Vi.store="mutationQueues",Vi.keyPath="userId";var Wi=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wi.store="mutations",Wi.keyPath="batchId",Wi.userMutationsIndex="userMutationsIndex",Wi.userMutationsKeyPath=["userId","batchId"];var Hi=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,fi(t)]},e.key=function(e,t,n){return[e,fi(t),n]},e}();Hi.store="documentMutations",Hi.PLACEHOLDER=new Hi;var qi=function(e,t){this.path=e,this.readTime=t},Gi=function(e,t){this.path=e,this.version=t},Yi=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Yi.store="remoteDocuments",Yi.readTimeIndex="readTimeIndex",Yi.readTimeIndexPath="readTime",Yi.collectionReadTimeIndex="collectionReadTimeIndex",Yi.collectionReadTimeIndexPath=["parentPath","readTime"];var Ki=function(e){this.byteSize=e};Ki.store="remoteDocumentGlobal",Ki.key="remoteDocumentGlobalKey";var Qi=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Qi.store="targets",Qi.keyPath="targetId",Qi.queryTargetsIndexName="queryTargetsIndex",Qi.queryTargetsKeyPath=["canonicalId","targetId"];var Xi=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Xi.store="targetDocuments",Xi.keyPath=["targetId","path"],Xi.documentTargetsIndex="documentTargetsIndex",Xi.documentTargetsKeyPath=["path","targetId"];var $i=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$i.key="targetGlobalKey",$i.store="targetGlobal";var Ji=function(e,t){this.collectionId=e,this.parent=t};function eo(e){e.createObjectStore(Xi.store,{keyPath:Xi.keyPath}).createIndex(Xi.documentTargetsIndex,Xi.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Qi.store,{keyPath:Qi.keyPath}).createIndex(Qi.queryTargetsIndexName,Qi.queryTargetsKeyPath,{unique:!0}),e.createObjectStore($i.store)}Ji.store="collectionParents",Ji.keyPath=["collectionId","parent"];var to=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};to.store="clientMetadata",to.keyPath="clientId";var no=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Vi.store,Wi.store,Hi.store,Yi.store,Qi.store,Bi.store,$i.store,Xi.store],[to.store]),[Ki.store]),[Ji.store]),ro=function(){function e(){this.la=new Fi}return e.prototype.Mo=function(e,t){var n=this;if(!this.la.has(t)){var r=t._(),i=t.h();e.pr((function(){n.la.add(t)}));var o={collectionId:r,parent:fi(i)};return io(e).put(o)}return yr.resolve()},e.prototype.Qr=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$(t),""],!1,!0);return io(e).ts(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(mi(o.parent))}return n}))},e}();function io(e){return ho.Qn(e,Ji.store)}var oo=function(){function e(e){this._a=e}return e.prototype.next=function(){return this._a+=2,this._a},e.fa=function(){return new e(0)},e.da=function(){return new e(-1)},e}(),ao=function(){function e(e,t){this.No=e,this.serializer=t}return e.prototype.wa=function(e){var t=this;return this.ma(e).next((function(n){var r=new oo(n.highestTargetId);return n.highestTargetId=r.next(),t.Ta(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.Ea=function(e){return this.ma(e).next((function(e){return ce.J(new se(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.Ia=function(e){return this.ma(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.Aa=function(e,t,n){var r=this;return this.ma(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.Z()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ta(e,i)}))},e.prototype.Ra=function(e,t){var n=this;return this.ga(e,t).next((function(){return n.ma(e).next((function(r){return r.targetCount+=1,n.Pa(t,r),n.Ta(e,r)}))}))},e.prototype.ya=function(e,t){return this.ga(e,t)},e.prototype.Va=function(e,t){var n=this;return this.pa(e,t.targetId).next((function(){return so(e).delete(t.targetId)})).next((function(){return n.ma(e)})).next((function(t){return b(t.targetCount>0),t.targetCount-=1,n.Ta(e,t)}))},e.prototype.po=function(e,t,n){var r=this,i=0,o=[];return so(e).rs((function(a,s){var c=ki(s);c.sequenceNumber<=t&&null===n.get(c.targetId)&&(i++,o.push(r.Va(e,c)))})).next((function(){return yr.$n(o)})).next((function(){return i}))},e.prototype.Ce=function(e,t){return so(e).rs((function(e,n){var r=ki(n);t(r)}))},e.prototype.ma=function(e){return co(e).get($i.key).next((function(e){return b(null!==e),e}))},e.prototype.Ta=function(e,t){return co(e).put($i.key,t)},e.prototype.ga=function(e,t){return so(e).put(Ci(this.serializer,t))},e.prototype.Pa=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.ba=function(e){return this.ma(e).next((function(e){return e.targetCount}))},e.prototype.va=function(e,t){var n=pe(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return so(e).rs({range:r,index:Qi.queryTargetsIndexName},(function(e,n,r){var o=ki(n);me(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.Sa=function(e,t,n){var r=this,i=[],o=uo(e);return t.forEach((function(t){var a=fi(t.path);i.push(o.put(new Xi(n,a))),i.push(r.No.Da(e,n,t))})),yr.$n(i)},e.prototype.Ca=function(e,t,n){var r=this,i=uo(e);return yr.forEach(t,(function(t){var o=fi(t.path);return yr.$n([i.delete([n,o]),r.No.Na(e,n,t)])}))},e.prototype.pa=function(e,t){var n=uo(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.Fa=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=uo(e),i=Me();return r.rs({range:n,ss:!0},(function(e,t,n){var r=mi(e[1]),o=new A(r);i=i.add(o)})).next((function(){return i}))},e.prototype.Ho=function(e,t){var n=fi(t.path),r=IDBKeyRange.bound([n],[$(n)],!1,!0),i=0;return uo(e).rs({index:Xi.documentTargetsIndex,ss:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.Ue=function(e,t){return so(e).get(t).next((function(e){return e?ki(e):null}))},e}();function so(e){return ho.Qn(e,Qi.store)}function co(e){return ho.Qn(e,$i.store)}function uo(e){return ho.Qn(e,Xi.store)}var lo="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jo=t,r.xa=n,r}return r.__extends(t,e),t}(ri),ho=function(){function e(t,n,r,i,o,a,s,c,u,f){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=a,this.document=s,this.$a=u,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(e){return Promise.resolve()},!e.Ln())throw new d(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new vo(this,i),this.Wa=n+"main",this.serializer=new vi(c),this.ja=new br(this.Wa,10,new Ui(this.serializer)),this.Ka=new ao(this.No,this.serializer),this.Dr=new ro,this.vr=function(e,t){return new Di(e,t)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.Qn=function(e,t){if(e instanceof fo)return br.Qn(e.jo,t);throw y()},e.prototype.start=function(){var e=this;return this.za().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new d(l.FAILED_PRECONDITION,lo);return e.Ha(),e.Ya(),e.Ja(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ka.Ia(t)}))})).then((function(t){e.Ma=new Br(t,e.$a)})).then((function(){e.Oa=!0})).catch((function(t){return e.ja&&e.ja.close(),Promise.reject(t)}))},e.prototype.Xa=function(e){var t=this;return this.Qa=function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.Ei?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.Za=function(e){var t=this;this.ja.Kn((function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.tc=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.fn.ws((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.za=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return mo(t).put(new to(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.ec(t).next((function(t){t||(e.isPrimary=!1,e.fn.Cs((function(){return e.Qa(!1)})))}))})).next((function(){return e.nc(t)})).next((function(n){return e.isPrimary&&!n?e.sc(t).next((function(){return!1})):!!n&&e.ic(t).next((function(){return!0}))}))})).catch((function(t){if(_r(t))return p("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.fn.Cs((function(){return e.Qa(t)})),e.isPrimary=t}))},e.prototype.ec=function(e){var t=this;return po(e).get(Bi.key).next((function(e){return yr.resolve(t.rc(e))}))},e.prototype.oc=function(e){return mo(e).delete(this.clientId)},e.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o,a=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.Qn(t,to.store);return n.ts().next((function(e){var t=a.uc(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return yr.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=r.sent(),this.Ga)for(n=0,i=t;n<i.length;n++)o=i[n],this.Ga.removeItem(this.hc(o.clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.Ja=function(){var e=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return e.za().then((function(){return e.ac()})).then((function(){return e.Ja()}))}))},e.prototype.rc=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.nc=function(e){var t=this;return this.ka?yr.resolve(!0):po(e).get(Bi.key).next((function(n){if(null!==n&&t.cc(n.leaseTimestampMs,5e3)&&!t.lc(n.ownerId)){if(t.rc(n)&&t.networkEnabled)return!0;if(!t.rc(n)){if(!n.allowTabSynchronization)throw new d(l.FAILED_PRECONDITION,lo);return!1}}return!(!t.networkEnabled||!t.inForeground)||mo(e).ts().next((function(e){return void 0===t.uc(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&p("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(t){switch(t.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Bi.store,to.store],(function(t){var n=new fo(t,Br.ai);return e.sc(n).next((function(){return e.oc(n)}))}))];case 1:return t.sent(),this.ja.close(),this.wc(),[2]}}))}))},e.prototype.uc=function(e,t){var n=this;return e.filter((function(e){return n.cc(e.updateTimeMs,t)&&!n.lc(e.clientId)}))},e.prototype.pi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return mo(t).ts().next((function(t){return e.uc(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),e.prototype.mc=function(e){return Si.xo(e,this.serializer,this.Dr,this.No)},e.prototype.Tc=function(){return this.Ka},e.prototype.Ec=function(){return this.vr},e.prototype.Ic=function(){return this.Dr},e.prototype.runTransaction=function(e,t,n){var r=this;p("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.ja.runTransaction(e,o,no,(function(o){return i=new fo(o,r.Ma?r.Ma.next():Br.ai),"readwrite-primary"===t?r.ec(i).next((function(e){return!!e||r.nc(i)})).next((function(t){if(!t)throw m("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.fn.Cs((function(){return r.Qa(!1)})),new d(l.FAILED_PRECONDITION,ni);return n(i)})).next((function(e){return r.ic(i).next((function(){return e}))})):r.Ac(i).next((function(){return n(i)}))})).then((function(e){return i.br(),e}))},e.prototype.Ac=function(e){var t=this;return po(e).get(Bi.key).next((function(e){if(null!==e&&t.cc(e.leaseTimestampMs,5e3)&&!t.lc(e.ownerId)&&!t.rc(e)&&!(t.ka||t.allowTabSynchronization&&e.allowTabSynchronization))throw new d(l.FAILED_PRECONDITION,lo)}))},e.prototype.ic=function(e){var t=new Bi(this.clientId,this.allowTabSynchronization,Date.now());return po(e).put(Bi.key,t)},e.Ln=function(){return br.Ln()},e.prototype.sc=function(e){var t=this,n=po(e);return n.get(Bi.key).next((function(e){return t.rc(e)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Bi.key)):yr.resolve()}))},e.prototype.cc=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(m("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Ha=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){e.fn.ws((function(){return e.inForeground="visible"===e.document.visibilityState,e.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},e.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},e.prototype.Ya=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.La=function(){t._c(),t.fn.ws((function(){return t.Di()}))},this.window.addEventListener("unload",this.La))},e.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},e.prototype.lc=function(e){var t;try{var n=null!==(null===(t=this.Ga)||void 0===t?void 0:t.getItem(this.hc(e)));return p("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return m("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){m("Failed to set zombie client id.",r)}},e.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},e.prototype.hc=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function po(e){return ho.Qn(e,Bi.store)}function mo(e){return ho.Qn(e,to.store)}var vo=function(){function e(e,t){this.db=e,this.wo=new di(this,t)}return e.prototype.Po=function(e){var t=this.Rc(e);return this.db.Tc().ba(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.Rc=function(e){var t=0;return this.Vo(e,(function(e){t++})).next((function(){return t}))},e.prototype.Ce=function(e,t){return this.db.Tc().Ce(e,t)},e.prototype.Vo=function(e,t){return this.gc(e,(function(e,n){return t(n)}))},e.prototype.Da=function(e,t,n){return go(e,n)},e.prototype.Na=function(e,t,n){return go(e,n)},e.prototype.po=function(e,t,n){return this.db.Tc().po(e,t,n)},e.prototype.Go=function(e,t){return go(e,t)},e.prototype.Pc=function(e,t){return function(e,t){var n=!1;return Oi(e).os((function(r){return ji(e,r,t).next((function(e){return e&&(n=!0),yr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.bo=function(e,t){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(e,(function(a,s){if(s<=t){var c=n.Pc(e,a).next((function(t){if(!t)return o++,r.Rr(e,a).next((function(){return r.Ar(a),uo(e).delete([0,fi(a.path)])}))}));i.push(c)}})).next((function(){return yr.$n(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.st(e.xa);return this.db.Tc().ya(e,n)},e.prototype.yc=function(e,t){return go(e,t)},e.prototype.gc=function(e,t){var n,r=uo(e),i=Br.ai;return r.rs({index:Xi.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Br.ai&&t(new A(mi(n)),i),i=s,n=a):i=Br.ai})).next((function(){i!==Br.ai&&t(new A(mi(n)),i)}))},e.prototype.So=function(e){return this.db.Ec().aa(e)},e}();function go(e,t){return uo(e).put(function(e,t){return new Xi(0,fi(e.path),t)}(t,e.xa))}function yo(e,t){var n=e.projectId;return e.j||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bo=function(){function e(e,t,n){this.persistence=e,this.Vc=t,this.bc=new Ee(Q),this.vc=new ae((function(e){return pe(e)}),me),this.Sc=ce.min(),this.Sr=e.mc(n),this.Dc=e.Ec(),this.Ka=e.Tc(),this.Cc=new ii(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return e.prototype.Io=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.vo(n,t.bc)}))},e}();function wo(e,t){var n=w(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Dc.ra({oa:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=yr.resolve();return o.forEach((function(e){a=a.next((function(){return r.Rr(t,e)})).next((function(t){var o=t,a=n.dr.get(e);b(null!==a),(!o||o.version.L(a)<0)&&(o=i.cr(e,o,n))&&r.Er(o,n._r)}))})),a.next((function(){return e.Sr.Wo(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Sr.zo(e)})).next((function(){return n.Cc.kr(e,r)}))}))}function xo(e){var t=w(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ka.Ea(e)}))}function _o(e,t){var n=w(e),r=t.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Dc.ra({oa:!0});i=n.bc;var a=[];t.zt.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.Ka.Ca(e,t.se,o).next((function(){return n.Ka.Sa(e,t.ee,o)})));var c=t.resumeToken;if(c.O()>0){var u=s.it(c,r).st(e.xa);i=i.ot(o,u),function(e,t,n){return b(t.resumeToken.O()>0),0===e.resumeToken.O()||t.nt.X()-e.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(s,u,t)&&a.push(n.Ka.ya(e,u))}}}));var s=Te(),c=Me();if(t.Yt.forEach((function(e,t){c=c.add(e)})),a.push(o.getEntries(e,c).next((function(i){t.Yt.forEach((function(c,u){var l=i.get(c);u instanceof Pn&&u.version.isEqual(ce.min())?(o.Ar(c,r),s=s.ot(c,u)):null==l||u.version.L(l.version)>0||0===u.version.L(l.version)&&l.hasPendingWrites?(o.Er(u,r),s=s.ot(c,u)):p("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version),t.Jt.has(c)&&a.push(n.persistence.No.yc(e,c))}))}))),!r.isEqual(ce.min())){var u=n.Ka.Ea(e).next((function(t){return n.Ka.Aa(e,e.xa,r)}));a.push(u)}return yr.$n(a).next((function(){return o.apply(e)})).next((function(){return n.Cc.Mr(e,s)}))})).then((function(e){return n.bc=i,e}))}function Eo(e,t){var n=w(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Sr.Bo(e,t)}))}function ko(e,t){var n=w(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ka.va(e,t).next((function(i){return i?(r=i,yr.resolve(r)):n.Ka.wa(e).next((function(i){return r=new be(t,i,0,e.xa),n.Ka.Ra(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.bc.get(e.targetId);return(null===r||e.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(e.targetId,e),n.vc.set(t,e.targetId)),e}))}function Co(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=w(e),o=i.bc.get(t),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.No.removeTarget(e,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!_r(s=r.sent()))throw s;return p("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return i.bc=i.bc.remove(t),i.vc.delete(o.target),[2]}}))}))}function So(e,t,n){var r=w(e),i=ce.min(),o=Me();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=w(e),i=r.vc.get(n);return void 0!==i?yr.resolve(r.bc.get(i)):r.Ka.va(t,n)}(r,e,Hn(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ka.Fa(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Vc.Lr(e,t,n?i:ce.min(),n?o:Me())})).next((function(e){return{documents:e,Fc:o}}))}))}function jo(e,t){var n=w(e),r=w(n.Ka),i=n.bc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Ue(e,t).next((function(e){return e?e.target:null}))}))}function Ao(e){var t=w(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=w(e),i=Te(),o=bi(n),a=Mi(t),s=IDBKeyRange.lowerBound(o,!0);return a.rs({index:Yi.readTimeIndex,range:s},(function(e,t){var n=gi(r.serializer,t);i=i.ot(n.key,n),o=t.readTime})).next((function(){return{xc:i,readTime:wi(o)}}))}(t.Dc,e,t.Sc)})).then((function(e){var n=e.xc,r=e.readTime;return t.Sc=r,n}))}function To(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){return[2,(t=w(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Mi(e),n=ce.min();return t.rs({index:Yi.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=wi(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Sc=e}))]}))}))}function Io(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){if(e.code!==l.FAILED_PRECONDITION||e.message!==ni)throw e;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Oo=function(){function e(){this.$c=new Se(Do.kc),this.Mc=new Se(Do.Oc)}return e.prototype.m=function(){return this.$c.m()},e.prototype.Da=function(e,t){var n=new Do(e,t);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},e.prototype.Lc=function(e,t){var n=this;e.forEach((function(e){return n.Da(e,t)}))},e.prototype.Na=function(e,t){this.Bc(new Do(e,t))},e.prototype.qc=function(e,t){var n=this;e.forEach((function(e){return n.Na(e,t)}))},e.prototype.Uc=function(e){var t=this,n=new A(new C([])),r=new Do(n,e),i=new Do(n,e+1),o=[];return this.Mc.Ft([r,i],(function(e){t.Bc(e),o.push(e.key)})),o},e.prototype.Qc=function(){var e=this;this.$c.forEach((function(t){return e.Bc(t)}))},e.prototype.Bc=function(e){this.$c=this.$c.delete(e),this.Mc=this.Mc.delete(e)},e.prototype.Wc=function(e){var t=new A(new C([])),n=new Do(t,e),r=new Do(t,e+1),i=Me();return this.Mc.Ft([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.Ho=function(e){var t=new Do(e,0),n=this.$c.$t(t);return null!==n&&e.isEqual(n.key)},e}(),Do=function(){function e(e,t){this.key=e,this.jc=t}return e.kc=function(e,t){return A.i(e.key,t.key)||Q(e.jc,t.jc)},e.Oc=function(e,t){return Q(e.jc,t.jc)||A.i(e.key,t.key)},e}(),No=function(e,t){this.user=t,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+e},Po=function(){function e(){this.Gc=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.zc=function(){},e.prototype.Hc=function(e){this.Gc=e,e(zr.UNAUTHENTICATED)},e.prototype.Yc=function(){this.Gc=null},e}(),Mo=function(){function e(e){var t=this;this.Jc=null,this.currentUser=zr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){t.Zc++,t.currentUser=t.tu(),t.Xc=!0,t.Gc&&t.Gc(t.currentUser)},this.Zc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),e.get().then((function(e){t.auth=e,t.Jc&&t.auth.addAuthTokenListener(t.Jc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.Zc!==t?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(b("string"==typeof n.accessToken),new No(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.zc=function(){this.forceRefresh=!0},e.prototype.Hc=function(e){this.Gc=e,this.Xc&&e(this.currentUser)},e.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},e.prototype.tu=function(){var e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e),new zr(e)},e}(),Lo=function(){function e(e,t){this.eu=e,this.nu=t,this.type="FirstParty",this.user=zr.ni}return Object.defineProperty(e.prototype,"Kc",{get:function(){var e={"X-Goog-AuthUser":this.nu},t=this.eu.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),Ro=function(){function e(e,t){this.eu=e,this.nu=t}return e.prototype.getToken=function(){return Promise.resolve(new Lo(this.eu,this.nu))},e.prototype.Hc=function(e){e(zr.ni)},e.prototype.Yc=function(){},e.prototype.zc=function(){},e}(),Zo=function(){function e(e,t,n,r,i,o){this.fn=e,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new gr(e,t)}return e.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.uu=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.hu()},e.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.lu=function(){this.state=0,this.ys.reset()},e.prototype._u=function(){var e=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return e.fu()})))},e.prototype.du=function(e){this.wu(),this.stream.send(e)},e.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.uu()?[2,this.close(0)]:[2]}))}))},e.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},e.prototype.close=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==e?this.ys.reset():t&&t.code===l.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):t&&t.code===l.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mu=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(t){e.ou===n&&e.Iu(t)}),(function(n){t((function(){var t=new d(l.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Au(t)}))}))},e.prototype.Iu=function(e){var t=this,n=this.Eu(this.ou);this.stream=this.Ru(e),this.stream.gu((function(){n((function(){return t.state=2,t.listener.gu()}))})),this.stream.Tu((function(e){n((function(){return t.Au(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.hu=function(){var e=this;this.state=4,this.ys.gn((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.Au=function(e){return p("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.Eu=function(e){var t=this;return function(n){t.fn.ws((function(){return t.ou===e?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Fo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,a}return r.__extends(t,e),t.prototype.Ru=function(e){return this.iu.Pu("Listen",e)},t.prototype.onMessage=function(e){this.ys.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:y()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.Qe?(b(void 0===t||"string"==typeof t),J.fromBase64String(t||"")):(b(void 0===t||t instanceof Uint8Array),J.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?l.UNKNOWN:_e(e.code);return new d(t,e.message||"")}(a);n=new He(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var c=t.documentChange;c.document,c.document.name,c.document.updateTime;var u=Tt(e,c.document.name),f=Ct(c.document.updateTime),h=new Tn({mapValue:{fields:c.document.fields}}),p=new Nn(u,f,h,{}),m=c.targetIds||[],v=c.removedTargetIds||[];n=new Ve(m,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;var g=t.documentDelete;g.document;var w=Tt(e,g.document),x=g.readTime?Ct(g.readTime):ce.min(),_=new Pn(w,x),E=g.removedTargetIds||[];n=new Ve([],E,_.key,_)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var C=Tt(e,k.document),S=k.removedTargetIds||[];n=new Ve([],S,C,null)}else{if(!("filter"in t))return y();t.filter;var j=t.filter;j.targetId;var A=j.count||0,T=new we(A),I=j.targetId;n=new We(I,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ce.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ce.min():t.readTime?Ct(t.readTime):ce.min()}(e);return this.listener.yu(t,n)},t.prototype.Vu=function(e){var t={};t.database=Dt(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=ve(r)?{documents:Rt(e,r)}:{query:Zt(e,r)}).targetId=t.targetId,t.resumeToken.O()>0&&(n.resumeToken=Et(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,t.et);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.du(t)},t.prototype.pu=function(e){var t={};t.database=Dt(this.serializer),t.removeTarget=e,this.du(t)},t}(Zo),Uo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,a.bu=!1,a}return r.__extends(t,e),Object.defineProperty(t.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mu=function(){this.bu&&this.Su([])},t.prototype.Ru=function(e){return this.iu.Pu("Write",e)},t.prototype.onMessage=function(e){if(b(!!e.streamToken),this.lastStreamToken=e.streamToken,this.bu){this.ys.reset();var t=function(e,t){return e&&e.length>0?(b(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ct(e.updateTime):Ct(t);n.isEqual(ce.min())&&(n=Ct(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new fn(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ct(e.commitTime);return this.listener.Du(n,t)}return b(!e.writeResults||0===e.writeResults.length),this.bu=!0,this.listener.Cu()},t.prototype.Nu=function(){var e={};e.database=Dt(this.serializer),this.du(e)},t.prototype.Su=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Mt(t.serializer,e)}))};this.du(n)},t}(Zo),zo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(t,e),t.prototype.xu=function(){if(this.Fu)throw new d(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.$u=function(e,t,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(e,t,n,i)})).catch((function(e){throw e.code===l.UNAUTHENTICATED&&r.credentials.zc(),e}))},t.prototype.ku=function(e,t,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(e,t,n,i)})).catch((function(e){throw e.code===l.UNAUTHENTICATED&&r.credentials.zc(),e}))},t.prototype.terminate=function(){this.Fu=!1},t}((function(){})),Bo=function(){function e(e,t){this.cs=e,this.di=t,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return e.prototype.Bu=function(){var e=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return e.Ou=null,e.Uu("Backend didn't respond within 10 seconds."),e.qu("Offline"),Promise.resolve()})))},e.prototype.Qu=function(e){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+e.toString()),this.qu("Offline")))},e.prototype.set=function(e){this.Wu(),this.Mu=0,"Online"===e&&(this.Lu=!1),this.qu(e)},e.prototype.qu=function(e){e!==this.state&&(this.state=e,this.di(e))},e.prototype.Uu=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(m(t),this.Lu=!1):p("OnlineStateTracker",t)},e.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},e}(),Vo=function(e,t,n,i,o){var a=this;this.ju=e,this.Ku=t,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=o,this.Xu.Zu((function(e){n.ws((function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return Jo(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return(t=w(e)).Yu.add(4),[4,Ho(t)];case 1:return n.sent(),t.th.set("Unknown"),t.Yu.delete(4),[4,Wo(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.th=new Bo(n,i)};function Wo(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!Jo(e))return[3,4];t=0,n=e.Ju,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Ho(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:t=0,n=e.Ju,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function qo(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return t=w(e),p("RemoteStore","RemoteStore shutting down."),t.Yu.add(5),[4,Ho(t)];case 1:return n.sent(),t.Xu.Di(),t.th.set("Unknown"),[2]}}))}))}function Go(e,t){var n=w(e);n.Hu.has(t.targetId)||(n.Hu.set(t.targetId,t),$o(n)?Xo(n):pa(n).uu()&&Ko(n,t))}function Yo(e,t){var n=w(e),r=pa(n);n.Hu.delete(t),r.uu()&&Qo(n,t),0===n.Hu.size&&(r.uu()?r._u():Jo(n)&&n.th.set("Unknown"))}function Ko(e,t){e.eh.Ie(t.targetId),pa(e).Vu(t)}function Qo(e,t){e.eh.Ie(t),pa(e).pu(t)}function Xo(e){e.eh=new Ge({qe:function(t){return e.Gu.qe(t)},Ue:function(t){return e.Hu.get(t)||null}}),pa(e).start(),e.th.Bu()}function $o(e){return Jo(e)&&!pa(e).cu()&&e.Hu.size>0}function Jo(e){return 0===w(e).Yu.size}function ea(e){e.eh=void 0}function ta(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return e.Hu.forEach((function(t,n){Ko(e,t)})),[2]}))}))}function na(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return ea(e),$o(e)?(e.th.Qu(t),Xo(e)):e.th.set("Unknown"),[2]}))}))}function ra(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(s){switch(s.label){case 0:if(e.th.set("Online"),!(t instanceof He&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:n=t.cause,i=0,o=t.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],e.Hu.has(a)?[4,e.Gu.nh(a,n)]:[3,3]):[3,5];case 2:r.sent(),e.Hu.delete(a),e.eh.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,ia(e,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ve?e.eh.be(t):t instanceof We?e.eh.$e(t):e.eh.De(t),n.isEqual(ce.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,xo(e.ju)];case 8:return o=s.sent(),n.L(o)>=0?[4,function(e,t){var n=e.eh.Oe(t);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=e.Hu.get(r);i&&e.Hu.set(r,i.it(n.resumeToken,t))}})),n.Ht.forEach((function(t){var n=e.Hu.get(t);if(n){e.Hu.set(t,n.it(J.B,n.nt)),Qo(e,t);var r=new be(n.target,t,1,n.sequenceNumber);Ko(e,r)}})),e.Gu.sh(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,ia(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function ia(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){switch(o.label){case 0:if(!_r(t))throw t;return e.Yu.add(1),[4,Ho(e)];case 1:return o.sent(),e.th.set("Offline"),n||(n=function(){return xo(e.ju)}),e.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Yu.delete(1),[4,Wo(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function oa(e,t){return t().catch((function(n){return ia(e,n,t)}))}function aa(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:t=w(e),n=ma(t),i=t.zu.length>0?t.zu[t.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Jo(e)&&e.zu.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Eo(t.ju,i)];case 3:return null===(o=r.sent())?(0===t.zu.length&&n._u(),[3,7]):(i=o.batchId,function(e,t){e.zu.push(t);var n=ma(e);n.uu()&&n.vu&&n.Su(t.mutations)}(t,o),[3,6]);case 4:return a=r.sent(),[4,ia(t,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return sa(t)&&ca(t),[2]}}))}))}function sa(e){return Jo(e)&&!ma(e).cu()&&e.zu.length>0}function ca(e){ma(e).start()}function ua(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return ma(e).Nu(),[2]}))}))}function la(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,i,o;return r.__generator(this,(function(r){for(t=ma(e),n=0,i=e.zu;n<i.length;n++)o=i[n],t.Su(o.mutations);return[2]}))}))}function da(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return i=e.zu.shift(),o=ei.from(i,t,n),[4,oa(e,(function(){return e.Gu.ih(o)}))];case 1:return r.sent(),[4,aa(e)];case 2:return r.sent(),[2]}}))}))}function fa(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return t&&ma(e).vu?[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return xe(i=t.code)&&i!==l.ABORTED?(n=e.zu.shift(),ma(e).lu(),[4,oa(e,(function(){return e.Gu.rh(n.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,aa(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sa(e)&&ca(e),[2]}}))}))}function ha(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(e),t?(n.Yu.delete(2),[4,Wo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Yu.add(2),[4,Ho(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function pa(e){var t=this;return e.oh||(e.oh=function(e,t,n){var r=w(e);return r.xu(),new Fo(t,r.iu,r.credentials,r.serializer,n)}(e.Ku,e.cs,{gu:ta.bind(null,e),Tu:na.bind(null,e),yu:ra.bind(null,e)}),e.Ju.push((function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return n?(e.oh.lu(),$o(e)?Xo(e):e.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.oh.stop()];case 2:t.sent(),ea(e),t.label=3;case 3:return[2]}}))}))}))),e.oh}function ma(e){var t=this;return e.ah||(e.ah=function(e,t,n){var r=w(e);return r.xu(),new Uo(t,r.iu,r.credentials,r.serializer,n)}(e.Ku,e.cs,{gu:ua.bind(null,e),Tu:fa.bind(null,e),Cu:la.bind(null,e),Du:da.bind(null,e)}),e.Ju.push((function(n){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return n?(e.ah.lu(),[4,aa(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.ah.stop()];case 3:t.sent(),e.zu.length>0&&(p("RemoteStore","Stopping write stream with "+e.zu.length+" pending writes"),e.zu=[]),t.label=4;case 4:return[2]}}))}))}))),e.ah}var va=function(e){this.key=e},ga=function(e){this.key=e},ya=function(){function e(e,t){this.query=e,this.uh=t,this.hh=null,this.te=!1,this.lh=Me(),this.Wt=Me(),this._h=Jn(e),this.fh=new Ze(this._h)}return Object.defineProperty(e.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),e.prototype.wh=function(e,t){var n=this,r=t?t.mh:new Fe,i=t?t.fh:this.fh,o=t?t.Wt:this.Wt,a=i,s=!1,c=Fn(this.query)&&i.size===this.query.limit?i.last():null,u=Un(this.query)&&i.size===this.query.limit?i.first():null;if(e.ht((function(e,t){var l=i.get(e),d=t instanceof Nn?t:null;d&&(d=$n(n.query,d)?d:null);var f=!!l&&n.Wt.has(l.key),h=!!d&&(d.Je||n.Wt.has(d.key)&&d.hasCommittedMutations),p=!1;l&&d?l.data().isEqual(d.data())?f!==h&&(r.track({type:3,doc:d}),p=!0):n.Th(l,d)||(r.track({type:2,doc:d}),p=!0,(c&&n._h(d,c)>0||u&&n._h(d,u)<0)&&(s=!0)):!l&&d?(r.track({type:0,doc:d}),p=!0):l&&!d&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(s=!0)),p&&(d?(a=a.add(d),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Fn(this.query)||Un(this.query))for(;a.size>this.query.limit;){var l=Fn(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:a,mh:r,Eh:s,Wt:o}},e.prototype.Th=function(e,t){return e.Je&&t.hasCommittedMutations&&!t.Je},e.prototype.yr=function(e,t,n){var r=this,i=this.fh;this.fh=e.fh,this.Wt=e.Wt;var o=e.mh.Ut();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(e)-n(t)}(e.type,t.type)||r._h(e.doc,t.doc)})),this.Ih(n);var a=t?this.Ah():[],s=0===this.lh.size&&this.te?1:0,c=s!==this.hh;return this.hh=s,0!==o.length||c?{snapshot:new Ue(this.query,e.fh,i,o,e.Wt,0===s,c,!1),Rh:a}:{Rh:a}},e.prototype.Qs=function(e){return this.te&&"Offline"===e?(this.te=!1,this.yr({fh:this.fh,mh:new Fe,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},e.prototype.gh=function(e){return!this.uh.has(e)&&!!this.fh.has(e)&&!this.fh.get(e).Je},e.prototype.Ih=function(e){var t=this;e&&(e.ee.forEach((function(e){return t.uh=t.uh.add(e)})),e.ne.forEach((function(e){})),e.se.forEach((function(e){return t.uh=t.uh.delete(e)})),this.te=e.te)},e.prototype.Ah=function(){var e=this;if(!this.te)return[];var t=this.lh;this.lh=Me(),this.fh.forEach((function(t){e.gh(t.key)&&(e.lh=e.lh.add(t.key))}));var n=[];return t.forEach((function(t){e.lh.has(t)||n.push(new ga(t))})),this.lh.forEach((function(e){t.has(e)||n.push(new va(e))})),n},e.prototype.Ph=function(e){this.uh=e.Fc,this.lh=Me();var t=this.wh(e.documents);return this.yr(t,!0)},e.prototype.yh=function(){return Ue.Gt(this.query,this.fh,this.Wt,0===this.hh)},e}(),ba=function(e,t,n){this.query=e,this.targetId=t,this.view=n},wa=function(e){this.key=e,this.Vh=!1},xa=function(){function e(e,t,n,r,i,o){this.ju=e,this.ph=t,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new ae((function(e){return Qn(e)}),Kn),this.Fh=new Map,this.xh=[],this.$h=new Ee(A.i),this.kh=new Map,this.Mh=new Oo,this.Oh={},this.Lh=new Map,this.Bh=oo.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(e.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),e}();function _a(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,c;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Ya(e),(a=n.Nh.get(t))?(i=a.targetId,n.Sh.Oi(i),o=a.view.yh(),[3,4]):[3,1];case 1:return[4,ko(n.ju,Hn(t))];case 2:return s=r.sent(),c=n.Sh.Oi(s.targetId),i=s.targetId,[4,Ea(n,t,i,"current"===c)];case 3:o=r.sent(),n.Uh&&Go(n.ph,s),r.label=4;case 4:return[2,o]}}))}))}function Ea(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s,c,u,l;return r.__generator(this,(function(d){switch(d.label){case 0:return e.Qh=function(t,n,i){return function(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=t.view.wh(n)).Eh?[4,So(e.ju,t.query,!1).then((function(e){var n=e.documents;return t.view.wh(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.zt.get(t.targetId),s=t.view.yr(o,e.Uh,a),[2,(Pa(e,t.targetId,s.Rh),s.snapshot)]}}))}))}(e,t,n,i)},[4,So(e.ju,t,!0)];case 1:return o=d.sent(),a=new ya(t,o.Fc),s=a.wh(o.documents),c=Be.Zt(n,i&&"Offline"!==e.onlineState),u=a.yr(s,e.Uh,c),Pa(e,n,u.Rh),l=new ba(t,n,a),[2,(e.Nh.set(t,l),e.Fh.has(n)?e.Fh.get(n).push(t):e.Fh.set(n,[t]),u.snapshot)]}}))}))}function ka(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(e),i=n.Nh.get(t),(o=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,o.filter((function(e){return!Kn(e,t)}))),void n.Nh.delete(t))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,Co(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),Yo(n.ph,i.targetId),Da(n,i.targetId)})).catch(Io)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Da(n,i.targetId),[4,Co(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function Ca(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,_o(n.ju,t)];case 2:return i=r.sent(),t.zt.forEach((function(e,t){var r=n.kh.get(t);r&&(b(e.ee.size+e.ne.size+e.se.size<=1),e.ee.size>0?r.Vh=!0:e.ne.size>0?b(r.Vh):e.se.size>0&&(b(r.Vh),r.Vh=!1))})),[4,Ra(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Sa(e,t,n){var r=w(e);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(e,n){var r=n.view.Qs(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=w(e);n.onlineState=t;var r=!1;n.Bs.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(t)&&(r=!0)})),r&&Fr(n)}(r.bh,t),i.length&&r.Ch.yu(i),r.onlineState=t,r.Uh&&r.Sh.Ki(t)}}function ja(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,c,u;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=w(e)).Sh.Qi(t,"rejected",n),o=i.kh.get(t),(a=o&&o.key)?(s=(s=new Ee(A.i)).ot(a,new Pn(a,ce.min())),c=Me().add(a),u=new ze(ce.min(),new Map,new Se(Q),s,c),[4,Ca(i,u)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(a),i.kh.delete(t),La(i),[3,4];case 2:return[4,Co(i.ju,t,!1).then((function(){return Da(i,t,n)})).catch(Io)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Aa(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(e),i=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,wo(n.ju,t)];case 2:return o=r.sent(),Oa(n,i,null),Ia(n,i),n.Sh.ki(i,"acknowledged"),[4,Ra(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ta(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:i=w(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=w(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Sr.Oo(e,t).next((function(t){return b(null!==t),r=t.keys(),n.Sr.Wo(e,t)})).next((function(){return n.Sr.zo(e)})).next((function(){return n.Cc.kr(e,r)}))}))}(i.ju,t)];case 2:return o=r.sent(),Oa(i,t,n),Ia(i,t),i.Sh.ki(t,"rejected",n),[4,Ra(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Io(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ia(e,t){(e.Lh.get(t)||[]).forEach((function(e){e.resolve()})),e.Lh.delete(t)}function Oa(e,t,n){var r=w(e),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Oh[r.currentUser.ti()]=i}}function Da(e,t,n){void 0===n&&(n=null),e.Sh.Bi(t);for(var r=0,i=e.Fh.get(t);r<i.length;r++){var o=i[r];e.Nh.delete(o),n&&e.Ch.Wh(o,n)}e.Fh.delete(t),e.Uh&&e.Mh.Uc(t).forEach((function(t){e.Mh.Ho(t)||Na(e,t)}))}function Na(e,t){var n=e.$h.get(t);null!==n&&(Yo(e.ph,n),e.$h=e.$h.remove(t),e.kh.delete(n),La(e))}function Pa(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof va?(e.Mh.Da(o.key,t),Ma(e,o)):o instanceof ga?(p("SyncEngine","Document no longer in limbo: "+o.key),e.Mh.Na(o.key,t),e.Mh.Ho(o.key)||Na(e,o.key)):y()}}function Ma(e,t){var n=t.key;e.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),e.xh.push(n),La(e))}function La(e){for(;e.xh.length>0&&e.$h.size<e.Dh;){var t=e.xh.shift(),n=e.Bh.next();e.kh.set(n,new wa(t)),e.$h=e.$h.ot(t,n),Go(e.ph,new be(Hn(Zn(t.path)),n,2,Br.ai))}}function Ra(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(c){switch(c.label){case 0:return i=w(e),o=[],a=[],s=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(e,r){s.push(i.Qh(r,t,n).then((function(e){if(e){i.Uh&&i.Sh.Qi(r.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=oi.zr(r.targetId,e);a.push(t)}})))})),[4,Promise.all(s)]);case 1:return c.sent(),i.Ch.yu(o),[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,c,u,l,d;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return yr.forEach(t,(function(t){return yr.forEach(t.Kr,(function(r){return n.persistence.No.Da(e,t.targetId,r)})).next((function(){return yr.forEach(t.Gr,(function(r){return n.persistence.No.Na(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!_r(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=t;o<a.length;o++)s=a[o],c=s.targetId,s.fromCache||(u=n.bc.get(c),l=u.nt,d=u.rt(l),n.bc=n.bc.ot(c,d));return[2]}}))}))}(i.ju,a)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function Za(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(o){switch(o.label){case 0:return(n=w(e)).currentUser.isEqual(t)?[3,3]:(p("SyncEngine","User change. New user:",t.ti()),[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(e),i=n.Sr,o=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return n.Sr.Uo(e).next((function(a){return r=a,i=n.persistence.mc(t),o=new ii(n.Dc,i,n.persistence.Ic()),i.Uo(e)})).next((function(t){for(var n=[],i=[],a=Me(),s=0,c=r;s<c.length;s++){var u=c[s];n.push(u.batchId);for(var l=0,d=u.mutations;l<d.length;l++){var f=d[l];a=a.add(f.key)}}for(var h=0,p=t;h<p.length;h++){var m=p[h];i.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return o.kr(e,a).next((function(e){return{jh:e,Kh:n,Gh:i}}))}))}))];case 1:return a=r.sent(),[2,(n.Sr=i,n.Cc=o,n.Vc.Nc(n.Cc),a)]}}))}))}(n.ju,t)]);case 1:return i=o.sent(),n.currentUser=t,function(e,t){e.Lh.forEach((function(e){e.forEach((function(e){e.reject(new d(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Lh.clear()}(n),n.Sh.ji(t,i.Kh,i.Gh),[4,Ra(n,i.jh)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}function Fa(e,t){var n=w(e),r=n.kh.get(t);if(r&&r.Vh)return Me().add(r.key);var i=Me(),o=n.Fh.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var c=s[a],u=n.Nh.get(c);i=i.kt(u.view.dh)}return i}function Ua(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,So((n=w(e)).ju,t.query,!0)];case 1:return i=r.sent(),o=t.view.Ph(i),[2,(n.Uh&&Pa(n,t.targetId,o.Rh),o)]}}))}))}function za(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var n=w(e),r=w(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Lo(e,t).next((function(t){return t?n.Cc.kr(e,t):yr.resolve(null)}))}))}((o=w(e)).ju,t)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,aa(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Oa(o,t,i||null),Ia(o,t),function(e,t){w(w(e).Sr).Ko(t)}(o.ju,t)):y(),r.label=4;case 4:return[4,Ra(o,a)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function Ba(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,c,u,l;return r.__generator(this,(function(r){switch(r.label){case 0:return Ya(n=w(e)),Ka(n),!0!==t||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,Va(n,i.A())]);case 1:return o=r.sent(),n.qh=!0,[4,ha(n.ph,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)c=s[a],Go(n.ph,c);return[3,7];case 3:return!1!==t||!1===n.qh?[3,7]:(u=[],l=Promise.resolve(),n.Fh.forEach((function(e,t){n.Sh.qi(t)?u.push(t):l=l.then((function(){return Da(n,t),Co(n.ju,t,!0)})),Yo(n.ph,t)})),[4,l]);case 4:return r.sent(),[4,Va(n,u)];case 5:return r.sent(),function(e){var t=w(e);t.kh.forEach((function(e,n){Yo(t.ph,n)})),t.Mh.Qc(),t.kh=new Map,t.$h=new Ee(A.i)}(n),n.qh=!1,[4,ha(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Va(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,c,u,l,d,f,h,p,m,v;return r.__generator(this,(function(r){switch(r.label){case 0:n=w(e),i=[],o=[],a=0,s=t,r.label=1;case 1:return a<s.length?(c=s[a],u=void 0,(l=n.Fh.get(c))&&0!==l.length?[4,ko(n.ju,Hn(l[0]))]:[3,7]):[3,13];case 2:u=r.sent(),d=0,f=l,r.label=3;case 3:return d<f.length?(h=f[d],p=n.Nh.get(h),[4,Ua(n,p)]):[3,6];case 4:(m=r.sent()).snapshot&&o.push(m.snapshot),r.label=5;case 5:return d++,[3,3];case 6:return[3,11];case 7:return[4,jo(n.ju,c)];case 8:return v=r.sent(),[4,ko(n.ju,v)];case 9:return u=r.sent(),[4,Ea(n,Wa(v),c,!1)];case 10:r.sent(),r.label=11;case 11:i.push(u),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.Ch.yu(o),i)]}}))}))}function Wa(e){return Rn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ha(e){var t=w(e);return w(w(t.ju).persistence).pi()}function qa(e,t,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return(o=w(e)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Fh.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ao(o.ju)];case 3:return a=r.sent(),s=ze.Xt(t,"current"===n),[4,Ra(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,Co(o.ju,t,!0)];case 6:return r.sent(),Da(o,t,i),[3,8];case 7:y(),r.label=8;case 8:return[2]}}))}))}function Ga(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,c,u,l,d,f,h;return r.__generator(this,(function(m){switch(m.label){case 0:if(!(i=Ya(e)).qh)return[3,10];o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],i.Fh.has(s)?(p("SyncEngine","Adding an already active target "+s),[3,5]):[4,jo(i.ju,s)]):[3,6];case 2:return c=m.sent(),[4,ko(i.ju,c)];case 3:return u=m.sent(),[4,Ea(i,Wa(c),u.targetId,!1)];case 4:m.sent(),Go(i.ph,u),m.label=5;case 5:return o++,[3,1];case 6:l=function(e){return r.__generator(this,(function(t){switch(t.label){case 0:return i.Fh.has(e)?[4,Co(i.ju,e,!1).then((function(){Yo(i.ph,e),Da(i,e)})).catch(Io)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},d=0,f=n,m.label=7;case 7:return d<f.length?(h=f[d],[5,l(h)]):[3,10];case 8:m.sent(),m.label=9;case 9:return d++,[3,7];case 10:return[2]}}))}))}function Ya(e){var t=w(e);return t.ph.Gu.sh=Ca.bind(null,t),t.ph.Gu.qe=Fa.bind(null,t),t.ph.Gu.nh=ja.bind(null,t),t.Ch.yu=Rr.bind(null,t.bh),t.Ch.Wh=Zr.bind(null,t.bh),t}function Ka(e){var t=w(e);return t.ph.Gu.ih=Aa.bind(null,t),t.ph.Gu.rh=Ta.bind(null,t),t}var Qa=function(){function e(){}return e.prototype.Nc=function(e){this.zh=e},e.prototype.Lr=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.on.length||1===e.on.length&&e.on[0].field.p())}(t)||n.isEqual(ce.min())?this.Hh(e,t):this.zh.kr(e,r).next((function(a){var s=i.Yh(t,a);return(Fn(t)||Un(t))&&i.Eh(t.an,s,r,n)?i.Hh(e,t):(h()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xn(t)),i.zh.Lr(e,t,n).next((function(e){return s.forEach((function(t){e=e.ot(t.key,t)})),e})))}))},e.prototype.Yh=function(e,t){var n=new Se(Jn(e));return t.forEach((function(t,r){r instanceof Nn&&$n(e,r)&&(n=n.add(r))})),n},e.prototype.Eh=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},e.prototype.Hh=function(e,t){return h()<=o.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Xn(t)),this.zh.Lr(e,t,ce.min())},e}(),Xa=function(){function e(e,t){this.Dr=e,this.No=t,this.Sr=[],this.Jh=1,this.Xh=new Se(Do.kc)}return e.prototype.$o=function(e){return yr.resolve(0===this.Sr.length)},e.prototype.ko=function(e,t,n,r){var i=this.Jh;this.Jh++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var o=new Jr(i,t,n,r);this.Sr.push(o);for(var a=0,s=r;a<s.length;a++){var c=s[a];this.Xh=this.Xh.add(new Do(c.key,i)),this.Dr.Mo(e,c.key.path.h())}return yr.resolve(o)},e.prototype.Oo=function(e,t){return yr.resolve(this.Zh(t))},e.prototype.Bo=function(e,t){var n=t+1,r=this.tl(n),i=r<0?0:r;return yr.resolve(this.Sr.length>i?this.Sr[i]:null)},e.prototype.qo=function(){return yr.resolve(0===this.Sr.length?-1:this.Jh-1)},e.prototype.Uo=function(e){return yr.resolve(this.Sr.slice())},e.prototype.Nr=function(e,t){var n=this,r=new Do(t,0),i=new Do(t,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(e){var t=n.Zh(e.jc);o.push(t)})),yr.resolve(o)},e.prototype.Or=function(e,t){var n=this,r=new Se(Q);return t.forEach((function(e){var t=new Do(e,0),i=new Do(e,Number.POSITIVE_INFINITY);n.Xh.Ft([t,i],(function(e){r=r.add(e.jc)}))})),yr.resolve(this.el(r))},e.prototype.Wr=function(e,t){var n=t.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var o=new Do(new A(i),0),a=new Se(Q);return this.Xh.xt((function(e){var t=e.key.path;return!!n.T(t)&&(t.length===r&&(a=a.add(e.jc)),!0)}),o),yr.resolve(this.el(a))},e.prototype.el=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Zh(e);null!==r&&n.push(r)})),n},e.prototype.Wo=function(e,t){var n=this;b(0===this.nl(t.batchId,"removed")),this.Sr.shift();var r=this.Xh;return yr.forEach(t.mutations,(function(i){var o=new Do(i.key,t.batchId);return r=r.delete(o),n.No.Go(e,i.key)})).next((function(){n.Xh=r}))},e.prototype.Ko=function(e){},e.prototype.Ho=function(e,t){var n=new Do(t,0),r=this.Xh.$t(n);return yr.resolve(t.isEqual(r&&r.key))},e.prototype.zo=function(e){return this.Sr.length,yr.resolve()},e.prototype.nl=function(e,t){return this.tl(e)},e.prototype.tl=function(e){return 0===this.Sr.length?0:e-this.Sr[0].batchId},e.prototype.Zh=function(e){var t=this.tl(e);return t<0||t>=this.Sr.length?null:this.Sr[t]},e}(),$a=function(){function e(e,t){this.Dr=e,this.sl=t,this.docs=new Ee(A.i),this.size=0}return e.prototype.Er=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.sl(t);return this.docs=this.docs.ot(r,{ta:t,size:a,readTime:n}),this.size+=a-o,this.Dr.Mo(e,r.path.h())},e.prototype.Ar=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Rr=function(e,t){var n=this.docs.get(t);return yr.resolve(n?n.ta:null)},e.prototype.getEntries=function(e,t){var n=this,r=Ie();return t.forEach((function(e){var t=n.docs.get(e);r=r.ot(e,t?t.ta:null)})),yr.resolve(r)},e.prototype.Lr=function(e,t,n){for(var r=De(),i=new A(t.path.child("")),o=this.docs.ft(i);o.At();){var a=o.It(),s=a.key,c=a.value,u=c.ta,l=c.readTime;if(!t.path.T(s.path))break;l.L(n)<=0||u instanceof Nn&&$n(t,u)&&(r=r.ot(u.key,u))}return yr.resolve(r)},e.prototype.il=function(e,t){return yr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.ra=function(e){return new Ja(this)},e.prototype.aa=function(e){return yr.resolve(this.size)},e}(),Ja=function(e){function t(t){var n=this;return(n=e.call(this)||this).ca=t,n}return r.__extends(t,e),t.prototype.yr=function(e){var t=this,n=[];return this.wr.forEach((function(r,i){i?n.push(t.ca.Er(e,i,t.readTime)):t.ca.Ar(r)})),yr.$n(n)},t.prototype.gr=function(e,t){return this.ca.Rr(e,t)},t.prototype.Pr=function(e,t){return this.ca.getEntries(e,t)},t}(ti),es=function(){function e(e){this.persistence=e,this.rl=new ae((function(e){return pe(e)}),me),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.ol=0,this.al=new Oo,this.targetCount=0,this.cl=oo.fa()}return e.prototype.Ce=function(e,t){return this.rl.forEach((function(e,n){return t(n)})),yr.resolve()},e.prototype.Ea=function(e){return yr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Ia=function(e){return yr.resolve(this.ol)},e.prototype.wa=function(e){return this.highestTargetId=this.cl.next(),yr.resolve(this.highestTargetId)},e.prototype.Aa=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ol&&(this.ol=t),yr.resolve()},e.prototype.ga=function(e){this.rl.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.cl=new oo(t),this.highestTargetId=t),e.sequenceNumber>this.ol&&(this.ol=e.sequenceNumber)},e.prototype.Ra=function(e,t){return this.ga(t),this.targetCount+=1,yr.resolve()},e.prototype.ya=function(e,t){return this.ga(t),yr.resolve()},e.prototype.Va=function(e,t){return this.rl.delete(t.target),this.al.Uc(t.targetId),this.targetCount-=1,yr.resolve()},e.prototype.po=function(e,t,n){var r=this,i=0,o=[];return this.rl.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.rl.delete(a),o.push(r.pa(e,s.targetId)),i++)})),yr.$n(o).next((function(){return i}))},e.prototype.ba=function(e){return yr.resolve(this.targetCount)},e.prototype.va=function(e,t){var n=this.rl.get(t)||null;return yr.resolve(n)},e.prototype.Sa=function(e,t,n){return this.al.Lc(t,n),yr.resolve()},e.prototype.Ca=function(e,t,n){this.al.qc(t,n);var r=this.persistence.No,i=[];return r&&t.forEach((function(t){i.push(r.Go(e,t))})),yr.$n(i)},e.prototype.pa=function(e,t){return this.al.Uc(t),yr.resolve()},e.prototype.Fa=function(e,t){var n=this.al.Wc(t);return yr.resolve(n)},e.prototype.Ho=function(e,t){return yr.resolve(this.al.Ho(t))},e}(),ts=function(){function e(e){var t=this;this.ul={},this.Ma=new Br(0),this.Oa=!1,this.Oa=!0,this.No=e(this),this.Ka=new es(this),this.Dr=new Zi,this.vr=function(e,n){return new $a(e,(function(e){return t.No.hl(e)}))}(this.Dr)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),e.prototype.Za=function(){},e.prototype.tc=function(){},e.prototype.Ic=function(){return this.Dr},e.prototype.mc=function(e){var t=this.ul[e.ti()];return t||(t=new Xa(this.Dr,this.No),this.ul[e.ti()]=t),t},e.prototype.Tc=function(){return this.Ka},e.prototype.Ec=function(){return this.vr},e.prototype.runTransaction=function(e,t,n){var r=this;p("MemoryPersistence","Starting transaction:",e);var i=new ns(this.Ma.next());return this.No.ll(),n(i).next((function(e){return r.No._l(i).next((function(){return e}))})).Fn().then((function(e){return i.br(),e}))},e.prototype.fl=function(e,t){return yr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(e,t)}})))},e}(),ns=function(e){function t(t){var n=this;return(n=e.call(this)||this).xa=t,n}return r.__extends(t,e),t}(ri),rs=function(){function e(e){this.persistence=e,this.dl=new Oo,this.wl=null}return e.ml=function(t){return new e(t)},Object.defineProperty(e.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw y()},enumerable:!1,configurable:!0}),e.prototype.Da=function(e,t,n){return this.dl.Da(n,t),this.Tl.delete(n.toString()),yr.resolve()},e.prototype.Na=function(e,t,n){return this.dl.Na(n,t),this.Tl.add(n.toString()),yr.resolve()},e.prototype.Go=function(e,t){return this.Tl.add(t.toString()),yr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.dl.Uc(t.targetId).forEach((function(e){return n.Tl.add(e.toString())}));var r=this.persistence.Tc();return r.Fa(e,t.targetId).next((function(e){e.forEach((function(e){return n.Tl.add(e.toString())}))})).next((function(){return r.Va(e,t)}))},e.prototype.ll=function(){this.wl=new Set},e.prototype._l=function(e){var t=this,n=this.persistence.Ec().ra();return yr.forEach(this.Tl,(function(r){var i=A.D(r);return t.El(e,i).next((function(e){e||n.Ar(i)}))})).next((function(){return t.wl=null,n.apply(e)}))},e.prototype.yc=function(e,t){var n=this;return this.El(e,t).next((function(e){e?n.Tl.delete(t.toString()):n.Tl.add(t.toString())}))},e.prototype.hl=function(e){return 0},e.prototype.El=function(e,t){var n=this;return yr.kn([function(){return yr.resolve(n.dl.Ho(t))},function(){return n.persistence.Tc().Ho(e,t)},function(){return n.persistence.fl(e,t)}])},e}(),is=function(){function e(e){this.Il=e.Il,this.Al=e.Al}return e.prototype.gu=function(e){this.Rl=e},e.prototype.Tu=function(e){this.gl=e},e.prototype.onMessage=function(e){this.Pl=e},e.prototype.close=function(){this.Al()},e.prototype.send=function(e){this.Il(e)},e.prototype.yl=function(){this.Rl()},e.prototype.Vl=function(e){this.gl(e)},e.prototype.pl=function(e){this.Pl(e)},e}(),os={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},as=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.W=t.W,n}return r.__extends(t,e),t.prototype.Nl=function(e,t,n,r){return new Promise((function(i,o){var a=new s.XhrIo;a.listenOnce(s.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var t=a.getResponseJson();p("Connection","XHR received:",JSON.stringify(t)),i(t);break;case s.ErrorCode.TIMEOUT:p("Connection",'RPC "'+e+'" timed out'),o(new d(l.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(p("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var c=function(e){var t=e.toLowerCase().replace("_","-");return Object.values(l).indexOf(t)>=0?t:l.UNKNOWN}(r.status);o(new d(c,r.message))}else o(new d(l.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new d(l.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{p("Connection",'RPC "'+e+'" completed.')}}));var c=JSON.stringify(r);a.send(t,"POST",c,n,15)}))},t.prototype.Pu=function(e,t){var n=[this.vl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=s.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,t),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p("Connection","Creating WebChannel: "+o,i);var c=r.createWebChannel(o,i),u=!1,f=!1,h=new is({Il:function(e){f?p("Connection","Not sending because WebChannel is closed:",e):(u||(p("Connection","Opening WebChannel transport."),c.open(),u=!0),p("Connection","WebChannel sending:",e),c.send(e))},Al:function(){return c.close()}}),m=function(e,t){c.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return m(s.WebChannel.EventType.OPEN,(function(){f||p("Connection","WebChannel transport opened.")})),m(s.WebChannel.EventType.CLOSE,(function(){f||(f=!0,p("Connection","WebChannel transport closed"),h.Vl())})),m(s.WebChannel.EventType.ERROR,(function(e){f||(f=!0,v("Connection","WebChannel transport errored:",e),h.Vl(new d(l.UNAVAILABLE,"The operation could not be completed")))})),m(s.WebChannel.EventType.MESSAGE,(function(e){var t;if(!f){var n=e.data[0];b(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){p("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=ge[e];if(void 0!==t)return _e(t)}(o),s=i.message;void 0===a&&(a=l.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),f=!0,h.Vl(new d(a,s)),c.close()}else p("Connection","WebChannel received:",n),h.pl(n)}})),setTimeout((function(){h.yl()}),0),h},t}(function(){function e(e){this.bl=e,this.U=e.U;var t=e.ssl?"https":"http";this.vl=t+"://"+e.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return e.prototype.$u=function(e,t,n,r){var i=this.Dl(e,t);p("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(e,i,o,n).then((function(e){return p("RestConnection","Received: ",e),e}),(function(t){throw v("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.ku=function(e,t,n,r){return this.$u(e,t,n,r)},e.prototype.Cl=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",e["Content-Type"]="text/plain",t)for(var n in t.Kc)t.Kc.hasOwnProperty(n)&&(e[n]=t.Kc[n])},e.prototype.Dl=function(e,t){var n=os[e];return this.vl+"/v1/"+t+":"+n},e}()),ss=function(){function e(){var e=this;this.Fl=function(){return e.xl()},this.$l=function(){return e.kl()},this.Ml=[],this.Ol()}return e.prototype.Zu=function(e){this.Ml.push(e)},e.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},e.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},e.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ml;e<t.length;e++)(0,t[e])(0)},e.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ml;e<t.length;e++)(0,t[e])(1)},e.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),cs=function(){function e(){}return e.prototype.Zu=function(e){},e.prototype.Di=function(){},e}();function us(e){return new yt(e,!0)}var ls="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",ds=function(){function e(){}return e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Sh=this.Ll(e),this.persistence=this.Bl(e),[4,this.persistence.start()];case 1:return t.sent(),this.ql=this.Ul(e),this.ju=this.Ql(e),[2]}}))}))},e.prototype.Ul=function(e){return null},e.prototype.Ql=function(e){return t=this.persistence,n=new Qa,r=e.Wl,new bo(t,n,r);var t,n,r},e.prototype.Bl=function(e){if(e.persistenceSettings.jl)throw new d(l.FAILED_PRECONDITION,ls);return new ts(rs.ml)},e.prototype.Ll=function(e){return new $r},e.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return e.sent(),[4,this.persistence.Di()];case 2:return e.sent(),[2]}}))}))},e.prototype.clearPersistence=function(e,t){throw new d(l.FAILED_PRECONDITION,ls)},e}(),fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Kl.fi,this.Sh instanceof Xr?(this.Sh.fi={er:za.bind(null,n),nr:qa.bind(null,n),sr:Ga.bind(null,n),pi:Ha.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.Xa((function(e){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,Ba(this.Kl.fi,e)];case 1:return t.sent(),this.ql&&(e&&!this.ql.Ei?this.ql.start(this.ju):e||this.ql.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},t.prototype.Ll=function(e){if(e.persistenceSettings.jl&&e.persistenceSettings.synchronizeTabs){var t=Ar();if(!Xr.Ln(t))throw new d(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yo(e.bl.U,e.bl.persistenceKey);return new Xr(t,e.cs,n,e.clientId,e.Wl)}return new $r},t}(function(e){function t(t){var n=this;return(n=e.call(this)||this).Kl=t,n}return r.__extends(t,e),t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,To(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,t)];case 3:return n.sent(),[4,Ka(this.Kl.fi)];case 4:return n.sent(),[4,aa(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ul=function(e){var t=this.persistence.No.wo;return new li(t,e.cs)},t.prototype.Bl=function(e){var t=yo(e.bl.U,e.bl.persistenceKey),n=us(e.bl.U);return new ho(e.persistenceSettings.synchronizeTabs,t,e.clientId,ui.ao(e.persistenceSettings.cacheSizeBytes),e.cs,Ar(),Tr(),n,this.Sh,e.persistenceSettings.ka)},t.prototype.Ll=function(e){return new $r},t.prototype.clearPersistence=function(e,t){return function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return br.Ln()?(t=e+"main",[4,br.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yo(e,t))},t}(ds)),hs=function(){function e(){}return e.prototype.initialize=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=e.ju,this.Sh=e.Sh,this.Ku=this.Gl(t),this.ph=this.zl(t),this.bh=this.Hl(t),this.fi=this.Yl(t),this.Sh.di=function(e){return Sa(n.fi,e,1)},this.ph.Gu.Jl=Za.bind(null,this.fi),[4,ha(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.Hl=function(e){return new Pr},e.prototype.Gl=function(e){var t,n=us(e.bl.U),r=(t=e.bl,new as(t));return function(e,t,n){return new zo(e,t,n)}(e.credentials,r,n)},e.prototype.zl=function(e){var t,n,r,i,o,a=this;return t=this.ju,n=this.Ku,r=e.cs,i=function(e){return Sa(a.fi,e,0)},o=ss.Ln()?new ss:new cs,new Vo(t,n,r,i,o)},e.prototype.Yl=function(e){return function(e,t,n,r,i,o,a){var s=new xa(e,t,n,r,i,o);return a&&(s.qh=!0),s}(this.ju,this.ph,this.bh,this.Sh,e.Wl,e.Dh,!e.persistenceSettings.jl||!e.persistenceSettings.synchronizeTabs)},e.prototype.terminate=function(){return qo(this.ph)},e}(),ps=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Xl(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Xl(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Zl=function(){this.muted=!0},e.prototype.Xl=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),ms=function(e){!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new d(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+G(1,"element")+".")}(0,e);for(var t=0;t<e.length;++t)if(N("FieldPath","string",t,e[t]),0===e[t].length)throw new d(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new j(e)},vs=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return r.__extends(t,e),t.documentId=function(){return new t(j.v().R())},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","FieldPath",1,e);return this.t_.isEqual(e.t_)},t}(ms),gs=new RegExp("[~\\*/\\[\\]]"),ys=function(e){this.e_=e},bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.n_=function(e){if(2!==e.s_)throw 1===e.s_?e.i_(this.e_+"() can only appear at the top level of your update data"):e.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return e.We.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(ys);function ws(e,t,n){return new Ds({s_:3,r_:t.settings.r_,methodName:e.e_,o_:n},t.U,t.serializer,t.ignoreUndefinedProperties)}var xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.n_=function(e){return new dn(e.path,new tn)},t.prototype.isEqual=function(e){return e instanceof t},t}(ys),_s=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).a_=n,r}return r.__extends(t,e),t.prototype.n_=function(e){var t=ws(this,e,!0),n=this.a_.map((function(e){return Zs(e,t)})),r=new nn(n);return new dn(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ys),Es=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).a_=n,r}return r.__extends(t,e),t.prototype.n_=function(e){var t=ws(this,e,!0),n=this.a_.map((function(e){return Zs(e,t)})),r=new on(n);return new dn(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ys),ks=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).c_=n,r}return r.__extends(t,e),t.prototype.n_=function(e){var t=new sn(e.serializer,xt(e.serializer,this.c_));return new dn(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(ys),Cs=function(){function e(e,t){if(I("GeoPoint",arguments,2),N("GeoPoint","number",1,e),N("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new d(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new d(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.u_=e,this.h_=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.u_===e.u_&&this.h_===e.h_},e.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},e.prototype.Y=function(e){return Q(this.u_,e.u_)||Q(this.h_,e.h_)},e}(),Ss=function(e){this.l_=e},js=/^__.*__$/,As=function(e,t,n){this.__=e,this.f_=t,this.d_=n},Ts=function(){function e(e,t,n){this.data=e,this.We=t,this.fieldTransforms=n}return e.prototype.w_=function(e,t){var n=[];return null!==this.We?n.push(new _n(e,this.data,this.We,t)):n.push(new xn(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new kn(e,this.fieldTransforms)),n},e}(),Is=function(){function e(e,t,n){this.data=e,this.We=t,this.fieldTransforms=n}return e.prototype.w_=function(e,t){var n=[new _n(e,this.data,this.We,t)];return this.fieldTransforms.length>0&&n.push(new kn(e,this.fieldTransforms)),n},e}();function Os(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var Ds=function(){function e(e,t,n,r,i,o){this.settings=e,this.U=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),e.prototype.T_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},e.prototype.E_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.T_({path:n,o_:!1});return r.I_(e),r},e.prototype.A_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.T_({path:n,o_:!1});return r.m_(),r},e.prototype.R_=function(e){return this.T_({path:void 0,o_:!0})},e.prototype.i_=function(e){return Ws(e,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},e.prototype.contains=function(e){return void 0!==this.We.find((function(t){return e.T(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.T(t.field)}))},e.prototype.m_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.I_(this.path.get(e))},e.prototype.I_=function(e){if(0===e.length)throw this.i_("Document fields must not be empty");if(Os(this.s_)&&js.test(e))throw this.i_('Document fields cannot begin and end with "__"')},e}(),Ns=function(){function e(e,t,n){this.U=e,this.ignoreUndefinedProperties=t,this.serializer=n||us(e)}return e.prototype.P_=function(e,t,n,r){return void 0===r&&(r=!1),new Ds({s_:e,methodName:t,r_:n,path:j.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},e}();function Ps(e,t,n,r,i,o){void 0===o&&(o={});var a=e.P_(o.merge||o.mergeFields?2:0,t,n,i);zs("Data must be an object, but it was:",a,r);var s,c,u=Fs(r,a);if(o.merge)s=new ln(a.We),c=a.fieldTransforms;else if(o.mergeFields){for(var f=[],h=0,p=o.mergeFields;h<p.length;h++){var m=p[h],v=void 0;if(m instanceof ms)v=m.t_;else{if("string"!=typeof m)throw y();v=Vs(t,m,n)}if(!a.contains(v))throw new d(l.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");Hs(f,v)||f.push(v)}s=new ln(f),c=a.fieldTransforms.filter((function(e){return s.Ye(e.field)}))}else s=null,c=a.fieldTransforms;return new Ts(new Tn(u),s,c)}function Ms(e,t,n,r){var i=e.P_(1,t,n);zs("Data must be an object, but it was:",i,r);var o=[],a=new In;_(r,(function(e,r){var s=Vs(t,e,n),c=i.A_(s);if(r instanceof bs||r instanceof Ss&&r.l_ instanceof bs)o.push(s);else{var u=Zs(r,c);null!=u&&(o.push(s),a.set(s,u))}}));var s=new ln(o);return new Is(a.Xe(),s,i.fieldTransforms)}function Ls(e,t,n,r,i,o){var a=e.P_(1,t,n),s=[Bs(t,r,n)],c=[i];if(o.length%2!=0)throw new d(l.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)s.push(Bs(t,o[u])),c.push(o[u+1]);for(var f=[],h=new In,p=s.length-1;p>=0;--p)if(!Hs(f,s[p])){var m=s[p],v=c[p],g=a.A_(m);if(v instanceof bs||v instanceof Ss&&v.l_ instanceof bs)f.push(m);else{var y=Zs(v,g);null!=y&&(f.push(m),h.set(m,y))}}var b=new ln(f);return new Is(h.Xe(),b,a.fieldTransforms)}function Rs(e,t,n,r){return void 0===r&&(r=!1),Zs(n,e.P_(r?4:3,t))}function Zs(e,t){if(e instanceof Ss&&(e=e.l_),Us(e))return zs("Unsupported field value:",t,e),Fs(e,t);if(e instanceof ys)return function(e,t){if(!Os(t.s_))throw t.i_(e.e_+"() can only be used with update() and set()");if(!t.path)throw t.i_(e.e_+"() is not currently supported inside arrays");var n=e.n_(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.We.push(t.path),e instanceof Array){if(t.settings.o_&&4!==t.s_)throw t.i_("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Zs(o[i],t.R_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xt(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=se.fromDate(e);return{timestampValue:_t(t.serializer,n)}}if(e instanceof se){var r=new se(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_t(t.serializer,r)}}if(e instanceof Cs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ee)return{bytesValue:Et(t.serializer,e.q)};if(e instanceof As){var i=t.U,o=e.__;if(!o.isEqual(i))throw t.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:St(e.__||t.U,e.f_.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.i_("Unsupported field value: "+z(e))}(e,t)}function Fs(e,t){var n={};return E(e)?t.path&&t.path.length>0&&t.We.push(t.path):_(e,(function(e,r){var i=Zs(r,t.E_(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Us(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof se||e instanceof Cs||e instanceof ee||e instanceof As||e instanceof ys)}function zs(e,t,n){if(!Us(n)||!U(n)){var r=z(n);throw"an object"===r?t.i_(e+" a custom object"):t.i_(e+" "+r)}}function Bs(e,t,n){if(t instanceof ms)return t.t_;if("string"==typeof t)return Vs(e,t);throw Ws("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function Vs(e,t,n){try{return function(e){if(e.search(gs)>=0)throw new d(l.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(vs.bind.apply(vs,r.__spreadArrays([void 0],e.split("."))))}catch(r){throw new d(l.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).t_}catch(t){throw Ws((i=t)instanceof Error?i.message:i.toString(),e,!1,void 0,n)}var i}function Ws(e,t,n,r,i){var o=r&&!r.m(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new d(l.INVALID_ARGUMENT,(s+=". ")+e+c)}function Hs(e,t){return e.some((function(e){return e.isEqual(t)}))}var qs=function(){function e(e){this.Ku=e,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return e.prototype.v_=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new d(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s,c;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(e),i=Dt(n.serializer)+"/documents",o={documents:t.map((function(e){return At(n.serializer,e)}))},[4,n.ku("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){b(!!t.found),t.found.name,t.found.updateTime;var n=Tt(e,t.found.name),r=Ct(t.found.updateTime),i=new Tn({mapValue:{fields:t.found.fields}});return new Nn(n,r,i,{})}(e,t):"missing"in t?function(e,t){b(!!t.missing),b(!!t.readTime);var n=Tt(e,t.missing),r=Ct(t.readTime);return new Pn(n,r)}(e,t):y()}(n.serializer,e);s.set(t.key.toString(),t)})),c=[],[2,(t.forEach((function(e){var t=s.get(e.toString());b(!!t),c.push(t)})),c)]}}))}))}(this.Ku,e)];case 1:return[2,((t=i.sent()).forEach((function(e){e instanceof Pn||e instanceof Nn?n.D_(e):y()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.w_(e,this.Ge(e))),this.b_.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.w_(e,this.C_(e)))}catch(e){this.p_=e}this.b_.add(e.toString())},e.prototype.delete=function(e){this.write([new jn(e,this.Ge(e))]),this.b_.add(e.toString())},e.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return e=this.y_,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=A.D(n);t.mutations.push(new An(r,t.Ge(r)))})),[4,function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=w(e),i=Dt(n.serializer)+"/documents",o={writes:t.map((function(e){return Mt(n.serializer,e)}))},[4,n.$u("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},e.prototype.D_=function(e){var t;if(e instanceof Nn)t=e.version;else{if(!(e instanceof Pn))throw y();t=ce.min()}var n=this.y_.get(e.key.toString());if(n){if(!t.isEqual(n))throw new d(l.ABORTED,"Document version changed between two reads.")}else this.y_.set(e.key.toString(),t)},e.prototype.Ge=function(e){var t=this.y_.get(e.toString());return!this.b_.has(e.toString())&&t?hn.updateTime(t):hn.ze()},e.prototype.C_=function(e){var t=this.y_.get(e.toString());if(!this.b_.has(e.toString())&&t){if(t.isEqual(ce.min()))throw new d(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(t)}return hn.exists(!0)},e.prototype.write=function(e){this.S_(),this.mutations=this.mutations.concat(e)},e.prototype.S_=function(){},e}(),Gs=function(){function e(e,t,n,r){this.cs=e,this.Ku=t,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new gr(this.cs,"transaction_retry")}return e.prototype.run=function(){this.F_()},e.prototype.F_=function(){var e=this;this.ys.gn((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return r.__generator(this,(function(r){return e=new qs(this.Ku),(t=this.x_(e))&&t.then((function(t){n.cs.ws((function(){return e.commit().then((function(){n.ls.resolve(t)})).catch((function(e){n.k_(e)}))}))})).catch((function(e){n.k_(e)})),[2]}))}))}))},e.prototype.x_=function(e){try{var t=this.updateFunction(e);return!ue(t)&&t.catch&&t.then?t:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.ls.reject(e),null}},e.prototype.k_=function(e){var t=this;this.N_>0&&this.M_(e)?(this.N_-=1,this.cs.ws((function(){return t.F_(),Promise.resolve()}))):this.ls.reject(e)},e.prototype.M_=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!xe(t)}return!1},e}(),Ys=function(){function e(e,t){this.credentials=e,this.cs=t,this.clientId=K.k(),this.O_=new vr}return e.prototype.start=function(e,t,n,i){var o=this;this.L_(),this.bl=e;var a=new vr,s=!1;return this.credentials.Hc((function(e){if(!s)return s=!0,p("FirestoreClient","Initializing. user=",e.uid),o.B_(t,n,i,e,a).then(o.O_.resolve,o.O_.reject);o.cs.Cs((function(){return function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=w(e)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=Jo(n),n.Yu.add(3),[4,Ho(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(t)];case 2:return r.sent(),n.Yu.delete(3),[4,Wo(n)];case 3:return r.sent(),[2]}}))}))}(o.ph,e)}))})),this.cs.ws((function(){return o.O_.promise})),a.promise},e.prototype.enableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue((function(){return e.persistence.tc(!0),function(e){var t=w(e);return t.Yu.delete(0),Wo(t)}(e.ph)}))},e.prototype.B_=function(e,t,n,i,o){return r.__awaiter(this,void 0,void 0,(function(){var a,s,c=this;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),a={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n},[4,e.initialize(a)];case 1:return u.sent(),[4,t.initialize(e,a)];case 2:return u.sent(),this.persistence=e.persistence,this.Sh=e.Sh,this.ju=e.ju,this.ql=e.ql,this.Ku=t.Ku,this.ph=t.ph,this.fi=t.fi,this.q_=t.bh,this.q_.Us=_a.bind(null,this.fi),this.q_.js=ka.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),o.resolve(),[3,4];case 3:if(s=u.sent(),o.reject(s),!this.U_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.B_(new ds,new hs,{jl:!1},i,o))];case 4:return[2]}}))}))},e.prototype.U_=function(e){return"FirebaseError"===e.name?e.code===l.FAILED_PRECONDITION||e.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.L_=function(){if(this.cs.ps)throw new d(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue((function(){return e.persistence.tc(!1),function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return(t=w(e)).Yu.add(0),[4,Ho(t)];case 1:return n.sent(),t.th.set("Offline"),[2]}}))}))}(e.ph)}))},e.prototype.terminate=function(){var e=this;this.cs.Ds();var t=new vr;return this.cs.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,qo(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),t.resolve(),[3,5];case 4:return e=r.sent(),n=Dr(e,"Failed to shutdown persistence"),t.reject(n),[3,5];case 5:return[2]}}))}))})),t.promise},e.prototype.waitForPendingWrites=function(){var e=this;this.L_();var t=new vr;return this.cs.ws((function(){return function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:Jo((n=w(e)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=w(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Sr.qo(e)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void t.resolve()]:((o=n.Lh.get(i)||[]).push(t),n.Lh.set(i,o),[3,4]);case 3:return a=r.sent(),s=Dr(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}(e.fi,t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.L_();var i=new ps(n),o=new Ur(e,i,t);return this.cs.ws((function(){return Mr(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return Lr(r.q_,o)}))}},e.prototype.Q_=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),t=new vr,[2,(this.cs.ws((function(){return function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=w(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Cc.Cr(e,t)}))}(e,t)];case 1:return(i=r.sent())instanceof Nn?n.resolve(i):i instanceof Pn?n.resolve(null):n.reject(new d(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),a=Dr(o,"Failed to get document '"+t+" from cache"),n.reject(a),[3,3];case 3:return[2]}}))}))}(n.ju,e,t)})),t.promise)]}}))}))},e.prototype.W_=function(e,t){return void 0===t&&(t={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new vr,[2,(this.cs.ws((function(){return function(e,t,n,r,i){var o=new ps({next:function(o){t.ws((function(){return Lr(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new d(l.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new d(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Ur(Zn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Mr(e,a)}(i.q_,i.cs,e,t,n)})),n.promise)]}}))}))},e.prototype.j_=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),t=new vr,[2,(this.cs.ws((function(){return function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s,c,u;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,So(e,t,!0)];case 1:return i=r.sent(),o=new ya(t,i.Fc),a=o.wh(i.documents),s=o.yr(a,!1),n.resolve(s.snapshot),[3,3];case 2:return c=r.sent(),u=Dr(c,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(n.ju,e,t)})),t.promise)]}}))}))},e.prototype.K_=function(e,t){return void 0===t&&(t={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new vr,[2,(this.cs.ws((function(){return function(e,t,n,r,i){var o=new ps({next:function(n){t.ws((function(){return Lr(e,a)})),n.fromCache&&"server"===r.source?i.reject(new d(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Ur(n,o,{includeMetadataChanges:!0,Xs:!0});return Mr(e,a)}(i.q_,i.cs,e,t,n)})),n.promise)]}}))}))},e.prototype.write=function(e){var t=this;this.L_();var n=new vr;return this.cs.ws((function(){return function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=Ka(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=w(e),i=se.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Me());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Cc.kr(e,o).next((function(o){n=o;for(var a=[],s=0,c=t;s<c.length;s++){var u=c[s],l=yn(u,n.get(u.key));null!=l&&a.push(new _n(u.key,l,On(l.proto.mapValue),hn.exists(!0)))}return r.Sr.ko(e,i,a,t)}))})).then((function(e){var t=e.lr(n);return{batchId:e.batchId,wr:t}}))}(i.ju,t)];case 2:return o=r.sent(),i.Sh.xi(o.batchId),function(e,t,n){var r=e.Oh[e.currentUser.ti()];r||(r=new Ee(Q)),r=r.ot(t,n),e.Oh[e.currentUser.ti()]=r}(i,o.batchId,n),[4,Ra(i,o.wr)];case 3:return r.sent(),[4,aa(i.ph)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=Dr(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}(t.fi,e,n)})),n.promise},e.prototype.U=function(){return this.bl.U},e.prototype.G_=function(e){var t=this;this.L_();var n=new ps(e);return this.cs.ws((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,function(e,t){w(e).qs.add(t),t.next()}(this.q_,n)]}))}))})),function(){n.Zl(),t.cs.ws((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,function(e,t){w(e).qs.delete(t)}(this.q_,n)]}))}))}))}},Object.defineProperty(e.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.L_();var n=new vr;return this.cs.ws((function(){return new Gs(t.cs,t.Ku,e,n).run(),Promise.resolve()})),n.promise},e}();function Ks(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Qs=function(){function e(e,t,n,r,i){this.U=e,this.timestampsInSnapshots=t,this.H_=n,this.Y_=r,this.J_=i}return e.prototype.X_=function(e){switch(et(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.Z_(e.timestampValue);case 4:return this.tf(e);case 5:return e.stringValue;case 6:return this.J_(ut(e.bytesValue));case 7:return this.ef(e.referenceValue);case 8:return this.nf(e.geoPointValue);case 9:return this.sf(e.arrayValue);case 10:return this.if(e.mapValue);default:throw y()}},e.prototype.if=function(e){var t=this,n={};return _(e.fields||{},(function(e,r){n[e]=t.X_(r)})),n},e.prototype.nf=function(e){return new Cs(ct(e.latitude),ct(e.longitude))},e.prototype.sf=function(e){var t=this;return(e.values||[]).map((function(e){return t.X_(e)}))},e.prototype.tf=function(e){switch(this.H_){case"previous":var t=Xe(e);return null==t?null:this.X_(t);case"estimate":return this.Z_($e(e));default:return null}},e.prototype.Z_=function(e){var t=st(e),n=new se(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.ef=function(e){var t=C.g(e);b(Qt(t));var n=new oe(t.get(1),t.get(3)),r=new A(t.u(5));return n.isEqual(this.U)||m("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},e}(),Xs=ui.ho,$s=function(){function e(e){var t,n,r,i,o;if(void 0===e.host){if(void 0!==e.ssl)throw new d(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else M("settings","non-empty string","host",e.host),this.host=e.host,L("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(V("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),L("settings","object","credentials",e.credentials),this.credentials=e.credentials,L("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),L("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),!0===e.timestampsInSnapshots?m("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&m("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=e.ignoreUndefinedProperties)&&void 0!==r&&r,L("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=ui._o;else{if(e.cacheSizeBytes!==Xs&&e.cacheSizeBytes<ui.lo)throw new d(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ui.lo);this.cacheSizeBytes=e.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=e.experimentalForceLongPolling)&&void 0!==i&&i,L("settings","boolean","experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=e.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(e,t,n,r){if(!0===t&&!0===r)throw new d(l.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Js=function(){function e(t,n,i,o){var a=this;if(void 0===i&&(i=new ds),void 0===o&&(o=new hs),this.rf=i,this.af=o,this.cf=null,this.uf=new Or,this.INTERNAL={delete:function(){return r.__awaiter(a,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var s=t;this.cf=s,this.__=e._f(s),this.ff=s.name,this.df=new Mo(n)}else{var c=t;if(!c.projectId)throw new d(l.INVALID_ARGUMENT,"Must provide projectId");this.__=new oe(c.projectId,c.database),this.ff="[DEFAULT]",this.df=new Po}this.wf=new $s({})}return Object.defineProperty(e.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ns(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){I("Firestore.settings",arguments,1),N("Firestore.settings","object",1,e),e.merge&&delete(e=Object.assign(Object.assign({},this.wf),e)).merge;var t=new $s(e);if(this.lf&&!this.wf.isEqual(t))throw new d(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=t,void 0!==t.credentials&&(this.df=function(e){if(!e)return new Po;switch(e.type){case"gapi":var t=e.client;return b(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ro(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new d(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},e.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.lf)throw new d(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(e&&(void 0!==e.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n,i=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,r&&i))throw new d(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},e.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new d(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return e=new vr,[2,(this.uf.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),e.resolve(),[3,3];case 2:return t=n.sent(),e.reject(t),[3,3];case 3:return[2]}}))}))})),e.promise)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.hf(),Ks(e))return this.lf.G_(e);N("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.lf.G_(t)},e.prototype.hf=function(){return this.lf||this.Ef(new ds,new hs,{jl:!1}),this.lf},e.prototype.Af=function(){return new ie(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},e.prototype.Ef=function(e,t,n){var r=this.Af();return this.lf=new Ys(this.df,this.uf),this.lf.start(r,e,t,n)},e._f=function(e){if(t=e.options,!Object.prototype.hasOwnProperty.call(t,"projectId"))throw new d(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t,n=e.options.projectId;if(!n||"string"!=typeof n)throw new d(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new oe(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.cf)throw new d(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){return I("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,e),this.hf(),new pc(C.g(e),this,null)},e.prototype.doc=function(e){return I("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,e),this.hf(),nc.Rf(C.g(e),this,null)},e.prototype.collectionGroup=function(e){if(I("Firestore.collectionGroup",arguments,1),N("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new d(l.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new fc(function(e){return new Ln(C.P(),e)}(e),this,null)},e.prototype.runTransaction=function(e){var t=this;return I("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,e),this.hf().transaction((function(n){return e(new ec(t,n))}))},e.prototype.batch=function(){return this.hf(),new tc(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(h()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.ERROR:return"error";case o.LogLevel.SILENT:return"silent";case o.LogLevel.WARN:return"warn";case o.LogLevel.INFO:return"info";case o.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),e.setLogLevel=function(e){var t;I("Firestore.setLogLevel",arguments,1),Z("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),t=e,f.setLogLevel(t)},e.prototype.gf=function(){return this.wf.timestampsInSnapshots},e.prototype.Pf=function(){return this.wf},e}(),ec=function(){function e(e,t){this.yf=e,this.Vf=t}return e.prototype.get=function(e){var t=this;I("Transaction.get",arguments,1);var n=yc("Transaction.get",e,this.yf);return this.Vf.v_([n.f_]).then((function(e){if(!e||1!==e.length)return y();var r=e[0];if(r instanceof Pn)return new ic(t.yf,n.f_,null,!1,!1,n.d_);if(r instanceof Nn)return new ic(t.yf,n.f_,r,!1,!1,n.d_);throw y()}))},e.prototype.set=function(e,t,n){D("Transaction.set",arguments,2,3);var r=yc("Transaction.set",e,this.yf);n=mc("Transaction.set",n);var i=wc(r.d_,t,n),o=Ps(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof vs?(O("Transaction.update",arguments,3),r=yc("Transaction.update",e,this.yf),i=Ls(this.yf.mf,"Transaction.update",r.f_,t,n,o)):(I("Transaction.update",arguments,2),r=yc("Transaction.update",e,this.yf),i=Ms(this.yf.mf,"Transaction.update",r.f_,t)),this.Vf.update(r.f_,i),this},e.prototype.delete=function(e){I("Transaction.delete",arguments,1);var t=yc("Transaction.delete",e,this.yf);return this.Vf.delete(t.f_),this},e}(),tc=function(){function e(e){this.yf=e,this.pf=[],this.bf=!1}return e.prototype.set=function(e,t,n){D("WriteBatch.set",arguments,2,3),this.vf();var r=yc("WriteBatch.set",e,this.yf);n=mc("WriteBatch.set",n);var i=wc(r.d_,t,n),o=Ps(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,hn.ze())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.vf(),"string"==typeof t||t instanceof vs?(O("WriteBatch.update",arguments,3),r=yc("WriteBatch.update",e,this.yf),i=Ls(this.yf.mf,"WriteBatch.update",r.f_,t,n,o)):(I("WriteBatch.update",arguments,2),r=yc("WriteBatch.update",e,this.yf),i=Ms(this.yf.mf,"WriteBatch.update",r.f_,t)),this.pf=this.pf.concat(i.w_(r.f_,hn.exists(!0))),this},e.prototype.delete=function(e){I("WriteBatch.delete",arguments,1),this.vf();var t=yc("WriteBatch.delete",e,this.yf);return this.pf=this.pf.concat(new jn(t.f_,hn.ze())),this},e.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},e.prototype.vf=function(){if(this.bf)throw new d(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),nc=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.__,t,r)||this).f_=t,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(t,e),t.Rf=function(e,n,r){if(e.length%2!=0)throw new d(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.R()+" has "+e.length);return new t(new A(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(I("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,e),!e)throw new d(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=C.g(e);return new pc(this.f_.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.f_.isEqual(e.f_)&&this.d_===e.d_},t.prototype.set=function(e,t){D("DocumentReference.set",arguments,1,2),t=mc("DocumentReference.set",t);var n=wc(this.d_,e,t),r=Ps(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,t);return this.lf.write(r.w_(this.f_,hn.ze()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof vs?(O("DocumentReference.update",arguments,2),n=Ls(this.firestore.mf,"DocumentReference.update",this.f_,e,t,r)):(I("DocumentReference.update",arguments,1),n=Ms(this.firestore.mf,"DocumentReference.update",this.f_,e)),this.lf.write(n.w_(this.f_,hn.exists(!0)))},t.prototype.delete=function(){return I("DocumentReference.delete",arguments,0),this.lf.write([new jn(this.f_,hn.ze())])},t.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];D("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Ks(i[s])||(V("DocumentReference.onSnapshot",a=i[s],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++);var c={includeMetadataChanges:a.includeMetadataChanges};if(Ks(i[s])){var u=i[s];i[s]=null===(e=u.next)||void 0===e?void 0:e.bind(u),i[s+1]=null===(t=u.error)||void 0===t?void 0:t.bind(u),i[s+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else N("DocumentReference.onSnapshot","function",s,i[s]),P("DocumentReference.onSnapshot","function",s+1,i[s+1]),P("DocumentReference.onSnapshot","function",s+2,i[s+2]);var l={next:function(e){i[s]&&i[s](r.Sf(e))},error:i[s+1],complete:i[s+2]};return this.lf.listen(Zn(this.f_.path),c,l)},t.prototype.get=function(e){var t=this;D("DocumentReference.get",arguments,0,1),gc("DocumentReference.get",e);var n=this.firestore.hf();return e&&"cache"===e.source?n.Q_(this.f_).then((function(e){return new ic(t.firestore,t.f_,e,!0,e instanceof Nn&&e.Je,t.d_)})):n.W_(this.f_,e).then((function(e){return t.Sf(e)}))},t.prototype.withConverter=function(e){return new t(this.f_,this.firestore,e)},t.prototype.Sf=function(e){var t=e.docs.get(this.f_);return new ic(this.firestore,this.f_,t,e.fromCache,e.hasPendingWrites,this.d_)},t}(As),rc=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),ic=function(){function e(e,t,n,r,i,o){this.yf=e,this.f_=t,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return e.prototype.data=function(e){var t=this;if(D("DocumentSnapshot.data",arguments,0,1),e=vc("DocumentSnapshot.data",e),this.Df){if(this.d_){var n=new oc(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,e)}return new Qs(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(e){return new nc(e,t.yf,null)}),(function(e){return new re(e)})).X_(this.Df.rn())}},e.prototype.get=function(e,t){var n=this;if(D("DocumentSnapshot.get",arguments,1,2),t=vc("DocumentSnapshot.get",t),this.Df){var r=this.Df.data().field(Bs("DocumentSnapshot.get",e,this.f_));if(null!==r)return new Qs(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(e){return new nc(e,n.yf,n.d_)}),(function(e){return new re(e)})).X_(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new nc(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new rc(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","DocumentSnapshot",1,t);return this.yf===t.yf&&this.Cf===t.Cf&&this.f_.isEqual(t.f_)&&(null===this.Df?null===t.Df:this.Df.isEqual(t.Df))&&this.d_===t.d_},e}(),oc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(ic);function ac(e,t,n,r,i,o,a){var s;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new d(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){uc(a,o);for(var c=[],u=0,f=a;u<f.length;u++){var h=f[u];c.push(cc(r,e,h))}s={arrayValue:{values:c}}}else s=cc(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||uc(a,o),s=Rs(n,t,a,"in"===o||"not-in"===o);var p=er.create(i,o,s);return function(e,t){if(t.hn()){var n=Bn(e);if(null!==n&&!n.isEqual(t.field))throw new d(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=zn(e);null!==r&&lc(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new d(l.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new d(l.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,p),p}function sc(e,t,n){if(null!==e.startAt)throw new d(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new d(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new hr(t,n);return function(e,t){if(null===zn(e)){var n=Bn(e);null!==n&&lc(e,n,t.field)}}(e,r),r}function cc(e,t,n){if("string"==typeof n){if(""===n)throw new d(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vn(t)&&-1!==n.indexOf("/"))throw new d(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(C.g(n));if(!A.F(r))throw new d(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return lt(e,new A(r))}if(n instanceof As)return lt(e,n.f_);throw new d(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+z(n)+".")}function uc(e,t){if(!Array.isArray(e)||0===e.length)throw new d(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new d(l.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===t||"array-contains-any"===t){if(e.indexOf(null)>=0)throw new d(l.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new d(l.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")}}function lc(e,t,n){if(!n.isEqual(t))throw new d(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function dc(e){if(Un(e)&&0===e.on.length)throw new d(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fc=function(){function e(e,t,n){this.Ff=e,this.firestore=t,this.d_=n}return e.prototype.where=function(t,n,r){I("Query.where",arguments,3),B("Query.where",3,r);var i=Z("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=Bs("Query.where",t),a=ac(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new e(function(e,t){var n=e.filters.concat([t]);return new Ln(e.path,e.collectionGroup,e.on.slice(),n,e.limit,e.an,e.startAt,e.endAt)}(this.Ff,a),this.firestore,this.d_)},e.prototype.orderBy=function(t,n){var r;if(D("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new d(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Bs("Query.orderBy",t),o=sc(this.Ff,i,r);return new e(function(e,t){var n=e.on.concat([t]);return new Ln(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.an,e.startAt,e.endAt)}(this.Ff,o),this.firestore,this.d_)},e.prototype.limit=function(t){return I("Query.limit",arguments,1),N("Query.limit","number",1,t),H("Query.limit",1,t),new e(qn(this.Ff,t,"F"),this.firestore,this.d_)},e.prototype.limitToLast=function(t){return I("Query.limitToLast",arguments,1),N("Query.limitToLast","number",1,t),H("Query.limitToLast",1,t),new e(qn(this.Ff,t,"L"),this.firestore,this.d_)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAt",arguments,1);var i=this.xf("Query.startAt",t,n,!0);return new e(Gn(this.Ff,i),this.firestore,this.d_)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",t,n,!1);return new e(Gn(this.Ff,i),this.firestore,this.d_)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",t,n,!0);return new e(Yn(this.Ff,i),this.firestore,this.d_)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endAt",arguments,1);var i=this.xf("Query.endAt",t,n,!1);return new e(Yn(this.Ff,i),this.firestore,this.d_)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","Query",1,t);return this.firestore===t.firestore&&Kn(this.Ff,t.Ff)&&this.d_===t.d_},e.prototype.withConverter=function(t){return new e(this.Ff,this.firestore,t)},e.prototype.xf=function(e,t,n,i){if(B(e,1,t),t instanceof ic)return I(e,r.__spreadArrays([t],n),1),function(e,t,n,r,i){if(!r)throw new d(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Wn(e);a<s.length;a++){var c=s[a];if(c.field.p())o.push(lt(t,r.key));else{var u=r.field(c.field);if(Qe(u))throw new d(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var f=c.field.R();throw new d(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(u)}}return new ur(o,i)}(this.Ff,this.firestore.__,e,t.Df,i);var o=[t].concat(n);return function(e,t,n,r,i,o){var a=e.on;if(i.length>a.length)throw new d(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],c=0;c<i.length;c++){var u=i[c];if(a[c].field.p()){if("string"!=typeof u)throw new d(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Vn(e)&&-1!==u.indexOf("/"))throw new d(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var f=e.path.child(C.g(u));if(!A.F(f))throw new d(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var h=new A(f);s.push(lt(t,h))}else{var p=Rs(n,r,u);s.push(p)}}return new ur(s,o)}(this.Ff,this.firestore.__,this.firestore.mf,e,o,i)},e.prototype.onSnapshot=function(){for(var e,t,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];D("Query.onSnapshot",arguments,1,4);var a={},s=0;if("object"!=typeof i[s]||Ks(i[s])||(V("Query.onSnapshot",a=i[s],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),s++),Ks(i[s])){var c=i[s];i[s]=null===(e=c.next)||void 0===e?void 0:e.bind(c),i[s+1]=null===(t=c.error)||void 0===t?void 0:t.bind(c),i[s+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else N("Query.onSnapshot","function",s,i[s]),P("Query.onSnapshot","function",s+1,i[s+1]),P("Query.onSnapshot","function",s+2,i[s+2]);var u={next:function(e){i[s]&&i[s](new hc(r.firestore,r.Ff,e,r.d_))},error:i[s+1],complete:i[s+2]};return dc(this.Ff),this.firestore.hf().listen(this.Ff,a,u)},e.prototype.get=function(e){var t=this;D("Query.get",arguments,0,1),gc("Query.get",e),dc(this.Ff);var n=this.firestore.hf();return(e&&"cache"===e.source?n.j_(this.Ff):n.K_(this.Ff,e)).then((function(e){return new hc(t.firestore,t.Ff,e,t.d_)}))},e}(),hc=function(){function e(e,t,n,r){this.yf=e,this.$f=t,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new rc(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;D("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,e),this.kf.docs.forEach((function(r){e.call(t,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new fc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){e&&(V("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.kf.Kt)throw new d(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===t||(this.Mf=function(e,t,n){if(e.Qt.m()){var r=0;return e.docChanges.map((function(t){var i=n(t.doc,e.fromCache,e.Wt.has(t.doc.key));return t.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=e.Qt;return e.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var r=n(t.doc,e.fromCache,e.Wt.has(t.doc.key)),o=-1,a=-1;return 0!==t.type&&(o=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(a=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:bc(t.type),doc:r,oldIndex:o,newIndex:a}}))}(this.kf,t,this.Lf.bind(this)),this.Of=t),this.Mf},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","QuerySnapshot",1,t);return this.yf===t.yf&&Kn(this.$f,t.$f)&&this.kf.isEqual(t.kf)&&this.d_===t.d_},e.prototype.Lf=function(e,t,n){return new oc(this.yf,e.key,e,t,n,this.d_)},e}(),pc=function(e){function t(t,n,r){var i=this;if((i=e.call(this,Zn(t),n,r)||this).Bf=t,t.length%2!=1)throw new d(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.R()+" has "+t.length);return i}return r.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.Ff.path.h();return e.m()?null:new nc(new A(e),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=K.k()),N("CollectionReference.doc","non-empty string",1,e);var t=C.g(e);return nc.Rf(this.Ff.path.child(t),this.firestore,this.d_)},t.prototype.add=function(e){I("CollectionReference.add",arguments,1);var t=this.d_?this.d_.toFirestore(e):e;N("CollectionReference.add","object",1,t);var n=this.doc();return new nc(n.f_,this.firestore,null).set(t).then((function(){return n}))},t.prototype.withConverter=function(e){return new t(this.Bf,this.firestore,e)},t}(fc);function mc(e,t){if(void 0===t)return{merge:!1};if(V(e,t,["merge","mergeFields"]),L(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new d(l.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+z(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new d(l.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+z(r[o]))}(e,"mergeFields",0,r,(function(e){return"string"==typeof e||e instanceof vs}))}(e,0,0,t.mergeFields),void 0!==t.mergeFields&&void 0!==t.merge)throw new d(l.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function vc(e,t){return void 0===t?{}:(V(e,t,["serverTimestamps"]),R(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function gc(e,t){P(e,"object",1,t),t&&(V(e,t,["source"]),R(e,0,"source",t.source,["default","server","cache"]))}function yc(e,t,n){if(t instanceof As){if(t.firestore!==n)throw new d(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw W(e,"DocumentReference",1,t)}function bc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function wc(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var xc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.serverTimestamp=function(){T("FieldValue.serverTimestamp",arguments);var e=new xs("serverTimestamp");return e.e_="FieldValue.serverTimestamp",new t(e)},t.delete=function(){T("FieldValue.delete",arguments);var e=new bs("deleteField");return e.e_="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O("FieldValue.arrayUnion",arguments,1);var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O("arrayUnion()",arguments,1),new _s("arrayUnion",e)}.apply(void 0,e);return r.e_="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O("FieldValue.arrayRemove",arguments,1);var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return O("arrayRemove()",arguments,1),new Es("arrayRemove",e)}.apply(void 0,e);return r.e_="FieldValue.arrayRemove",new t(r)},t.increment=function(e){N("FieldValue.increment","number",1,e),I("FieldValue.increment",arguments,1);var n=function(e){return new ks("increment",e)}(e);return n.e_="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this.l_.isEqual(e.l_)},t}(Ss),_c={Firestore:Js,GeoPoint:Cs,Timestamp:se,Blob:re,Transaction:ec,WriteBatch:tc,DocumentReference:nc,DocumentSnapshot:ic,Query:fc,QueryDocumentSnapshot:oc,QuerySnapshot:hc,CollectionReference:pc,FieldPath:vs,FieldValue:xc,setLogLevel:Js.setLogLevel,CACHE_SIZE_UNLIMITED:Xs};function Ec(e){!function(e,t){e.INTERNAL.registerComponent(new c.Component("firestore",(function(e){return function(e,t){var n=new hs,r=new fs(n);return new Js(e,t,r,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},_c)))}(e),e.registerVersion("@firebase/firestore","1.18.0")}Ec(u.default)},98138:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return d},setLogLevel:function(){return f},setUserLogHandler:function(){return h}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},d=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function h(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},42517:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66797),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,d=(3&o)<<4|s>>4,f=(15&s)<<2|u>>6,h=63&u;c||(h=64,a||(f=64)),r.push(n[l],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();var u=o<<2|a>>4;if(r.push(u),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==c){var d=s<<6&192|c;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function h(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?v(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",c=new p(i,s),u=0,l=Object.keys(r);u<l.length;u++){var d=l[u];"_"!==d.slice(-1)&&(d in c&&console.warn('Overwriting FirebaseError base field "'+d+'" can cause unexpected behavior.'),c[d]=r[d])}return c},e}();function v(e,t){return e.replace(g,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=y(u(o[0])||""),n=y(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};var w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],d=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^c&(u^l),a=1518500249):(o=c^u^l,a=1859775393):r<60?(o=c&u|l&(c|u),a=2400959708):(o=c^u^l,a=3395469782);i=(s<<5|s>>>27)+o+d+a+n[r]&4294967295;d=l,l=u,u=4294967295&(c<<30|c>>>2),c=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var x=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function _(){}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}var k=144e5;t.CONSTANTS=i,t.Deferred=d,t.ErrorFactory=m,t.FirebaseError=p,t.MAX_VALUE_MILLIS=k,t.RANDOM_FACTOR=.5,t.Sha1=w,t.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=c,t.base64Decode=u,t.base64Encode=function(e){var t=s(e);return c.encodeByteArray(t,!0)},t.calculateBackoffMillis=function(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(k,r+i)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new x(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=E,t.getUA=f,t.isAdmin=function(e){var t=b(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id},t.isElectron=function(){return f().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=h,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return f().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(E(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(E(e,t,r)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(E(e,t,r)+"must be a valid firebase namespace.")}},46423:function(e,t,n){"use strict";n.r(t),n.d(t,{ErrorCode:function(){return nr},EventType:function(){return rr},WebChannel:function(){return ir},XhrIo:function(){return or},createWebChannelTransport:function(){return tr}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},s=s||{},c=a||self;function u(){}function l(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=l(e);return"array"==t||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var h="closure_uid_"+(1e9*Math.random()>>>0),p=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:v).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var b=Date.now;function w(e,t){function n(){}n.prototype=t.prototype,e.S=t.prototype,e.prototype=new n,e.prototype.constructor=e}function x(){this.j=this.j,this.i=this.i}x.prototype.j=!1,x.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,h)&&e[h]||(e[h]=++p)})(this)},x.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},E=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function k(e){return Array.prototype.concat.apply([],arguments)}function C(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e){return/^[\s\xa0]*$/.test(e)}var j,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function T(e,t){return-1!=e.indexOf(t)}function I(e,t){return e<t?-1:e>t?1:0}e:{var O=c.navigator;if(O){var D=O.userAgent;if(D){j=D;break e}}j=""}function N(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function P(e){var t={};for(var n in e)t[n]=e[n];return t}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function R(e){return R[" "](e),e}R[" "]=u;var Z,F=T(j,"Opera"),U=T(j,"Trident")||T(j,"MSIE"),z=T(j,"Edge"),B=z||U,V=T(j,"Gecko")&&!(T(j.toLowerCase(),"webkit")&&!T(j,"Edge"))&&!(T(j,"Trident")||T(j,"MSIE"))&&!T(j,"Edge"),W=T(j.toLowerCase(),"webkit")&&!T(j,"Edge");function H(){var e=c.document;return e?e.documentMode:void 0}e:{var q="",G=function(){var e=j;return V?/rv:([^\);]+)(\)|;)/.exec(e):z?/Edge\/([\d\.]+)/.exec(e):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):W?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(G&&(q=G?G[1]:""),U){var Y=H();if(null!=Y&&Y>parseFloat(q)){Z=String(Y);break e}}Z=q}var K,Q={};function X(e){return function(e,t){var n=Q;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=A(String(Z)).split("."),r=A(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=I(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||I(0==a[2].length,0==s[2].length)||I(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(c.document&&U){var $=H();K=$||(parseInt(Z,10)||void 0)}else K=void 0;var J=K,ee=!U||9<=Number(J),te=U&&!X("9"),ne=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",u,t),c.removeEventListener("test",u,t)}catch(n){}return e}();function re(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function ie(e,t){if(re.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(V){e:{try{R(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:oe[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}re.prototype.b=function(){this.defaultPrevented=!0},w(ie,re);var oe={2:"touch",3:"pen",4:"mouse"};ie.prototype.b=function(){ie.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,te)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ae="closure_listenable_"+(1e6*Math.random()|0),se=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++se,this.Y=this.Z=!1}function ue(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function le(e){this.src=e,this.a={},this.b=0}function de(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=_(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ue(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function fe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}le.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=fe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ce(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var he="closure_lm_"+(1e6*Math.random()|0),pe={};function me(e,t,n,r,i){if(r&&r.once)return ge(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)me(e,t[o],n,r,i);return null}return n=Ce(n),e&&e[ae]?e.va(t,n,f(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i;if(a&&!ee)return null;var s=Ee(e);if(s||(e[he]=s=new le(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=_e,t=ee?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ne||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ge(e,t[o],n,r,i);return null}return n=Ce(n),e&&e[ae]?e.wa(t,n,f(r)?!!r.capture:!!r,i):ve(e,t,n,!0,r,i)}function ye(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=Ce(n),e&&e[ae]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=fe(o=e.a[t],n,r,i))&&(ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Ee(e))&&(t=e.a[t.toString()],e=-1,t&&(e=fe(t,n,r,i)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[ae])de(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(de(n,e),0==n.b&&(n.src=null,t[he]=null)):ue(e)}}}function we(e){return e in pe?pe[e]:pe[e]="on"+e}function xe(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&be(e),n.call(r,t)}function _e(e,t){if(e.Y)return!0;if(!ee){if(!t)e:{t=["window","event"];for(var n=c,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return xe(e,t=new ie(t,this))}return xe(e,new ie(t,this))}function Ee(e){return(e=e[he])instanceof le?e:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ce(e){return"function"==l(e)?e:(e[ke]||(e[ke]=function(t){return e.handleEvent(t)}),e[ke])}function Se(){x.call(this),this.c=new le(this),this.J=this,this.C=null}function je(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,c=a.ca||a.src;a.Z&&de(e.c,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}w(Se,x),Se.prototype[ae]=!0,(o=Se.prototype).addEventListener=function(e,t,n,r){me(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){ye(this,e,t,n,r)},o.dispatchEvent=function(e){var t,n=this.C;if(n)for(t=[];n;n=n.C)t.push(n);n=this.J;var r=e.type||e;if("string"===typeof e)e=new re(e,n);else if(e instanceof re)e.target=e.target||n;else{var i=e;L(e=new re(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=je(a,r,!0,e)&&i}if(i=je(a=e.a=n,r,!0,e)&&i,i=je(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=je(a=e.a=t[o],r,!1,e)&&i;return i},o.G=function(){if(Se.S.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ue(n[r]);delete t.a[e],t.b--}}this.C=null},o.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},o.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ae=c.JSON.stringify;function Te(){this.b=this.a=null}var Ie,Oe=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Ne}),(function(e){e.reset()}),100);function De(){var e=Re,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ne(){this.next=this.b=this.a=null}function Pe(e){c.setTimeout((function(){throw e}),0)}function Me(e,t){Ie||function(){var e=c.Promise.resolve(void 0);Ie=function(){e.then(Ze)}}(),Le||(Ie(),Le=!0),Re.add(e,t)}Te.prototype.add=function(e,t){var n=Oe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ne.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ne.prototype.reset=function(){this.next=this.b=this.a=null};var Le=!1,Re=new Te;function Ze(){for(var e;e=De();){try{e.a.call(e.b)}catch(n){Pe(n)}var t=Oe;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}Le=!1}function Fe(e,t){Se.call(this),this.b=e||1,this.a=t||c,this.f=g(this.Ya,this),this.g=b()}function Ue(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function ze(e,t,n){if("function"==l(e))n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)}function Be(e){e.a=ze((function(){e.a=null,e.c&&(e.c=!1,Be(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}w(Fe,Se),(o=Fe.prototype).aa=!1,o.M=null,o.Ya=function(){if(this.aa){var e=b()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ue(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},o.G=function(){Fe.S.G.call(this),Ue(this),delete this.a};var Ve=function(e){function t(t,n,r){var i=e.call(this)||this;return i.g=null!=r?t.bind(r):t,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Be(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(c.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(x);function We(e){x.call(this),this.b=e,this.a={}}w(We,x);var He=[];function qe(e,t,n,r){Array.isArray(n)||(n&&(He[0]=n.toString()),n=He);for(var i=0;i<n.length;i++){var o=me(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Ge(e){N(e.a,(function(e,t){this.a.hasOwnProperty(t)&&be(e)}),e),e.a={}}function Ye(){this.a=!0}function Ke(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ae(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}We.prototype.G=function(){We.S.G.call(this),Ge(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ye.prototype.info=function(){};var Qe=null;function Xe(){return Qe=Qe||new Se}function $e(e){re.call(this,"serverreachability",e)}function Je(e){var t=Xe();t.dispatchEvent(new $e(t,e))}function et(e){re.call(this,"statevent",e)}function tt(e){var t=Xe();t.dispatchEvent(new et(t,e))}function nt(e){re.call(this,"timingevent",e)}function rt(e,t){if("function"!=l(e))throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){e()}),t)}w($e,re),w(et,re),w(nt,re);var it={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ot={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function at(){}function st(e){var t;return(t=e.a)||(t=e.a={}),t}function ct(){}at.prototype.a=null;var ut,lt={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function dt(){re.call(this,"d")}function ft(){re.call(this,"c")}function ht(){}function pt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.T=r||1,this.J=new We(this),this.P=mt,e=B?125:void 0,this.R=new Fe(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}w(dt,re),w(ft,re),w(ht,at),ut=new ht;var mt=45e3,vt={},gt={};function yt(e,t,n){e.H=1,e.i=Ut(Pt(t)),e.j=n,e.I=!0,bt(e,null)}function bt(e,t){e.u=b(),_t(e),e.l=Pt(e.i);var n=e.l,r=e.T;Array.isArray(r)||(r=[String(r)]),Jt(n.b,"t",r),e.D=0,e.a=Yn(e.g,e.g.C?t:null),0<e.O&&(e.F=new Ve(g(e.Ca,e,e.a),e.O)),qe(e.J,e.a,"readystatechange",e.Wa),t=e.B?P(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Je(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var u=s[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");a=2<=d.length&&"type"==d[1]?a+(l+"=")+u+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.T,e.j)}function wt(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=xt(e,n);if(i==gt){4==t&&(e.h=4,tt(14),r=!1),Ke(e.c,e.f,null,"[Incomplete Response]");break}if(i==vt){e.h=4,tt(15),Ke(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ke(e.c,e.f,i,null),jt(e,i)}4==t&&0==n.length&&(e.h=1,tt(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.W&&(e.W=!0,(t=e.g).a==e&&t.V&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Un(t),t.F=!0)):(Ke(e.c,e.f,n,"[Invalid Chunked Response]"),St(e),Ct(e))}function xt(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?gt:(n=Number(t.substring(n,r)),isNaN(n)?vt:(r+=1)+n>t.length?gt:(t=t.substr(r,n),e.D=r+n,t))}function _t(e){e.U=b()+e.P,Et(e,e.P)}function Et(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=rt(g(e.Ua,e),t)}function kt(e){e.o&&(c.clearTimeout(e.o),e.o=null)}function Ct(e){0==e.g.v||e.A||Vn(e.g,e)}function St(e){kt(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Ue(e.R),Ge(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function jt(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||sn(n.b,e)))if(n.I=e.N,!e.C&&sn(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Bn(n),On(n)}Fn(n),tt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=rt(g(n.Ra,n),6e3));if(1>=an(n.b)&&n.ea){try{n.ea()}catch(v){}n.ea=void 0}}else Hn(n,11)}else if((e.C||n.a==e)&&Bn(n),!S(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var c=1.5*s;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=e.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var d=c.b;!d.a&&(T(l,"spdy")||T(l,"quic")||T(l,"h2"))&&(d.f=d.g,d.a=new Set,d.b&&(cn(d,d.b),d.b=null))}if(c.A){var f=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(c.na=f,Ft(c.B,c.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var h=e;if((c=n).la=Gn(c,c.C?c.ga:null,c.fa),h.C){un(c.b,h);var p=h,m=c.D;m&&p.setTimeout(m),p.o&&(kt(p),_t(p)),c.a=h}else Zn(c);0<n.g.length&&Pn(n)}else"stop"!=i[0]&&"close"!=i[0]||Hn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hn(n,7):In(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Je(4)}catch(v){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)E(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(d(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Tt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Tt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function It(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ot(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ot(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=pt.prototype).setTimeout=function(e){this.P=e},o.Wa=function(e){e=e.target;var t=this.F;t&&3==Sn(e)?t.f():this.Ca(e)},o.Ca=function(e){try{if(e==this.a)e:{var t=Sn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>t||3==t&&!B&&!this.a.$())){this.A||4!=t||7==n||Je(8==n||0>=r?3:2),kt(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.T,t,i),this.b){if(this.V&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(a)){var c=a;break t}}c=null}if(!c){this.b=!1,this.h=3,tt(12),St(this),Ct(this);break e}Ke(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,jt(this,c)}this.I?(wt(this,t,o),B&&this.b&&3==t&&(qe(this.J,this.R,"tick",this.Va),this.R.start())):(Ke(this.c,this.f,o,null),jt(this,o)),4==t&&St(this),this.b&&!this.A&&(4==t?Vn(this.g,this):(this.b=!1,_t(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,tt(12)):(this.h=0,tt(13)),St(this),Ct(this)}}}catch(u){}},o.Va=function(){if(this.a){var e=Sn(this.a),t=this.a.$();this.D<t.length&&(kt(this),wt(this,e,t),this.b&&4!=e&&_t(this))}},o.cancel=function(){this.A=!0,St(this)},o.Ua=function(){this.o=null;var e=b();0<=e-this.U?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(Je(3),tt(17)),St(this),this.h=2,Ct(this)):Et(this,this.U-e)},(o=Tt.prototype).K=function(){It(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},o.L=function(){return It(this),this.a.concat()},o.get=function(e,t){return Ot(this.b,e)?this.b[e]:t},o.set=function(e,t){Ot(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},o.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Nt){this.a=void 0!==t?t:e.a,Mt(this,e.f),this.j=e.j,Lt(this,e.c),Rt(this,e.h),this.g=e.g,t=e.b;var n=new Kt;n.c=t.c,t.a&&(n.a=new Tt(t.a),n.b=t.b),Zt(this,n),this.i=e.i}else e&&(n=String(e).match(Dt))?(this.a=!!t,Mt(this,n[1]||"",!0),this.j=zt(n[2]||""),Lt(this,n[3]||"",!0),Rt(this,n[4]),this.g=zt(n[5]||"",!0),Zt(this,n[6]||"",!0),this.i=zt(n[7]||"")):(this.a=!!t,this.b=new Kt(null,this.a))}function Pt(e){return new Nt(e)}function Mt(e,t,n){e.f=n?zt(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Lt(e,t,n){e.c=n?zt(t,!0):t}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Zt(e,t,n){t instanceof Kt?(e.b=t,function(e,t){t&&!e.f&&(Qt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xt(this,t),Jt(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Bt(t,Gt)),e.b=new Kt(t,e.a))}function Ft(e,t,n){e.b.set(t,n)}function Ut(e){return Ft(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),e}function zt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Bt(t,Wt,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Bt(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?qt:Ht,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Bt(n,Yt)),e.join("")};var Wt=/[#\/\?@]/g,Ht=/[#\?:]/g,qt=/[#\?]/g,Gt=/[#\?@]/g,Yt=/#/g;function Kt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qt(e){e.a||(e.a=new Tt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xt(e,t){Qt(e),t=en(e,t),Ot(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ot((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&It(e)))}function $t(e,t){return Qt(e),t=en(e,t),Ot(e.a.b,t)}function Jt(e,t,n){Xt(e,t),0<n.length&&(e.c=null,e.a.set(en(e,t),C(n)),e.b+=n.length)}function en(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tn(e,t){this.b=e,this.a=t}function nn(e){this.g=e||rn,c.PerformanceNavigationTiming?e=0<(e=c.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(c.ia&&c.ia.ya&&c.ia.ya()&&c.ia.ya().qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(o=Kt.prototype).add=function(e,t){Qt(this),this.c=null,e=en(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},o.forEach=function(e,t){Qt(this),this.a.forEach((function(n,r){E(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.L=function(){Qt(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.K=function(e){Qt(this);var t=[];if("string"===typeof e)$t(this,e)&&(t=k(t,this.a.get(en(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=k(t,e[n])}return t},o.set=function(e,t){return Qt(this),this.c=null,$t(this,e=en(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},o.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var rn=10;function on(e){return!!e.b||!!e.a&&e.a.size>=e.f}function an(e){return e.b?1:e.a?e.a.size:0}function sn(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function cn(e,t){e.a?e.a.add(t):e.b=t}function un(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function ln(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var o=i(e.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return C(e.c)}function dn(){}function fn(){this.a=new dn}function hn(e,t,n){var r=n||"";try{At(e,(function(e,n){var i=e;f(e)&&(i=Ae(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}nn.prototype.cancel=function(){var e,t;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},dn.prototype.stringify=function(e){return c.JSON.stringify(e,void 0)},dn.prototype.parse=function(e){return c.JSON.parse(e,void 0)};var mn=c.JSON.parse;function vn(e){Se.call(this),this.headers=new Tt,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gn,this.D=this.F=!1}w(vn,Se);var gn="",yn=/^https?$/i,bn=["POST","PUT"];function wn(e){return"content-type"==e.toLowerCase()}function xn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,_n(e),kn(e)}function _n(e){e.u||(e.u=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function En(e){if(e.b&&"undefined"!=typeof s&&(!e.s[1]||4!=Sn(e)||2!=e.X()))if(e.l&&4==Sn(e))ze(e.za,0,e);else if(e.dispatchEvent("readystatechange"),4==Sn(e)){e.b=!1;try{var t,n=e.X();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Dt)[1]||null;if(!o&&c.self&&c.self.location){var a=c.self.location.protocol;o=a.substr(0,a.length-1)}i=!yn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var u=2<Sn(e)?e.a.statusText:""}catch(l){u=""}e.f=u+" ["+e.X()+"]",_n(e)}}finally{kn(e)}}}function kn(e,t){if(e.a){Cn(e);var n=e.a,r=e.s[0]?u:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Cn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(c.clearTimeout(e.m),e.m=null)}function Sn(e){return e.a?e.a.readyState:0}function jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return N(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ft(e,t,n))}function An(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Tn(e){this.pa=0,this.g=[],this.c=new Ye,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=An("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=An("baseRetryDelayMs",5e3,e),this.Ma=An("retryDelaySeedMs",1e4,e),this.Ja=An("forwardChannelMaxRetries",2,e),this.ma=An("forwardChannelRequestTimeoutMs",2e4,e),this.Ka=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(e&&e.concurrentRequestLimit),this.ka=new fn,this.da=e&&e.fastHandshake||!1,this.Ga=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&e&&e.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function In(e){if(Dn(e),3==e.v){var t=e.R++,n=Pt(e.B);Ft(n,"SID",e.J),Ft(n,"RID",t),Ft(n,"TYPE","terminate"),Ln(e,n),(t=new pt(e,e.c,t,void 0)).H=2,t.i=Ut(Pt(n)),n=!1,c.navigator&&c.navigator.sendBeacon&&(n=c.navigator.sendBeacon(t.i.toString(),"")),!n&&c.Image&&((new Image).src=t.i,n=!0),n||(t.a=Yn(t.g,null),t.a.ba(t.i)),t.u=b(),_t(t)}qn(e)}function On(e){e.a&&(Un(e),e.a.cancel(),e.a=null)}function Dn(e){On(e),e.j&&(c.clearTimeout(e.j),e.j=null),Bn(e),e.b.cancel(),e.h&&("number"===typeof e.h&&c.clearTimeout(e.h),e.h=null)}function Nn(e,t){e.g.push(new tn(e.La++,t)),3==e.v&&Pn(e)}function Pn(e){on(e.b)||e.h||(e.h=!0,Me(e.Ba,e),e.u=0)}function Mn(e,t){var n;n=t?t.f:e.R++;var r=Pt(e.B);Ft(r,"SID",e.J),Ft(r,"RID",n),Ft(r,"AID",e.P),Ln(e,r),e.i&&e.l&&jn(r,e.i,e.l),n=new pt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Rn(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),cn(e.b,n),yt(n,r,t)}function Ln(e,t){e.f&&At({},(function(e,n){Ft(t,n,e)}))}function Rn(e,t,n){n=Math.min(e.g.length,n);var r=e.f?g(e.f.Ha,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),s=!1;else try{hn(l,a,"req"+u+"_")}catch(d){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Zn(e){e.a||e.j||(e.U=1,Me(e.Aa,e),e.o=0)}function Fn(e){return!(e.a||e.j||3<=e.o)&&(e.U++,e.j=rt(g(e.Aa,e),Wn(e,e.o)),e.o++,!0)}function Un(e){null!=e.s&&(c.clearTimeout(e.s),e.s=null)}function zn(e){e.a=new pt(e,e.c,"rpc",e.U),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Pt(e.la);Ft(t,"RID","rpc"),Ft(t,"SID",e.J),Ft(t,"CI",e.H?"0":"1"),Ft(t,"AID",e.P),Ln(e,t),Ft(t,"TYPE","xmlhttp"),e.i&&e.l&&jn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Ut(Pt(t)),n.j=null,n.I=!0,bt(n,e)}function Bn(e){null!=e.m&&(c.clearTimeout(e.m),e.m=null)}function Vn(e,t){var n=null;if(e.a==t){Bn(e),Un(e),e.a=null;var r=2}else{if(!sn(e.b,t))return;n=t.s,un(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=b()-t.u;var i=e.u;(r=Xe()).dispatchEvent(new nt(r,n,t,i)),Pn(e)}else Zn(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(an(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.Ia?0:e.Ja))&&(e.h=rt(g(e.Ba,e,t),Wn(e,e.u)),e.u++,!0))}(e,t)||2==r&&Fn(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Hn(e,5);break;case 4:Hn(e,10);break;case 3:Hn(e,6);break;default:Hn(e,2)}}function Wn(e,t){var n=e.Fa+Math.floor(Math.random()*e.Ma);return e.f||(n*=2),n*t}function Hn(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=g(e.Xa,e);n||(n=new Nt("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Mt(n,"https"),Ut(n)),function(e,t){var n=new Ye;if(c.Image){var r=new Image;r.onload=y(pn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=y(pn,n,r,"TestLoadImage: error",!1,t),r.onabort=y(pn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=y(pn,n,r,"TestLoadImage: timeout",!1,t),c.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else tt(2);e.v=0,e.f&&e.f.ra(t),qn(e),Dn(e)}function qn(e){e.v=0,e.I=-1,e.f&&(0==ln(e.b).length&&0==e.g.length||(e.b.c.length=0,C(e.g),e.g.length=0),e.f.qa())}function Gn(e,t,n){var r=function(e){return e instanceof Nt?Pt(e):new Nt(e,void 0)}(n);if(""!=r.c)t&&Lt(r,t+"."+r.c),Rt(r,r.h);else{var i=c.location;r=function(e,t,n,r){var i=new Nt(null,void 0);return e&&Mt(i,e),t&&Lt(i,t),n&&Rt(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.W&&N(e.W,(function(e,t){Ft(r,t,e)})),t=e.A,n=e.na,t&&n&&Ft(r,t,n),Ft(r,"VER",e.ha),Ln(e,r),r}function Yn(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new vn(e.Ka)).F=e.C,t}function Kn(){}function Qn(){if(U&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function Xn(e,t){Se.call(this),this.a=new Tn(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!S(e)&&(this.a.i=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new er(this)}function $n(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Jn(){ft.call(this),this.status=1}function er(e){this.a=e}(o=vn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?st(this.H):st(ut),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void xn(this,o)}e=n||"";var i=new Tt(this.headers);r&&At(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=wn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=c.FormData&&e instanceof c.FormData,!(0<=_(bn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cn(this),0<this.o&&((this.D=function(e){return U&&X(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=ze(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){xn(this,o)}},o.xa=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},o.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),vn.S.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?En(this):this.Ta())},o.Ta=function(){En(this)},o.X=function(){try{return 2<Sn(this)?this.a.status:-1}catch(e){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},o.Na=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mn(t)}},o.ua=function(){return this.h},o.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(o=Tn.prototype).ha=8,o.v=1,o.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new pt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?L(r=P(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Rn(this,n,t),Ft(i=Pt(this.B),"RID",e),Ft(i,"CVER",22),this.A&&Ft(i,"X-HTTP-Session-Id",this.A),Ln(this,i),this.i&&r&&jn(i,this.i,r),cn(this.b,n),this.Ga&&Ft(i,"TYPE","init"),this.da?(Ft(i,"$req",t),Ft(i,"SID","null"),n.V=!0,yt(n,i,null)):yt(n,i,t),this.v=2}}else 3==this.v&&(e?Mn(this,e):0==this.g.length||on(this.b)||Mn(this))},o.Aa=function(){if(this.j=null,zn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=rt(g(this.Sa,this),e)}},o.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,On(this),zn(this))},o.Ra=function(){null!=this.m&&(this.m=null,On(this),Fn(this),tt(19))},o.Xa=function(e){e?(this.c.info("Successfully pinged google.com"),tt(2)):(this.c.info("Failed to ping google.com"),tt(1))},(o=Kn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ha=function(){},Qn.prototype.a=function(e,t){return new Xn(e,t)},w(Xn,Se),(o=Xn.prototype).addEventListener=function(e,t,n,r){Xn.S.addEventListener.call(this,e,t,n,r)},o.removeEventListener=function(e,t,n,r){Xn.S.removeEventListener.call(this,e,t,n,r)},o.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var e=this.a,t=this.l,n=this.b||void 0;tt(0),e.fa=t,e.W=n||{},e.H=e.T,e.B=Gn(e,null,e.fa),Pn(e)},o.close=function(){In(this.a)},o.Pa=function(e){if("string"===typeof e){var t={};t.__data__=e,Nn(this.a,t)}else this.g?((t={}).__data__=Ae(e),Nn(this.a,t)):Nn(this.a,e)},o.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,Xn.S.G.call(this)},w($n,dt),w(Jn,ft),w(er,Kn),er.prototype.ta=function(){this.a.dispatchEvent("a")},er.prototype.sa=function(e){this.a.dispatchEvent(new $n(e))},er.prototype.ra=function(e){this.a.dispatchEvent(new Jn(e))},er.prototype.qa=function(){this.a.dispatchEvent("b")},Qn.prototype.createWebChannel=Qn.prototype.a,Xn.prototype.send=Xn.prototype.Pa,Xn.prototype.open=Xn.prototype.Oa,Xn.prototype.close=Xn.prototype.close,it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,ot.COMPLETE="complete",ct.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",Se.prototype.listen=Se.prototype.va,vn.prototype.listenOnce=vn.prototype.wa,vn.prototype.getLastError=vn.prototype.Qa,vn.prototype.getLastErrorCode=vn.prototype.ua,vn.prototype.getStatus=vn.prototype.X,vn.prototype.getResponseJson=vn.prototype.Na,vn.prototype.getResponseText=vn.prototype.$,vn.prototype.send=vn.prototype.ba;var tr=function(){return new Qn},nr=it,rr=ot,ir=ct,or=vn,ar={createWebChannelTransport:tr,ErrorCode:nr,EventType:rr,WebChannel:ir,XhrIo:or};t.default=ar},51785:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkForDefaultPrevented,i=void 0===r||r;return function(n){if(null===e||void 0===e||e(n),!1===i||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}n.d(t,{M:function(){return r}})},82299:function(e,t,n){"use strict";n.d(t,{F:function(){return o},e:function(){return a}});var r=n(47313);function i(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return i(t,e)}))}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(o.apply(void 0,t),t)}},89621:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var r=n(36222),i=n(18489),o=n(31303),a=n(83738),s=n(47313),c=["scope","children"];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];function u(t,r){var i=(0,s.createContext)(r),u=n.length;function l(t){var n=t.scope,r=t.children,o=(0,a.Z)(t,c),l=(null===n||void 0===n?void 0:n[e][u])||i,d=(0,s.useMemo)((function(){return o}),Object.values(o));return(0,s.createElement)(l.Provider,{value:d},r)}return n=[].concat((0,o.Z)(n),[r]),l.displayName=t+"Provider",[l,function(n,o){var a=(null===o||void 0===o?void 0:o[e][u])||i,c=(0,s.useContext)(a);if(c)return c;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]}var d=function(){var t=n.map((function(e){return(0,s.createContext)(e)}));return function(n){var o=(null===n||void 0===n?void 0:n[e])||t;return(0,s.useMemo)((function(){return(0,r.Z)({},"__scope".concat(e),(0,i.Z)((0,i.Z)({},n),{},(0,r.Z)({},e,o)))}),[n,o])}};return d.scopeName=e,[u,l.apply(void 0,[d].concat((0,o.Z)(t)))]}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0];if(1===t.length)return o;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,o=n.scopeName,a=r(t)["__scope".concat(o)];return(0,i.Z)((0,i.Z)({},e),a)}),{});return(0,s.useMemo)((function(){return(0,r.Z)({},"__scope".concat(o.scopeName),n)}),[n])}};return a.scopeName=o.scopeName,a}},7695:function(e,t,n){"use strict";n.d(t,{XB:function(){return b}});var r=n(18489),i=n(31303),o=n(50678),a=n(83738),s=n(87462),c=n(47313),u=n(51785),l=n(38040),d=n(82299),f=n(96646);var h,p=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],m="dismissableLayer.update",v="dismissableLayer.pointerDownOutside",g="dismissableLayer.focusOutside",y=(0,c.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),b=(0,c.forwardRef)((function(e,t){var n=e.disableOutsidePointerEvents,b=void 0!==n&&n,_=e.onEscapeKeyDown,E=e.onPointerDownOutside,k=e.onFocusOutside,C=e.onInteractOutside,S=e.onDismiss,j=(0,a.Z)(e,p),A=(0,c.useContext)(y),T=(0,c.useState)(null),I=(0,o.Z)(T,2),O=I[0],D=I[1],N=(0,c.useState)({}),P=(0,o.Z)(N,2)[1],M=(0,d.e)(t,(function(e){return D(e)})),L=Array.from(A.layers),R=(0,i.Z)(A.layersWithOutsidePointerEventsDisabled).slice(-1),Z=(0,o.Z)(R,1)[0],F=L.indexOf(Z),U=O?L.indexOf(O):-1,z=A.layersWithOutsidePointerEventsDisabled.size>0,B=U>=F,V=function(e){var t=(0,f.W)(e),n=(0,c.useRef)(!1),r=(0,c.useRef)((function(){}));return(0,c.useEffect)((function(){var e=function(e){if(e.target&&!n.current){var i=function(){x(v,t,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(document.removeEventListener("click",r.current),r.current=i,document.addEventListener("click",r.current,{once:!0})):i()}n.current=!1},i=window.setTimeout((function(){document.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(i),document.removeEventListener("pointerdown",e),document.removeEventListener("click",r.current)}}),[t]),{onPointerDownCapture:function(){return n.current=!0}}}((function(e){var t=e.target,n=(0,i.Z)(A.branches).some((function(e){return e.contains(t)}));B&&!n&&(null===E||void 0===E||E(e),null===C||void 0===C||C(e),e.defaultPrevented||null===S||void 0===S||S())})),W=function(e){var t=(0,f.W)(e),n=(0,c.useRef)(!1);return(0,c.useEffect)((function(){var e=function(e){e.target&&!n.current&&x(g,t,{originalEvent:e},{discrete:!1})};return document.addEventListener("focusin",e),function(){return document.removeEventListener("focusin",e)}}),[t]),{onFocusCapture:function(){return n.current=!0},onBlurCapture:function(){return n.current=!1}}}((function(e){var t=e.target;(0,i.Z)(A.branches).some((function(e){return e.contains(t)}))||(null===k||void 0===k||k(e),null===C||void 0===C||C(e),e.defaultPrevented||null===S||void 0===S||S())}));return function(e){var t=(0,f.W)(e);(0,c.useEffect)((function(){var e=function(e){"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[t])}((function(e){U===A.layers.size-1&&(null===_||void 0===_||_(e),!e.defaultPrevented&&S&&(e.preventDefault(),S()))})),(0,c.useEffect)((function(){if(O)return b&&(0===A.layersWithOutsidePointerEventsDisabled.size&&(h=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),A.layersWithOutsidePointerEventsDisabled.add(O)),A.layers.add(O),w(),function(){b&&1===A.layersWithOutsidePointerEventsDisabled.size&&(document.body.style.pointerEvents=h)}}),[O,b,A]),(0,c.useEffect)((function(){return function(){O&&(A.layers.delete(O),A.layersWithOutsidePointerEventsDisabled.delete(O),w())}}),[O,A]),(0,c.useEffect)((function(){var e=function(){return P({})};return document.addEventListener(m,e),function(){return document.removeEventListener(m,e)}}),[]),(0,c.createElement)(l.WV.div,(0,s.Z)({},j,{ref:M,style:(0,r.Z)({pointerEvents:z?B?"auto":"none":void 0},e.style),onFocusCapture:(0,u.M)(e.onFocusCapture,W.onFocusCapture),onBlurCapture:(0,u.M)(e.onBlurCapture,W.onBlurCapture),onPointerDownCapture:(0,u.M)(e.onPointerDownCapture,V.onPointerDownCapture)}))}));function w(){var e=new CustomEvent(m);document.dispatchEvent(e)}function x(e,t,n,r){var i=r.discrete,o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?(0,l.jH)(o,a):o.dispatchEvent(a)}},27676:function(e,t,n){"use strict";n.d(t,{VY:function(){return Gt},ZA:function(){return Yt},ck:function(){return Kt},Uv:function(){return qt},fC:function(){return Wt},Z0:function(){return Qt},xz:function(){return Ht}});var r=n(36222),i=n(18489),o=n(83738),a=n(50678),s=n(87462),c=n(47313),u=n(51785),l=n(82299),d=n(89621),f=n(21747),h=n(38040),p=n(89472),m=n(98973),v=["scope","children"];function g(e){var t=e+"CollectionProvider",n=(0,d.b)(t),s=(0,a.Z)(n,2),u=s[0],f=s[1],h=u(t,{collectionRef:{current:null},itemMap:new Map}),p=(0,a.Z)(h,2),g=p[0],y=p[1],b=function(e){var t=e.scope,n=e.children,r=c.useRef(null),i=c.useRef(new Map).current;return c.createElement(g,{scope:t,itemMap:i,collectionRef:r},n)},w=e+"CollectionSlot",x=c.forwardRef((function(e,t){var n=e.scope,r=e.children,i=y(w,n),o=(0,l.e)(t,i.collectionRef);return c.createElement(m.g7,{ref:o},r)})),_=e+"CollectionItemSlot",E="data-radix-collection-item",k=c.forwardRef((function(e,t){var n,a=e.scope,s=e.children,u=(0,o.Z)(e,v),d=c.useRef(null),f=(0,l.e)(t,d),h=y(_,a);return c.useEffect((function(){return h.itemMap.set(d,(0,i.Z)({ref:d},u)),function(){h.itemMap.delete(d)}})),c.createElement(m.g7,(n={},(0,r.Z)(n,E,""),(0,r.Z)(n,"ref",f),n),s)}));return[{Provider:b,Slot:x,ItemSlot:k},function(t){var n=y(e+"CollectionConsumer",t);return c.useCallback((function(){var e=n.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll("[".concat(E,"]")));return Array.from(n.itemMap.values()).sort((function(e,n){return t.indexOf(e.ref.current)-t.indexOf(n.ref.current)}))}),[n.collectionRef,n.itemMap])},f]}var y=(0,c.createContext)(void 0);function b(e){var t=(0,c.useContext)(y);return e||t||"ltr"}var w=n(7695),x=n(68595),_=n(10012),E=n(7995),k=n(29434),C=n(76344),S=n(96832),j=n(31303),A=n(96646),T=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus"],I=["__scopeRovingFocusGroup","focusable","active"],O="rovingFocusGroup.onEntryFocus",D={bubbles:!1,cancelable:!0},N="RovingFocusGroup",P=g(N),M=(0,a.Z)(P,3),L=M[0],R=M[1],Z=M[2],F=(0,d.b)(N,[Z]),U=(0,a.Z)(F,2),z=U[0],B=U[1],V=z(N),W=(0,a.Z)(V,2),H=W[0],q=W[1],G=(0,c.forwardRef)((function(e,t){return(0,c.createElement)(L.Provider,{scope:e.__scopeRovingFocusGroup},(0,c.createElement)(L.Slot,{scope:e.__scopeRovingFocusGroup},(0,c.createElement)(Y,(0,s.Z)({},e,{ref:t}))))})),Y=(0,c.forwardRef)((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.orientation,d=e.loop,p=void 0!==d&&d,m=e.dir,v=e.currentTabStopId,g=e.defaultCurrentTabStopId,y=e.onCurrentTabStopIdChange,w=e.onEntryFocus,x=(0,o.Z)(e,T),_=(0,c.useRef)(null),E=(0,l.e)(t,_),k=b(m),C=(0,f.T)({prop:v,defaultProp:g,onChange:y}),S=(0,a.Z)(C,2),I=S[0],N=void 0===I?null:I,P=S[1],M=(0,c.useState)(!1),L=(0,a.Z)(M,2),Z=L[0],F=L[1],U=(0,A.W)(w),z=R(n),B=(0,c.useRef)(!1);return(0,c.useEffect)((function(){var e=_.current;if(e)return e.addEventListener(O,U),function(){return e.removeEventListener(O,U)}}),[U]),(0,c.createElement)(H,{scope:n,orientation:r,dir:k,loop:p,currentTabStopId:N,onItemFocus:(0,c.useCallback)((function(e){return P(e)}),[P]),onItemShiftTab:(0,c.useCallback)((function(){return F(!0)}),[])},(0,c.createElement)(h.WV.div,(0,s.Z)({tabIndex:Z?-1:0,"data-orientation":r},x,{ref:E,style:(0,i.Z)({outline:"none"},e.style),onMouseDown:(0,u.M)(e.onMouseDown,(function(){B.current=!0})),onFocus:(0,u.M)(e.onFocus,(function(e){var t=!B.current;if(e.target===e.currentTarget&&t&&!Z){var n=new CustomEvent(O,D);if(e.currentTarget.dispatchEvent(n),!n.defaultPrevented){var r=z().filter((function(e){return e.focusable}));$([r.find((function(e){return e.active})),r.find((function(e){return e.id===N}))].concat((0,j.Z)(r)).filter(Boolean).map((function(e){return e.ref.current})))}}B.current=!1})),onBlur:(0,u.M)(e.onBlur,(function(){return F(!1)}))})))})),K="RovingFocusGroupItem",Q=(0,c.forwardRef)((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.focusable,i=void 0===r||r,a=e.active,l=void 0!==a&&a,d=(0,o.Z)(e,I),f=(0,E.M)(),p=q(K,n),m=p.currentTabStopId===f,v=R(n);return(0,c.createElement)(L.ItemSlot,{scope:n,id:f,focusable:i,active:l},(0,c.createElement)(h.WV.span,(0,s.Z)({tabIndex:m?0:-1,"data-orientation":p.orientation},d,{ref:t,onMouseDown:(0,u.M)(e.onMouseDown,(function(e){i?p.onItemFocus(f):e.preventDefault()})),onFocus:(0,u.M)(e.onFocus,(function(){return p.onItemFocus(f)})),onKeyDown:(0,u.M)(e.onKeyDown,(function(e){if("Tab"===e.key&&e.shiftKey)p.onItemShiftTab();else if(e.target===e.currentTarget){var t,n,r=function(e,t,n){var r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:X[r]}(e,p.orientation,p.dir);if(void 0!==r){e.preventDefault();var i=v().filter((function(e){return e.focusable})).map((function(e){return e.ref.current}));if("last"===r)i.reverse();else if("prev"===r||"next"===r){"prev"===r&&i.reverse();var o=i.indexOf(e.currentTarget);i=p.loop?(n=o+1,(t=i).map((function(e,r){return t[(n+r)%t.length]}))):i.slice(o+1)}setTimeout((function(){return $(i)}))}}}))})))})),X={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $(e){var t,n=document.activeElement,r=(0,p.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(o){r.e(o)}finally{r.f()}}var J=G,ee=Q,te=n(41996),ne=n(46438),re=["__scopeMenu"],ie=["forceMount"],oe=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"],ae=["__scopeMenu"],se=["disabled","onSelect"],ce=["__scopeMenu","disabled","textValue"],ue=["__scopeMenu"],le=["Enter"," "],de=["ArrowUp","PageDown","End"],fe=[].concat(["ArrowDown","PageUp","Home"],de),he=([].concat(le,["ArrowRight"]),[].concat(le,["ArrowLeft"]),"Menu"),pe=g(he),me=(0,a.Z)(pe,3),ve=me[0],ge=me[1],ye=me[2],be=(0,d.b)(he,[ye,k.D7,B]),we=(0,a.Z)(be,2),xe=we[0],_e=we[1],Ee=(0,k.D7)(),ke=B(),Ce=xe(he),Se=(0,a.Z)(Ce,2),je=Se[0],Ae=Se[1],Te=xe(he),Ie=(0,a.Z)(Te,2),Oe=Ie[0],De=Ie[1],Ne=function(e){var t=e.__scopeMenu,n=e.open,r=void 0!==n&&n,i=e.children,o=e.dir,s=e.onOpenChange,u=e.modal,l=void 0===u||u,d=Ee(t),f=(0,c.useState)(null),h=(0,a.Z)(f,2),p=h[0],m=h[1],v=(0,c.useRef)(!1),g=(0,A.W)(s),y=b(o);return(0,c.useEffect)((function(){var e=function(){v.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=function(){return v.current=!1};return document.addEventListener("keydown",e,{capture:!0}),function(){document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),(0,c.createElement)(k.fC,d,(0,c.createElement)(je,{scope:t,open:r,onOpenChange:g,content:p,onContentChange:m},(0,c.createElement)(Oe,{scope:t,onClose:(0,c.useCallback)((function(){return g(!1)}),[g]),isUsingKeyboardRef:v,dir:y,modal:l},i)))},Pe=(0,c.forwardRef)((function(e,t){var n=e.__scopeMenu,r=(0,o.Z)(e,re),i=Ee(n);return(0,c.createElement)(k.ee,(0,s.Z)({},i,r,{ref:t}))})),Me="MenuPortal",Le=xe(Me,{forceMount:void 0}),Re=(0,a.Z)(Le,2),Ze=Re[0],Fe=Re[1],Ue=function(e){var t=e.__scopeMenu,n=e.forceMount,r=e.children,i=e.container,o=Ae(Me,t);return(0,c.createElement)(Ze,{scope:t,forceMount:n},(0,c.createElement)(S.z,{present:n||o.open},(0,c.createElement)(C.h,{asChild:!0,container:i},r)))},ze="MenuContent",Be=xe(ze),Ve=(0,a.Z)(Be,2),We=Ve[0],He=Ve[1],qe=(0,c.forwardRef)((function(e,t){var n=Fe(ze,e.__scopeMenu),r=e.forceMount,i=void 0===r?n.forceMount:r,a=(0,o.Z)(e,ie),u=Ae(ze,e.__scopeMenu),l=De(ze,e.__scopeMenu);return(0,c.createElement)(ve.Provider,{scope:e.__scopeMenu},(0,c.createElement)(S.z,{present:i||u.open},(0,c.createElement)(ve.Slot,{scope:e.__scopeMenu},l.modal?(0,c.createElement)(Ge,(0,s.Z)({},a,{ref:t})):(0,c.createElement)(Ye,(0,s.Z)({},a,{ref:t})))))})),Ge=(0,c.forwardRef)((function(e,t){var n=Ae(ze,e.__scopeMenu),r=(0,c.useRef)(null),i=(0,l.e)(t,r);return(0,c.useEffect)((function(){var e=r.current;if(e)return(0,te.R)(e)}),[]),(0,c.createElement)(Ke,(0,s.Z)({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,u.M)(e.onFocusOutside,(function(e){return e.preventDefault()}),{checkForDefaultPrevented:!1}),onDismiss:function(){return n.onOpenChange(!1)}}))})),Ye=(0,c.forwardRef)((function(e,t){var n=Ae(ze,e.__scopeMenu);return(0,c.createElement)(Ke,(0,s.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:function(){return n.onOpenChange(!1)}}))})),Ke=(0,c.forwardRef)((function(e,t){var n=e.__scopeMenu,r=e.loop,d=void 0!==r&&r,f=e.trapFocus,h=e.onOpenAutoFocus,v=e.onCloseAutoFocus,g=e.disableOutsidePointerEvents,y=e.onEscapeKeyDown,b=e.onPointerDownOutside,E=e.onFocusOutside,C=e.onInteractOutside,S=e.onDismiss,j=e.disableOutsideScroll,A=(0,o.Z)(e,oe),T=Ae(ze,n),I=De(ze,n),O=Ee(n),D=ke(n),N=ge(n),P=(0,c.useState)(null),M=(0,a.Z)(P,2),L=M[0],R=M[1],Z=(0,c.useRef)(null),F=(0,l.e)(t,Z,T.onContentChange),U=(0,c.useRef)(0),z=(0,c.useRef)(""),B=(0,c.useRef)(0),V=(0,c.useRef)(null),W=(0,c.useRef)("right"),H=(0,c.useRef)(0),q=j?ne.Z:c.Fragment,G=j?{as:m.g7,allowPinchZoom:!0}:void 0,Y=function(e){var t,n,r=z.current+e,i=N().filter((function(e){return!e.disabled})),o=document.activeElement,a=null===(t=i.find((function(e){return e.ref.current===o})))||void 0===t?void 0:t.textValue,s=function(e,t,n){var r=t.length>1&&Array.from(t).every((function(e){return e===t[0]}))?t[0]:t,i=n?e.indexOf(n):-1,o=(a=e,s=Math.max(i,0),a.map((function(e,t){return a[(s+t)%a.length]})));var a,s;1===r.length&&(o=o.filter((function(e){return e!==n})));var c=o.find((function(e){return e.toLowerCase().startsWith(r.toLowerCase())}));return c!==n?c:void 0}(i.map((function(e){return e.textValue})),r,a),c=null===(n=i.find((function(e){return e.textValue===s})))||void 0===n?void 0:n.ref.current;!function e(t){z.current=t,window.clearTimeout(U.current),""!==t&&(U.current=window.setTimeout((function(){return e("")}),1e3))}(r),c&&setTimeout((function(){return c.focus()}))};(0,c.useEffect)((function(){return function(){return window.clearTimeout(U.current)}}),[]),(0,x.EW)();var K=(0,c.useCallback)((function(e){var t,n;return W.current===(null===(t=V.current)||void 0===t?void 0:t.side)&&function(e,t){return!!t&&function(e,t){for(var n=e.x,r=e.y,i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o].x,c=t[o].y,u=t[a].x,l=t[a].y;c>r!==l>r&&n<(u-s)*(r-c)/(l-c)+s&&(i=!i)}return i}({x:e.clientX,y:e.clientY},t)}(e,null===(n=V.current)||void 0===n?void 0:n.area)}),[]);return(0,c.createElement)(We,{scope:n,searchRef:z,onItemEnter:(0,c.useCallback)((function(e){K(e)&&e.preventDefault()}),[K]),onItemLeave:(0,c.useCallback)((function(e){var t;K(e)||(null===(t=Z.current)||void 0===t||t.focus(),R(null))}),[K]),onTriggerLeave:(0,c.useCallback)((function(e){K(e)&&e.preventDefault()}),[K]),pointerGraceTimerRef:B,onPointerGraceIntentChange:(0,c.useCallback)((function(e){V.current=e}),[])},(0,c.createElement)(q,G,(0,c.createElement)(_.M,{asChild:!0,trapped:f,onMountAutoFocus:(0,u.M)(h,(function(e){var t;e.preventDefault(),null===(t=Z.current)||void 0===t||t.focus()})),onUnmountAutoFocus:v},(0,c.createElement)(w.XB,{asChild:!0,disableOutsidePointerEvents:g,onEscapeKeyDown:y,onPointerDownOutside:b,onFocusOutside:E,onInteractOutside:C,onDismiss:S},(0,c.createElement)(J,(0,s.Z)({asChild:!0},D,{dir:I.dir,orientation:"vertical",loop:d,currentTabStopId:L,onCurrentTabStopIdChange:R,onEntryFocus:function(e){I.isUsingKeyboardRef.current||e.preventDefault()}}),(0,c.createElement)(k.VY,(0,s.Z)({role:"menu","aria-orientation":"vertical","data-state":dt(T.open),dir:I.dir},O,A,{ref:F,style:(0,i.Z)({outline:"none"},A.style),onKeyDown:(0,u.M)(A.onKeyDown,(function(e){var t=e.target.closest('[role="menu"]')===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&Y(e.key));var i=Z.current;if(e.target===i&&fe.includes(e.key)){e.preventDefault();var o=N().filter((function(e){return!e.disabled})).map((function(e){return e.ref.current}));de.includes(e.key)&&o.reverse(),function(e){var t,n=document.activeElement,r=(0,p.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i===n)return;if(i.focus(),document.activeElement!==n)return}}catch(o){r.e(o)}finally{r.f()}}(o)}})),onBlur:(0,u.M)(e.onBlur,(function(e){e.currentTarget.contains(e.target)||(window.clearTimeout(U.current),z.current="")})),onPointerMove:(0,u.M)(e.onPointerMove,ft((function(e){var t=e.target,n=H.current!==e.clientX;if(e.currentTarget.contains(t)&&n){var r=e.clientX>H.current?"right":"left";W.current=r,H.current=e.clientX}})))})))))))})),Qe=(0,c.forwardRef)((function(e,t){e.__scopeMenu;var n=(0,o.Z)(e,ae);return(0,c.createElement)(h.WV.div,(0,s.Z)({role:"group"},n,{ref:t}))})),Xe="MenuItem",$e="menu.itemSelect",Je=(0,c.forwardRef)((function(e,t){var n=e.disabled,r=void 0!==n&&n,i=e.onSelect,a=(0,o.Z)(e,se),d=(0,c.useRef)(null),f=De(Xe,e.__scopeMenu),p=He(Xe,e.__scopeMenu),m=(0,l.e)(t,d),v=(0,c.useRef)(!1);return(0,c.createElement)(et,(0,s.Z)({},a,{ref:m,disabled:r,onClick:(0,u.M)(e.onClick,(function(){var e=d.current;if(!r&&e){var t=new CustomEvent($e,{bubbles:!0,cancelable:!0});e.addEventListener($e,(function(e){return null===i||void 0===i?void 0:i(e)}),{once:!0}),(0,h.jH)(e,t),t.defaultPrevented?v.current=!1:f.onClose()}})),onPointerDown:function(t){var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),v.current=!0},onPointerUp:(0,u.M)(e.onPointerUp,(function(e){var t;v.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:(0,u.M)(e.onKeyDown,(function(e){var t=""!==p.searchRef.current;r||t&&" "===e.key||le.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))})),et=(0,c.forwardRef)((function(e,t){var n=e.__scopeMenu,r=e.disabled,i=void 0!==r&&r,d=e.textValue,f=(0,o.Z)(e,ce),p=He(Xe,n),m=ke(n),v=(0,c.useRef)(null),g=(0,l.e)(t,v),y=(0,c.useState)(!1),b=(0,a.Z)(y,2),w=b[0],x=b[1],_=(0,c.useState)(""),E=(0,a.Z)(_,2),k=E[0],C=E[1];return(0,c.useEffect)((function(){var e,t=v.current;t&&C((null!==(e=t.textContent)&&void 0!==e?e:"").trim())}),[f.children]),(0,c.createElement)(ve.ItemSlot,{scope:n,disabled:i,textValue:null!==d&&void 0!==d?d:k},(0,c.createElement)(ee,(0,s.Z)({asChild:!0},m,{focusable:!i}),(0,c.createElement)(h.WV.div,(0,s.Z)({role:"menuitem","data-highlighted":w?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0},f,{ref:g,onPointerMove:(0,u.M)(e.onPointerMove,ft((function(e){i?p.onItemLeave(e):(p.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus())}))),onPointerLeave:(0,u.M)(e.onPointerLeave,ft((function(e){return p.onItemLeave(e)}))),onFocus:(0,u.M)(e.onFocus,(function(){return x(!0)})),onBlur:(0,u.M)(e.onBlur,(function(){return x(!1)}))}))))})),tt="MenuRadioGroup",nt=xe(tt,{value:void 0,onValueChange:function(){}}),rt=(0,a.Z)(nt,2),it=(rt[0],rt[1],"MenuItemIndicator"),ot=xe(it,{checked:!1}),at=(0,a.Z)(ot,2),st=(at[0],at[1],(0,c.forwardRef)((function(e,t){e.__scopeMenu;var n=(0,o.Z)(e,ue);return(0,c.createElement)(h.WV.div,(0,s.Z)({role:"separator","aria-orientation":"horizontal"},n,{ref:t}))}))),ct="MenuSub",ut=xe(ct),lt=(0,a.Z)(ut,2);lt[0],lt[1];function dt(e){return e?"open":"closed"}function ft(e){return function(t){return"mouse"===t.pointerType?e(t):void 0}}var ht=Ne,pt=Pe,mt=Ue,vt=qe,gt=Qe,yt=Je,bt=st,wt=["__scopeDropdownMenu","disabled"],xt=["__scopeDropdownMenu"],_t=["__scopeDropdownMenu"],Et=["__scopeDropdownMenu"],kt=["__scopeDropdownMenu"],Ct=["__scopeDropdownMenu"],St="DropdownMenu",jt=(0,d.b)(St,[_e]),At=(0,a.Z)(jt,2),Tt=At[0],It=(At[1],_e()),Ot=Tt(St),Dt=(0,a.Z)(Ot,2),Nt=Dt[0],Pt=Dt[1],Mt=function(e){var t=e.__scopeDropdownMenu,n=e.children,r=e.dir,i=e.open,o=e.defaultOpen,u=e.onOpenChange,l=e.modal,d=void 0===l||l,h=It(t),p=(0,c.useRef)(null),m=(0,f.T)({prop:i,defaultProp:o,onChange:u}),v=(0,a.Z)(m,2),g=v[0],y=void 0!==g&&g,b=v[1];return(0,c.createElement)(Nt,{scope:t,triggerId:(0,E.M)(),triggerRef:p,contentId:(0,E.M)(),open:y,onOpenChange:b,onOpenToggle:(0,c.useCallback)((function(){return b((function(e){return!e}))}),[b]),modal:d},(0,c.createElement)(ht,(0,s.Z)({},h,{open:y,onOpenChange:b,dir:r,modal:d}),n))},Lt="DropdownMenuTrigger",Rt=(0,c.forwardRef)((function(e,t){var n=e.__scopeDropdownMenu,r=e.disabled,i=void 0!==r&&r,a=(0,o.Z)(e,wt),d=Pt(Lt,n),f=It(n);return(0,c.createElement)(pt,(0,s.Z)({asChild:!0},f),(0,c.createElement)(h.WV.button,(0,s.Z)({type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":!!d.open||void 0,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":i?"":void 0,disabled:i},a,{ref:(0,l.F)(t,d.triggerRef),onPointerDown:(0,u.M)(e.onPointerDown,(function(e){i||0!==e.button||!1!==e.ctrlKey||(d.onOpenToggle(),d.open||e.preventDefault())})),onKeyDown:(0,u.M)(e.onKeyDown,(function(e){i||(["Enter"," "].includes(e.key)&&d.onOpenToggle(),"ArrowDown"===e.key&&d.onOpenChange(!0),[" ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})))})),Zt=function(e){var t=e.__scopeDropdownMenu,n=(0,o.Z)(e,xt),r=It(t);return(0,c.createElement)(mt,(0,s.Z)({},r,n))},Ft="DropdownMenuContent",Ut=(0,c.forwardRef)((function(e,t){var n=e.__scopeDropdownMenu,a=(0,o.Z)(e,_t),l=Pt(Ft,n),d=It(n),f=(0,c.useRef)(!1);return(0,c.createElement)(vt,(0,s.Z)({id:l.contentId,"aria-labelledby":l.triggerId},d,a,{ref:t,onCloseAutoFocus:(0,u.M)(e.onCloseAutoFocus,(function(e){var t;f.current||null===(t=l.triggerRef.current)||void 0===t||t.focus(),f.current=!1,e.preventDefault()})),onInteractOutside:(0,u.M)(e.onInteractOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;l.modal&&!r||(f.current=!0)})),style:(0,i.Z)((0,i.Z)({},e.style),{},(0,r.Z)({},"--radix-dropdown-menu-content-transform-origin","var(--radix-popper-transform-origin)"))}))})),zt=(0,c.forwardRef)((function(e,t){var n=e.__scopeDropdownMenu,r=(0,o.Z)(e,Et),i=It(n);return(0,c.createElement)(gt,(0,s.Z)({},i,r,{ref:t}))})),Bt=(0,c.forwardRef)((function(e,t){var n=e.__scopeDropdownMenu,r=(0,o.Z)(e,kt),i=It(n);return(0,c.createElement)(yt,(0,s.Z)({},i,r,{ref:t}))})),Vt=(0,c.forwardRef)((function(e,t){var n=e.__scopeDropdownMenu,r=(0,o.Z)(e,Ct),i=It(n);return(0,c.createElement)(bt,(0,s.Z)({},i,r,{ref:t}))})),Wt=Mt,Ht=Rt,qt=Zt,Gt=Ut,Yt=zt,Kt=Bt,Qt=Vt},68595:function(e,t,n){"use strict";n.d(t,{EW:function(){return o}});var r=n(47313),i=0;function o(){(0,r.useEffect)((function(){var e,t,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:a()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:a()),i++,function(){1===i&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(e){return e.remove()})),i--}}),[])}function a(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}},10012:function(e,t,n){"use strict";n.d(t,{M:function(){return v}});var r=n(31303),i=n(89472),o=n(50678),a=n(83738),s=n(87462),c=n(47313),u=n(82299),l=n(38040),d=n(96646),f=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],h="focusScope.autoFocusOnMount",p="focusScope.autoFocusOnUnmount",m={bubbles:!1,cancelable:!0},v=(0,c.forwardRef)((function(e,t){var n=e.loop,r=void 0!==n&&n,v=e.trapped,b=void 0!==v&&v,w=e.onMountAutoFocus,E=e.onUnmountAutoFocus,k=(0,a.Z)(e,f),C=(0,c.useState)(null),S=(0,o.Z)(C,2),j=S[0],A=S[1],T=(0,d.W)(w),I=(0,d.W)(E),O=(0,c.useRef)(null),D=(0,u.e)(t,(function(e){return A(e)})),N=(0,c.useRef)({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;(0,c.useEffect)((function(){if(b){var e=function(e){if(!N.paused&&j){var t=e.target;j.contains(t)?O.current=t:x(O.current,{select:!0})}},t=function(e){!N.paused&&j&&(j.contains(e.relatedTarget)||x(O.current,{select:!0}))};return document.addEventListener("focusin",e),document.addEventListener("focusout",t),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[b,j,N.paused]),(0,c.useEffect)((function(){if(j){_.add(N);var e=document.activeElement;if(!j.contains(e)){var t=new CustomEvent(h,m);j.addEventListener(h,T),j.dispatchEvent(t),t.defaultPrevented||(!function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,r=void 0!==n&&n,o=document.activeElement,a=(0,i.Z)(e);try{for(a.s();!(t=a.n()).done;){if(x(t.value,{select:r}),document.activeElement!==o)return}}catch(s){a.e(s)}finally{a.f()}}((n=g(j),n.filter((function(e){return"A"!==e.tagName}))),{select:!0}),document.activeElement===e&&x(j))}return function(){j.removeEventListener(h,T),setTimeout((function(){var t=new CustomEvent(p,m);j.addEventListener(p,I),j.dispatchEvent(t),t.defaultPrevented||x(null!==e&&void 0!==e?e:document.body,{select:!0}),j.removeEventListener(p,I),_.remove(N)}),0)}}var n}),[j,T,I,N]);var P=(0,c.useCallback)((function(e){if((r||b)&&!N.paused){var t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var i=e.currentTarget,a=function(e){var t=g(e),n=y(t,e),r=y(t.reverse(),e);return[n,r]}(i),s=(0,o.Z)(a,2),c=s[0],u=s[1];c&&u?e.shiftKey||n!==u?e.shiftKey&&n===c&&(e.preventDefault(),r&&x(u,{select:!0})):(e.preventDefault(),r&&x(c,{select:!0})):n===i&&e.preventDefault()}}}),[r,b,N.paused]);return(0,c.createElement)(l.WV.div,(0,s.Z)({tabIndex:-1},k,{ref:D,onKeyDown:P}))}));function g(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function y(e,t){var n,r=(0,i.Z)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!b(o,{upTo:t}))return o}}catch(a){r.e(a)}finally{r.f()}}function b(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function w(e){return e instanceof HTMLInputElement&&"select"in e}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.select,r=void 0!==n&&n;if(e&&e.focus){var i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&w(e)&&r&&e.select()}}var _=function(){var e=[];return{add:function(t){var n=e[0];t!==n&&(null===n||void 0===n||n.pause()),(e=E(e,t)).unshift(t)},remove:function(t){var n;null===(n=(e=E(e,t))[0])||void 0===n||n.resume()}}}();function E(e,t){var n=(0,r.Z)(e),i=n.indexOf(t);return-1!==i&&n.splice(i,1),n}},7995:function(e,t,n){"use strict";var r;n.d(t,{M:function(){return u}});var i=n(50678),o=n(47313),a=n(44855),s=(r||(r=n.t(o,2)))["useId".toString()]||function(){},c=0;function u(e){var t=o.useState(s()),n=(0,i.Z)(t,2),r=n[0],u=n[1];return(0,a.b)((function(){e||u((function(e){return null!==e&&void 0!==e?e:String(c++)}))}),[e]),e||(r?"radix-".concat(r):"")}},35293:function(e,t,n){"use strict";n.d(t,{fC:function(){return X},xz:function(){return $},h_:function(){return J},VY:function(){return ee}});var r=n(36222),i=n(18489),o=n(83738),a=n(50678),s=n(87462),c=n(47313),u=n(51785),l=n(82299),d=n(89621),f=n(7695),h=n(68595),p=n(10012),m=n(7995),v=n(29434),g=n(76344),y=n(96832),b=n(38040),w=n(98973),x=n(21747),_=n(41996),E=n(46438),k=["__scopePopover"],C=["forceMount"],S=["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"],j="Popover",A=(0,d.b)(j,[v.D7]),T=(0,a.Z)(A,2),I=T[0],O=(T[1],(0,v.D7)()),D=I(j),N=(0,a.Z)(D,2),P=N[0],M=N[1],L=function(e){var t=e.__scopePopover,n=e.children,r=e.open,i=e.defaultOpen,o=e.onOpenChange,s=e.modal,u=void 0!==s&&s,l=O(t),d=(0,c.useRef)(null),f=(0,c.useState)(!1),h=(0,a.Z)(f,2),p=h[0],g=h[1],y=(0,x.T)({prop:r,defaultProp:i,onChange:o}),b=(0,a.Z)(y,2),w=b[0],_=void 0!==w&&w,E=b[1];return(0,c.createElement)(v.fC,l,(0,c.createElement)(P,{scope:t,contentId:(0,m.M)(),triggerRef:d,open:_,onOpenChange:E,onOpenToggle:(0,c.useCallback)((function(){return E((function(e){return!e}))}),[E]),hasCustomAnchor:p,onCustomAnchorAdd:(0,c.useCallback)((function(){return g(!0)}),[]),onCustomAnchorRemove:(0,c.useCallback)((function(){return g(!1)}),[]),modal:u},n))},R="PopoverTrigger",Z=(0,c.forwardRef)((function(e,t){var n=e.__scopePopover,r=(0,o.Z)(e,k),i=M(R,n),a=O(n),d=(0,l.e)(t,i.triggerRef),f=(0,c.createElement)(b.WV.button,(0,s.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Q(i.open)},r,{ref:d,onClick:(0,u.M)(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?f:(0,c.createElement)(v.ee,(0,s.Z)({asChild:!0},a),f)})),F="PopoverPortal",U=I(F,{forceMount:void 0}),z=(0,a.Z)(U,2),B=z[0],V=z[1],W=function(e){var t=e.__scopePopover,n=e.forceMount,r=e.children,i=e.container,o=M(F,t);return(0,c.createElement)(B,{scope:t,forceMount:n},(0,c.createElement)(y.z,{present:n||o.open},(0,c.createElement)(g.h,{asChild:!0,container:i},r)))},H="PopoverContent",q=(0,c.forwardRef)((function(e,t){var n=V(H,e.__scopePopover),r=e.forceMount,i=void 0===r?n.forceMount:r,a=(0,o.Z)(e,C),u=M(H,e.__scopePopover);return(0,c.createElement)(y.z,{present:i||u.open},u.modal?(0,c.createElement)(G,(0,s.Z)({},a,{ref:t})):(0,c.createElement)(Y,(0,s.Z)({},a,{ref:t})))})),G=(0,c.forwardRef)((function(e,t){var n=M(H,e.__scopePopover),r=(0,c.useRef)(null),i=(0,l.e)(t,r),o=(0,c.useRef)(!1);return(0,c.useEffect)((function(){var e=r.current;if(e)return(0,_.R)(e)}),[]),(0,c.createElement)(E.Z,{as:w.g7,allowPinchZoom:!0},(0,c.createElement)(K,(0,s.Z)({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,u.M)(e.onCloseAutoFocus,(function(e){var t;e.preventDefault(),o.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:(0,u.M)(e.onPointerDownOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;o.current=r}),{checkForDefaultPrevented:!1}),onFocusOutside:(0,u.M)(e.onFocusOutside,(function(e){return e.preventDefault()}),{checkForDefaultPrevented:!1})})))})),Y=(0,c.forwardRef)((function(e,t){var n=M(H,e.__scopePopover),r=(0,c.useRef)(!1);return(0,c.createElement)(K,(0,s.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(t){var i,o;(null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),t.defaultPrevented)||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());r.current=!1},onInteractOutside:function(t){var i,o;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||(r.current=!0);var a=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(a))&&t.preventDefault()}}))})),K=(0,c.forwardRef)((function(e,t){var n=e.__scopePopover,a=e.trapFocus,u=e.onOpenAutoFocus,l=e.onCloseAutoFocus,d=e.disableOutsidePointerEvents,m=e.onEscapeKeyDown,g=e.onPointerDownOutside,y=e.onFocusOutside,b=e.onInteractOutside,w=(0,o.Z)(e,S),x=M(H,n),_=O(n);return(0,h.EW)(),(0,c.createElement)(p.M,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:u,onUnmountAutoFocus:l},(0,c.createElement)(f.XB,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:b,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:y,onDismiss:function(){return x.onOpenChange(!1)}},(0,c.createElement)(v.VY,(0,s.Z)({"data-state":Q(x.open),role:"dialog",id:x.contentId},_,w,{ref:t,style:(0,i.Z)((0,i.Z)({},w.style),{},(0,r.Z)({},"--radix-popover-content-transform-origin","var(--radix-popper-transform-origin)"))}))))}));function Q(e){return e?"open":"closed"}var X=L,$=Z,J=W,ee=q},29434:function(e,t,n){"use strict";n.d(t,{ee:function(){return ut},Eh:function(){return dt},VY:function(){return lt},fC:function(){return ct},D7:function(){return Re}});var r=n(36222),i=n(18489),o=n(83738),a=n(50678),s=n(87462),c=n(47313),u=n(31303),l=n(33032),d=n(84322),f=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],h=["strategy"],p=["mainAxis","crossAxis","limiter"];function m(e){return e.split("-")[0]}function v(e){return e.split("-")[1]}function g(e){return["top","bottom"].includes(m(e))?"x":"y"}function y(e){return"y"===e?"height":"width"}function b(e,t,n){var r,i=e.reference,o=e.floating,a=i.x+i.width/2-o.width/2,s=i.y+i.height/2-o.height/2,c=g(t),u=y(c),l=i[u]/2-o[u]/2,d="x"===c;switch(m(t)){case"top":r={x:a,y:i.y-o.height};break;case"bottom":r={x:a,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:s};break;case"left":r={x:i.x-o.width,y:s};break;default:r={x:i.x,y:i.y}}switch(v(t)){case"start":r[c]-=l*(n&&d?-1:1);break;case"end":r[c]+=l*(n&&d?-1:1)}return r}var w=function(){var e=(0,l.Z)(d.mark((function e(t,n,o){var a,s,c,u,l,f,h,p,m,v,g,y,w,x,_,E,k,C,S,j,A,T,I,O,D;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.placement,s=void 0===a?"bottom":a,c=o.strategy,u=void 0===c?"absolute":c,l=o.middleware,f=void 0===l?[]:l,h=o.platform,e.next=9,null==h.isRTL?void 0:h.isRTL(n);case 9:return p=e.sent,e.next=12,h.getElementRects({reference:t,floating:n,strategy:u});case 12:m=e.sent,v=b(m,s,p),g=v.x,y=v.y,w=s,x={},_=0,E=0;case 20:if(!(E<f.length)){e.next=55;break}return C=f[E],S=C.name,j=C.fn,e.next=26,j({x:g,y:y,initialPlacement:s,placement:w,strategy:u,middlewareData:x,rects:m,platform:h,elements:{reference:t,floating:n}});case 26:if(A=e.sent,T=A.x,I=A.y,O=A.data,D=A.reset,g=null!=T?T:g,y=null!=I?I:y,x=(0,i.Z)((0,i.Z)({},x),{},(0,r.Z)({},S,(0,i.Z)((0,i.Z)({},x[S]),O))),e.t0=D&&_<=50,!e.t0){e.next=52;break}if(_++,e.t1="object"==typeof D,!e.t1){e.next=51;break}if(D.placement&&(w=D.placement),e.t2=D.rects,!e.t2){e.next=50;break}if(!0!==D.rects){e.next=48;break}return e.next=45,h.getElementRects({reference:t,floating:n,strategy:u});case 45:e.t3=e.sent,e.next=49;break;case 48:e.t3=D.rects;case 49:m=e.t3;case 50:k=b(m,w,p),g=k.x,y=k.y;case 51:E=-1;case 52:E++,e.next=20;break;case 55:return e.abrupt("return",{x:g,y:y,placement:w,strategy:u,middlewareData:x});case 56:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function x(e){return"number"!=typeof e?function(e){return(0,i.Z)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function _(e){return(0,i.Z)((0,i.Z)({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function E(e,t){return k.apply(this,arguments)}function k(){return k=(0,l.Z)(d.mark((function e(t,n){var r,o,a,s,c,u,l,f,h,p,m,v,g,y,b,w,E,k,C,S,j;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),o=t.x,a=t.y,s=t.platform,c=t.rects,u=t.elements,l=t.strategy,h=(f=n).boundary,p=void 0===h?"clippingAncestors":h,m=f.rootBoundary,v=void 0===m?"viewport":m,g=f.elementContext,y=void 0===g?"floating":g,b=f.altBoundary,w=void 0!==b&&b,E=f.padding,k=x(void 0===E?0:E),C=u[w?"floating"===y?"reference":"floating":y],e.t0=_,e.t1=s,e.next=24,null==s.isElement?void 0:s.isElement(C);case 24:if(e.t3=r=e.sent,e.t2=null==e.t3,e.t2){e.next=28;break}e.t2=r;case 28:if(!e.t2){e.next=32;break}e.t4=C,e.next=38;break;case 32:if(e.t5=C.contextElement,e.t5){e.next=37;break}return e.next=36,null==s.getDocumentElement?void 0:s.getDocumentElement(u.floating);case 36:e.t5=e.sent;case 37:e.t4=e.t5;case 38:return e.t6=e.t4,e.t7=p,e.t8=v,e.t9=l,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=45,e.t1.getClippingRect.call(e.t1,e.t10);case 45:if(e.t11=e.sent,S=(0,e.t0)(e.t11),e.t12=_,!s.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=61;break}return e.t14=s,e.t15="floating"===y?(0,i.Z)((0,i.Z)({},c.floating),{},{x:o,y:a}):c.reference,e.next=53,null==s.getOffsetParent?void 0:s.getOffsetParent(u.floating);case 53:return e.t16=e.sent,e.t17=l,e.t18={rect:e.t15,offsetParent:e.t16,strategy:e.t17},e.next=58,e.t14.convertOffsetParentRelativeRectToViewportRelativeRect.call(e.t14,e.t18);case 58:e.t13=e.sent,e.next=62;break;case 61:e.t13=c[y];case 62:return e.t19=e.t13,j=(0,e.t12)(e.t19),e.abrupt("return",{top:S.top-j.top+k.top,bottom:j.bottom-S.bottom+k.bottom,left:S.left-j.left+k.left,right:j.right-S.right+k.right});case 65:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}var C=Math.min,S=Math.max;function j(e,t,n){return S(e,C(t,n))}var A=function(e){return{name:"arrow",options:e,fn:function(t){return(0,l.Z)(d.mark((function n(){var i,o,a,s,c,u,l,f,h,p,m,b,w,_,E,k,C,S,A,T,I,O,D,N,P,M,L,R,Z;return d.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=(a=null!=e?e:{}).element,c=a.padding,u=void 0===c?0:c,l=t.x,f=t.y,h=t.placement,p=t.rects,m=t.platform,null!=s){n.next=3;break}return n.abrupt("return",{});case 3:return b=x(u),w={x:l,y:f},_=g(h),E=v(h),k=y(_),n.next=10,m.getDimensions(s);case 10:return C=n.sent,S="y"===_?"top":"left",A="y"===_?"bottom":"right",T=p.reference[k]+p.reference[_]-w[_]-p.floating[k],I=w[_]-p.reference[_],n.next=17,null==m.getOffsetParent?void 0:m.getOffsetParent(s);case 17:return O=n.sent,0===(D=O?"y"===_?O.clientHeight||0:O.clientWidth||0:0)&&(D=p.floating[k]),N=T/2-I/2,P=b[S],M=D-C[k]-b[A],L=D/2-C[k]/2+N,R=j(P,L,M),Z=("start"===E?b[S]:b[A])>0&&L!==R&&p.reference[k]<=p.floating[k],n.abrupt("return",(o={},(0,r.Z)(o,_,w[_]-(Z?L<P?P-L:M-L:0)),(0,r.Z)(o,"data",(i={},(0,r.Z)(i,_,R),(0,r.Z)(i,"centerOffset",L-R),i)),o));case 22:case"end":return n.stop()}}),n)})))()}}},T={left:"right",right:"left",bottom:"top",top:"bottom"};function I(e){return e.replace(/left|right|bottom|top/g,(function(e){return T[e]}))}function O(e,t,n){void 0===n&&(n=!1);var r=v(e),i=g(e),o=y(i),a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=I(a)),{main:a,cross:I(a)}}var D={start:"end",end:"start"};function N(e){return e.replace(/start|end/g,(function(e){return D[e]}))}var P=["top","right","bottom","left"],M=(P.reduce((function(e,t){return e.concat(t,t+"-start",t+"-end")}),[]),function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return(0,l.Z)(d.mark((function n(){var r,i,a,s,c,l,h,p,v,g,y,b,w,x,_,k,C,S,j,A,T,D,P,M,L,R,Z,F,U,z,B,V,W,H;return d.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.placement,a=t.middlewareData,s=t.rects,c=t.initialPlacement,l=t.platform,h=t.elements,v=(p=e).mainAxis,g=void 0===v||v,y=p.crossAxis,b=void 0===y||y,w=p.fallbackPlacements,x=p.fallbackStrategy,_=void 0===x?"bestFit":x,k=p.flipAlignment,C=void 0===k||k,S=(0,o.Z)(p,f),j=m(i),A=w||(j!==c&&C?function(e){var t=I(e);return[N(e),t,N(t)]}(c):[I(c)]),T=[c].concat((0,u.Z)(A)),n.next=22,E(t,S);case 22:if(D=n.sent,P=[],M=(null==(r=a.flip)?void 0:r.overflows)||[],g&&P.push(D[j]),!b){n.next=36;break}return n.t0=O,n.t1=i,n.t2=s,n.next=31,null==l.isRTL?void 0:l.isRTL(h.floating);case 31:n.t3=n.sent,L=(0,n.t0)(n.t1,n.t2,n.t3),R=L.main,Z=L.cross,P.push(D[R],D[Z]);case 36:if(M=[].concat((0,u.Z)(M),[{placement:i,overflows:P}]),P.every((function(e){return e<=0}))){n.next=50;break}if(z=(null!=(F=null==(U=a.flip)?void 0:U.index)?F:0)+1,!(B=T[z])){n.next=40;break}return n.abrupt("return",{data:{index:z,overflows:M},reset:{placement:B}});case 40:V="bottom",n.t4=_,n.next="bestFit"===n.t4?44:"initialPlacement"===n.t4?47:48;break;case 44:return H=null==(W=M.map((function(e){return[e,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:W[0].placement,H&&(V=H),n.abrupt("break",48);case 47:V=c;case 48:if(i===V){n.next=50;break}return n.abrupt("return",{reset:{placement:V}});case 50:return n.abrupt("return",{});case 51:case"end":return n.stop()}}),n)})))()}}});function L(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function R(e){return P.some((function(t){return e[t]>=0}))}var Z=function(e){var t=void 0===e?{}:e,n=t.strategy,r=void 0===n?"referenceHidden":n,a=(0,o.Z)(t,h);return{name:"hide",fn:function(e){return(0,l.Z)(d.mark((function t(){var n,o,s;return d.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.rects,t.t0=r,t.next="referenceHidden"===t.t0?4:"escaped"===t.t0?11:18;break;case 4:return t.t1=L,t.next=7,E(e,(0,i.Z)((0,i.Z)({},a),{},{elementContext:"reference"}));case 7:return t.t2=t.sent,t.t3=n.reference,o=(0,t.t1)(t.t2,t.t3),t.abrupt("return",{data:{referenceHiddenOffsets:o,referenceHidden:R(o)}});case 11:return t.t4=L,t.next=14,E(e,(0,i.Z)((0,i.Z)({},a),{},{altBoundary:!0}));case 14:return t.t5=t.sent,t.t6=n.floating,s=(0,t.t4)(t.t5,t.t6),t.abrupt("return",{data:{escapedOffsets:s,escaped:R(s)}});case 18:return t.abrupt("return",{});case 19:case"end":return t.stop()}}),t)})))()}}},F=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return(0,l.Z)(d.mark((function n(){var r,o,a;return d.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.x,o=t.y,n.next=4,function(){var e=(0,l.Z)(d.mark((function e(t,n){var r,o,a,s,c,u,l,f,h,p,y,b,w,x;return d.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.placement,o=t.platform,a=t.elements,e.next=5,null==o.isRTL?void 0:o.isRTL(a.floating);case 5:return s=e.sent,c=m(r),u=v(r),l="x"===g(r),f=["left","top"].includes(c)?-1:1,h=s&&l?-1:1,p="function"==typeof n?n(t):n,y="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:(0,i.Z)({mainAxis:0,crossAxis:0,alignmentAxis:null},p),b=y.mainAxis,w=y.crossAxis,x=y.alignmentAxis,e.abrupt("return",(u&&"number"==typeof x&&(w="end"===u?-1*x:x),l?{x:w*h,y:b*f}:{x:b*f,y:w*h}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,e);case 4:return a=n.sent,n.abrupt("return",{x:r+a.x,y:o+a.y,data:a});case 6:case"end":return n.stop()}}),n)})))()}}};function U(e){return"x"===e?"y":"x"}var z=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return(0,l.Z)(d.mark((function n(){var a,s,c,u,l,f,h,v,y,b,w,x,_,k,C,S,A,T,I,O,D;return d.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=t.x,c=t.y,u=t.placement,f=(l=e).mainAxis,h=void 0===f||f,v=l.crossAxis,y=void 0!==v&&v,b=l.limiter,w=void 0===b?{fn:function(e){return{x:e.x,y:e.y}}}:b,x=(0,o.Z)(l,p),_={x:s,y:c},n.next=14,E(t,x);case 14:return k=n.sent,C=g(m(u)),S=U(C),A=_[C],T=_[S],h&&(I="y"===C?"bottom":"right",A=j(A+k["y"===C?"top":"left"],A,A-k[I])),y&&(O="y"===S?"bottom":"right",T=j(T+k["y"===S?"top":"left"],T,T-k[O])),D=w.fn((0,i.Z)((0,i.Z)({},t),{},(a={},(0,r.Z)(a,C,A),(0,r.Z)(a,S,T),a))),n.abrupt("return",(0,i.Z)((0,i.Z)({},D),{},{data:{x:D.x-s,y:D.y-c}}));case 22:case"end":return n.stop()}}),n)})))()}}},B=function(e){return void 0===e&&(e={}),{options:e,fn:function(t){var n,o=t.x,a=t.y,s=t.placement,c=t.rects,u=t.middlewareData,l=e,d=l.offset,f=void 0===d?0:d,h=l.mainAxis,p=void 0===h||h,v=l.crossAxis,y=void 0===v||v,b={x:o,y:a},w=g(s),x=U(w),_=b[w],E=b[x],k="function"==typeof f?f((0,i.Z)((0,i.Z)({},c),{},{placement:s})):f,C="number"==typeof k?{mainAxis:k,crossAxis:0}:(0,i.Z)({mainAxis:0,crossAxis:0},k);if(p){var S="y"===w?"height":"width",j=c.reference[w]-c.floating[S]+C.mainAxis,A=c.reference[w]+c.reference[S]-C.mainAxis;_<j?_=j:_>A&&(_=A)}if(y){var T,I,O,D,N="y"===w?"width":"height",P=["top","left"].includes(m(s)),M=c.reference[x]-c.floating[N]+(P&&null!=(T=null==(I=u.offset)?void 0:I[x])?T:0)+(P?0:C.crossAxis),L=c.reference[x]+c.reference[N]+(P?0:null!=(O=null==(D=u.offset)?void 0:D[x])?O:0)-(P?C.crossAxis:0);E<M?E=M:E>L&&(E=L)}return n={},(0,r.Z)(n,w,_),(0,r.Z)(n,x,E),n}}};function V(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function W(e){if(null==e)return window;if(!V(e)){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function H(e){return W(e).getComputedStyle(e)}function q(e){return V(e)?"":e?(e.nodeName||"").toLowerCase():""}function G(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Y(e){return e instanceof W(e).HTMLElement}function K(e){return e instanceof W(e).Element}function Q(e){return"undefined"!=typeof ShadowRoot&&(e instanceof W(e).ShadowRoot||e instanceof ShadowRoot)}function X(e){var t=H(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function $(e){return["table","td","th"].includes(q(e))}function J(e){var t=/firefox/i.test(G()),n=H(e);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter}function ee(){return!/^((?!chrome|android).)*safari/i.test(G())}var te=Math.min,ne=Math.max,re=Math.round;function ie(e,t,n){var r,i,o,a;void 0===t&&(t=!1),void 0===n&&(n=!1);var s=e.getBoundingClientRect(),c=1,u=1;t&&Y(e)&&(c=e.offsetWidth>0&&re(s.width)/e.offsetWidth||1,u=e.offsetHeight>0&&re(s.height)/e.offsetHeight||1);var l=K(e)?W(e):window,d=!ee()&&n,f=(s.left+(d&&null!=(r=null==(i=l.visualViewport)?void 0:i.offsetLeft)?r:0))/c,h=(s.top+(d&&null!=(o=null==(a=l.visualViewport)?void 0:a.offsetTop)?o:0))/u,p=s.width/c,m=s.height/u;return{width:p,height:m,top:h,right:f+p,bottom:h+m,left:f,x:f,y:h}}function oe(e){return(t=e,(t instanceof W(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function ae(e){return K(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function se(e){return ie(oe(e)).left+ae(e).scrollLeft}function ce(e,t,n){var r=Y(t),i=oe(t),o=ie(e,r&&function(e){var t=ie(e);return re(t.width)!==e.offsetWidth||re(t.height)!==e.offsetHeight}(t),"fixed"===n),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==q(t)||X(i))&&(a=ae(t)),Y(t)){var c=ie(t,!0);s.x=c.x+t.clientLeft,s.y=c.y+t.clientTop}else i&&(s.x=se(i));return{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function ue(e){return"html"===q(e)?e:e.assignedSlot||e.parentNode||(Q(e)?e.host:null)||oe(e)}function le(e){return Y(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function de(e){for(var t=W(e),n=le(e);n&&$(n)&&"static"===getComputedStyle(n).position;)n=le(n);return n&&("html"===q(n)||"body"===q(n)&&"static"===getComputedStyle(n).position&&!J(n))?t:n||function(e){var t=ue(e);for(Q(t)&&(t=t.host);Y(t)&&!["html","body"].includes(q(t));){if(J(t))return t;t=t.parentNode}return null}(e)||t}function fe(e){if(Y(e))return{width:e.offsetWidth,height:e.offsetHeight};var t=ie(e);return{width:t.width,height:t.height}}function he(e){var t=ue(e);return["html","body","#document"].includes(q(t))?e.ownerDocument.body:Y(t)&&X(t)?t:he(t)}function pe(e,t){var n;void 0===t&&(t=[]);var r=he(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=W(r),a=i?[o].concat(o.visualViewport||[],X(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(pe(a))}function me(e,t,n){return"viewport"===t?_(function(e,t){var n=W(e),r=oe(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;var u=ee();(u||!u&&"fixed"===t)&&(s=i.offsetLeft,c=i.offsetTop)}return{width:o,height:a,x:s,y:c}}(e,n)):K(t)?function(e,t){var n=ie(e,!1,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft;return{top:r,left:i,x:i,y:r,right:i+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,n):_(function(e){var t,n=oe(e),r=ae(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=ne(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ne(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+se(e),c=-r.scrollTop;return"rtl"===H(i||n).direction&&(s+=ne(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:c}}(oe(e)))}var ve={getClippingRect:function(e){var t=e.element,n=e.boundary,r=e.rootBoundary,i=e.strategy,o=[].concat((0,u.Z)("clippingAncestors"===n?function(e){var t=pe(e),n=["absolute","fixed"].includes(H(e).position)&&Y(e)?de(e):e;return K(n)?t.filter((function(e){return K(e)&&function(e,t){var n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Q(n)){var r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}(e,n)&&"body"!==q(e)})):[]}(t):[].concat(n)),[r]),a=o[0],s=o.reduce((function(e,n){var r=me(t,n,i);return e.top=ne(r.top,e.top),e.right=te(r.right,e.right),e.bottom=te(r.bottom,e.bottom),e.left=ne(r.left,e.left),e}),me(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,n=e.offsetParent,r=e.strategy,o=Y(n),a=oe(n);if(n===a)return t;var s={scrollLeft:0,scrollTop:0},c={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==q(n)||X(a))&&(s=ae(n)),Y(n))){var u=ie(n,!0);c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return(0,i.Z)((0,i.Z)({},t),{},{x:t.x-s.scrollLeft+c.x,y:t.y-s.scrollTop+c.y})},isElement:K,getDimensions:fe,getOffsetParent:de,getDocumentElement:oe,getElementRects:function(e){var t=e.reference,n=e.floating,r=e.strategy;return{reference:ce(t,de(n),r),floating:(0,i.Z)((0,i.Z)({},fe(n)),{},{x:0,y:0})}},getClientRects:function(e){return Array.from(e.getClientRects())},isRTL:function(e){return"rtl"===H(e).direction}};function ge(e,t,n,r){void 0===r&&(r={});var i=r,o=i.ancestorScroll,a=void 0===o||o,s=i.ancestorResize,c=void 0===s||s,l=i.elementResize,d=void 0===l||l,f=i.animationFrame,h=void 0!==f&&f,p=a&&!h,m=c&&!h,v=p||m?[].concat((0,u.Z)(K(e)?pe(e):[]),(0,u.Z)(pe(t))):[];v.forEach((function(e){p&&e.addEventListener("scroll",n,{passive:!0}),m&&e.addEventListener("resize",n)}));var g,y=null;if(d){var b=!0;y=new ResizeObserver((function(){b||n(),b=!1})),K(e)&&!h&&y.observe(e),y.observe(t)}var w=h?ie(e):null;return h&&function t(){var r=ie(e);!w||r.x===w.x&&r.y===w.y&&r.width===w.width&&r.height===w.height||n(),w=r,g=requestAnimationFrame(t)}(),n(),function(){var e;v.forEach((function(e){p&&e.removeEventListener("scroll",n),m&&e.removeEventListener("resize",n)})),null==(e=y)||e.disconnect(),y=null,h&&cancelAnimationFrame(g)}}var ye=n(1168),be="undefined"!==typeof document?c.useLayoutEffect:c.useEffect;function we(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;var n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(!we(e[r],t[r]))return!1;return!0}if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){var o=i[r];if(("_owner"!==o||!e.$$typeof)&&!we(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function xe(e){var t=void 0===e?{}:e,n=t.middleware,r=t.placement,o=void 0===r?"bottom":r,s=t.strategy,u=void 0===s?"absolute":s,l=t.whileElementsMounted,d=c.useRef(null),f=c.useRef(null),h=function(e){var t=c.useRef(e);return be((function(){t.current=e})),t}(l),p=c.useRef(null),m=c.useState({x:null,y:null,strategy:u,placement:o,middlewareData:{}}),v=(0,a.Z)(m,2),g=v[0],y=v[1],b=c.useState(n),x=(0,a.Z)(b,2),_=x[0],E=x[1];we(null==_?void 0:_.map((function(e){return e.options})),null==n?void 0:n.map((function(e){return e.options})))||E(n);var k=c.useCallback((function(){d.current&&f.current&&function(e,t,n){return w(e,t,(0,i.Z)({platform:ve},n))}(d.current,f.current,{middleware:_,placement:o,strategy:u}).then((function(e){C.current&&ye.flushSync((function(){y(e)}))}))}),[_,o,u]);be((function(){C.current&&k()}),[k]);var C=c.useRef(!1);be((function(){return C.current=!0,function(){C.current=!1}}),[]);var S=c.useCallback((function(){if("function"===typeof p.current&&(p.current(),p.current=null),d.current&&f.current)if(h.current){var e=h.current(d.current,f.current,k);p.current=e}else k()}),[k,h]),j=c.useCallback((function(e){d.current=e,S()}),[S]),A=c.useCallback((function(e){f.current=e,S()}),[S]),T=c.useMemo((function(){return{reference:d,floating:f}}),[]);return c.useMemo((function(){return(0,i.Z)((0,i.Z)({},g),{},{update:k,refs:T,reference:j,floating:A})}),[g,k,T,j,A])}var _e=function(e){var t=e.element,n=e.padding;return{name:"arrow",options:e,fn:function(e){return r=t,Object.prototype.hasOwnProperty.call(r,"current")?null!=t.current?A({element:t.current,padding:n}).fn(e):{}:t?A({element:t,padding:n}).fn(e):{};var r}}},Ee=n(38040),ke=["children","width","height"],Ce=(0,c.forwardRef)((function(e,t){var n=e.children,r=e.width,i=void 0===r?10:r,a=e.height,u=void 0===a?5:a,l=(0,o.Z)(e,ke);return(0,c.createElement)(Ee.WV.svg,(0,s.Z)({},l,{ref:t,width:i,height:u,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:(0,c.createElement)("polygon",{points:"0,0 30,0 15,10"}))})),Se=Ce,je=n(82299),Ae=n(89621),Te=n(44855);var Ie=["__scopePopper","virtualRef"],Oe=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],De=["__scopePopper"],Ne="Popper",Pe=(0,Ae.b)(Ne),Me=(0,a.Z)(Pe,2),Le=Me[0],Re=Me[1],Ze=Le(Ne),Fe=(0,a.Z)(Ze,2),Ue=Fe[0],ze=Fe[1],Be=function(e){var t=e.__scopePopper,n=e.children,r=(0,c.useState)(null),i=(0,a.Z)(r,2),o=i[0],s=i[1];return(0,c.createElement)(Ue,{scope:t,anchor:o,onAnchorChange:s},n)},Ve="PopperAnchor",We=(0,c.forwardRef)((function(e,t){var n=e.__scopePopper,r=e.virtualRef,i=(0,o.Z)(e,Ie),a=ze(Ve,n),u=(0,c.useRef)(null),l=(0,je.e)(t,u);return(0,c.useEffect)((function(){a.onAnchorChange((null===r||void 0===r?void 0:r.current)||u.current)})),r?null:(0,c.createElement)(Ee.WV.div,(0,s.Z)({},i,{ref:l}))})),He="PopperContent",qe=Le(He),Ge=(0,a.Z)(qe,2),Ye=Ge[0],Ke=Ge[1],Qe=Le(He,{hasParent:!1,positionUpdateFns:new Set}),Xe=(0,a.Z)(Qe,2),$e=Xe[0],Je=Xe[1],et=(0,c.forwardRef)((function(e,t){var n,s,u,l,d,f,h,p,m=e.__scopePopper,v=e.side,g=void 0===v?"bottom":v,y=e.sideOffset,b=void 0===y?0:y,w=e.align,x=void 0===w?"center":w,_=e.alignOffset,E=void 0===_?0:_,k=e.arrowPadding,C=void 0===k?0:k,S=e.collisionBoundary,j=void 0===S?[]:S,A=e.collisionPadding,T=void 0===A?0:A,I=e.sticky,O=void 0===I?"partial":I,D=e.hideWhenDetached,N=void 0!==D&&D,P=e.avoidCollisions,L=void 0===P||P,R=(0,o.Z)(e,Oe),U=ze(He,m),V=(0,c.useState)(null),W=(0,a.Z)(V,2),H=W[0],q=W[1],G=(0,je.e)(t,(function(e){return q(e)})),Y=(0,c.useState)(null),K=(0,a.Z)(Y,2),Q=K[0],X=K[1],$=function(e){var t=(0,c.useState)(void 0),n=(0,a.Z)(t,2),r=n[0],i=n[1];return(0,Te.b)((function(){if(e){i({width:e.offsetWidth,height:e.offsetHeight});var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,r,o=t[0];if("borderBoxSize"in o){var a=o.borderBoxSize,s=Array.isArray(a)?a[0]:a;n=s.inlineSize,r=s.blockSize}else n=e.offsetWidth,r=e.offsetHeight;i({width:n,height:r})}}));return t.observe(e,{box:"border-box"}),function(){return t.unobserve(e)}}i(void 0)}),[e]),r}(Q),J=null!==(n=null===$||void 0===$?void 0:$.width)&&void 0!==n?n:0,ee=null!==(s=null===$||void 0===$?void 0:$.height)&&void 0!==s?s:0,te=g+("center"!==x?"-"+x:""),ne="number"===typeof T?T:(0,i.Z)({top:0,right:0,bottom:0,left:0},T),re=Array.isArray(j)?j:[j],ie=re.length>0,oe={padding:ne,boundary:re.filter(ot),altBoundary:ie},ae=xe({strategy:"fixed",placement:te,whileElementsMounted:ge,middleware:[F({mainAxis:b+ee,alignmentAxis:E}),L?z((0,i.Z)({mainAxis:!0,crossAxis:!1,limiter:"partial"===O?B():void 0},oe)):void 0,Q?_e({element:Q,padding:C}):void 0,L?M((0,i.Z)({},oe)):void 0,at({arrowWidth:J,arrowHeight:ee}),N?Z({strategy:"referenceHidden"}):void 0].filter(it)}),se=ae.reference,ce=ae.floating,ue=ae.strategy,le=ae.x,de=ae.y,fe=ae.placement,he=ae.middlewareData,pe=ae.update;(0,Te.b)((function(){se(U.anchor)}),[se,U.anchor]);var me=null!==le&&null!==de,ve=st(fe),ye=(0,a.Z)(ve,2),be=ye[0],we=ye[1],ke=null===(u=he.arrow)||void 0===u?void 0:u.x,Ce=null===(l=he.arrow)||void 0===l?void 0:l.y,Se=0!==(null===(d=he.arrow)||void 0===d?void 0:d.centerOffset),Ae=(0,c.useState)(),Ie=(0,a.Z)(Ae,2),De=Ie[0],Ne=Ie[1];(0,Te.b)((function(){H&&Ne(window.getComputedStyle(H).zIndex)}),[H]);var Pe=Je(He,m),Me=Pe.hasParent,Le=Pe.positionUpdateFns,Re=!Me;(0,c.useLayoutEffect)((function(){if(!Re)return Le.add(pe),function(){Le.delete(pe)}}),[Re,Le,pe]),(0,c.useLayoutEffect)((function(){Re&&me&&Array.from(Le).reverse().forEach((function(e){return requestAnimationFrame(e)}))}),[Re,me,Le]);var Ze=(0,i.Z)((0,i.Z)({"data-side":be,"data-align":we},R),{},{ref:G,style:(0,i.Z)((0,i.Z)({},R.style),{},{animation:me?void 0:"none",opacity:null!==(f=he.hide)&&void 0!==f&&f.referenceHidden?0:void 0})});return(0,c.createElement)("div",{ref:ce,"data-radix-popper-content-wrapper":"",style:(0,r.Z)({position:ue,left:0,top:0,transform:me?"translate3d(".concat(Math.round(le),"px, ").concat(Math.round(de),"px, 0)"):"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:De},"--radix-popper-transform-origin",[null===(h=he.transformOrigin)||void 0===h?void 0:h.x,null===(p=he.transformOrigin)||void 0===p?void 0:p.y].join(" "))},(0,c.createElement)(Ye,{scope:m,placedSide:be,onArrowChange:X,arrowX:ke,arrowY:Ce,shouldHideArrow:Se},Re?(0,c.createElement)($e,{scope:m,hasParent:!0,positionUpdateFns:Le},(0,c.createElement)(Ee.WV.div,Ze)):(0,c.createElement)(Ee.WV.div,Ze)))})),tt="PopperArrow",nt={top:"bottom",right:"left",bottom:"top",left:"right"},rt=(0,c.forwardRef)((function(e,t){var n,a=e.__scopePopper,u=(0,o.Z)(e,De),l=Ke(tt,a),d=nt[l.placedSide];return(0,c.createElement)("span",{ref:l.onArrowChange,style:(n={position:"absolute",left:l.arrowX,top:l.arrowY},(0,r.Z)(n,d,0),(0,r.Z)(n,"transformOrigin",{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide]),(0,r.Z)(n,"transform",{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide]),(0,r.Z)(n,"visibility",l.shouldHideArrow?"hidden":void 0),n)},(0,c.createElement)(Se,(0,s.Z)({},u,{ref:t,style:(0,i.Z)((0,i.Z)({},u.style),{},{display:"block"})})))}));function it(e){return void 0!==e}function ot(e){return null!==e}var at=function(e){return{name:"transformOrigin",options:e,fn:function(t){var n,r,i,o,s,c=t.placement,u=t.rects,l=t.middlewareData,d=0!==(null===(n=l.arrow)||void 0===n?void 0:n.centerOffset),f=d?0:e.arrowWidth,h=d?0:e.arrowHeight,p=st(c),m=(0,a.Z)(p,2),v=m[0],g={start:"0%",center:"50%",end:"100%"}[m[1]],y=(null!==(r=null===(i=l.arrow)||void 0===i?void 0:i.x)&&void 0!==r?r:0)+f/2,b=(null!==(o=null===(s=l.arrow)||void 0===s?void 0:s.y)&&void 0!==o?o:0)+h/2,w="",x="";return"bottom"===v?(w=d?g:"".concat(y,"px"),x="".concat(-h,"px")):"top"===v?(w=d?g:"".concat(y,"px"),x="".concat(u.floating.height+h,"px")):"right"===v?(w="".concat(-h,"px"),x=d?g:"".concat(b,"px")):"left"===v&&(w="".concat(u.floating.width+h,"px"),x=d?g:"".concat(b,"px")),{data:{x:w,y:x}}}}};function st(e){var t=e.split("-"),n=(0,a.Z)(t,2),r=n[0],i=n[1];return[r,void 0===i?"center":i]}var ct=Be,ut=We,lt=et,dt=rt},76344:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r=n(83738),i=n(87462),o=n(47313),a=n(1168),s=n(38040),c=["container"],u=(0,o.forwardRef)((function(e,t){var n,u=e.container,l=void 0===u?null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body:u,d=(0,r.Z)(e,c);return l?a.createPortal((0,o.createElement)(s.WV.div,(0,i.Z)({},d,{ref:t})),l):null}))},96832:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(50678),i=n(47313),o=n(1168),a=n(82299),s=n(44855);var c=function(e){var t=e.present,n=e.children,c=function(e){var t=(0,i.useState)(),n=(0,r.Z)(t,2),a=n[0],c=n[1],l=(0,i.useRef)({}),d=(0,i.useRef)(e),f=(0,i.useRef)("none"),h=function(e,t){return(0,i.useReducer)((function(e,n){var r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(e?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),p=(0,r.Z)(h,2),m=p[0],v=p[1];return(0,i.useEffect)((function(){var e=u(l.current);f.current="mounted"===m?e:"none"}),[m]),(0,s.b)((function(){var t=l.current,n=d.current;if(n!==e){var r=f.current,i=u(t);if(e)v("MOUNT");else if("none"===i||"none"===(null===t||void 0===t?void 0:t.display))v("UNMOUNT");else{v(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}d.current=e}}),[e,v]),(0,s.b)((function(){if(a){var e=function(e){var t=u(l.current).includes(e.animationName);e.target===a&&t&&(0,o.flushSync)((function(){return v("ANIMATION_END")}))},t=function(e){e.target===a&&(f.current=u(l.current))};return a.addEventListener("animationstart",t),a.addEventListener("animationcancel",e),a.addEventListener("animationend",e),function(){a.removeEventListener("animationstart",t),a.removeEventListener("animationcancel",e),a.removeEventListener("animationend",e)}}v("ANIMATION_END")}),[a,v]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:(0,i.useCallback)((function(e){e&&(l.current=getComputedStyle(e)),c(e)}),[])}}(t),l="function"===typeof n?n({present:c.isPresent}):i.Children.only(n),d=(0,a.e)(c.ref,l.ref);return"function"===typeof n||c.isPresent?(0,i.cloneElement)(l,{ref:d}):null};function u(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}c.displayName="Presence"},38040:function(e,t,n){"use strict";n.d(t,{WV:function(){return d},jH:function(){return f}});var r=n(36222),i=n(18489),o=n(83738),a=n(87462),s=n(47313),c=n(1168),u=n(98973),l=["asChild"],d=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=(0,s.forwardRef)((function(e,n){var r=e.asChild,i=(0,o.Z)(e,l),c=r?u.g7:t;return(0,s.useEffect)((function(){window[Symbol.for("radix-ui")]=!0}),[]),(0,s.createElement)(c,(0,a.Z)({},i,{ref:n}))}));return n.displayName="Primitive.".concat(t),(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},t,n))}),{});function f(e,t){e&&(0,c.flushSync)((function(){return e.dispatchEvent(t)}))}},98973:function(e,t,n){"use strict";n.d(t,{g7:function(){return l}});var r=n(18489),i=n(83738),o=n(87462),a=n(47313),s=n(82299),c=["children"],u=["children"],l=(0,a.forwardRef)((function(e,t){var n=e.children,r=(0,i.Z)(e,c),s=a.Children.toArray(n),u=s.find(h);if(u){var l=u.props.children,f=s.map((function(e){return e===u?a.Children.count(l)>1?a.Children.only(null):(0,a.isValidElement)(l)?l.props.children:null:e}));return(0,a.createElement)(d,(0,o.Z)({},r,{ref:t}),(0,a.isValidElement)(l)?(0,a.cloneElement)(l,void 0,f):null)}return(0,a.createElement)(d,(0,o.Z)({},r,{ref:t}),n)}));l.displayName="Slot";var d=(0,a.forwardRef)((function(e,t){var n=e.children,o=(0,i.Z)(e,u);return(0,a.isValidElement)(n)?(0,a.cloneElement)(n,(0,r.Z)((0,r.Z)({},function(e,t){var n=(0,r.Z)({},t),i=function(i){var o=e[i],a=t[i];/^on[A-Z]/.test(i)?n[i]=function(){null===a||void 0===a||a.apply(void 0,arguments),null===o||void 0===o||o.apply(void 0,arguments)}:"style"===i?n[i]=(0,r.Z)((0,r.Z)({},o),a):"className"===i&&(n[i]=[o,a].filter(Boolean).join(" "))};for(var o in t)i(o);return(0,r.Z)((0,r.Z)({},e),n)}(o,n.props)),{},{ref:(0,s.F)(t,n.ref)})):a.Children.count(n)>1?a.Children.only(null):null}));d.displayName="SlotClone";var f=function(e){var t=e.children;return(0,a.createElement)(a.Fragment,null,t)};function h(e){return(0,a.isValidElement)(e)&&e.type===f}},96646:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(47313);function i(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),(0,r.useMemo)((function(){return function(){for(var e,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return null===(n=t.current)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(i))}}),[])}},21747:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(50678),i=n(47313),o=n(96646);function a(e){var t=e.prop,n=e.defaultProp,a=e.onChange,s=void 0===a?function(){}:a,c=function(e){var t=e.defaultProp,n=e.onChange,a=(0,i.useState)(t),s=(0,r.Z)(a,1)[0],c=(0,i.useRef)(s),u=(0,o.W)(n);return(0,i.useEffect)((function(){c.current!==s&&(u(s),c.current=s)}),[s,c,u]),a}({defaultProp:n,onChange:s}),u=(0,r.Z)(c,2),l=u[0],d=u[1],f=void 0!==t,h=f?t:l,p=(0,o.W)(s);return[h,(0,i.useCallback)((function(e){if(f){var n="function"===typeof e?e(t):e;n!==t&&p(n)}else d(e)}),[f,t,d,p])]}},44855:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(47313),i=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:function(){}},86713:function(e,t,n){"use strict";n.d(t,{Gd:function(){return m}});var r=n(66797),i=n(81921),o=n(11048),a=n(99204),s=n(63331),c=n(81645),u=n(14254),l=n(96895),d=function(){function e(e){this.errors=0,this.sid=(0,i.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=u.$.Ok,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:(0,i.DM)()),e.did&&(this.did=""+e.did),"number"===typeof e.started&&(this.started=e.started),"number"===typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"===typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===u.$.Ok?this.update({status:u.$.Exited}):this.update()},e.prototype.toJSON=function(){return(0,l.Jr)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,l.Jr)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),f=function(){function e(e,t,n){void 0===t&&(t=new c.s),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=c.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=(0,i.DM)(),o=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}o={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,(0,r.__assign)((0,r.__assign)({},o),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var o=this._lastEventId=(0,i.DM)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(c){s=c}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,(0,r.__assign)((0,r.__assign)({},a),{event_id:o})),o},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=(0,i.DM)();return this._invokeClient("captureEvent",e,(0,r.__assign)((0,r.__assign)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),a=n.scope,s=n.client;if(a&&s){var c=s.getOptions&&s.getOptions()||{},u=c.beforeBreadcrumb,l=void 0===u?null:u,d=c.maxBreadcrumbs,f=void 0===d?100:d;if(!(f<=0)){var h=(0,o.yW)(),p=(0,r.__assign)({timestamp:h},e),m=l?(0,i.Cf)((function(){return l(p,t)})):p;null!==m&&a.addBreadcrumb(m,Math.min(f,100))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=p(this);try{e(this)}finally{p(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return a.k.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,i=t.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,c=new d((0,r.__assign)((0,r.__assign)({release:a,environment:s},n&&{user:n.getUser()}),e));return n&&n.setSession(c),c},e.prototype.endSession=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&(r.close(),n&&n.captureSession&&n.captureSession(r),t.setSession())}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,(0,r.__spread)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=h(),i=r.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[e])return i.extensions[e].apply(this,t);a.k.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function h(){var e=(0,i.Rf)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function p(e){var t=h(),n=g(t);return y(t,e),n}function m(){var e=h();return v(e)&&!g(e).isOlderThan(3)||y(e,new f),(0,s.KV)()?function(e){try{var t=function(){var e=h().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}();if(!t)return g(e);if(!v(t)||g(t).isOlderThan(3)){var n=g(e).getStackTop();y(t,new f(n.client,c.s.clone(n.scope)))}return g(t)}catch(r){return g(e)}}(e):g(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function g(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new f),e.__SENTRY__.hub}function y(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},81645:function(e,t,n){"use strict";n.d(t,{s:function(){return c},c:function(){return l}});var r=n(66797),i=n(4440),o=n(11048),a=n(89693),s=n(81921),c=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.__spread)(t._breadcrumbs),n._tags=(0,r.__assign)({},t._tags),n._extra=(0,r.__assign)({},t._extra),n._contexts=(0,r.__assign)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.__spread)(t._eventProcessors)),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=(0,r.__assign)((0,r.__assign)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=(0,r.__assign)((0,r.__assign)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=(0,r.__assign)((0,r.__assign)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=(0,r.__assign)((0,r.__assign)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=(0,r.__assign)((0,r.__assign)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,i=this.getSpan();return(null===(e=i)||void 0===e?void 0:e.transaction)?null===(t=i)||void 0===t?void 0:t.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=(0,r.__assign)((0,r.__assign)({},this._tags),t._tags),this._extra=(0,r.__assign)((0,r.__assign)({},this._extra),t._extra),this._contexts=(0,r.__assign)((0,r.__assign)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):(0,i.PO)(t)&&(this._tags=(0,r.__assign)((0,r.__assign)({},this._tags),t.tags),this._extra=(0,r.__assign)((0,r.__assign)({},this._extra),t.extra),this._contexts=(0,r.__assign)((0,r.__assign)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=(0,r.__assign)({timestamp:(0,o.yW)()},e);return this._breadcrumbs=void 0!==t&&t>=0?(0,r.__spread)(this._breadcrumbs,[n]).slice(-t):(0,r.__spread)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=(0,r.__assign)((0,r.__assign)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=(0,r.__assign)((0,r.__assign)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=(0,r.__assign)((0,r.__assign)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=(0,r.__assign)((0,r.__assign)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=(0,r.__assign)({trace:this._span.getTraceContext()},e.contexts);var i=null===(n=this._span.transaction)||void 0===n?void 0:n.name;i&&(e.tags=(0,r.__assign)({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=(0,r.__spread)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors((0,r.__spread)(u(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,o){var s=this;return void 0===o&&(o=0),new a.c((function(a,c){var u=e[o];if(null===t||"function"!==typeof u)a(t);else{var l=u((0,r.__assign)({},t),n);(0,i.J8)(l)?l.then((function(t){return s._notifyEventProcessors(e,t,n,o+1).then(a)})).then(null,c):s._notifyEventProcessors(e,l,n,o+1).then(a).then(null,c)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function u(){var e=(0,s.Rf)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function l(e){u().push(e)}},71150:function(e,t,n){"use strict";n.d(t,{Tb:function(){return a},v:function(){return s},av:function(){return c},$e:function(){return u}});var r=n(66797),i=n(86713);function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=(0,i.Gd)();if(o&&o[e])return o[e].apply(o,(0,r.__spread)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function a(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return o("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function s(e,t){o("setContext",e,t)}function c(e){o("setUser",e)}function u(e){o("withScope",e)}},14254:function(e,t,n){"use strict";var r;n.d(t,{$:function(){return r}}),function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(r||(r={}))},99587:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(4440);function i(e){try{for(var t=e,n=[],r=0,i=0,a=" > ".length,s=void 0;t&&r++<5&&!("html"===(s=o(t))||r>1&&i+n.length*a+s.length>=80);)n.push(s),i+=s.length,t=t.parentNode;return n.reverse().join(" > ")}catch(c){return"<unknown>"}}function o(e){var t,n,i,o,a,s=e,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(t=s.className)&&(0,r.HD)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)i=u[a],(o=s.getAttribute(i))&&c.push("["+i+'="'+o+'"]');return c.join("")}},4440:function(e,t,n){"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(e,Error)}}function i(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function u(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!==typeof Event&&m(e,Event)}function d(e){return"undefined"!==typeof Element&&m(e,Element)}function f(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function h(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function p(e){return u(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function m(e,t){try{return e instanceof t}catch(n){return!1}}n.d(t,{VZ:function(){return r},VW:function(){return i},TX:function(){return o},fm:function(){return a},HD:function(){return s},pt:function(){return c},PO:function(){return u},cO:function(){return l},kK:function(){return d},Kj:function(){return f},J8:function(){return h},Cy:function(){return p},V9:function(){return m}})},99204:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(81921),i=(0,r.Rf)(),o="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.log(o+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.warn(o+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.Cf)((function(){i.console.error(o+"[Error]: "+e.join(" "))}))},e}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},81921:function(e,t,n){"use strict";n.d(t,{Rf:function(){return o},DM:function(){return a},en:function(){return s},jH:function(){return c},Cf:function(){return u},Db:function(){return l},EG:function(){return d},l4:function(){return f},JY:function(){return h}});var r=n(63331),i={};function o(){return(0,r.KV)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function a(){var e=o(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function c(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function u(e){var t=o();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var i=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),i}function l(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function d(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(n){}}function f(){try{return document.location.href}catch(e){return""}}function h(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}},63331:function(e,t,n){"use strict";function r(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function i(e,t){return e.require(t)}n.d(t,{KV:function(){return r},l$:function(){return i}}),e=n.hmd(e)},96895:function(e,t,n){"use strict";n.d(t,{Jr:function(){return y},zf:function(){return g},hl:function(){return u},Fv:function(){return v},Qy:function(){return h},_j:function(){return l}});var r=n(66797),i=n(99587),o=n(4440),a=function(){function e(){this._hasWeakSet="function"===typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}(),s=n(16414),c=n(35507);function u(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"===typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(o){}e[t]=i}}function l(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function d(e){if((0,o.VZ)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if((0,o.cO)(e)){var a=e,s={};s.type=a.type;try{s.target=(0,o.kK)(a.target)?(0,i.R)(a.target):Object.prototype.toString.call(a.target)}catch(c){s.target="<unknown>"}try{s.currentTarget=(0,o.kK)(a.currentTarget)?(0,i.R)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(c){s.currentTarget="<unknown>"}for(var r in"undefined"!==typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a);return s}return e}function f(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function h(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=v(e,t);return f(r)>n?h(e,t-1,n):r}function p(e,t){return"domain"===t&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!==typeof n.g&&e===n.g?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":(0,o.Cy)(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+(0,s.$)(e)+"]":"symbol"===typeof e?"["+String(e)+"]":"bigint"===typeof e?"[BigInt: "+String(e)+"]":e}function m(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"===typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=p(e);return(0,o.pt)(n)?n:t}(t);if(null!==t&&void 0!==t&&"function"===typeof t.toJSON)return t.toJSON();var i=p(t,e);if((0,o.pt)(i))return i;var s=d(t),c=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(c[u]=m(u,s[u],n-1,r));return r.unmemoize(t),c}function v(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return m(e,n,t)})))}catch(n){return"**non-serializable**"}}function g(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,c.$G)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,c.$G)(i,t)}return""}function y(e){var t,n;if((0,o.PO)(e)){var i=e,a={};try{for(var s=(0,r.__values)(Object.keys(i)),c=s.next();!c.done;c=s.next()){var u=c.value;"undefined"!==typeof i[u]&&(a[u]=y(i[u]))}}catch(l){t={error:l}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(y):e}},16414:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r="<anonymous>";function i(e){try{return e&&"function"===typeof e&&e.name||r}catch(t){return r}}},35507:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},nK:function(){return o},zC:function(){return a}});var r=n(4440);function i(e,t){return void 0===t&&(t=0),"string"!==typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):"string"===typeof t&&-1!==e.indexOf(t))}},89693:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r,i=n(4440);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(r||(r={}));var o=function(){function e(e){var t=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(r.RESOLVED,e)},this._reject=function(e){t._setResult(r.REJECTED,e)},this._setResult=function(e,n){t._state===r.PENDING&&((0,i.J8)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==r.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===r.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===r.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,o=[];t.forEach((function(t,a){e.resolve(t).then((function(e){o[a]=e,0===(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(r){return void i(r)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(r){return void i(r)}else i(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}()},11048:function(e,t,n){"use strict";n.d(t,{yW:function(){return c}});var r=n(81921),i=n(63331);e=n.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}};var a=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=(0,r.Rf)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},c=o.nowSeconds.bind(o);s.nowSeconds.bind(s),function(){var e=(0,r.Rf)().performance;if(e)e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}()},14696:function(e,t,n){!function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function i(){}function o(){}o.resetWarningCache=i;var a=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n},s=n((function(e){e.exports=a()}));function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){return h(e)||p(e,t)||m(e,t)||g()}function h(e){if(Array.isArray(e))return e}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var y=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},b=function(e){return null!==e&&"object"===c(e)},w=function(e){return b(e)&&"function"===typeof e.then},x=function(e){return b(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},_="[object Object]",E=function e(t,n){if(!b(t)||!b(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===_;if(i!==(Object.prototype.toString.call(n)===_))return!1;if(!i&&!r)return!1;var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(var s={},c=0;c<o.length;c+=1)s[o[c]]=!0;for(var u=0;u<a.length;u+=1)s[a[u]]=!0;var l=Object.keys(s);if(l.length!==o.length)return!1;var d=t,f=n,h=function(t){return e(d[t],f[t])};return l.every(h)},k=function(e,t,n){return b(e)?Object.keys(e).reduce((function(r,i){var o=!b(t)||!E(e[i],t[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):o?d(d({},r||{}),{},u({},i,e[i])):r}),null):null},C="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",S=function(e){if(null===e||x(e))return e;throw new Error(C)},j=function(e){if(w(e))return{tag:"async",stripePromise:Promise.resolve(e).then(S)};var t=S(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},A=t.createContext(null);A.displayName="ElementsContext";var T=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},I=function(e){var n=e.stripe,r=e.options,i=e.children,o=t.useRef(!1),a=t.useRef(!0),s=t.useMemo((function(){return j(n)}),[n]),c=f(t.useState((function(){return{stripe:null,elements:null}})),2),u=c[0],l=c[1],d=y(n);null!==d&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),o.current||("sync"===s.tag&&(o.current=!0,l({stripe:s.stripe,elements:s.stripe.elements(r)})),"async"===s.tag&&(o.current=!0,s.stripePromise.then((function(e){e&&a.current&&l({stripe:e,elements:e.elements(r)})}))));var h=y(r);return t.useEffect((function(){if(u.elements){var e=k(r,h,["clientSecret","fonts"]);e&&u.elements.update(e)}}),[r,h,u.elements]),t.useEffect((function(){return function(){a.current=!1}}),[]),t.useEffect((function(){var e=u.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"1.6.0",url:"https://stripe.com/docs/stripe-js/react"}))}),[u.stripe]),t.createElement(A.Provider,{value:u},i)};I.propTypes={stripe:s.any,options:s.object};var O=function(e){var n=t.useContext(A);return T(n,e)},D=function(){return O("calls useElements()").elements},N=function(){return O("calls useStripe()").stripe},P=function(e){return(0,e.children)(O("mounts <ElementsConsumer>"))};P.propTypes={children:s.func.isRequired};var M=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},L=function(){},R=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Z=function(e,n){var r="".concat(R(e),"Element"),i=n?function(e){O("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i=n.id,o=n.className,a=n.options,s=void 0===a?{}:a,c=n.onBlur,u=void 0===c?L:c,l=n.onFocus,d=void 0===l?L:l,f=n.onReady,h=void 0===f?L:f,p=n.onChange,m=void 0===p?L:p,v=n.onEscape,g=void 0===v?L:v,b=n.onClick,w=void 0===b?L:b,x=O("mounts <".concat(r,">")).elements,_=t.useRef(null),E=t.useRef(null),C=M(h),S=M(u),j=M(d),A=M(w),T=M(m),I=M(g);t.useLayoutEffect((function(){if(null==_.current&&x&&null!=E.current){var t=x.create(e,s);_.current=t,t.mount(E.current),t.on("ready",(function(){return C(t)})),t.on("change",T),t.on("blur",S),t.on("focus",j),t.on("escape",I),t.on("click",A)}}));var D=y(s);return t.useEffect((function(){if(_.current){var e=k(s,D,["paymentRequest"]);e&&_.current.update(e)}}),[s,D]),t.useLayoutEffect((function(){return function(){_.current&&_.current.destroy()}}),[]),t.createElement("div",{id:i,className:o,ref:E})};return i.propTypes={id:s.string,className:s.string,onChange:s.func,onBlur:s.func,onFocus:s.func,onReady:s.func,onClick:s.func,options:s.object},i.displayName=r,i.__elementType=e,i},F="undefined"===typeof window,U=Z("auBankAccount",F),z=Z("card",F),B=Z("cardNumber",F),V=Z("cardExpiry",F),W=Z("cardCvc",F),H=Z("fpxBank",F),q=Z("iban",F),G=Z("idealBank",F),Y=Z("p24Bank",F),K=Z("epsBank",F),Q=Z("payment",F),X=Z("paymentRequestButton",F),$=Z("linkAuthentication",F),J=Z("shippingAddress",F),ee=Z("afterpayClearpayMessage",F);e.AfterpayClearpayMessageElement=ee,e.AuBankAccountElement=U,e.CardCvcElement=W,e.CardElement=z,e.CardExpiryElement=V,e.CardNumberElement=B,e.Elements=I,e.ElementsConsumer=P,e.EpsBankElement=K,e.FpxBankElement=H,e.IbanElement=q,e.IdealBankElement=G,e.LinkAuthenticationElement=$,e.P24BankElement=Y,e.PaymentElement=Q,e.PaymentRequestButtonElement=X,e.ShippingAddressElement=J,e.useElements=D,e.useStripe=N,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(47313))},41433:function(e){function t(){}e.exports=function(e,n,r){var i=!1;return r=r||t,o.count=e,0===e?n():o;function o(e,t){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,n(e),n=r):0!==o.count||i||n(null,t)}}},41996:function(e,t,n){"use strict";n.d(t,{R:function(){return s}});var r=new WeakMap,i=new WeakMap,o={},a=0,s=function(e,t,n){void 0===t&&(t=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===n&&(n="data-aria-hidden");var s=Array.isArray(e)?e:[e];o[n]||(o[n]=new WeakMap);var c=o[n],u=[],l=new Set;s.forEach((function e(t){t&&!l.has(t)&&(l.add(t),e(t.parentNode))}));return function e(t){!t||s.indexOf(t)>=0||Array.prototype.forEach.call(t.children,(function(t){if(l.has(t))e(t);else{var o=t.getAttribute("aria-hidden"),a=null!==o&&"false"!==o,s=(r.get(t)||0)+1,d=(c.get(t)||0)+1;r.set(t,s),c.set(t,d),u.push(t),1===s&&a&&i.set(t,!0),1===d&&t.setAttribute(n,"true"),a||t.setAttribute("aria-hidden","true")}}))}(t),l.clear(),a++,function(){u.forEach((function(e){var t=r.get(e)-1,o=c.get(e)-1;r.set(e,t),c.set(e,o),t||(i.has(e)||e.removeAttribute("aria-hidden"),i.delete(e)),o||e.removeAttribute(n)})),--a||(r=new WeakMap,r=new WeakMap,i=new WeakMap,o={})}}},72855:function(e){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},79375:function(e){function t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=t,t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},t.prototype.reset=function(){this.attempts=0},t.prototype.setMin=function(e){this.ms=e},t.prototype.setMax=function(e){this.max=e},t.prototype.setJitter=function(e){this.jitter=e}},55354:function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var n,r,i,o,a,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(n=0;n<c;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),d[u++]=r<<2|i>>4,d[u++]=(15&i)<<4|o>>2,d[u++]=(3&o)<<6|63&a;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},86202:function(e){var t="undefined"!==typeof t?t:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=t&&t.prototype.append&&t.prototype.getBlob;function o(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function a(e,n){n=n||{};var r=new t;return o(e).forEach((function(e){r.append(e)})),n.type?r.getBlob(n.type):r.getBlob()}function s(e,t){return new Blob(o(e),t||{})}"undefined"!==typeof Blob&&(a.prototype=Blob.prototype,s.prototype=Blob.prototype),e.exports=n?r?Blob:s:i?a:void 0},18434:function(e,t,n){"use strict";n.d(t,{I$:function(){return s}});var r=n(33032),i=n(84322),o=function(){if("top"in self&&self!==top)try{top.location}catch(e){return!1}else{if("chooseFileSystemEntries"in self)return"chooseFileSystemEntries";if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1}(),a=o?"chooseFileSystemEntries"===o?n.e(953).then(n.bind(n,47953)):n.e(745).then(n.bind(n,16745)):n.e(12).then(n.bind(n,97012));function s(){return c.apply(this,arguments)}function c(){return c=(0,r.Z)(i.mark((function e(){var t,n=arguments;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}o?"chooseFileSystemEntries"===o?n.e(574).then(n.bind(n,69574)):n.e(621).then(n.bind(n,50621)):n.e(221).then(n.bind(n,55221));o?"chooseFileSystemEntries"===o?n.e(604).then(n.bind(n,78604)):n.e(170).then(n.bind(n,20170)):n.e(965).then(n.bind(n,59965))},44680:function(e,t,n){"use strict";var r=n(28476),i=n(59962),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},59962:function(e,t,n){"use strict";var r=n(1199),i=n(28476),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(f){u=null}e.exports=function(e){var t=s(r,a,arguments);if(c&&u){var n=c(t,"length");n.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var d=function(){return s(r,o,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},83061:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},51813:function(e){var t=[].slice;e.exports=function(e,n){if("string"==typeof n&&(n=e[n]),"function"!=typeof n)throw new Error("bind() requires a function");var r=t.call(arguments,2);return function(){return n.apply(e,r.concat(t.call(arguments)))}}},69380:function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},20690:function(e){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},92229:function(e,t,n){"use strict";var r=n(43071),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,c,u,l=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[t.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),u&&document.body.removeChild(u),a()}return l}},17540:function(e,t,n){t.UINT32=n(77039),t.UINT64=n(64774)},77039:function(e,t){var n;!function(r){i(Math.pow(36,5)),i(Math.pow(16,7)),i(Math.pow(10,9)),i(Math.pow(2,30)),i(36),i(16),i(10),i(2);function i(e,t){return this instanceof i?(this._low=0,this._high=0,this.remainder=null,"undefined"==typeof t?a.call(this,e):"string"==typeof e?s.call(this,e,t):void o.call(this,e,t)):new i(e,t)}function o(e,t){return this._low=0|e,this._high=0|t,this}function a(e){return this._low=65535&e,this._high=e>>>16,this}function s(e,t){var n=parseInt(e,t||10);return this._low=65535&n,this._high=n>>>16,this}i.prototype.fromBits=o,i.prototype.fromNumber=a,i.prototype.fromString=s,i.prototype.toNumber=function(){return 65536*this._high+this._low},i.prototype.toString=function(e){return this.toNumber().toString(e||10)},i.prototype.add=function(e){var t=this._low+e._low,n=t>>>16;return n+=this._high+e._high,this._low=65535&t,this._high=65535&n,this},i.prototype.subtract=function(e){return this.add(e.clone().negate())},i.prototype.multiply=function(e){var t,n,r=this._high,i=this._low,o=e._high,a=e._low;return t=(n=i*a)>>>16,t+=r*a,t&=65535,t+=i*o,this._low=65535&n,this._high=65535&t,this},i.prototype.div=function(e){if(0==e._low&&0==e._high)throw Error("division by zero");if(0==e._high&&1==e._low)return this.remainder=new i(0),this;if(e.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(e))return this.remainder=new i(0),this._low=1,this._high=0,this;for(var t=e.clone(),n=-1;!this.lt(t);)t.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._low=0,this._high=0;n>=0;n--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),n>=16?this._high|=1<<n-16:this._low|=1<<n);return this},i.prototype.negate=function(){var e=1+(65535&~this._low);return this._low=65535&e,this._high=~this._high+(e>>>16)&65535,this},i.prototype.equals=i.prototype.eq=function(e){return this._low==e._low&&this._high==e._high},i.prototype.greaterThan=i.prototype.gt=function(e){return this._high>e._high||!(this._high<e._high)&&this._low>e._low},i.prototype.lessThan=i.prototype.lt=function(e){return this._high<e._high||!(this._high>e._high)&&this._low<e._low},i.prototype.or=function(e){return this._low|=e._low,this._high|=e._high,this},i.prototype.and=function(e){return this._low&=e._low,this._high&=e._high,this},i.prototype.not=function(){return this._low=65535&~this._low,this._high=65535&~this._high,this},i.prototype.xor=function(e){return this._low^=e._low,this._high^=e._high,this},i.prototype.shiftRight=i.prototype.shiftr=function(e){return e>16?(this._low=this._high>>e-16,this._high=0):16==e?(this._low=this._high,this._high=0):(this._low=this._low>>e|this._high<<16-e&65535,this._high>>=e),this},i.prototype.shiftLeft=i.prototype.shiftl=function(e,t){return e>16?(this._high=this._low<<e-16,this._low=0,t||(this._high&=65535)):16==e?(this._high=this._low,this._low=0):(this._high=this._high<<e|this._low>>16-e,this._low=this._low<<e&65535,t||(this._high&=65535)),this},i.prototype.rotateLeft=i.prototype.rotl=function(e){var t=this._high<<16|this._low;return t=t<<e|t>>>32-e,this._low=65535&t,this._high=t>>>16,this},i.prototype.rotateRight=i.prototype.rotr=function(e){var t=this._high<<16|this._low;return t=t>>>e|t<<32-e,this._low=65535&t,this._high=t>>>16,this},i.prototype.clone=function(){return new i(this._low,this._high)},void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},64774:function(e,t){var n;!function(r){var i={16:a(Math.pow(16,5)),10:a(Math.pow(10,5)),2:a(Math.pow(2,5))},o={16:a(16),10:a(10),2:a(2)};function a(e,t,n,r){return this instanceof a?(this.remainder=null,"string"==typeof e?u.call(this,e,t):"undefined"==typeof t?c.call(this,e):void s.apply(this,arguments)):new a(e,t,n,r)}function s(e,t,n,r){return"undefined"==typeof n?(this._a00=65535&e,this._a16=e>>>16,this._a32=65535&t,this._a48=t>>>16,this):(this._a00=0|e,this._a16=0|t,this._a32=0|n,this._a48=0|r,this)}function c(e){return this._a00=65535&e,this._a16=e>>>16,this._a32=0,this._a48=0,this}function u(e,t){t=t||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var n=i[t]||new a(Math.pow(t,5)),r=0,o=e.length;r<o;r+=5){var s=Math.min(5,o-r),c=parseInt(e.slice(r,r+s),t);this.multiply(s<5?new a(Math.pow(t,s)):n).add(new a(c))}return this}a.prototype.fromBits=s,a.prototype.fromNumber=c,a.prototype.fromString=u,a.prototype.toNumber=function(){return 65536*this._a16+this._a00},a.prototype.toString=function(e){var t=o[e=e||10]||new a(e);if(!this.gt(t))return this.toNumber().toString(e);for(var n=this.clone(),r=new Array(64),i=63;i>=0&&(n.div(t),r[i]=n.remainder.toNumber().toString(e),n.gt(t));i--);return r[i-1]=n.toNumber().toString(e),r.join("")},a.prototype.add=function(e){var t=this._a00+e._a00,n=t>>>16,r=(n+=this._a16+e._a16)>>>16,i=(r+=this._a32+e._a32)>>>16;return i+=this._a48+e._a48,this._a00=65535&t,this._a16=65535&n,this._a32=65535&r,this._a48=65535&i,this},a.prototype.subtract=function(e){return this.add(e.clone().negate())},a.prototype.multiply=function(e){var t=this._a00,n=this._a16,r=this._a32,i=this._a48,o=e._a00,a=e._a16,s=e._a32,c=t*o,u=c>>>16,l=(u+=t*a)>>>16;u&=65535,l+=(u+=n*o)>>>16;var d=(l+=t*s)>>>16;return l&=65535,d+=(l+=n*a)>>>16,l&=65535,d+=(l+=r*o)>>>16,d+=t*e._a48,d&=65535,d+=n*s,d&=65535,d+=r*a,d&=65535,d+=i*o,this._a00=65535&c,this._a16=65535&u,this._a32=65535&l,this._a48=65535&d,this},a.prototype.div=function(e){if(0==e._a16&&0==e._a32&&0==e._a48){if(0==e._a00)throw Error("division by zero");if(1==e._a00)return this.remainder=new a(0),this}if(e.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(e))return this.remainder=new a(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var t=e.clone(),n=-1;!this.lt(t);)t.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;n>=0;n--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),n>=48?this._a48|=1<<n-48:n>=32?this._a32|=1<<n-32:n>=16?this._a16|=1<<n-16:this._a00|=1<<n);return this},a.prototype.negate=function(){var e=1+(65535&~this._a00);return this._a00=65535&e,e=(65535&~this._a16)+(e>>>16),this._a16=65535&e,e=(65535&~this._a32)+(e>>>16),this._a32=65535&e,this._a48=~this._a48+(e>>>16)&65535,this},a.prototype.equals=a.prototype.eq=function(e){return this._a48==e._a48&&this._a00==e._a00&&this._a32==e._a32&&this._a16==e._a16},a.prototype.greaterThan=a.prototype.gt=function(e){return this._a48>e._a48||!(this._a48<e._a48)&&(this._a32>e._a32||!(this._a32<e._a32)&&(this._a16>e._a16||!(this._a16<e._a16)&&this._a00>e._a00))},a.prototype.lessThan=a.prototype.lt=function(e){return this._a48<e._a48||!(this._a48>e._a48)&&(this._a32<e._a32||!(this._a32>e._a32)&&(this._a16<e._a16||!(this._a16>e._a16)&&this._a00<e._a00))},a.prototype.or=function(e){return this._a00|=e._a00,this._a16|=e._a16,this._a32|=e._a32,this._a48|=e._a48,this},a.prototype.and=function(e){return this._a00&=e._a00,this._a16&=e._a16,this._a32&=e._a32,this._a48&=e._a48,this},a.prototype.xor=function(e){return this._a00^=e._a00,this._a16^=e._a16,this._a32^=e._a32,this._a48^=e._a48,this},a.prototype.not=function(){return this._a00=65535&~this._a00,this._a16=65535&~this._a16,this._a32=65535&~this._a32,this._a48=65535&~this._a48,this},a.prototype.shiftRight=a.prototype.shiftr=function(e){return(e%=64)>=48?(this._a00=this._a48>>e-48,this._a16=0,this._a32=0,this._a48=0):e>=32?(e-=32,this._a00=65535&(this._a32>>e|this._a48<<16-e),this._a16=this._a48>>e&65535,this._a32=0,this._a48=0):e>=16?(e-=16,this._a00=65535&(this._a16>>e|this._a32<<16-e),this._a16=65535&(this._a32>>e|this._a48<<16-e),this._a32=this._a48>>e&65535,this._a48=0):(this._a00=65535&(this._a00>>e|this._a16<<16-e),this._a16=65535&(this._a16>>e|this._a32<<16-e),this._a32=65535&(this._a32>>e|this._a48<<16-e),this._a48=this._a48>>e&65535),this},a.prototype.shiftLeft=a.prototype.shiftl=function(e,t){return(e%=64)>=48?(this._a48=this._a00<<e-48,this._a32=0,this._a16=0,this._a00=0):e>=32?(e-=32,this._a48=this._a16<<e|this._a00>>16-e,this._a32=this._a00<<e&65535,this._a16=0,this._a00=0):e>=16?(e-=16,this._a48=this._a32<<e|this._a16>>16-e,this._a32=65535&(this._a16<<e|this._a00>>16-e),this._a16=this._a00<<e&65535,this._a00=0):(this._a48=this._a48<<e|this._a32>>16-e,this._a32=65535&(this._a32<<e|this._a16>>16-e),this._a16=65535&(this._a16<<e|this._a00>>16-e),this._a00=this._a00<<e&65535),t||(this._a48&=65535),this},a.prototype.rotateLeft=a.prototype.rotl=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n<<e|r>>>32-e,o=r<<e|n>>>32-e;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},a.prototype.rotateRight=a.prototype.rotr=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n>>>e|r<<32-e,o=r>>>e|n<<32-e;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},a.prototype.clone=function(){return new a(this._a00,this._a16,this._a32,this._a48)},void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},10658:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",c="week",u="month",l="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,u),o=n-i<0,a=t.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:c,d:s,D:f,h:a,m:o,s:i,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=v;var x=function(e){return e instanceof C},_=function(e,t,n){var r;if(!e)return b;if("string"==typeof e)w[e]&&(r=e),t&&(w[e]=t,r=e);else{var i=e.name;w[i]=e,r=i}return!n&&r&&(b=r),r||!n&&b},E=function(e,t){if(x(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},k=y;k.l=_,k.i=x,k.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function v(e){this.$L=_(e.locale,null,!0),this.parse(e)}var g=v.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return k},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return E(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<E(e)},g.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!k.u(t)||t,l=k.p(e),h=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},p=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?h(1,0):h(31,11);case u:return r?h(1,v):h(0,v+1);case c:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return h(r?g-w:g+(6-w),v);case s:case f:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,c=k.p(e),l="set"+(this.$u?"UTC":""),h=(n={},n[s]=l+"Date",n[f]=l+"Date",n[u]=l+"Month",n[d]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],p=c===s?this.$D+(t-this.$W):t;if(c===u||c===d){var m=this.clone().set(f,1);m.$d[h](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[k.p(e)]()},g.add=function(r,l){var f,h=this;r=Number(r);var p=k.p(l),m=function(e){var t=E(h);return k.w(t.date(t.date()+Math.round(e*r)),h)};if(p===u)return this.set(u,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===s)return m(1);if(p===c)return m(7);var v=(f={},f[o]=t,f[a]=n,f[i]=e,f)[p]||1,g=this.$d.getTime()+r*v;return k.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this;if(!this.isValid())return h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=k.z(this),i=this.$locale(),o=this.$H,a=this.$m,s=this.$M,c=i.weekdays,u=i.months,l=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].substr(0,o)},d=function(e){return k.s(o%12||12,e,"0")},f=i.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:k.s(s+1,2,"0"),MMM:l(i.monthsShort,s,u,3),MMMM:l(u,s),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,c,2),ddd:l(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:k.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:k.s(a,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:r};return n.replace(m,(function(e,t){return t||p[e]||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,f,h){var p,m=k.p(f),v=E(r),g=(v.utcOffset()-this.utcOffset())*t,y=this-v,b=k.m(this,v);return b=(p={},p[d]=b/12,p[u]=b,p[l]=b/3,p[c]=(y-g)/6048e5,p[s]=(y-g)/864e5,p[a]=y/n,p[o]=y/t,p[i]=y/e,p)[m]||y,h?b:k.a(b)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return w[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=_(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return k.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),S=C.prototype;return E.prototype=S,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",u],["$y",d],["$D",f]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,C,E),e.$i=!0),E},E.locale=_,E.isDayjs=x,E.unix=function(e){return E(1e3*e)},E.en=w[b],E.Ls=w,E.p={},E}()},92128:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}()},59694:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,i){return r.fromToBase(e,t,n,i)}n.en.relativeTime=i,r.fromToBase=function(t,r,o,a,s){for(var c,u,l,d=o.$locale().relativeTime||i,f=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=f.length,p=0;p<h;p+=1){var m=f[p];m.d&&(c=a?n(t).diff(o,m.d,!0):o.diff(t,m.d,!0));var v=(e.rounding||Math.round)(Math.abs(c));if(l=c>0,v<=m.r||!m.r){v<=1&&p>0&&(m=f[p-1]);var g=d[m.l];s&&(v=s(""+v)),u="string"==typeof g?g.replace("%d",v):g(v,r,m.l,l);break}}if(r)return u;var y=l?d.future:d.past;return"function"==typeof y?y(u):y.replace("%s",u)},r.to=function(e,t){return o(e,t,this,!0)},r.from=function(e,t){return o(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}}()},87925:function(e){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},64331:function(e,t,n){e.exports=n(92829),e.exports.parser=n(46211)},92829:function(e,t,n){var r=n(88011),i=n(69380),o=n(53489)("engine.io-client:socket"),a=n(69272),s=n(46211),c=n(45176),u=n(31905);function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=n(21776),l.transports=n(88011),l.parser=n(46211),l.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),f(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}})))}function a(){n||(n=!0,f(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function c(){s("transport closed")}function u(){s("socket closed")}function d(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function f(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",d)}l.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",c),this.once("close",u),this.once("upgrading",d),t.open()},l.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},l.prototype.sendPacket=function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},l.prototype.onError=function(e){o("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}},21776:function(e,t,n){var r=n(46211),i=n(69380);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},88011:function(e,t,n){var r=n(44163),i=n(13233),o=n(18833),a=n(86177);t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},t.websocket=a},18833:function(e,t,n){var r=n(91450),i=n(20690),o=n(87925);e.exports=l;var a,s=/\n/g,c=/\\n/g;function u(){}function l(e){r.call(this,e),this.query=this.query||{},a||(a=o.___eio=o.___eio||[]),this.index=a.length;var t=this;a.push((function(e){t.onData(e)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=u)}),!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=a,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function u(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),e=e.replace(c,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}},13233:function(e,t,n){var r=n(44163),i=n(91450),o=n(69380),a=n(20690),s=n(53489)("engine.io-client:polling-xhr"),c=n(87925);function u(){}function l(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=l,e.exports.Request=d,a(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},l.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},l.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"===typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout((function(){n.onError(o)}),0)}"undefined"!==typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",f);else if("function"===typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",f,!1)}function f(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}},91450:function(e,t,n){var r=n(21776),i=n(31905),o=n(46211),a=n(20690),s=n(40276),c=n(53489)("engine.io-client:polling");e.exports=l;var u=null!=new(n(44163))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}a(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;c("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},86177:function(e,t,n){var r,i,o=n(21776),a=n(46211),s=n(31905),c=n(20690),u=n(40276),l=n(53489)("engine.io-client:websocket");if("undefined"!==typeof WebSocket?r=WebSocket:"undefined"!==typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{i=n(77020)}catch(h){}var d=r||i;function f(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=i),o.call(this,e)}e.exports=f,c(f,o),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={};this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},f.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){a.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),t.perMessageDeflate)("string"===typeof r?Buffer.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,i)}catch(h){l("websocket closed before onclose event")}--n||o()}))}(e[r]);function o(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},f.prototype.onClose=function(){o.prototype.onClose.call(this)},f.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},f.prototype.check=function(){return!!d&&!("__initialize"in d&&this.name===f.prototype.name)}},44163:function(e,t,n){var r=n(12457),i=n(87925);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(a){}try{if("undefined"!==typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(a){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(a){}}},53489:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"}.DEBUG),e}(t=e.exports=n(90197)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},90197:function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var o=a[c];n=i.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a);var u=r.log||t.log||console.log.bind(console);u.apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(98400),t.instances=[],t.names=[],t.skips=[],t.formatters={}},98400:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,o=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return s.long?a(c=e,i,"day")||a(c,r,"hour")||a(c,n,"minute")||a(c,t,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},46211:function(e,t,n){var r,i=n(61899),o=n(60224),a=n(72855),s=n(41433),c=n(16097);"undefined"!==typeof ArrayBuffer&&(r=n(55354));var u="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=u||l;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=i(f),p={type:"error",data:"parser error"},m=n(86202);function v(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),o=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},a=0;a<e.length;a++)o(a,e[a],i)}t.encodePacket=function(e,n,r,i){"function"===typeof n&&(i=n,n=!1),"function"===typeof r&&(i=r,r=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=f[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}(e,n,i);if("undefined"!==typeof m&&o instanceof m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=f[e.type];var o=new m([i.buffer,e.data]);return r(o)}(e,n,i);if(o&&o.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,i);var a=f[e.type];return void 0!==e.data&&(a+=r?c.encode(String(e.data),{strict:!1}):String(e.data)),i(""+a)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if("undefined"!==typeof m&&e.data instanceof m){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(u){for(var a=new Uint8Array(e.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c];r=String.fromCharCode.apply(null,s)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return p;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return p;var i=e.charAt(0);return Number(i)==i&&h[i]?e.length>1?{type:h[i],data:e.substring(1)}:{type:h[i]}:p}i=new Uint8Array(e)[0];var o=a(e,1);return m&&"blob"===n&&(o=new m([o])),{type:h[i],data:o}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"===typeof n&&(r=n,n=null);var i=o(e);if(n&&i)return m&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");v(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!==typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"===typeof n&&(r=n,n=null),""===e)return r(p,0,1);for(var o,a,s="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"===l){if(""===s||s!=(o=Number(s)))return r(p,0,1);if(s!=(a=e.substr(c+1,o)).length)return r(p,0,1);if(a.length){if(i=t.decodePacket(a,n,!1),p.type===i.type&&p.data===i.data)return r(p,0,1);if(!1===r(i,c+o,u))return}c+=o,s=""}else s+=l}return""!==s?r(p,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));v(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){var t="string"===typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){v(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,m){var s=new m([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"===typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],u="",l=1;255!==s[l];l++){if(u.length>310)return r(p,0,1);u+=s[l]}i=a(i,2+u.length),u=parseInt(u);var d=a(i,0,u);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(m){var f=new Uint8Array(d);d="";for(l=0;l<f.length;l++)d+=String.fromCharCode(f[l])}o.push(d),i=a(i,u)}var h=o.length;o.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,h)}))}},61899:function(e){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},16097:function(e){var t,n,r,i=String.fromCharCode;function o(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function s(e,t){return i(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return i(e);var n="";return 0==(4294965248&e)?n=i(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),n=i(e>>12&15|224),n+=s(e,6)):0==(4292870144&e)&&(n=i(e>>18&7|240),n+=s(e,12),n+=s(e,6)),n+=i(63&e|128)}function u(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(e){var i,o;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(i=255&t[r],r++,0==(128&i))return i;if(192==(224&i)){if((o=(31&i)<<6|u())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&i)){if((o=(15&i)<<12|u()<<6|u())>=2048)return a(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&i)&&(o=(7&i)<<18|u()<<12|u()<<6|u())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=o(e),i=r.length,a=-1,s="";++a<i;)s+=c(r[a],n);return s},decode:function(e,a){var s=!1!==(a=a||{}).strict;t=o(e),n=t.length,r=0;for(var c,u=[];!1!==(c=l(s));)u.push(c);return function(e){for(var t,n=e.length,r=-1,o="";++r<n;)(t=e[r])>65535&&(o+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=i(t);return o}(u)}}},10859:function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var i=r(n(64760));i.default.registerVersion("firebase","7.24.0","app"),e.exports=i.default},2781:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!==typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var a,s=n.call(arguments,1),c=function(){if(this instanceof a){var t=o.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(n.call(arguments)))},u=Math.max(0,o.length-s.length),l=[],d=0;d<u;d++)l.push("$"+d);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),o.prototype){var f=function(){};f.prototype=o.prototype,a.prototype=new f,f.prototype=null}return a}},1199:function(e,t,n){"use strict";var r=n(2781);e.exports=Function.prototype.bind||r},28476:function(e,t,n){"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(A){c=null}var u=function(){throw new a},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(t){return u}}}():u,d=n(95520)(),f=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"===typeof Uint8Array?r:f(Uint8Array),m={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},v=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=f(i.prototype))}return m[t]=n,n},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(1199),b=n(37838),w=y.call(Function.call,Array.prototype.concat),x=y.call(Function.apply,Array.prototype.splice),_=y.call(Function.call,String.prototype.replace),E=y.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,S=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return _(e,k,(function(e,t,n,i){r[r.length]=n?_(i,C,"$1"):t||e})),r},j=function(e,t){var n,r=e;if(b(g,r)&&(r="%"+(n=g[r])[0]+"%"),b(m,r)){var o=m[r];if(o===h&&(o=v(r)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');var n=S(e),r=n.length>0?n[0]:"",o=j("%"+r+"%",t),s=o.name,u=o.value,l=!1,d=o.alias;d&&(r=d[0],x(n,w([0,1],d)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f],v=E(p,0,1),g=E(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===g||"'"===g||"`"===g)&&v!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),b(m,s="%"+(r+="."+p)+"%"))u=m[s];else if(null!=u){if(!(p in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&f+1>=n.length){var y=c(u,p);u=(h=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[p]}else h=b(u,p),u=u[p];h&&!l&&(m[s]=u)}}return u}},60224:function(e,t,n){var r=n(12833),i=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(t){if(!t||"object"!==typeof t)return!1;if(r(t)){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if("function"===typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t)||"function"===typeof ArrayBuffer&&t instanceof ArrayBuffer||o&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return!0;return!1}},12833:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},12457:function(e){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},95520:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(80541);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},80541:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},37838:function(e,t,n){"use strict";var r=n(1199);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},77480:function(e,t,n){"use strict";n.d(t,{lX:function(){return E},q_:function(){return T},ob:function(){return m},PP:function(){return O},Ep:function(){return p},Hp:function(){return v}});var r=n(87462);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),c=t&&i(t),u=s||c;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var d=0,f=a.length;f>=0;f--){var h=a[f];"."===h?o(a,f):".."===h?(o(a,f),d++):d&&(o(a,f),d--)}if(!u)for(;d--;d)a.unshift("..");!u||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(38618);function l(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=(0,r.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",x="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),y||(0,u.Z)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,c=o.getUserConfirmation,d=void 0===c?b:c,v=o.keyLength,E=void 0===v?6:v,k=e.basename?h(l(e.basename)):"";function C(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return k&&(o=f(o,k)),m(o,r,n)}function S(){return Math.random().toString(36).substr(2,E)}var j=g();function A(e){(0,r.Z)(U,e),U.length=t.length,j.notifyListeners(U.location,U.action)}function T(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(C(e.state))}function I(){D(C(_()))}var O=!1;function D(e){if(O)O=!1,A();else{j.confirmTransitionTo(e,"POP",d,(function(t){t?A({action:"POP",location:e}):function(e){var t=U.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(O=!0,L(i))}(e)}))}}var N=C(_()),P=[N.key];function M(e){return k+p(e)}function L(e){t.go(e)}var R=0;function Z(e){1===(R+=e)&&1===e?(window.addEventListener(w,T),i&&window.addEventListener(x,I)):0===R&&(window.removeEventListener(w,T),i&&window.removeEventListener(x,I))}var F=!1;var U={length:t.length,action:"POP",location:N,createHref:M,push:function(e,r){var i="PUSH",o=m(e,r,S(),U.location);j.confirmTransitionTo(o,i,d,(function(e){if(e){var r=M(o),a=o.key,c=o.state;if(n)if(t.pushState({key:a,state:c},null,r),s)window.location.href=r;else{var u=P.indexOf(U.location.key),l=P.slice(0,u+1);l.push(o.key),P=l,A({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=m(e,r,S(),U.location);j.confirmTransitionTo(o,i,d,(function(e){if(e){var r=M(o),a=o.key,c=o.state;if(n)if(t.replaceState({key:a,state:c},null,r),s)window.location.replace(r);else{var u=P.indexOf(U.location.key);-1!==u&&(P[u]=o.key),A({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=j.setPrompt(e);return F||(Z(1),F=!0),function(){return F&&(F=!1,Z(-1)),t()}},listen:function(e){var t=j.appendListener(e);return Z(1),function(){Z(-1),t()}}};return U}var k="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:l},slash:{encodePath:l,decodePath:l}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(S(window.location.href)+"#"+e)}function T(e){void 0===e&&(e={}),y||(0,u.Z)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,c=e.basename?h(l(e.basename)):"",d=C[s],v=d.encodePath,w=d.decodePath;function x(){var e=w(j());return c&&(e=f(e,c)),m(e)}var _=g();function E(e){(0,r.Z)(U,e),U.length=t.length,_.notifyListeners(U.location,U.action)}var T=!1,I=null;function O(){var e,t,n=j(),r=v(n);if(n!==r)A(r);else{var i=x(),a=U.location;if(!T&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(I===p(i))return;I=null,function(e){if(T)T=!1,E();else{var t="POP";_.confirmTransitionTo(e,t,o,(function(n){n?E({action:t,location:e}):function(e){var t=U.location,n=M.lastIndexOf(p(t));-1===n&&(n=0);var r=M.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(T=!0,L(i))}(e)}))}}(i)}}var D=j(),N=v(D);D!==N&&A(N);var P=x(),M=[p(P)];function L(e){t.go(e)}var R=0;function Z(e){1===(R+=e)&&1===e?window.addEventListener(k,O):0===R&&window.removeEventListener(k,O)}var F=!1;var U={length:t.length,action:"POP",location:P,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+v(c+p(e))},push:function(e,t){var n="PUSH",r=m(e,void 0,void 0,U.location);_.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=v(c+t);if(j()!==i){I=t,function(e){window.location.hash=e}(i);var o=M.lastIndexOf(p(U.location)),a=M.slice(0,o+1);a.push(t),M=a,E({action:n,location:r})}else E()}}))},replace:function(e,t){var n="REPLACE",r=m(e,void 0,void 0,U.location);_.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=v(c+t);j()!==i&&(I=t,A(i));var o=M.indexOf(p(U.location));-1!==o&&(M[o]=t),E({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return F||(Z(1),F=!0),function(){return F&&(F=!1,Z(-1)),t()}},listen:function(e){var t=_.appendListener(e);return Z(1),function(){Z(-1),t()}}};return U}function I(e,t,n){return Math.min(Math.max(e,t),n)}function O(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,c=t.keyLength,u=void 0===c?6:c,l=g();function d(e){(0,r.Z)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,u)}var h=I(s,0,o.length-1),v=o.map((function(e){return m(e,void 0,"string"===typeof e?f():e.key||f())})),y=p;function b(e){var t=I(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var w={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:y,push:function(e,t){var r="PUSH",i=m(e,t,f(),w.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=m(e,t,f(),w.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(w.entries[w.index]=i,d({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},67861:function(e,t,n){"use strict";var r=n(96214),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=f(n,g);try{u(t,g,y)}catch(b){}}}}return t}},64890:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function d(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function h(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function m(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new h(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function v(e){return r(indexedDB,"deleteDatabase",[e])}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),d.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},d.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(d,"_store",["name","keyPath","indexNames","autoIncrement"]),a(d,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(d,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(d,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new d(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new d(this._db.createObjectStore.apply(this._db,arguments))},o(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[d,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,d].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=m,e.deleteDb=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)},69272:function(e){var t=[].indexOf;e.exports=function(e,n){if(t)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1}},36993:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},7146:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},48688:function(e,t,n){"use strict";n.d(t,{zt:function(){return Z},cn:function(){return U},KO:function(){return V},b9:function(){return B}});var r=n(36222),i=n(50678),o=n(89472),a=n(47313),s=Symbol(),c=function(e){return!!e[s]},u=function(e){var t,n;null==(n=(t=e[s]).c)||n.call(t)},l=function e(t,n){var r=t[s].o,i=n[s].o;return r===i||t===i||c(r)&&e(r,n)},d=function(e){var t={o:e,c:null},n=new Promise((function(n){t.c=function(){t.c=null,n()},e.then(t.c,t.c)}));return n[s]=t,n},f=Object.defineProperty,h=Object.defineProperties,p=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=function(e,t,n){return t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},b=function(e){return"init"in e},w="r",x="w",_="c",E="s",k=function(e){var t,n,a=new WeakMap,f=new WeakMap,k=new Map;if(t=new Set,n=new Set,e){var C,S=(0,o.Z)(e);try{for(S.s();!(C=S.n()).done;){var j=(0,i.Z)(C.value,2),A=j[0],T={v:j[1],r:0,d:new Map};Object.freeze(T),b(A)||console.warn("Found initial value for derived atom which can cause unexpected behavior",A),a.set(A,T)}}catch(te){S.e(te)}finally{S.f()}}var I,O=new WeakMap,D=new WeakMap,N=function(e){var t=D.get(e);return t||(t=new Map,D.set(e,t)),t},P=function e(t,n){if(t){var r=N(t),i=r.get(n);return i||(i=e(t.p,n))&&("p"in i&&i.p.then((function(){return r.delete(n)})),r.set(n,i)),i}return a.get(n)},M=function(e,t,n){if(Object.freeze(n),e){N(e).set(t,n)}else{var r=a.get(t);a.set(t,n),k.has(t)||k.set(t,r)}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2?arguments[2]:void 0;if(!n)return t;var r=new Map,i=!1;return n.forEach((function(n){var o,a=(null==(o=P(e,n))?void 0:o.r)||0;r.set(n,a),t.get(n)!==a&&(i=!0)})),t.size!==r.size||i?r:t},R=function(e,t,n,r,i){var o=P(e,t);if(o){if(i&&(!("p"in o)||!l(o.p,i)))return o;"p"in o&&u(o.p)}var a={v:n,r:(null==o?void 0:o.r)||0,d:L(e,null==o?void 0:o.d,r)};return o&&"v"in o&&Object.is(o.v,n)?a.d===o.d||a.d.size===o.d.size&&Array.from(a.d.keys()).every((function(e){return o.d.has(e)}))||Promise.resolve().then((function(){X(e)})):(++a.r,a.d.has(t)&&(a.d=new Map(a.d).set(t,a.r))),M(e,t,a),a},Z=function(e,t,n,r,i){var o=P(e,t);if(o){if(i&&(!("p"in o)||!l(o.p,i)))return o;"p"in o&&u(o.p)}var a={e:n,r:(null==o?void 0:o.r)||0,d:L(e,null==o?void 0:o.d,r)};return M(e,t,a),a},F=function(e,t,n,r){var i=P(e,t);if(i&&"p"in i){if(l(i.p,n))return i;u(i.p)}!function(e,t,n){var r=O.get(t);r||(r=new Map,O.set(t,r)),n.then((function(){r.get(e)===n&&(r.delete(e),r.size||O.delete(t))})),r.set(e,n)}(e,t,n);var o={p:n,r:(null==i?void 0:i.r)||0,d:L(e,null==i?void 0:i.d,r)};return M(e,t,o),o},U=function(e,t,n,r){if(n instanceof Promise){var i=d(n.then((function(n){R(e,t,n,r,i),X(e)})).catch((function(n){if(n instanceof Promise)return c(n)?n.then((function(){B(e,t,!0)})):n;Z(e,t,n,r,i),X(e)})));return F(e,t,i,r)}return R(e,t,n,r)},z=function(e,t){var n,r,i=P(e,t);if(i){"p"in i&&u(i.p);var a=(n=function(e,t){for(var n in t||(t={}))v.call(t,n)&&y(e,n,t[n]);if(m){var r,i=(0,o.Z)(m(t));try{for(i.s();!(r=i.n()).done;)n=r.value,g.call(t,n)&&y(e,n,t[n])}catch(te){i.e(te)}finally{i.f()}}return e}({},i),r={i:i.r},h(n,p(r)));M(e,t,a)}else console.warn("[Bug] could not invalidate non existing atom",t)},B=function e(t,n,r){if(!r){var o=P(t,n);if(o){if(o.r!==o.i&&"p"in o&&!function(e){return!e[s].c}(o.p))return o;if(o.d.forEach((function(r,i){if(i!==n)if(f.has(i)){var o=P(t,i);o&&o.r===o.i&&e(t,i)}else e(t,i)})),Array.from(o.d).every((function(e){var n=(0,i.Z)(e,2),r=n[0],o=n[1],a=P(t,r);return a&&"v"in a&&a.r===o})))return o}}var a=new Set;try{var c=n.read((function(r){a.add(r);var i=r===n?P(t,r):e(t,r);if(i){if("e"in i)throw i.e;if("p"in i)throw i.p;return i.v}if(b(r))return r.init;throw new Error("no atom init")}));return U(t,n,c,a)}catch(l){if(l instanceof Promise){var u=d(l);return F(t,n,u,a)}return Z(t,n,l,a)}},V=function(e,t){return B(t,e)},W=function(e,t){return!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e))},H=function e(t,n){var r=f.get(n);null==r||r.t.forEach((function(r){r!==n&&(z(t,r),e(t,r))}))},q=function e(t,n,r){var i=!0,o=n.write((function e(n,r){var i=B(t,n);if("e"in i)throw i.e;if("p"in i){if(null==r?void 0:r.unstable_promise)return i.p.then((function(){return e(n,r)}));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",n),i.p}if("v"in i)return i.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",n),new Error("no value found")}),(function(r,o){var a;if(r===n){if(!b(r))throw new Error("atom not writable");var s=function(e){var t=new Set,n=O.get(e);return n&&(O.delete(e),n.forEach((function(e,n){u(e),t.add(n)}))),t}(r);s.forEach((function(e){e!==t&&U(e,r,o)})),U(t,r,o),H(t,r)}else a=e(t,r,o);return i||X(t),a}),r);return i=!1,t=void 0,o},G=function(e,t,n){var r=q(n,e,t);return X(n),r},Y=function e(t,r){var i={t:new Set(r&&[r]),l:new Set};if(f.set(t,i),n.add(t),B(void 0,t).d.forEach((function(n,r){var i=f.get(r);i?i.t.add(t):r!==t&&e(r,t)})),function(e){return!!e.write}(t)&&t.onMount){var o=t.onMount((function(e){return G(t,e)}));o&&(i.u=o)}return i},K=function e(t){var r,i=null==(r=f.get(t))?void 0:r.u;i&&i(),f.delete(t),n.delete(t);var o=P(void 0,t);o?o.d.forEach((function(n,r){if(r!==t){var i=f.get(r);i&&(i.t.delete(t),W(r,i)&&e(r))}})):console.warn("[Bug] could not find atom state to unmount",t)},Q=function(e,t,n){var r=new Set(t.d.keys());null==n||n.forEach((function(t,n){if(r.has(n))r.delete(n);else{var i=f.get(n);i&&(i.t.delete(e),W(n,i)&&K(n))}})),r.forEach((function(t){var n=f.get(t);n?n.t.add(e):f.has(e)&&Y(t,e)}))},X=function(e){if(e){N(e).forEach((function(t,n){if(t!==a.get(n)){var r=f.get(n);null==r||r.l.forEach((function(t){return t(e)}))}}))}else{for(;k.size;){var n=Array.from(k);k.clear(),n.forEach((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1],o=P(void 0,n);o&&o.d!==(null==r?void 0:r.d)&&Q(n,o,null==r?void 0:r.d);var a=f.get(n);null==a||a.l.forEach((function(e){return e()}))}))}t.forEach((function(e){return e()}))}},$=function(e,t){t&&function(e){N(e).forEach((function(e,t){var n=a.get(t);(e.r>((null==n?void 0:n.r)||0)||"v"in e&&e.r===(null==n?void 0:n.r)&&e.d!==(null==n?void 0:n.d))&&(a.set(t,e),e.d!==(null==n?void 0:n.d)&&Q(t,e,null==n?void 0:n.d))}))}(t),X(void 0)},J=function(e,t){var n=function(e){var t=f.get(e);return t||(t=Y(e)),t}(e).l;return n.add(t),function(){n.delete(t),function(e){var t=f.get(e);t&&W(e,t)&&K(e)}(e)}},ee=function(e,t){var n,r=(0,o.Z)(e);try{for(r.s();!(n=r.n()).done;){var a=(0,i.Z)(n.value,2),s=a[0],c=a[1];b(s)&&(U(t,s,c),H(t,s))}}catch(te){r.e(te)}finally{r.f()}X(t)};return I={},(0,r.Z)(I,w,V),(0,r.Z)(I,x,G),(0,r.Z)(I,_,$),(0,r.Z)(I,E,J),(0,r.Z)(I,"h",ee),(0,r.Z)(I,"n",(function(e){return t.add(e),function(){t.delete(e)}})),(0,r.Z)(I,"l",(function(){return n.values()})),(0,r.Z)(I,"a",(function(e){return a.get(e)})),(0,r.Z)(I,"m",(function(e){return f.get(e)})),I},C=function(e,t){return{s:t?t(e).SECRET_INTERNAL_store:k(e)}},S=new Map,j=function(e){return S.has(e)||S.set(e,(0,a.createContext)(C())),S.get(e)},A=Object.defineProperty,T=Object.defineProperties,I=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,P=function(e,t,n){return t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},M=function(e,t){for(var n in t||(t={}))D.call(t,n)&&P(e,n,t[n]);if(O){var r,i=(0,o.Z)(O(t));try{for(i.s();!(r=i.n()).done;){n=r.value;N.call(t,n)&&P(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},L=function(e){return e.debugLabel||e.toString()},R=function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return Object.fromEntries(r.flatMap((function(e){var t,r,i=null==(t=n.m)?void 0:t.call(n,e);if(!i)return[];var o,a,s=i.t,c=(null==(r=n.a)?void 0:r.call(n,e))||{};return[[L(e),(o=M(M(M({},"e"in c&&{error:c.e}),"p"in c&&{promise:c.p}),"v"in c&&{value:c.v}),a={dependents:Array.from(s).map(L)},T(o,I(a)))]]})))},Z=function(e){var t=e.children,n=e.initialValues,r=e.scope,o=e.unstable_createStore,s=e.unstable_enableVersionedWrite,c=(0,a.useState)(),u=(0,i.Z)(c,2),l=u[0],d=u[1];(0,a.useEffect)((function(){l&&(f.current.s.c(null,l),delete l.p)}),[l]);var f=(0,a.useRef)();f.current||(f.current=C(n,o),s&&(f.current.w=function(e){d((function(t){var n=t?{p:t}:{};return e(n),n}))})),s||function(e){var t=e.s,n=(0,a.useState)([]),r=(0,i.Z)(n,2),o=r[0],s=r[1];(0,a.useEffect)((function(){var e,n=function(){var e;s(Array.from((null==(e=t.l)?void 0:e.call(t))||[]))},r=null==(e=t.n)?void 0:e.call(t,n);return n(),r}),[t]),(0,a.useDebugValue)([t,o],R)}(f.current);var h=j(r);return(0,a.createElement)(h.Provider,{value:f.current},t)},F=0;function U(e,t){var n="atom".concat(++F),r={toString:function(){return n}};return"function"===typeof e?r.read=e:(r.init=e,r.read=function(e){return e(r)},r.write=function(e,t,n){return t(r,"function"===typeof n?n(e(r)):n)}),t&&(r.write=t),r}function z(e,t){var n=j(t),r=(0,a.useContext)(n).s,o=(0,a.useCallback)((function(t){var n=r.r(e,t);if("e"in n)throw n.e;if("p"in n)throw n.p;if("v"in n)return n.v;throw new Error("no atom value")}),[r,e]),s=(0,a.useReducer)((0,a.useCallback)((function(t,n){var r=o(n);return Object.is(t[1],r)&&t[2]===e?t:[n,r,e]}),[o,e]),void 0,(function(){var t=void 0;return[t,o(t),e]})),c=(0,i.Z)(s,2),u=(0,i.Z)(c[0],3),l=u[0],d=u[1],f=u[2],h=c[1];return f!==e&&h(void 0),(0,a.useEffect)((function(){var t=r.s(e,h);return h(void 0),t}),[r,e]),(0,a.useEffect)((function(){r.c(e,l)})),(0,a.useDebugValue)(d),d}function B(e,t){var n=j(t),r=(0,a.useContext)(n),i=r.s,o=r.w;return(0,a.useCallback)((function(t){if(!("write"in e))throw new Error("not writable atom");var n=function(n){return i.w(e,t,n)};return o?o(n):n()}),[i,o,e])}function V(e,t){return"scope"in e&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),t=e.scope),[z(e,t),B(e,t)]}},60729:function(){!function(e){"use strict";for(var t=function(e,t,n,r){for(var i=t-1,o=0,a=r<10?r:10;++i<n;){var s=e.charCodeAt(i),c=s-"0".charCodeAt(0);if((c<0||a<=c)&&((c=10-"A".charCodeAt(0)+s)<10||r<=c)&&((c=10-"a".charCodeAt(0)+s)<10||r<=c))throw new RangeError;o=o*r+c}return o},n=function(e){for(var t=new Array(e),n=-1;++n<e;)t[n]=0;return t},r=2/9007199254740992;1+r/2!==1;)r/=2;for(var i=2/r,o=134217728;o*o<2/r;)o*=2;var a=o+1,s=function(e,t,n){var r=a*e,i=r-(r-e),o=e-i,s=a*t,c=s-(s-t),u=t-c;return i*c+n+i*u+o*c+o*u},c=function(e){var t=e-i+i;return t>e?t-1:t},u=function(e,t,n){var r=t*n,o=s(t,n,-r),a=r/i-i+i,c=r-a*i+o;return c>=0&&(c-=i,a+=1),(c+=e)<0&&(c+=i,a-=1),{lo:c,hi:a}},l=function(e,t,n){if(e>=n)throw new RangeError;var r=e*i,o=c(r/n),a=0-s(o,n,-r);a<0&&(o-=1,a+=n),(a+=t-n)<0?a+=n:o+=1;var u=c(a/n);return{q:o+=u,r:a-=u*n}};function d(e,t,n){this.sign=e,this.magnitude=t,this.length=n}var f=function(e,t,n){return new d(e,t,n)},h=function(e){var r=e.length;if(0===r)throw new RangeError;var o=0,a=e.charCodeAt(0),s=0;a==="+".charCodeAt(0)&&(s=1),a==="-".charCodeAt(0)&&(s=1,o=1);var l=10;if(0===s&&r>=2&&e.charCodeAt(0)==="0".charCodeAt(0)&&(e.charCodeAt(1)==="b".charCodeAt(0)?(l=2,s=2):e.charCodeAt(1)==="o".charCodeAt(0)?(l=8,s=2):e.charCodeAt(1)==="x".charCodeAt(0)&&(l=16,s=2)),0===(r-=s))throw new RangeError;for(var d=0,h=1,p=c(i/l);h<=p;)d+=1,h*=l;for(var m=Math.floor((r-1)/d)+1,v=n(m),g=s+1+(r-1-(m-1)*d)-d,y=-1;++y<m;){for(var b=g+y*d,w=t(e,b>=s?b:s,b+d,l),x=-1;++x<y;){var _=u(w,v[x],h),E=_.lo,k=_.hi;v[x]=E,w=k}v[y]=w}for(;m>0&&0===v[m-1];)m-=1;return f(0===m?0:o,v,m)};d.BigInt=function(e){if("number"===typeof e)return function(e){if(e>=i||0-e>=i)throw new RangeError;var t=n(1);return t[0]=e<0?0-e:0+e,f(e<0?1:0,t,0===e?0:1)}(e);if("string"===typeof e)return h(e);if("bigint"===typeof e)return h(e.toString());if(e instanceof d)return e;throw new RangeError},d.toNumber=function(e){if(0===e.length)return 0;if(1===e.length)return 1===e.sign?0-e.magnitude[0]:e.magnitude[0];if(i+1!==i)throw new RangeError;for(var t=e.magnitude[e.length-1],n=e.magnitude[e.length-2],r=e.length-3;r>=0&&0===e.magnitude[r];)r-=1;r>=0&&n%2===1&&(n+=1);var o=(t*i+n)*Math.pow(i,e.length-2);return 1===e.sign?0-o:o};var p=function(e,t){if(e===t)return 0;if(e.length!==t.length)return e.length<t.length?-1:1;for(var n=e.length;--n>=0;)if(e.magnitude[n]!==t.magnitude[n])return e.magnitude[n]<t.magnitude[n]?-1:1;return 0},m=function(e,t){var n=e.sign===t.sign?p(e,t):1;return 1===e.sign?0-n:n},v=function(e,t,r){var o=p(e,t),a=o<0?0!==r?1-t.sign:t.sign:e.sign,s=o<0?e:t,c=o<0?t:e;if(0===s.length)return f(a,c.magnitude,c.length);var u=0,l=c.length;if(e.sign!==(0!==r?1-t.sign:t.sign)){if(u=1,s.length===l)for(;l>0&&s.magnitude[l-1]===c.magnitude[l-1];)l-=1;if(0===l)return f(0,n(0),0)}for(var d=n(l+(1-u)),h=-1,m=0;++h<s.length;){var v=s.magnitude[h];(m+=c.magnitude[h]+(0!==u?0-v:v-i))<0?(d[h]=i+m,m=0-u):(d[h]=m,m=1-u)}for(h-=1;++h<l;)(m+=c.magnitude[h]+(0!==u?0:0-i))<0?(d[h]=i+m,m=0-u):(d[h]=m,m=1-u);if(0===u)d[l]=m,l+=0!==m?1:0;else for(;l>0&&0===d[l-1];)l-=1;return f(a,d,l)};d.add=function(e,t){return v(e,t,0)},d.subtract=function(e,t){return v(e,t,1)},d.multiply=function(e,t){var r=e.length,o=t.length,a=e.magnitude,s=t.magnitude,c=e.sign,l=t.sign;if(0===r||0===o)return f(0,n(0),0);if(1===r&&1===a[0])return f(1===c?1-l:l,s,o);if(1===o&&1===s[0])return f(1===c?1-l:l,a,r);for(var d=0;0===a[d];)d+=1;for(var h=1===c?1-l:l,p=r+o,m=n(p),v=-1;++v<o;){var g=s[v];if(0!==g){for(var y=0,b=d-1;++b<r;){var w=1;(y+=m[b+v]-i)<0&&(y+=i,w=0);var x=u(y,a[b],g),_=x.lo,E=x.hi;m[b+v]=_,y=E+w}m[r+v]=y}}return 0===m[p-1]&&(p-=1),f(h,m,p)};var g=function(e,t,r){if(0===t.length)throw new RangeError;if(0===e.length)return f(0,n(0),0);var o=1===e.sign?1-t.sign:t.sign;if(1===t.length&&1===t.magnitude[0])return 0!==r?f(o,e.magnitude,e.length):f(0,n(0),0);for(var a=e.length+1,s=n(a+t.length+1),d=s,h=s,p=-1;++p<e.length;)h[p]=e.magnitude[p];for(var m=-1;++m<t.length;)d[a+m]=t.magnitude[m];var v=d[a+t.length-1],g=1;if(t.length>1){if((g=c(i/(v+1)))>1){for(var y=0,b=-1;++b<a+t.length;){var w=u(y,s[b],g),x=w.lo,_=w.hi;s[b]=x,y=_}s[a+t.length]=y,v=d[a+t.length-1]}if(v<c(i/2))throw new RangeError}var E=e.length-t.length+1;E<0&&(E=0);for(var k=void 0,C=0,S=0;0===d[a+S];)S+=1;for(var j=E;--j>=0;){var A=t.length+j,T=i-1;if(h[A]!==v)T=l(h[A],h[A-1],v).q;for(var I=0,O=0,D=j-1+S;++D<=A;){var N=u(O,T,d[a+D-j]),P=N.lo;O=N.hi,(I+=h[D]-P)<0?(h[D]=i+I,I=-1):(h[D]=I,I=0)}for(;0!==I;){T-=1;for(var M=0,L=j-1+S;++L<=A;)(M+=h[L]-i+d[a+L-j])<0?(h[L]=i+M,M=0):(h[L]=M,M=1);I+=M}0!==r&&0!==T&&(0===C&&(k=n(C=j+1)),k[j]=T)}if(0!==r)return 0===C?f(0,n(0),0):f(o,k,C);var R=e.length+1;if(g>1){for(var Z=0,F=R;--F>=0;){var U=l(Z,h[F],g),z=U.q,B=U.r;h[F]=z,Z=B}if(0!==Z)throw new RangeError}for(;R>0&&0===h[R-1];)R-=1;if(0===R)return f(0,n(0),0);for(var V=n(R),W=-1;++W<R;)V[W]=h[W];return f(e.sign,V,R)};d.divide=function(e,t){return g(e,t,1)},d.remainder=function(e,t){return g(e,t,0)},d.unaryMinus=function(e){return f(0===e.length?e.sign:1-e.sign,e.magnitude,e.length)},d.equal=function(e,t){return 0===m(e,t)},d.lessThan=function(e,t){return m(e,t)<0},d.greaterThan=function(e,t){return m(e,t)>0},d.notEqual=function(e,t){return 0!==m(e,t)},d.lessThanOrEqual=function(e,t){return m(e,t)<=0},d.greaterThanOrEqual=function(e,t){return m(e,t)>=0},d.exponentiate=function(e,t){var r=d.toNumber(t);if(r<0)throw new RangeError;if(r>9007199254740991){var o=d.toNumber(e);if(0===o||-1===o||1===o)return-1===o&&0===d.toNumber(d.remainder(t,d.BigInt(2)))?d.unaryMinus(e):e;throw new RangeError}if(0===r)return d.BigInt(1);if(1===e.length&&(2===e.magnitude[0]||16===e.magnitude[0])){var a=Math.floor(Math.log(i)/Math.log(2)+.5),s=Math.floor(Math.log(e.magnitude[0])/Math.log(2)+.5)*r,c=Math.floor(s/a),u=s-c*a,l=n(c+1);return l[c]=Math.pow(2,u),f(0===e.sign||r%2===0?0:1,l,c+1)}for(var h=e;r%2===0;)r=Math.floor(r/2),h=d.multiply(h,h);var p=h;if((r-=1)>=2){for(;r>=2;){var m=Math.floor(r/2);2*m!==r&&(p=d.multiply(p,h)),r=m,h=d.multiply(h,h)}p=d.multiply(p,h)}return p},d.prototype.toString=function(e){if(void 0==e&&(e=10),10!==e&&(e<2||e>36||e!==Math.floor(e)))throw new RangeError("radix argument must be an integer between 2 and 36");if(this.length>8){if(1===this.sign)return"-"+d.unaryMinus(this).toString(e);var t=Math.floor(this.length*Math.log(i)/Math.log(e)/2+.5-1),r=d.exponentiate(d.BigInt(e),d.BigInt(t)),o=d.divide(this,r),a=(_=d.subtract(this,d.multiply(o,r))).toString(e);return o.toString(e)+"0".repeat(t-a.length)+a}var s=1===(a=this).sign?"-":"",u=a.length;if(0===u)return"0";if(1===u)return s+=a.magnitude[0].toString(e);for(var f=0,h=1,p=c(i/e);h<=p;)f+=1,h*=e;if(h*e<=i)throw new RangeError;for(var m=u+Math.floor((u-1)/f)+1,v=n(m),g=-1;++g<u;)v[g]=a.magnitude[g];for(var y=m;0!==u;){for(var b=0,w=u;--w>=0;){var x=l(b,v[w],h),_=(o=x.q,x.r);v[w]=o,b=_}for(;u>0&&0===v[u-1];)u-=1;v[y-=1]=b}for(s+=v[y].toString(e);++y<m;){var E=v[y].toString(e);s+="0".repeat(f-E.length)+E}return s},d.signedRightShift=function(e,t){var n=d.BigInt(0);if(d.lessThan(t,n))return d.leftShift(e,d.unaryMinus(t));if(d.toNumber(t)>e.length*Math.ceil(Math.log(i)/Math.log(2)))return 1===e.sign?d.BigInt(-1):n;var r=d.divide(e,d.exponentiate(d.BigInt(2),t));if(d.lessThan(e,n)){var o=d.subtract(e,d.multiply(r,d.exponentiate(d.BigInt(2),t)));return d.lessThan(o,n)&&(r=d.subtract(r,d.BigInt(1))),r}return d.divide(e,d.exponentiate(d.BigInt(2),t))},d.leftShift=function(e,t){var n=d.BigInt(0);return d.lessThan(t,n)?d.signedRightShift(e,d.unaryMinus(t)):d.lessThan(e,n)||d.lessThan(n,e)?d.multiply(e,d.exponentiate(d.BigInt(2),t)):e},d.prototype.valueOf=function(){return console.error("BigIntegerInternal#valueOf is called"),this};for(var y=d,b=function(e){return function(t,n){return e(t,n)}},w=new Array(33),x=0;x<w.length;x+=1)w[x]=void 0;var _=0,E=void 0,k=b((function(e){return y.toNumber(e)})),C=function(e){if("number"===typeof e){if(e>=-16&&e<=16){var t=w[e+16];return void 0==t&&(t=y.BigInt(e),w[e+16]=t),t}return _!==e&&(_=e,E=y.BigInt(e)),E}return e},S=function(e){var t=y.toNumber(e);return t>=-9007199254740991&&t<=9007199254740991?t:e},j=b((function(e,t){if("number"===typeof e&&0===e)return t;if("number"===typeof t&&0===t)return e;var n=C(e),r=C(t),i=y.add(n,r);return"number"===typeof e&&"number"===typeof t?i:S(i)})),A=b((function(e,t){if("number"===typeof e&&0===e)return N(t);if("number"===typeof t&&0===t)return e;var n=C(e),r=C(t),i=y.subtract(n,r);return"number"===typeof e&&"number"===typeof t?i:S(i)})),T=b((function(e,t){if("number"===typeof e&&0===e)return 0;if("number"===typeof e&&1===e)return t;if("number"===typeof e&&-1===e)return y.unaryMinus(t);if("number"===typeof t&&0===t)return 0;if("number"===typeof t&&1===t)return e;if("number"===typeof t&&-1===t)return y.unaryMinus(e);var n=C(e),r=C(t);return y.multiply(n,r)})),I=b((function(e,t){if("number"===typeof e)return 0;if("number"===typeof t&&1===t)return e;if("number"===typeof t&&-1===t)return y.unaryMinus(e);var n=C(e),r=C(t);return S(y.divide(n,r))})),O=b((function(e,t){if("number"===typeof e)return e;if("number"===typeof t&&1===t)return 0;if("number"===typeof t&&-1===t)return 0;var n=C(e),r=C(t);return S(y.remainder(n,r))})),D=b((function(e,t){if("number"===typeof t){if(0===t)return 1;if(1===t)return e;if(2===t)return T(e,e);if("number"===typeof e&&Math.abs(e)>2&&t>=0){if(t>42&&e%2===0)return T(D(2,t),D(e/2,t));var n=Math.floor(Math.log(9007199254740991)/Math.log(Math.abs(e)+.5));if(n>=2)return T(Math.pow(e,t%n),D(Math.pow(e,n),Math.floor(t/n)))}}var r=C(e),i=C(t),o=y.exponentiate(r,i);return"number"===typeof e&&Math.abs(e)<=1?S(o):o})),N=b((function(e){var t=C(e);return y.unaryMinus(t)})),P=b((function(e,t){return"number"!==typeof e&&("number"!==typeof t&&y.equal(e,t))})),M=b((function(e,t){return"number"===typeof e?e<y.toNumber(t):"number"===typeof t?y.toNumber(e)<t:y.lessThan(e,t)})),L=b((function(e,t){return"number"===typeof e?e>y.toNumber(t):"number"===typeof t?y.toNumber(e)>t:y.greaterThan(e,t)}));function R(){}R.BigInt=function(e){if("number"===typeof e||"string"===typeof e||"bigint"===typeof e){var t=0+("number"===typeof e?e:Number(e));if(t>=-9007199254740991&&t<=9007199254740991)return t}return S(y.BigInt(e))},R.toNumber=function(e){return"number"===typeof e?e:k(e)},R.add=function(e,t){if("string"===typeof e||"string"===typeof t)return e+t;if("number"===typeof e&&"number"===typeof t){var n=e+t;if(n>=-9007199254740991&&n<=9007199254740991)return n}return j(e,t)},R.subtract=function(e,t){if("number"===typeof e&&"number"===typeof t){var n=e-t;if(n>=-9007199254740991&&n<=9007199254740991)return n}return A(e,t)},R.multiply=function(e,t){if("number"===typeof e&&"number"===typeof t){var n=0+e*t;if(n>=-9007199254740991&&n<=9007199254740991)return n}return T(e,t)},R.divide=function(e,t){return"number"===typeof e&&"number"===typeof t&&0!==t?0===e?0:e>0&&t>0||e<0&&t<0?0+Math.floor(e/t):0-Math.floor((0-e)/t):I(e,t)},R.remainder=function(e,t){return"number"===typeof e&&"number"===typeof t&&0!==t?0+e%t:O(e,t)},R.unaryMinus=function(e){return"number"===typeof e?0-e:N(e)},R.equal=function(e,t){return"number"===typeof e&&"number"===typeof t?e===t:P(e,t)},R.lessThan=function(e,t){return"number"===typeof e&&"number"===typeof t?e<t:M(e,t)},R.greaterThan=function(e,t){return"number"===typeof e&&"number"===typeof t?e>t:L(e,t)},R.notEqual=function(e,t){return!R.equal(e,t)},R.lessThanOrEqual=function(e,t){return!R.greaterThan(e,t)},R.greaterThanOrEqual=function(e,t){return!R.lessThan(e,t)},R.exponentiate=function(e,t){if("number"===typeof e&&"number"===typeof t&&t>=0&&(t<53||e>=-1&&e<=1)){var n=0+Math.pow(e,t);if(n>=-9007199254740991&&n<=9007199254740991)return n}return D(e,t)},R.signedRightShift=function(e,t){return S(y.signedRightShift(C(e),C(t)))},R.leftShift=function(e,t){return S(y.leftShift(C(e),C(t)))},(e||globalThis).BigInteger=R,R._getInternal=function(){return y},R._setInternal=function(e){y=e}}(this)},81725:function(e,t,n){var r=n(70781)(n(7289),"DataView");e.exports=r},69748:function(e,t,n){var r=n(56545),i=n(69843),o=n(86266),a=n(17364),s=n(74156);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},95745:function(e,t,n){var r=n(20329),i=n(39666),o=n(2523),a=n(24397),s=n(73316);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},18579:function(e,t,n){var r=n(70781)(n(7289),"Map");e.exports=r},13109:function(e,t,n){var r=n(79e3),i=n(37240),o=n(63414),a=n(17140),s=n(85429);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},59946:function(e,t,n){var r=n(70781)(n(7289),"Promise");e.exports=r},4199:function(e,t,n){var r=n(70781)(n(7289),"Set");e.exports=r},44526:function(e,t,n){var r=n(13109),i=n(85845),o=n(35544);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},17016:function(e,t,n){var r=n(95745),i=n(23653),o=n(43359),a=n(92571),s=n(31698),c=n(85883);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},68624:function(e,t,n){var r=n(7289).Symbol;e.exports=r},6759:function(e,t,n){var r=n(7289).Uint8Array;e.exports=r},13289:function(e,t,n){var r=n(70781)(n(7289),"WeakMap");e.exports=r},74951:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},83200:function(e,t,n){var r=n(94499),i=n(52794),o=n(95585),a=n(70667),s=n(30674),c=n(53153),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&c(e),h=n||l||d||f,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},95434:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},45349:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},25364:function(e){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},29330:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},61044:function(e){e.exports=function(e){return e.split("")}},80556:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},69194:function(e,t,n){var r=n(83666);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},46351:function(e,t,n){var r=n(31438);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},15461:function(e,t,n){var r=n(62550)();e.exports=r},35705:function(e,t,n){var r=n(15461),i=n(56385);e.exports=function(e,t){return e&&r(e,t,i)}},71293:function(e,t,n){var r=n(14534),i=n(60925);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},92606:function(e,t,n){var r=n(45349),i=n(95585);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},18665:function(e,t,n){var r=n(68624),i=n(23596),o=n(78186),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},39473:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},21966:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},51276:function(e,t,n){var r=n(18665),i=n(89752);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},7081:function(e,t,n){var r=n(89110),i=n(89752);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},89110:function(e,t,n){var r=n(17016),i=n(94132),o=n(89820),a=n(6353),s=n(68466),c=n(95585),u=n(70667),l=n(53153),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=c(e),b=c(t),w=y?f:s(e),x=b?f:s(t),_=(w=w==d?h:w)==h,E=(x=x==d?h:x)==h,k=w==x;if(k&&u(e)){if(!u(t))return!1;y=!0,_=!1}if(k&&!_)return g||(g=new r),y||l(e)?i(e,t,n,m,v,g):o(e,t,w,n,m,v,g);if(!(1&n)){var C=_&&p.call(e,"__wrapped__"),S=E&&p.call(t,"__wrapped__");if(C||S){var j=C?e.value():e,A=S?t.value():t;return g||(g=new r),v(j,A,n,m,g)}}return!!k&&(g||(g=new r),a(e,t,n,m,v,g))}},19280:function(e,t,n){var r=n(17016),i=n(7081);e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var h=new r;if(o)var p=o(d,f,l,e,t,h);if(!(void 0===p?i(f,d,3,o,h):p))return!1}}return!0}},33186:function(e,t,n){var r=n(50375),i=n(65401),o=n(91845),a=n(92043),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},77499:function(e,t,n){var r=n(18665),i=n(44276),o=n(89752),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},81186:function(e,t,n){var r=n(85662),i=n(98768),o=n(19908),a=n(95585),s=n(34445);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},23409:function(e,t,n){var r=n(46132),i=n(8723),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},85662:function(e,t,n){var r=n(19280),i=n(95113),o=n(22093);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},98768:function(e,t,n){var r=n(7081),i=n(69706),o=n(89775),a=n(98939),s=n(99253),c=n(22093),u=n(60925);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},61125:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},80171:function(e,t,n){var r=n(71293);e.exports=function(e){return function(t){return r(t,e)}}},30559:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},64339:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},94499:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},21612:function(e,t,n){var r=n(68624),i=n(95434),o=n(95585),a=n(72060),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},36902:function(e){e.exports=function(e){return function(t){return e(t)}}},88905:function(e){e.exports=function(e,t){return e.has(t)}},14534:function(e,t,n){var r=n(95585),i=n(98939),o=n(3002),a=n(11822);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},73325:function(e,t,n){var r=n(64339);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},47683:function(e,t,n){var r=n(7289)["__core-js_shared__"];e.exports=r},62550:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}},62797:function(e,t,n){var r=n(73325),i=n(65101),o=n(14817),a=n(11822);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}},38012:function(e,t,n){var r=n(25364),i=n(36110),o=n(8771),a=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(o(i(t).replace(a,"")),e,"")}}},85443:function(e,t,n){var r=n(30559)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},31438:function(e,t,n){var r=n(70781),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},94132:function(e,t,n){var r=n(44526),i=n(29330),o=n(88905);e.exports=function(e,t,n,a,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,v=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var g=e[p],y=t[p];if(a)var b=u?a(y,g,p,t,e,c):a(g,y,p,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(g===e||s(g,e,n,a,c)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},89820:function(e,t,n){var r=n(68624),i=n(6759),o=n(83666),a=n(94132),s=n(258),c=n(73671),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var v=a(h(e),h(t),r,u,d,f);return f.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6353:function(e,t,n){var r=n(87253),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=c;++d<l;){var g=e[f=u[d]],y=t[f];if(o)var b=c?o(y,g,f,t,e,s):o(g,y,f,e,t,s);if(!(void 0===b?g===y||a(g,y,n,o,s):b)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},32692:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},87253:function(e,t,n){var r=n(92606),i=n(66504),o=n(56385);e.exports=function(e){return r(e,o,i)}},16911:function(e,t,n){var r=n(81591);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},95113:function(e,t,n){var r=n(99253),i=n(56385);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},70781:function(e,t,n){var r=n(33186),i=n(80760);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},23596:function(e,t,n){var r=n(68624),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},66504:function(e,t,n){var r=n(74951),i=n(72554),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},68466:function(e,t,n){var r=n(81725),i=n(18579),o=n(59946),a=n(4199),s=n(13289),c=n(18665),u=n(92043),l="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=u(r),v=u(i),g=u(o),y=u(a),b=u(s),w=c;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=d||a&&w(new a)!=f||s&&w(new s)!=h)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return p;case v:return l;case g:return d;case y:return f;case b:return h}return t}),e.exports=w},80760:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},81898:function(e,t,n){var r=n(14534),i=n(52794),o=n(95585),a=n(30674),s=n(44276),c=n(60925);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,d=!1;++u<l;){var f=c(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=l?d:!!(l=null==e?0:e.length)&&s(l)&&a(f,l)&&(o(e)||i(e))}},65101:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},83771:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},56545:function(e,t,n){var r=n(11353);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},69843:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},86266:function(e,t,n){var r=n(11353),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},17364:function(e,t,n){var r=n(11353),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},74156:function(e,t,n){var r=n(11353);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},30674:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},98939:function(e,t,n){var r=n(95585),i=n(72060),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},81591:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},65401:function(e,t,n){var r=n(47683),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},46132:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},99253:function(e,t,n){var r=n(91845);e.exports=function(e){return e===e&&!r(e)}},20329:function(e){e.exports=function(){this.__data__=[],this.size=0}},39666:function(e,t,n){var r=n(69194),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},2523:function(e,t,n){var r=n(69194);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},24397:function(e,t,n){var r=n(69194);e.exports=function(e){return r(this.__data__,e)>-1}},73316:function(e,t,n){var r=n(69194);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},79e3:function(e,t,n){var r=n(69748),i=n(95745),o=n(18579);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},37240:function(e,t,n){var r=n(16911);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},63414:function(e,t,n){var r=n(16911);e.exports=function(e){return r(this,e).get(e)}},17140:function(e,t,n){var r=n(16911);e.exports=function(e){return r(this,e).has(e)}},85429:function(e,t,n){var r=n(16911);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},258:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},22093:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},83679:function(e,t,n){var r=n(92736);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},11353:function(e,t,n){var r=n(70781)(Object,"create");e.exports=r},8723:function(e,t,n){var r=n(9698)(Object.keys,Object);e.exports=r},47785:function(e,t,n){e=n.nmd(e);var r=n(32692),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},78186:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9698:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7289:function(e,t,n){var r=n(32692),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},85845:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},35544:function(e){e.exports=function(e){return this.__data__.has(e)}},73671:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},23653:function(e,t,n){var r=n(95745);e.exports=function(){this.__data__=new r,this.size=0}},43359:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},92571:function(e){e.exports=function(e){return this.__data__.get(e)}},31698:function(e){e.exports=function(e){return this.__data__.has(e)}},85883:function(e,t,n){var r=n(95745),i=n(18579),o=n(13109);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},14817:function(e,t,n){var r=n(61044),i=n(65101),o=n(10694);e.exports=function(e){return i(e)?o(e):r(e)}},3002:function(e,t,n){var r=n(83679),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},60925:function(e,t,n){var r=n(72060);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},92043:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},10694:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+s+("(?:\\u200d(?:"+[i,o,a].join("|")+")"+c+s+")*"),l="(?:"+[i+n+"?",n,o,a,t].join("|")+")",d=RegExp(r+"(?="+r+")|"+l+u,"g");e.exports=function(e){return e.match(d)||[]}},78043:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+i+"]",a="\\d+",s="[\\u2700-\\u27bf]",c="["+n+"]",u="[^\\ud800-\\udfff"+i+a+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",f="["+r+"]",h="(?:"+c+"|"+u+")",p="(?:"+f+"|"+u+")",m="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",v="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",g="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?",b=y+g+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,d].join("|")+")"+y+g+")*"),w="(?:"+[s,l,d].join("|")+")"+b,x=RegExp([f+"?"+c+"+"+m+"(?="+[o,f,"$"].join("|")+")",p+"+"+v+"(?="+[o,f+h,"$"].join("|")+")",f+"?"+h+"+"+m,f+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,w].join("|"),"g");e.exports=function(e){return e.match(x)||[]}},49746:function(e,t,n){var r=n(64608),i=n(38012)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},64608:function(e,t,n){var r=n(11822),i=n(24569);e.exports=function(e){return i(r(e).toLowerCase())}},36110:function(e,t,n){var r=n(85443),i=n(11822),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,r).replace(a,"")}},83666:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},69706:function(e,t,n){var r=n(71293);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},51912:function(e,t,n){var r=n(39473),i=n(81898);e.exports=function(e,t){return null!=e&&i(e,t,r)}},89775:function(e,t,n){var r=n(21966),i=n(81898);e.exports=function(e,t){return null!=e&&i(e,t,r)}},19908:function(e){e.exports=function(e){return e}},52794:function(e,t,n){var r=n(51276),i=n(89752),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},95585:function(e){var t=Array.isArray;e.exports=t},2114:function(e,t,n){var r=n(50375),i=n(44276);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},70667:function(e,t,n){e=n.nmd(e);var r=n(7289),i=n(95535),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},50375:function(e,t,n){var r=n(18665),i=n(91845);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},44276:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},91845:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},89752:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},72060:function(e,t,n){var r=n(18665),i=n(89752);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},53153:function(e,t,n){var r=n(77499),i=n(36902),o=n(47785),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},56385:function(e,t,n){var r=n(83200),i=n(23409),o=n(2114);e.exports=function(e){return o(e)?r(e):i(e)}},84129:function(e,t,n){var r=n(46351),i=n(35705),o=n(81186);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,t(e,i,o),e)})),n}},28463:function(e,t,n){var r=n(46351),i=n(35705),o=n(81186);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},92736:function(e,t,n){var r=n(13109);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},34445:function(e,t,n){var r=n(61125),i=n(80171),o=n(98939),a=n(60925);e.exports=function(e){return o(e)?r(a(e)):i(e)}},63796:function(e,t,n){var r=n(38012)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},72554:function(e){e.exports=function(){return[]}},95535:function(e){e.exports=function(){return!1}},11822:function(e,t,n){var r=n(21612);e.exports=function(e){return null==e?"":r(e)}},24569:function(e,t,n){var r=n(62797)("toUpperCase");e.exports=r},8771:function(e,t,n){var r=n(80556),i=n(83771),o=n(11822),a=n(78043);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?i(e)?a(e):r(e):e.match(t)||[]}},71843:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,c=i(e),u=1;u<arguments.length;u++){for(var l in a=Object(arguments[u]))n.call(a,l)&&(c[l]=a[l]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(c[s[d]]=a[s[d]])}}return c}},72184:function(e){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}s=n[a]={exports:{}},t[a][0].call(s.exports,(function(e){return i(t[a][1][e]||e)}),s,s.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(r,i,o,a,s,c,u,l,d){"use strict";var f=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=v(e,t)).algorithm?f.createHash(t.algorithm):new b).write&&(n.write=n.update,n.end=n.update),y(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=f.getHashes?f.getHashes().slice():["sha1","md5"],m=(p.push("passthrough"),["buffer","hex","binary","base64"]);function v(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===m.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+m.join(", "));return n}function g(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function y(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var i,a=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(a);if(s=(s=s?s[1]:"unknown:["+a+"]").toLowerCase(),0<=(a=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+a+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===s||"function"===s||"asyncfunction"===s)return a=Object.keys(t),e.unorderedObjects&&(a=a.sort()),!1===e.respectType||g(t)||a.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(a=a.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+a.length+":"),i=this,a.forEach((function(n){i.dispatch(n),r(":"),e.excludeValues||i.dispatch(t[n]),r(",")}));if(!this["_"+s]){if(e.ignoreUnknown)return r("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var a=[];return i=t.map((function(t){var r=new b,i=n.slice();return y(e,r,i).dispatch(t),a=a.concat(i.slice(n.length)),r.read().toString()})),n=n.concat(a),i.sort(),this._array(i,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),g(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function b(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),y(t=v(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,o,a,s,c,u){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),a="A".charCodeAt(0),s="-".charCodeAt(0),c="_".charCodeAt(0);function u(e){return(e=e.charCodeAt(0))===n||e===s?62:e===r||e===c?63:e<i?-1:e<i+10?e-i+26+26:e<a+26?e-a:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.length,o=(i="="===e.charAt(i-2)?2:"="===e.charAt(i-1)?1:0,new t(3*e.length/4-i)),a=0<i?e.length-4:e.length,s=0;function c(e){o[s++]=e}for(n=0;n<a;n+=4,0)c((16711680&(r=u(e.charAt(n))<<18|u(e.charAt(n+1))<<12|u(e.charAt(n+2))<<6|u(e.charAt(n+3))))>>16),c((65280&r)>>8),c(255&r);return 2==i?c(255&(r=u(e.charAt(n))<<2|u(e.charAt(n+1))>>4)):1==i&&(c((r=u(e.charAt(n))<<10|u(e.charAt(n+1))<<4|u(e.charAt(n+2))>>2)>>8&255),c(255&r)),o},e.fromByteArray=function(e){var t,n,r,i,o=e.length%3,a="";function s(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-o;t<r;t+=3)a+=s((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+s(i>>12&63)+s(i>>6&63)+s(63&i);switch(o){case 1:a=(a+=s((n=e[e.length-1])>>2))+s(n<<4&63)+"==";break;case 2:a=(a=(a+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+"="}return a}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,o,a,s,c,u,l){var d=e("base64-js"),f=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,a,s,c=typeof e;if("base64"===t&&"string"==c)for(e=(s=e).trim?s.trim():s.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==c)r=I(e);else if("string"==c)r=i.byteLength(e,t);else{if("object"!=c)throw new Error("First argument needs to be a number, array or string.");r=I(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(O(s=e)||i.isBuffer(s)||s&&"object"==typeof s&&"number"==typeof s.length)for(a=0;a<r;a++)i.isBuffer(e)?o[a]=e.readUInt8(a):o[a]=e[a];else if("string"==c)o.write(e,0,t);else if("number"==c&&!i._useTypedArrays&&!n)for(a=0;a<r;a++)o[a]=0;return o}function h(e,t,n,r){return i._charsWritten=M(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function p(e,t,n,r){return i._charsWritten=M(function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=(n=e.charCodeAt(i))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}function m(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function v(e,t,n,r){var i;if(r||(U("boolean"==typeof n,"missing or invalid endian"),U(null!=t,"missing offset"),U(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function g(e,t,n,r){var i;if(r||(U("boolean"==typeof n,"missing or invalid endian"),U(null!=t,"missing offset"),U(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function y(e,t,n,r){if(r||(U("boolean"==typeof n,"missing or invalid endian"),U(null!=t,"missing offset"),U(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=v(e,t,n,!0))?-1*(65535-r+1):r}function b(e,t,n,r){if(r||(U("boolean"==typeof n,"missing or invalid endian"),U(null!=t,"missing offset"),U(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=g(e,t,n,!0))?-1*(4294967295-r+1):r}function w(e,t,n,r){return r||(U("boolean"==typeof n,"missing or invalid endian"),U(t+3<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,23,4)}function x(e,t,n,r){return r||(U("boolean"==typeof n,"missing or invalid endian"),U(t+7<e.length,"Trying to read beyond buffer length")),f.read(e,t,n,52,8)}function _(e,t,n,r,i){if(i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+1<e.length,"trying to write beyond buffer length"),R(t,65535)),!((i=e.length)<=n))for(var o=0,a=Math.min(i-n,2);o<a;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function E(e,t,n,r,i){if(i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+3<e.length,"trying to write beyond buffer length"),R(t,4294967295)),!((i=e.length)<=n))for(var o=0,a=Math.min(i-n,4);o<a;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function k(e,t,n,r,i){i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+1<e.length,"Trying to write beyond buffer length"),Z(t,32767,-32768)),e.length<=n||_(e,0<=t?t:65535+t+1,n,r,i)}function C(e,t,n,r,i){i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+3<e.length,"Trying to write beyond buffer length"),Z(t,2147483647,-2147483648)),e.length<=n||E(e,0<=t?t:4294967295+t+1,n,r,i)}function S(e,t,n,r,i){i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+3<e.length,"Trying to write beyond buffer length"),F(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||f.write(e,t,n,r,23,4)}function j(e,t,n,r,i){i||(U(null!=t,"missing value"),U("boolean"==typeof r,"missing or invalid endian"),U(null!=n,"missing offset"),U(n+7<e.length,"Trying to write beyond buffer length"),F(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||f.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=N(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=P(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(U(O(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new i(t),r=0,o=0;o<e.length;o++){var a=e[o];a.copy(n,r),r+=a.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(u=r,r=t,t=n,n=u),t=Number(t)||0;var o,a,s,c,u=this.length-t;switch((!n||u<(n=Number(n)))&&(n=u),r=String(r||"utf8").toLowerCase()){case"hex":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),U((o=t.length)%2==0,"Invalid hex string"),o/2<r&&(r=o/2);for(var a=0;a<r;a++){var s=parseInt(t.substr(2*a,2),16);U(!isNaN(s),"Invalid hex string"),e[n+a]=s}return i._charsWritten=2*a,a}(this,e,t,n);break;case"utf8":case"utf-8":a=this,s=t,c=n,o=i._charsWritten=M(N(e),a,s,c);break;case"ascii":case"binary":o=h(this,e,t,n);break;case"base64":a=this,s=t,c=n,o=i._charsWritten=M(P(e),a,s,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=p(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(e,t,n){var r,i,o,a,s=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):s.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;o++)i+=D(e[o]);return i}(s,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=L(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+L(i)}(s,t,n);break;case"ascii":case"binary":r=m(s,t,n);break;case"base64":i=s,a=n,r=0===(o=t)&&a===i.length?d.fromByteArray(i):d.fromByteArray(i.slice(o,a));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(s,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){U(n<=r,"sourceEnd < sourceStart"),U(0<=t&&t<e.length,"targetStart out of bounds"),U(0<=n&&n<this.length,"sourceStart out of bounds"),U(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!i._useTypedArrays)for(var a=0;a<o;a++)e[a+t]=this[a+n];else e._set(this.subarray(n,n+o),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=T(e,n,0),t=T(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),a=0;a<r;a++)o[a]=this[a+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(U(null!=e,"missing offset"),U(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return v(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return v(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return g(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return g(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(U(null!=e,"missing offset"),U(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return y(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return y(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return b(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return b(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return w(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return w(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return x(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return x(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(U(null!=e,"missing value"),U(null!=t,"missing offset"),U(t<this.length,"trying to write beyond buffer length"),R(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){_(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){_(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(U(null!=e,"missing value"),U(null!=t,"missing offset"),U(t<this.length,"Trying to write beyond buffer length"),Z(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){k(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){k(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){C(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){C(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){j(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){j(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,U("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),U(t<=n,"end < start"),n!==t&&0!==this.length){U(0<=t&&t<this.length,"start out of bounds"),U(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=D(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var A=i.prototype;function T(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function I(e){return(e=~~Math.ceil(+e))<0?0:e}function O(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,o=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split("%")),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}return t}function P(e){return d.toByteArray(e)}function M(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function L(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function R(e,t){U("number"==typeof e,"cannot write a non-number as a number"),U(0<=e,"specified a negative value for writing an unsigned value"),U(e<=t,"value is larger than maximum value for type"),U(Math.floor(e)===e,"value has a fractional component")}function Z(e,t,n){U("number"==typeof e,"cannot write a non-number as a number"),U(e<=t,"value larger than maximum allowed value"),U(n<=e,"value smaller than minimum allowed value"),U(Math.floor(e)===e,"value has a fractional component")}function F(e,t,n){U("number"==typeof e,"cannot write a non-number as a number"),U(e<=t,"value larger than maximum allowed value"),U(n<=e,"value smaller than minimum allowed value")}function U(e,t){if(!e)throw new Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=A.get,e.set=A.set,e.write=A.write,e.toString=A.toString,e.toLocaleString=A.toString,e.toJSON=A.toJSON,e.copy=A.copy,e.slice=A.slice,e.readUInt8=A.readUInt8,e.readUInt16LE=A.readUInt16LE,e.readUInt16BE=A.readUInt16BE,e.readUInt32LE=A.readUInt32LE,e.readUInt32BE=A.readUInt32BE,e.readInt8=A.readInt8,e.readInt16LE=A.readInt16LE,e.readInt16BE=A.readInt16BE,e.readInt32LE=A.readInt32LE,e.readInt32BE=A.readInt32BE,e.readFloatLE=A.readFloatLE,e.readFloatBE=A.readFloatBE,e.readDoubleLE=A.readDoubleLE,e.readDoubleBE=A.readDoubleBE,e.writeUInt8=A.writeUInt8,e.writeUInt16LE=A.writeUInt16LE,e.writeUInt16BE=A.writeUInt16BE,e.writeUInt32LE=A.writeUInt32LE,e.writeUInt32BE=A.writeUInt32BE,e.writeInt8=A.writeInt8,e.writeInt16LE=A.writeInt16LE,e.writeInt16BE=A.writeInt16BE,e.writeInt32LE=A.writeInt32LE,e.writeInt32BE=A.writeInt32BE,e.writeFloatLE=A.writeFloatLE,e.writeFloatBE=A.writeFloatBE,e.writeDoubleLE=A.writeDoubleLE,e.writeDoubleBE=A.writeDoubleBE,e.fill=A.fill,e.inspect=A.inspect,e.toArrayBuffer=A.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,o,a,s,c,u,l){i=e("buffer").Buffer;var d=4,f=new i(d);f.fill(0),t.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%d!=0&&(n=e.length+(d-e.length%d),e=i.concat([e,f],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=d)r.push(o.call(e,a));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),a=(t=r,new i(n)),s=t?a.writeInt32BE:a.writeInt32LE,c=0;c<o.length;c++)s.call(a,o[c],4*c,!0);return a}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,o,a,s,c,u,l){i=e("buffer").Buffer;var d=e("./sha"),f=e("./sha256"),h=e("./rng"),p={sha1:d,sha256:f,md5:e("./md5")},m=64,v=new i(m);function g(e,t){var n=p[e=e||"sha1"],r=[];return n||y("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r);return o=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>m?t=e(t):t.length<m&&(t=i.concat([t,v],m));for(var r=new i(m),o=new i(m),a=0;a<m;a++)r[a]=54^t[a],o[a]=92^t[a];return n=e(i.concat([r,n])),e(i.concat([o,n]))}(n,t,o):n(o),r=null,e?o.toString(e):o}}}function y(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}v.fill(0),n.createHash=function(e){return g(e)},n.createHmac=g,n.randomBytes=function(e,t){if(!t||!t.call)return new i(h(e));try{t.call(this,void 0,new i(h(e)))}catch(e){t(e)}};var b,w=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],x=function(e){n[e]=function(){y("sorry,",e,"is not implemented yet")}};for(b in w)x(w[b],b)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,o,a,s,c,u,l){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,c=r,u=i,l=o;n=p(n,r,i,o,e[a+0],7,-680876936),o=p(o,n,r,i,e[a+1],12,-389564586),i=p(i,o,n,r,e[a+2],17,606105819),r=p(r,i,o,n,e[a+3],22,-1044525330),n=p(n,r,i,o,e[a+4],7,-176418897),o=p(o,n,r,i,e[a+5],12,1200080426),i=p(i,o,n,r,e[a+6],17,-1473231341),r=p(r,i,o,n,e[a+7],22,-45705983),n=p(n,r,i,o,e[a+8],7,1770035416),o=p(o,n,r,i,e[a+9],12,-1958414417),i=p(i,o,n,r,e[a+10],17,-42063),r=p(r,i,o,n,e[a+11],22,-1990404162),n=p(n,r,i,o,e[a+12],7,1804603682),o=p(o,n,r,i,e[a+13],12,-40341101),i=p(i,o,n,r,e[a+14],17,-1502002290),n=m(n,r=p(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=m(o,n,r,i,e[a+6],9,-1069501632),i=m(i,o,n,r,e[a+11],14,643717713),r=m(r,i,o,n,e[a+0],20,-373897302),n=m(n,r,i,o,e[a+5],5,-701558691),o=m(o,n,r,i,e[a+10],9,38016083),i=m(i,o,n,r,e[a+15],14,-660478335),r=m(r,i,o,n,e[a+4],20,-405537848),n=m(n,r,i,o,e[a+9],5,568446438),o=m(o,n,r,i,e[a+14],9,-1019803690),i=m(i,o,n,r,e[a+3],14,-187363961),r=m(r,i,o,n,e[a+8],20,1163531501),n=m(n,r,i,o,e[a+13],5,-1444681467),o=m(o,n,r,i,e[a+2],9,-51403784),i=m(i,o,n,r,e[a+7],14,1735328473),n=v(n,r=m(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=v(o,n,r,i,e[a+8],11,-2022574463),i=v(i,o,n,r,e[a+11],16,1839030562),r=v(r,i,o,n,e[a+14],23,-35309556),n=v(n,r,i,o,e[a+1],4,-1530992060),o=v(o,n,r,i,e[a+4],11,1272893353),i=v(i,o,n,r,e[a+7],16,-155497632),r=v(r,i,o,n,e[a+10],23,-1094730640),n=v(n,r,i,o,e[a+13],4,681279174),o=v(o,n,r,i,e[a+0],11,-358537222),i=v(i,o,n,r,e[a+3],16,-722521979),r=v(r,i,o,n,e[a+6],23,76029189),n=v(n,r,i,o,e[a+9],4,-640364487),o=v(o,n,r,i,e[a+12],11,-421815835),i=v(i,o,n,r,e[a+15],16,530742520),n=g(n,r=v(r,i,o,n,e[a+2],23,-995338651),i,o,e[a+0],6,-198630844),o=g(o,n,r,i,e[a+7],10,1126891415),i=g(i,o,n,r,e[a+14],15,-1416354905),r=g(r,i,o,n,e[a+5],21,-57434055),n=g(n,r,i,o,e[a+12],6,1700485571),o=g(o,n,r,i,e[a+3],10,-1894986606),i=g(i,o,n,r,e[a+10],15,-1051523),r=g(r,i,o,n,e[a+1],21,-2054922799),n=g(n,r,i,o,e[a+8],6,1873313359),o=g(o,n,r,i,e[a+15],10,-30611744),i=g(i,o,n,r,e[a+6],15,-1560198380),r=g(r,i,o,n,e[a+13],21,1309151649),n=g(n,r,i,o,e[a+4],6,-145523070),o=g(o,n,r,i,e[a+11],10,-1120210379),i=g(i,o,n,r,e[a+2],15,718787259),r=g(r,i,o,n,e[a+9],21,-343485551),n=y(n,s),r=y(r,c),i=y(i,u),o=y(o,l)}return Array(n,r,i,o)}function h(e,t,n,r,i,o){return y((t=y(y(t,e),y(r,o)))<<i|t>>>32-i,n)}function p(e,t,n,r,i,o,a){return h(t&n|~t&r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return h(t&r|n&~r,e,t,i,o,a)}function v(e,t,n,r,i,o,a){return h(t^n^r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return h(n^(t|~r),e,t,i,o,a)}function y(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,f,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,o,a,s,c,u){var l;t.exports=l||function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,o,a,s,c,u,l){var d=e("./helpers");function f(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,o=Array(80),a=1732584193,s=-271733879,c=-1732584194,u=271733878,l=-1009589776,d=0;d<e.length;d+=16){for(var f=a,m=s,v=c,g=u,y=l,b=0;b<80;b++){o[b]=b<16?e[d+b]:p(o[b-3]^o[b-8]^o[b-14]^o[b-16],1);var w=h(h(p(a,5),(w=s,r=c,i=u,(n=b)<20?w&r|~w&i:!(n<40)&&n<60?w&r|w&i|r&i:w^r^i)),h(h(l,o[b]),(n=b)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));l=u,u=c,c=p(s,30),s=a,a=w}a=h(a,f),s=h(s,m),c=h(c,v),u=h(u,g),l=h(l,y)}return Array(a,s,c,u,l)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,f,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,o,a,s,c,u,l){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),i=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),o=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var a,s,c=0;c<e.length;c+=16){for(var u=i[0],l=i[1],f=i[2],h=i[3],v=i[4],g=i[5],y=i[6],b=i[7],w=0;w<64;w++)o[w]=w<16?e[w+c]:d(d(d((s=o[w-2],p(s,17)^p(s,19)^m(s,10)),o[w-7]),(s=o[w-15],p(s,7)^p(s,18)^m(s,3))),o[w-16]),n=d(d(d(d(b,p(s=v,6)^p(s,11)^p(s,25)),v&g^~v&y),r[w]),o[w]),a=d(p(a=u,2)^p(a,13)^p(a,22),u&l^u&f^l&f),b=y,y=g,g=v,v=d(h,n),h=f,f=l,l=u,u=d(n,a);i[0]=d(u,i[0]),i[1]=d(l,i[1]),i[2]=d(f,i[2]),i[3]=d(h,i[3]),i[4]=d(v,i[4]),i[5]=d(g,i[5]),i[6]=d(y,i[6]),i[7]=d(b,i[7])}return i}var h=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},m=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,f,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,o,a,s,c,u){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,f=n?-1:1;for(i=e[t+d],d+=f,o=i&(1<<-l)-1,i>>=-l,l+=s;0<l;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;0<l;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,r),o-=u}return(i?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,c=8*o-i-1,u=(1<<c)-1,l=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1;for(o=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+l?d/r:d*Math.pow(2,1-l))*r&&(a++,r/=2),u<=a+l?(s=0,a=u):1<=a+l?(s=(t*r-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));8<=i;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;0<c;e[n+f]=255&a,f+=h,a/=256,c-=8);e[n+f-h]|=128*o}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,o,a,s,c,u){var l,d,f;function h(){}(e=t.exports={}).nextTick=(d="undefined"!=typeof window&&window.setImmediate,f="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:f?(l=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<l.length&&l.shift()())}),!0),function(e){l.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},73154:function(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"===typeof c.get?c.get:null,l=s&&Set.prototype.forEach,d="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,v=Function.prototype.toString,g=String.prototype.match,y="function"===typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,x="function"===typeof Symbol&&"object"===typeof Symbol.iterator,_=Object.prototype.propertyIsEnumerable,E=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),k=n(24654).custom,C=k&&I(k)?k:null,S="function"===typeof Symbol&&"undefined"!==typeof Symbol.toStringTag?Symbol.toStringTag:null;function j(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function A(e){return String(e).replace(/"/g,"&quot;")}function T(e){return"[object Array]"===N(e)&&(!S||!("object"===typeof e&&S in e))}function I(e){if(x)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!w)return!1;try{return w.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,i){var s=n||{};if(D(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(D(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!D(s,"customInspect")||s.customInspect;if("boolean"!==typeof c)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(D(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return M(t,s);if("number"===typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"===typeof t)return String(t)+"n";var m="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof r&&(r=0),r>=m&&m>0&&"object"===typeof t)return T(t)?"[Array]":"[Object]";var b=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(s,r);if("undefined"===typeof i)i=[];else if(P(i,t)>=0)return"[Circular]";function _(t,n,o){if(n&&(i=i.slice()).push(n),o){var a={depth:s.depth};return D(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,i)}return e(t,s,r+1,i)}if("function"===typeof t){var k=function(e){if(e.name)return e.name;var t=g.call(v.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),O=z(t,_);return"[Function"+(k?": "+k:" (anonymous)")+"]"+(O.length>0?" { "+O.join(", ")+" }":"")}if(I(t)){var L=x?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):w.call(t);return"object"!==typeof t||x?L:R(L)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var B="<"+String(t.nodeName).toLowerCase(),V=t.attributes||[],W=0;W<V.length;W++)B+=" "+V[W].name+"="+j(A(V[W].value),"double",s);return B+=">",t.childNodes&&t.childNodes.length&&(B+="..."),B+="</"+String(t.nodeName).toLowerCase()+">"}if(T(t)){if(0===t.length)return"[]";var H=z(t,_);return b&&!function(e){for(var t=0;t<e.length;t++)if(P(e[t],"\n")>=0)return!1;return!0}(H)?"["+U(H,b)+"]":"[ "+H.join(", ")+" ]"}if(function(e){return"[object Error]"===N(e)&&(!S||!("object"===typeof e&&S in e))}(t)){var q=z(t,_);return 0===q.length?"["+String(t)+"]":"{ ["+String(t)+"] "+q.join(", ")+" }"}if("object"===typeof t&&c){if(C&&"function"===typeof t[C])return t[C]();if("function"===typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{u.call(e)}catch(B){return!0}return e instanceof Map}catch(t){}return!1}(t)){var G=[];return a.call(t,(function(e,n){G.push(_(n,t,!0)+" => "+_(e,t))})),F("Map",o.call(t),G,b)}if(function(e){if(!u||!e||"object"!==typeof e)return!1;try{u.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var Y=[];return l.call(t,(function(e){Y.push(_(e,t))})),F("Set",u.call(t),Y,b)}if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(B){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return Z("WeakMap");if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(B){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return Z("WeakSet");if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{return h.call(e),!0}catch(t){}return!1}(t))return Z("WeakRef");if(function(e){return"[object Number]"===N(e)&&(!S||!("object"===typeof e&&S in e))}(t))return R(_(Number(t)));if(function(e){if(!e||"object"!==typeof e||!y)return!1;try{return y.call(e),!0}catch(t){}return!1}(t))return R(_(y.call(t)));if(function(e){return"[object Boolean]"===N(e)&&(!S||!("object"===typeof e&&S in e))}(t))return R(p.call(t));if(function(e){return"[object String]"===N(e)&&(!S||!("object"===typeof e&&S in e))}(t))return R(_(String(t)));if(!function(e){return"[object Date]"===N(e)&&(!S||!("object"===typeof e&&S in e))}(t)&&!function(e){return"[object RegExp]"===N(e)&&(!S||!("object"===typeof e&&S in e))}(t)){var K=z(t,_),Q=E?E(t)===Object.prototype:t instanceof Object||t.constructor===Object,X=t instanceof Object?"":"null prototype",$=!Q&&S&&Object(t)===t&&S in t?N(t).slice(8,-1):X?"Object":"",J=(Q||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+($||X?"["+[].concat($||[],X||[]).join(": ")+"] ":"");return 0===K.length?J+"{}":b?J+"{"+U(K,b)+"}":J+"{ "+K.join(", ")+" }"}return String(t)};var O=Object.prototype.hasOwnProperty||function(e){return e in this};function D(e,t){return O.call(e,t)}function N(e){return m.call(e)}function P(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function M(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return M(e.slice(0,t.maxStringLength),t)+r}return j(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,L),"single",t)}function L(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function R(e){return"Object("+e+")"}function Z(e){return e+" { ? }"}function F(e,t,n,r){return e+" ("+t+") {"+(r?U(n,r):n.join(", "))+"}"}function U(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function z(e,t){var n=T(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=D(e,i)?t(e[i],e):""}var o,a="function"===typeof b?b(e):[];if(x){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in e)D(e,c)&&(n&&String(Number(c))===c&&c<e.length||x&&o["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if("function"===typeof b)for(var u=0;u<a.length;u++)_.call(e,a[u])&&r.push("["+t(a[u])+"]: "+t(e[a[u]],e));return r}},75586:function(e,t,n){"use strict";var r=n(89504).default,i=n(48064).default,o=n(18231).default,a=n(89137).default,s=n(53744).default,c=function(e){a(n,e);var t=s(n);function n(e){var r;return i(this,n),(r=t.call(this,e||"Promise was canceled")).name="CancelError",r}return o(n,[{key:"isCanceled",get:function(){return!0}}]),n}((0,n(12682).default)(Error)),u=function(){function e(t){var n=this;i(this,e),this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((function(e,r){n._reject=r;var i=function(e){if(!n._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");n._cancelHandlers.push(e)};return Object.defineProperties(i,{shouldReject:{get:function(){return n._rejectOnCancel},set:function(e){n._rejectOnCancel=e}}}),t((function(t){n._isCanceled&&i.shouldReject||(n._isPending=!1,e(t))}),(function(e){n._isPending=!1,r(e)}),i)}))}return o(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{var t,n=r(this._cancelHandlers);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(i){n.e(i)}finally{n.f()}}catch(o){return void this._reject(o)}this._rejectOnCancel&&this._reject(new c(e))}}},{key:"isCanceled",get:function(){return this._isCanceled}}],[{key:"fn",value:function(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return new e((function(e,n,i){r.push(i),t.apply(void 0,r).then(e,n)}))}}}]),e}();Object.setPrototypeOf(u.prototype,Promise.prototype),e.exports=u,e.exports.CancelError=c},31905:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},45176:function(e){var t=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var r=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=t.exec(e||""),s={},c=14;c--;)s[n[c]]=a[c]||"";return-1!=i&&-1!=o&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}},64883:function(e,t,n){var r=n(7146);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],f=n[1],h=n.index;if(s+=e.slice(a,h),a=h+d.length,f)s+=f[1];else{var p=e[a],m=n[2],v=n[3],g=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var x=null!=m&&null!=p&&p!==m,_="+"===b||"*"===b,E="?"===b||"*"===b,k=n[2]||l,C=g||y;r.push({name:v||o++,prefix:m||"",delimiter:k,optional:E,repeat:_,partial:x,asterisk:!!w,pattern:C?u(C):w?".*":"[^"+c(k)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},c=(i||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!==typeof l){var d,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(d=c(f[h]),!n[u].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===h?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(f),!n[u].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');o+=l.prefix+d}}else o+=l}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=c(u);else{var f=c(u.prefix),h="(?:"+u.pattern+")";t.push(u),u.repeat&&(h+="(?:"+f+h+")*"),a+=h=u.optional?u.partial?f+"("+h+")?":"(?:"+f+"("+h+"))?":f+"("+h+")"}}var p=c(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,d(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},61729:function(e,t,n){"use strict";var r=n(79165);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},75192:function(e,t,n){e.exports=n(61729)()},79165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},23294:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),c=new t(512),u=new t(512);function l(e){return s.get(e)||s.set(e,d(e).map((function(e){return e.replace(a,"$2")})))}function d(e){return e.match(n)}function f(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function h(e){return!f(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return o.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:l,setter:function(e){var t=l(e);return c.get(e)||c.set(e,(function(e,n){for(var r=0,i=t.length,o=e;r<i-1;){var a=t[r];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;o=o[t[r++]]}o[t[r]]=n}))},getter:function(e,t){var n=l(e);return u.get(e)||u.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(f(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,o,a,s=e.length;for(i=0;i<s;i++)(r=e[i])&&(h(r)&&(r='"'+r+'"'),o=!(a=f(r))&&/^\d+$/.test(r),t.call(n,r,a,o,i,e))}(Array.isArray(e)?e:d(e),t,n)}}},5609:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},74776:function(e,t,n){"use strict";var r=n(2816),i=n(67668),o=n(5609);e.exports={formats:o,parse:i,stringify:r}},67668:function(e,t,n){"use strict";var r=n(49837),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,l=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var d=0;n.depth>0&&null!==(s=a.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:c(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=i:a[u]=i:a={0:i}}i=a}return i}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var l="string"===typeof e?function(e,t){var n,u={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,f=l.split(t.delimiter,d),h=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?p="utf-8":"utf8=%26%2310003%3B"===f[n]&&(p="iso-8859-1"),h=n,n=f.length);for(n=0;n<f.length;++n)if(n!==h){var m,v,g=f[n],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(m=t.decoder(g,a.decoder,p,"key"),v=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,b),a.decoder,p,"key"),v=r.maybeMap(c(g.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,p,"value")}))),v&&t.interpretNumericEntities&&"iso-8859-1"===p&&(v=s(v)),g.indexOf("[]=")>-1&&(v=o(v)?[v]:v),i.call(u,m)?u[m]=r.combine(u[m],v):u[m]=v}return u}(e,n):e,d=n.plainObjects?Object.create(null):{},f=Object.keys(l),h=0;h<f.length;++h){var p=f[h],m=u(p,l[p],n,"string"===typeof e);d=r.merge(d,m,n)}return!0===n.allowSparse?d:r.compact(d)}},2816:function(e,t,n){"use strict";var r=n(73170),i=n(49837),o=n(5609),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,c(t)?t:[t])},d=Date.prototype.toISOString,f=o.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,n,o,a,s,u,d,f,p,m,v,g,y,b,w){var x,_=t;if(w.has(t))throw new RangeError("Cyclic object value");if("function"===typeof d?_=d(n,_):_ instanceof Date?_=m(_):"comma"===o&&c(_)&&(_=i.maybeMap(_,(function(e){return e instanceof Date?m(e):e}))),null===_){if(a)return u&&!y?u(n,h.encoder,b,"key",v):n;_=""}if("string"===typeof(x=_)||"number"===typeof x||"boolean"===typeof x||"symbol"===typeof x||"bigint"===typeof x||i.isBuffer(_))return u?[g(y?n:u(n,h.encoder,b,"key",v))+"="+g(u(_,h.encoder,b,"value",v))]:[g(n)+"="+g(String(_))];var E,k=[];if("undefined"===typeof _)return k;if("comma"===o&&c(_))E=[{value:_.length>0?_.join(",")||null:void 0}];else if(c(d))E=d;else{var C=Object.keys(_);E=f?C.sort(f):C}for(var S=0;S<E.length;++S){var j=E[S],A="object"===typeof j&&void 0!==j.value?j.value:_[j];if(!s||null!==A){var T=c(_)?"function"===typeof o?o(n,j):n:n+(p?"."+j:"["+j+"]");w.set(t,!0);var I=r();l(k,e(A,T,o,a,s,u,d,f,p,m,v,g,y,b,I))}}return k};e.exports=function(e,t){var n,i=e,u=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=o.formatters[n],i=h.filter;return("function"===typeof e.filter||c(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?h.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:h.encode,encoder:"function"===typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"===typeof u.filter?i=(0,u.filter)("",i):c(u.filter)&&(n=u.filter);var d,f=[];if("object"!==typeof i||null===i)return"";d=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var m=s[d];n||(n=Object.keys(i)),u.sort&&n.sort(u.sort);for(var v=r(),g=0;g<n.length;++g){var y=n[g];u.skipNulls&&null===i[y]||l(f,p(i[y],y,m,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,v))}var b=f.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},49837:function(e,t,n){"use strict";var r=n(5609),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"===typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:u}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===r.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"===typeof a&&n&&"object"===typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},30534:function(e,t,n){"use strict";var r=n(47313),i=n(71843),o=n(62224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(m,e)||!h.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,E=60106,k=60107,C=60108,S=60114,j=60109,A=60110,T=60112,I=60113,O=60120,D=60115,N=60116,P=60121,M=60128,L=60129,R=60130,Z=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;_=F("react.element"),E=F("react.portal"),k=F("react.fragment"),C=F("react.strict_mode"),S=F("react.profiler"),j=F("react.provider"),A=F("react.context"),T=F("react.forward_ref"),I=F("react.suspense"),O=F("react.suspense_list"),D=F("react.memo"),N=F("react.lazy"),P=F("react.block"),F("react.scope"),M=F("react.opaque.id"),L=F("react.debug_trace_mode"),R=F("react.offscreen"),Z=F("react.legacy_hidden")}var U,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function V(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function q(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case S:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case P:return G(e._render);case N:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ue(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ae=null,Te=null;function Ie(e){if(e=ri(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),je(e.stateNode,e.type,t))}}function Oe(e){Ae?Te?Te.push(e):Te=[e]:Ae=e}function De(){if(Ae){var e=Ae,t=Te;if(Te=Ae=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ne(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Ne,Re=!1,Ze=!1;function Fe(){null===Ae&&null===Te||(Me(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){ze=!1}function Ve(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var We=!1,He=null,qe=!1,Ge=null,Ye={onError:function(e){We=!0,He=e}};function Ke(e,t,n,r,i,o,a,s,c){We=!1,He=null,Ve.apply(Ye,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Qe(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ct=null,ut=null,lt=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(bt),dt.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function _t(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&xt(st,e),null!==ct&&xt(ct,e),null!==ut&&xt(ut,e),lt.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Ct={},St={};function jt(e){if(Ct[e])return Ct[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Ct[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var At=jt("animationend"),Tt=jt("animationiteration"),It=jt("animationstart"),Ot=jt("transitionend"),Dt=new Map,Nt=new Map,Pt=["abort","abort",At,"animationEnd",Tt,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Dt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Lt=8;function Rt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Zt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var c=o&~a;0!==c?(r=Rt(c),i=Lt):0!==(s&=o)&&(r=Rt(s),i=Lt)}else 0!==(o=n&~a)?(r=Rt(o),i=Lt):0!==s&&(r=Rt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Rt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/qt|0)|0},Ht=Math.log,qt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Kt=!0;function Qt(e,t,n,r){Re||Me();var i=$t,o=Re;Re=!0;try{Pe(i,e,t,n,r)}finally{(Re=o)||Fe()}}function Xt(e,t,n,r){Yt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ct=vt(ct,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,vt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Mr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var o=Qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function cn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,ln,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=cn(fn),pn=i({},fn,{view:0,detail:0}),mn=cn(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(un=e.screenX-dn.screenX,ln=e.screenY-dn.screenY):ln=un=0,dn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=cn(vn),yn=cn(i({},vn,{dataTransfer:0})),bn=cn(i({},pn,{relatedTarget:0})),wn=cn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=cn(xn),En=cn(i({},fn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return jn}var Tn=i({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=cn(Tn),On=cn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=cn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Nn=cn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=cn(Pn),Ln=[9,13,27,32],Rn=d&&"CompositionEvent"in window,Zn=null;d&&"documentMode"in document&&(Zn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Zn,Un=d&&(!Rn||Zn&&8<Zn&&11>=Zn),zn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Yn(e,t,n,r){Oe(r),0<(t=Rr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function Xn(e){Tr(e,0)}function $n(e){if(X(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",or),Qn=Kn=null)}function or(e){if("value"===e.propertyName&&$n(Qn)){var t=[];if(Yn(t,Qn,e,Se(e)),e=Xn,Re)e(t);else{Re=!0;try{Ne(e,t)}finally{Re=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(ir(),Qn=n,(Kn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Qn)}function cr(e,t){if("click"===e)return $n(t)}function ur(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,xr=null,_r=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==br||br!==$(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&fr(xr,r)||(xr=r,0<(r=Rr(wr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Pt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<kr.length;Cr++)Nt.set(kr[Cr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,c,u){if(Ke.apply(this,arguments),We){if(!We)throw Error(a(198));var l=He;We=!1,He=null,qe||(qe=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Ar(i,s,u),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Ar(i,s,u),o=c}}}if(qe)throw e=Ge,qe=!1,Ge=null,e}function Ir(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){jr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&jr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Xt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ze)return e(t,n);Ze=!0;try{Le(e,t,n)}finally{Ze=!1,Fe()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var c=hn,u=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":c=In;break;case"focusin":u="focus",c=bn;break;case"focusout":u="blur",c=bn;break;case"beforeblur":case"afterblur":c=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Dn;break;case At:case Tt:case It:c=wn;break;case Ot:c=Nn;break;case"scroll":c=mn;break;case"wheel":c=Mn;break;case"copy":case"cut":case"paste":c=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=On}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ue(p,f))&&l.push(Lr(p,m,h)))),d)break;p=p.return}0<l.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(d=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?s:ii(c),h=null==u?s:ii(u),(s=new l(m,p+"leave",c,n,i)).target=d,s.relatedTarget=h,m=null,ni(i)===r&&((l=new l(f,p+"enter",u,n,i)).target=h,l.relatedTarget=d,m=l),d=m,c&&u)e:{for(f=u,p=0,h=l=c;h;h=Zr(h))p++;for(h=0,m=f;m;m=Zr(m))h++;for(;0<p-h;)l=Zr(l),p--;for(;0<h-p;)f=Zr(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Zr(l),f=Zr(f)}l=null}else l=null;null!==c&&Fr(a,s,c,l,!1),null!==u&&null!==d&&Fr(a,d,u,l,!0)}if("select"===(c=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Jn;else if(Gn(s))if(er)v=ur;else{v=sr;var g=ar}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=cr);switch(v&&(v=v(e,r))?Yn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(br=g,wr=r,xr=null);break;case"focusout":xr=wr=br=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Er(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(g=Rr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Rr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Tr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=Ue(n,o))&&a.unshift(Lr(n,c,s)):i||null!=(c=Ue(n,o))&&a.push(Lr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var zr=null,Br=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var Xr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Xr,Jr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[$r])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Jr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ci=-1;function ui(e){return{current:e}}function li(e){0>ci||(e.current=si[ci],si[ci]=null,ci--)}function di(e,t){ci++,si[ci]=e.current,e.current=t}var fi={},hi=ui(fi),pi=ui(!1),mi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(hi)}function bi(e,t,n){if(hi.current!==fi)throw Error(a(168));di(hi,t),di(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,mi=hi.current,di(hi,e),di(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),di(hi,e)):li(pi),di(pi,n)}var Ei=null,ki=null,Ci=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,ji=o.unstable_cancelCallback,Ai=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ii=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Ri={},Zi=void 0!==Ti?Ti:function(){},Fi=null,Ui=null,zi=!1,Bi=Ii(),Vi=1e4>Bi?Ii:function(){return Ii()-Bi};function Wi(){switch(Oi()){case Di:return 99;case Ni:return 98;case Pi:return 97;case Mi:return 96;case Li:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Di;case 98:return Ni;case 97:return Pi;case 96:return Mi;case 95:return Li;default:throw Error(a(332))}}function qi(e,t){return e=Hi(e),Ci(e,t)}function Gi(e,t,n){return e=Hi(e),Si(e,t,n)}function Yi(){if(null!==Ui){var e=Ui;Ui=null,ji(e)}Ki()}function Ki(){if(!zi&&null!==Fi){zi=!0;var e=0;try{var t=Fi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Di,Yi),n}finally{zi=!1}}}var Qi=x.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ui(null),Ji=null,eo=null,to=null;function no(){to=eo=Ji=null}function ro(e){var t=$i.current;li($i),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ji=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ra=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ji)throw Error(a(308));eo=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?a=l:s.next=l,s=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=l:f.next=l,d.lastBaseUpdate=u)}}if(null!==a){for(f=o.baseState,s=0,d=l=u=null;;){c=a.lane;var h=a.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(c=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(h,f,c);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(c="function"===typeof(p=m.payload)?p.call(h,f,c):p)||void 0===c)break e;f=i({},f,c);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[a]:c.push(a))}else h={eventTime:h,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(l=d=h,u=f):d=d.next=h,s|=c;if(null===(a=a.next)){if(null===(c=o.shared.pending))break;a=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(u=f),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=d,zs|=s,e.lanes=s,e.memoizedState=f}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fc(),i=hc(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fc(),i=hc(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),pc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fc(),r=hc(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),pc(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function wo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?mi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,co(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?mi:hi.current,i.context=vi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Gc(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Yc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gc(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case E:return(t=Xc(t,e.mode,n)).return=e,t}if(Eo(t)||B(t))return(t=Yc(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===k?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(Eo(n)||B(n))return null!==i?null:d(e,t,n,r,null);Co(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===k?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||B(r))return d(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function m(i,a,s,c){for(var u=null,l=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=h(i,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===l?u=g:l.sibling=g,l=g,d=v}if(m===s.length)return n(i,d),u;if(null===d){for(;m<s.length;m++)null!==(d=f(i,s[m],c))&&(a=o(d,a,m),null===l?u=d:l.sibling=d,l=d);return u}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?u=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),u}function v(i,s,c,u){var l=B(c);if("function"!==typeof l)throw Error(a(150));if(null==(c=l.call(c)))throw Error(a(151));for(var d=l=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(i,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===d?l=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return l}for(m=r(i,m);!y.done;v++,y=c.next())null!==(y=p(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,c){var u="object"===typeof o&&null!==o&&o.type===k&&null===o.key;u&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case _:e:{for(l=o.key,u=r;null!==u;){if(u.key===l){if(7===u.tag){if(o.type===k){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=ko(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===k?((r=Yc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Gc(o.type,o.key,o.props,null,e.mode,c)).ref=ko(e,r,o),c.return=e,e=c)}return s(e);case E:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qc(o,e.mode,c)).return=e,e=r),s(e);if(Eo(o))return m(e,r,o,c);if(B(o))return v(e,r,o,c);if(l&&Co(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var jo=So(!0),Ao=So(!1),To={},Io=ui(To),Oo=ui(To),Do=ui(To);function No(e){if(e===To)throw Error(a(174));return e}function Po(e,t){switch(di(Do,t),di(Oo,e),di(Io,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Io),di(Io,t)}function Mo(){li(Io),li(Oo),li(Do)}function Lo(e){No(Do.current);var t=No(Io.current),n=pe(t,e.type);t!==n&&(di(Oo,e),di(Io,n))}function Ro(e){Oo.current===e&&(li(Io),li(Oo))}var Zo=ui(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,zo=null,Bo=!1;function Vo(e,t){var n=Wc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(Bo){var t=zo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Yr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(Uo=e);Vo(Uo,n)}Uo=e,zo=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,Uo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Go(e){if(e!==Uo)return!1;if(!Bo)return qo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=zo;t;)Vo(e,t),t=Yr(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){zo=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}zo=null}}else zo=Uo?Yr(e.stateNode.nextSibling):null;return!0}function Yo(){zo=Uo=null,Bo=!1}var Ko=[];function Qo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Xo=x.ReactCurrentDispatcher,$o=x.ReactCurrentBatchConfig,Jo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Jo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Na:Pa,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=Ma,e=n(r,i)}while(ia)}if(Xo.current=Da,t=null!==ta&&null!==ta.next,Jo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ua(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function da(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,u=i;do{var l=u.lane;if((Jo&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=d,o=r):c=c.next=d,ea.lanes|=l,zs|=l}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=s,lr(r,t.memoizedState)||(Ra=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ra=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ns;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),c=Xo.current,u=c.useState((function(){return ha(i,t,n)})),l=u[1],d=u[0];u=na;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,m=f.source;f=f.subscribe;var v=ea;return e.memoizedState={refs:h,source:t,subscribe:r},c.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(l(e),e=hc(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var c=31-Wt(a),u=1<<c;r[c]|=e,a&=~u}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hc(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(m,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=l=Oa.bind(null,ea,e),u.queue=e,u.baseQueue=null,d=ha(i,t,n),u.memoizedState=u.baseState=d),d}function ma(e,t,n){return pa(ua(),e,t,n)}function va(e){var t=ca();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Oa.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},ca().memoizedState=e}function ba(){return ua().memoizedState}function wa(e,t,n,r){var i=ca();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function xa(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function _a(e,t){return wa(516,4,e,t)}function Ea(e,t){return xa(516,4,e,t)}function ka(e,t){return xa(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Ca.bind(null,t,e),n)}function ja(){}function Aa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ia(e,t){var n=Wi();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function Oa(e,t,n){var r=fc(),i=hc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,n);if(o.eagerReducer=a,o.eagerState=c,lr(c,s))return}catch(u){}pc(e,i,r)}}var Da={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:ja,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return _a((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=Ia.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ca();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return va(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:Aa,useContext:ao,useEffect:Ea,useImperativeHandle:Sa,useLayoutEffect:ka,useMemo:Ta,useReducer:da,useRef:ba,useState:function(){return da(la)},useDebugValue:ja,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return Ea((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Ma={readContext:ao,useCallback:Aa,useContext:ao,useEffect:Ea,useImperativeHandle:Sa,useLayoutEffect:ka,useMemo:Ta,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:ja,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Ea((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La=x.ReactCurrentOwner,Ra=!1;function Za(e,t,n,r){t.child=null===e?Ao(t,null,n,r):jo(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ra?(t.flags|=1,Za(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,za(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=qc(a,r)).ref=t.ref,e.return=t,t.child=e)}function za(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ra=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ra=!0)}return Wa(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_c(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_c(t,e),null;t.memoizedState={baseLanes:0},_c(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_c(t,r);return Za(e,t,i,n),t.child}function Va(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wa(e,t,n,r,i){var o=gi(n)?mi:hi.current;return o=vi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ra?(t.flags|=1,Za(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ha(e,t,n,r,i){if(gi(n)){var o=!0;xi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ao(u):u=vi(t,u=gi(n)?mi:hi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&xo(t,a,r,u),so=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),c=t.memoizedState,s!==r||f!==c||pi.current||so?("function"===typeof l&&(go(t,n,l,r),c=t.memoizedState),(s=so||bo(t,n,s,r,f,c,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Xi(t.type,s),a.props=u,d=t.pendingProps,f=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ao(c):c=vi(t,c=gi(n)?mi:hi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==c)&&xo(t,a,r,c),so=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||pi.current||so?("function"===typeof h&&(go(t,n,h,r),p=t.memoizedState),(u=so||bo(t,n,u,r,f,p,c))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return qa(e,t,n,r,o,i)}function qa(e,t,n,r,i,o){Va(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&_i(t,n,!1),os(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=jo(t,e.child,null,o),t.child=jo(t,null,s,o)):Za(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Po(e,t.containerInfo)}var Ya,Ka,Qa,Xa={dehydrated:null,retryLane:0};function $a(e,t,n){var r,i=t.pendingProps,o=Zo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),di(Zo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=Kc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Kc(t,i,0,null),n=Yc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=qc(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qc(a,s),null!==e?r=qc(e,r):(r=Yc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Za(e,t,r.children,n),0!==(2&(r=Zo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Zo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Mo(),li(pi),li(hi),Qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ro(t);var o=No(Do.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Io.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Jr]=s,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ir(Sr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,s),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ir("invalid",r);break;case"textarea":ce(r,s),Ir("invalid",r)}for(var u in ke(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Ir("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[$r]=t,e[Jr]=r,Ya(e,t),t.stateNode=e,u=Ce(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),o=r;break;case"iframe":case"object":case"embed":Ir("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Ir(Sr[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Ir("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),Ir("invalid",e);break;default:o=r}ke(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?_e(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ir("scroll",e):null!=d&&w(e,s,d,u))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=No(Do.current),No(Io.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Zo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Zo.current)?0===Zs&&(Zs=3):(0!==Zs&&3!==Zs||(Zs=4),null===Ns||0===(134217727&zs)&&0===(134217727&Bs)||yc(Ns,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Zo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)as(r,!1);else{if(0!==Zs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fo(e))){for(t.flags|=64,as(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(Zo,1&Zo.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>qs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Zo.current,di(Zo,s?1&t|2:1&t),n):null;case 23:case 24:return Ec(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function cs(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),li(pi),li(hi),Qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ro(e),null;case 13:return li(Zo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Zo),null;case 4:return Mo(),null;case 10:return ro(e),null;case 23:case 24:return Ec(),null;default:return null}}function us(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ya=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Io.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(d in ke(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&l!==u&&(null!=l||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Ir("scroll",e),s||u===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Xs=r),ls(0,t)},n}function hs(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uc(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Rc(n,e),Lc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(ki&&"function"===typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Ei,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Rc(t,n);else{r=t;try{i()}catch(o){Uc(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Uc(t,o)}break;case 5:ms(t);break;case 4:Cs(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(xs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):ks(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Cs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,u=c;;)if(bs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?_e(n,c):"dangerouslySetInnerHTML"===s?ge(n,c):"children"===s?ye(n,c):w(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Vi(),ys(t.child,!0)),void js(t);case 19:return void js(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function js(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ts=Math.ceil,Is=x.ReactCurrentDispatcher,Os=x.ReactCurrentOwner,Ds=0,Ns=null,Ps=null,Ms=0,Ls=0,Rs=ui(0),Zs=0,Fs=null,Us=0,zs=0,Bs=0,Vs=0,Ws=null,Hs=0,qs=1/0;function Gs(){qs=Vi()+500}var Ys,Ks=null,Qs=!1,Xs=null,$s=null,Js=!1,ec=null,tc=90,nc=[],rc=[],ic=null,oc=0,ac=null,sc=-1,cc=0,uc=0,lc=null,dc=!1;function fc(){return 0!==(48&Ds)?Vi():-1!==sc?sc:sc=Vi()}function hc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===cc&&(cc=Us),0!==Qi.transition){0!==uc&&(uc=null!==Ws?Ws.pendingLanes:0),e=cc;var t=4186112&~uc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ds)&&98===e?e=Ut(12,cc):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cc),e}function pc(e,t,n){if(50<oc)throw oc=0,ac=null,Error(a(185));if(null===(e=mc(e,t)))return null;Vt(e,t,n),e===Ns&&(Bs|=t,4===Zs&&yc(e,Ms));var r=Wi();1===t?0!==(8&Ds)&&0===(48&Ds)?bc(e):(vc(e,n),0===Ds&&(Gs(),Yi())):(0===(4&Ds)||98!==r&&99!==r||(null===ic?ic=new Set([e]):ic.add(e)),vc(e,n)),Ws=e}function mc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Wt(s),u=1<<c,l=o[c];if(-1===l){if(0===(u&r)||0!==(u&i)){l=t,Rt(u);var d=Lt;o[c]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=Zt(e,e===Ns?Ms:0),t=Lt,0===r)null!==n&&(n!==Ri&&ji(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ri&&ji(n)}15===t?(n=bc.bind(null,e),null===Fi?(Fi=[n],Ui=Si(Di,Ki)):Fi.push(n),n=Ri):14===t?n=Gi(99,bc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,gc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gc(e){if(sc=-1,uc=cc=0,0!==(48&Ds))throw Error(a(327));var t=e.callbackNode;if(Mc()&&e.callbackNode!==t)return null;var n=Zt(e,e===Ns?Ms:0);if(0===n)return null;var r=n,i=Ds;Ds|=16;var o=Sc();for(Ns===e&&Ms===r||(Gs(),kc(e,r));;)try{Tc();break}catch(c){Cc(e,c)}if(no(),Is.current=o,Ds=i,null!==Ps?r=0:(Ns=null,Ms=0,r=Zs),0!==(Us&Bs))kc(e,0);else if(0!==r){if(2===r&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=jc(e,n))),1===r)throw t=Fs,kc(e,0),yc(e,n),vc(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Dc(e);break;case 3:if(yc(e,n),(62914560&n)===n&&10<(r=Hs+500-Vi())){if(0!==Zt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Dc.bind(null,e),r);break}Dc(e);break;case 4:if(yc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=Hr(Dc.bind(null,e),n);break}Dc(e);break;default:throw Error(a(329))}}return vc(e,Vi()),e.callbackNode===t?gc.bind(null,e):null}function yc(e,t){for(t&=~Vs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bc(e){if(0!==(48&Ds))throw Error(a(327));if(Mc(),e===Ns&&0!==(e.expiredLanes&Ms)){var t=Ms,n=jc(e,t);0!==(Us&Bs)&&(n=jc(e,t=Zt(e,t)))}else n=jc(e,t=Zt(e,0));if(0!==e.tag&&2===n&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=jc(e,t))),1===n)throw n=Fs,kc(e,0),yc(e,t),vc(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dc(e),vc(e,Vi()),null}function wc(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Yi())}}function xc(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Yi())}}function _c(e,t){di(Rs,Ls),Ls|=t,Us|=t}function Ec(){Ls=Rs.current,li(Rs)}function kc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Mo(),li(pi),li(hi),Qo();break;case 5:Ro(r);break;case 4:Mo();break;case 13:case 19:li(Zo);break;case 10:ro(r);break;case 23:case 24:Ec()}n=n.return}Ns=e,Ps=qc(e.current,null),Ms=Ls=Us=t,Zs=0,Fs=null,Vs=Bs=zs=0}function Cc(e,t){for(;;){var n=Ps;try{if(no(),Xo.current=Da,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Jo=0,na=ta=ea=null,ia=!1,Os.current=null,null===n||null===n.return){Zs=1,Fs=t,Ps=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Zo.current),f=a;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=f.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(h){var v=f.updateQueue;if(null===v){var g=new Set;g.add(u),f.updateQueue=g}else v.add(u);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,fo(s,y)}s.lanes|=1;break e}c=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ds,c=new Set,b.set(u,c)):void 0===(c=b.get(u))&&(c=new Set,b.set(u,c)),!c.has(s)){c.add(s);var w=zc.bind(null,o,u,s);u.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);c=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Zs&&(Zs=2),c=us(c,s),f=a;do{switch(f.tag){case 3:o=c,f.flags|=4096,t&=-t,f.lanes|=t,ho(f,fs(0,o,t));break e;case 1:o=c;var x=f.type,_=f.stateNode;if(0===(64&f.flags)&&("function"===typeof x.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$s||!$s.has(_)))){f.flags|=4096,t&=-t,f.lanes|=t,ho(f,hs(f,o,t));break e}}f=f.return}while(null!==f)}Oc(n)}catch(E){t=E,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Sc(){var e=Is.current;return Is.current=Da,null===e?Da:e}function jc(e,t){var n=Ds;Ds|=16;var r=Sc();for(Ns===e&&Ms===t||kc(e,t);;)try{Ac();break}catch(i){Cc(e,i)}if(no(),Ds=n,Is.current=r,null!==Ps)throw Error(a(261));return Ns=null,Ms=0,Zs}function Ac(){for(;null!==Ps;)Ic(Ps)}function Tc(){for(;null!==Ps&&!Ai();)Ic(Ps)}function Ic(e){var t=Ys(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Oc(e):Ps=t,Os.current=null}function Oc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=cs(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Zs&&(Zs=5)}function Dc(e){var t=Wi();return qi(99,Nc.bind(null,e,t)),null}function Nc(e,t){do{Mc()}while(null!==ec);if(0!==(48&Ds))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var u=31-Wt(o),l=1<<u;i[u]=0,s[u]=-1,c[u]=-1,o&=~l}if(null!==ic&&0===(24&r)&&ic.has(e)&&ic.delete(e),e===Ns&&(Ps=Ns=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ds,Ds|=32,Os.current=null,zr=Kt,gr(s=vr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(S){c=null;break e}var d=0,f=-1,h=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==c||0!==o&&3!==v.nodeType||(f=d+o),v!==u||0!==l&&3!==v.nodeType||(h=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===c&&++p===o&&(f=d),g===u&&++m===l&&(h=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}c=-1===f||-1===h?null:{start:f,end:h}}else c=null;c=c||{start:0,end:0}}else c=null;Br={focusedElem:s,selectionRange:c},Kt=!1,lc=null,dc=!1,Ks=r;do{try{Pc()}catch(S){if(null===Ks)throw Error(a(330));Uc(Ks,S),Ks=Ks.nextEffect}}while(null!==Ks);lc=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&ye(Ks.stateNode,""),128&b){var w=Ks.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:_s(Ks),Ks.flags&=-3;break;case 6:_s(Ks),Ks.flags&=-3,Ss(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ss(Ks.alternate,Ks);break;case 4:Ss(Ks.alternate,Ks);break;case 8:Cs(s,c=Ks);var _=c.alternate;ws(c),null!==_&&ws(_)}Ks=Ks.nextEffect}}catch(S){if(null===Ks)throw Error(a(330));Uc(Ks,S),Ks=Ks.nextEffect}}while(null!==Ks);if(x=Br,w=vr(),b=x.focusedElem,s=x.selectionRange,w!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==s&&gr(b)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),c=b.textContent.length,_=Math.min(s.start,c),s=void 0===s.end?_:Math.min(s.end,c),!x.extend&&_>s&&(c=s,s=_,_=c),c=pr(b,_),o=pr(b,s),c&&o&&(1!==x.rangeCount||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((w=w.createRange()).setStart(c.node,c.offset),x.removeAllRanges(),_>s?(x.addRange(w),x.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Kt=!!zr,Br=zr=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var E=Ks.flags;if(36&E&&gs(b,Ks.alternate,Ks),128&E){w=void 0;var k=Ks.ref;if(null!==k){var C=Ks.stateNode;Ks.tag,w=C,"function"===typeof k?k(w):k.current=w}}Ks=Ks.nextEffect}}catch(S){if(null===Ks)throw Error(a(330));Uc(Ks,S),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Zi(),Ds=i}else e.current=n;if(Js)Js=!1,ec=e,tc=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((E=Ks).sibling=null,E.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ac?oc++:(oc=0,ac=e):oc=0,n=n.stateNode,ki&&"function"===typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(S){}if(vc(e,Vi()),Qs)throw Qs=!1,e=Xs,Xs=null,e;return 0!==(8&Ds)||Yi(),null}function Pc(){for(;null!==Ks;){var e=Ks.alternate;dc||null===lc||(0!==(8&Ks.flags)?et(Ks,lc)&&(dc=!0):13===Ks.tag&&As(e,Ks)&&et(Ks,lc)&&(dc=!0));var t=Ks.flags;0!==(256&t)&&vs(e,Ks),0===(512&t)||Js||(Js=!0,Gi(97,(function(){return Mc(),null}))),Ks=Ks.nextEffect}}function Mc(){if(90!==tc){var e=97<tc?97:tc;return tc=90,qi(e,Zc)}return!1}function Lc(e,t){nc.push(t,e),Js||(Js=!0,Gi(97,(function(){return Mc(),null})))}function Rc(e,t){rc.push(t,e),Js||(Js=!0,Gi(97,(function(){return Mc(),null})))}function Zc(){if(null===ec)return!1;var e=ec;if(ec=null,0!==(48&Ds))throw Error(a(331));var t=Ds;Ds|=32;var n=rc;rc=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));Uc(o,u)}}for(n=nc,nc=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(u){if(null===o)throw Error(a(330));Uc(o,u)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Ds=t,Yi(),!0}function Fc(e,t,n){fo(e,t=fs(0,t=us(n,t),1)),t=fc(),null!==(e=mc(e,1))&&(Vt(e,1,t),vc(e,t))}function Uc(e,t){if(3===e.tag)Fc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=hs(n,e=us(t,e),1);if(fo(n,i),i=fc(),null!==(n=mc(n,1)))Vt(n,1,i),vc(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function zc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ms&n)===n&&(4===Zs||3===Zs&&(62914560&Ms)===Ms&&500>Vi()-Hs?kc(e,0):Vs|=n),vc(e,t)}function Bc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===cc&&(cc=Us),0===(t=zt(62914560&~cc))&&(t=4194304))),n=fc(),null!==(e=mc(e,t))&&(Vt(e,t,n),vc(e,n))}function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wc(e,t,n,r){return new Vc(e,t,n,r)}function Hc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=Wc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Hc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Yc(n.children,i,o,t);case L:s=8,i|=16;break;case C:s=8,i|=1;break;case S:return(e=Wc(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=o,e;case I:return(e=Wc(13,n,t,i)).type=I,e.elementType=I,e.lanes=o,e;case O:return(e=Wc(19,n,t,i)).elementType=O,e.lanes=o,e;case R:return Kc(n,i,o,t);case Z:return(e=Wc(24,n,t,i)).elementType=Z,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case A:s=9;break e;case T:s=11;break e;case D:s=14;break e;case N:s=16,r=null;break e;case P:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yc(e,t,n,r){return(e=Wc(7,e,r,t)).lanes=n,e}function Kc(e,t,n,r){return(e=Wc(23,e,r,t)).elementType=R,e.lanes=n,e}function Qc(e,t,n){return(e=Wc(6,e,null,t)).lanes=n,e}function Xc(e,t,n){return(t=Wc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,r){var i=t.current,o=fc(),s=hc(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=wi(n,u,c);break e}}n=c}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),pc(i,s,o),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $c(e,t,null!=n&&!0===n.hydrate),t=Wc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,co(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tu(a);s.call(e)}}eu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var c=i;i=function(){var e=tu(a);c.call(e)}}xc((function(){eu(t,a,e,i)}))}return tu(a)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ou(t))throw Error(a(200));return Jc(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ra=!0;else{if(0===(n&r)){switch(Ra=!1,t.tag){case 3:Ga(t),Yo();break;case 5:Lo(t);break;case 1:gi(t.type)&&xi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$a(e,t,n):(di(Zo,1&Zo.current),null!==(t=os(e,t,n))?t.sibling:null);di(Zo,1&Zo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Zo,Zo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return os(e,t,n)}Ra=0!==(16384&e.flags)}else Ra=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,co(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=qa(null,t,r,!0,o,n)}else t.tag=0,Za(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Wa(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Yo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(zo=Yr(t.stateNode.containerInfo.firstChild),Uo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=Ao(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Za(e,t,r,n),Yo();t=t.child}return t;case 5:return Lo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==o&&Wr(r,o)&&(t.flags|=16),Va(e,t),Za(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return $a(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=jo(t,null,r,n):Za(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Za(e,t,t.pendingProps,n),t.child;case 8:case 12:return Za(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(di($i,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0===(o=lr(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===c.tag&&((l=lo(-1,n&-n)).tag=2,fo(c,l)),c.lanes|=n,null!==(l=c.alternate)&&(l.lanes|=n),io(c.return,n),u.lanes|=n;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Za(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Za(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Ua(e,t,i,o=Xi(i.type,o),r,n);case 15:return za(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,xi(t)):e=!1,oo(t,n),wo(t,r,i),_o(t,r,i,n),qa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(a(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pc(e,4,fc()),ru(e,4))},nt=function(e){13===e.tag&&(pc(e,67108864,fc()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=fc(),n=hc(e);pc(e,n,t),ru(e,n)}},it=function(e,t){return t()},je=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=wc,Pe=function(e,t,n,r,i){var o=Ds;Ds|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ds=o)&&(Gs(),Yi())}},Me=function(){0===(49&Ds)&&(function(){if(null!==ic){var e=ic;ic=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vc(e,Vi())}))}Yi()}(),Mc())},Le=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Yi())}};var cu={Events:[ri,ii,oi,Oe,De,Mc,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Ei=du.inject(lu),ki=du}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ds;if(0!==(48&n))return e(t);Ds|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Ds=n,Yi()}},t.hydrate=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!0,n)},t.render=function(e,t,n){if(!ou(t))throw Error(a(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ou(e))throw Error(a(40));return!!e._reactRootContainer&&(xc((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wc,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ou(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,n,!1,r)},t.version="17.0.2"},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(30534)},11824:function(e,t,n){"use strict";n.d(t,{ZP:function(){return le}});var r={};n.r(r),n.d(r,{addTrackers:function(){return q},default:function(){return oe},event:function(){return ee},exception:function(){return te},ga:function(){return Y},initialize:function(){return G},modalview:function(){return $},outboundLink:function(){return re},pageview:function(){return X},plugin:function(){return ne},send:function(){return Q},set:function(){return K},testModeAPI:function(){return ie},timing:function(){return J}});var i=n(47313),o=n(75192),a=n.n(o);function s(e){console.warn("[react-ga]",e)}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="_blank",x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o=m(a);function a(){var e;f(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(g(e=o.call.apply(o,[this].concat(n))),"handleClick",(function(t){var n=e.props,r=n.target,i=n.eventLabel,o=n.to,s=n.onClick,c=n.trackerNames,u={label:i},l=r!==w,d=!(t.ctrlKey||t.shiftKey||t.metaKey||1===t.button);l&&d?(t.preventDefault(),a.trackLink(u,(function(){window.location.href=o}),c)):a.trackLink(u,(function(){}),c),s&&s(t)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.to,n=e.target,r=l(l({},d(e,["to","target"])),{},{target:n,href:t,onClick:this.handleClick});return n===w&&(r.rel="".concat(r.rel?r.rel:""," noopener noreferrer").trim()),delete r.eventLabel,delete r.trackerNames,i.createElement("a",r)}}])&&h(t.prototype,n),r&&h(t,r),a}(i.Component);b(x,"trackLink",(function(){s("ga tracking not enabled")})),x.propTypes={eventLabel:a().string.isRequired,target:a().string,to:a().string,onClick:a().func,trackerNames:a().arrayOf(a().string)},x.defaultProps={target:null,to:null,onClick:null,trackerNames:null};function _(e){return"string"===typeof(t=e)&&-1!==t.indexOf("@")?(s("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):e;var t}function E(e){return e&&e.toString().replace(/^\s+|\s+$/g,"")}var k=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function C(e){return E(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(k)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}))}var S=!1;function j(e){console.info("[react-ga]",e)}var A=[],T={calls:A,ga:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.push([].concat(t))},resetCalls:function(){A.length=0}};function I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){return N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function P(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L="undefined"===typeof window||"undefined"===typeof document,R=!1,Z=!0,F=!1,U=!0,z=!0,B=function(){var e;return F?T.ga.apply(T,arguments):!L&&(window.ga?(e=window).ga.apply(e,arguments):s("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function V(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e||"";return(arguments.length>1?arguments[1]:void 0)&&(n=C(e)),t&&(n=_(n)),n}(e,Z,z)}function W(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];"string"===typeof i?(!U&&Array.isArray(e)||B.apply(void 0,n),Array.isArray(e)&&e.forEach((function(e){B.apply(void 0,P(["".concat(e,".").concat(i)].concat(n.slice(1))))}))):s("ga command must be a string")}function H(e,t){e?t&&(t.debug&&!0===t.debug&&(R=!0),!1===t.titleCase&&(Z=!1),!1===t.redactEmail&&(z=!1),t.useExistingGa)||(t&&t.gaOptions?B("create",e,t.gaOptions):B("create",e,"auto")):s("gaTrackingID is required in initialize()")}function q(e,t){return Array.isArray(e)?e.forEach((function(e){"object"===N(e)?H(e.trackingId,e):s("All configs must be an object")})):H(e,t),!0}function G(e,t){if(t&&!0===t.testMode)F=!0;else{if(L)return;t&&!0===t.standardImplementation||function(e){if(!S){S=!0;var t="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?t=e.gaAddress:e&&e.debug&&(t="https://www.google-analytics.com/analytics_debug.js");var n,r,i,o,a,s,c,u=e&&e.onerror;n=window,r=document,i="script",o=t,a="ga",n.GoogleAnalyticsObject=a,n.ga=n.ga||function(){(n.ga.q=n.ga.q||[]).push(arguments)},n.ga.l=1*new Date,s=r.createElement(i),c=r.getElementsByTagName(i)[0],s.async=1,s.src=o,s.onerror=u,c.parentNode.insertBefore(s,c)}}(t)}U=!t||"boolean"!==typeof t.alwaysSendToDefaultTracker||t.alwaysSendToDefaultTracker,q(e,t)}function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(B.apply(void 0,t),R&&(j("called ga('arguments');"),j("with arguments: ".concat(JSON.stringify(t))))),window.ga}function K(e,t){e?"object"===N(e)?(0===Object.keys(e).length&&s("empty `fieldsObject` given to .set()"),W(t,"set",e),R&&(j("called ga('set', fieldsObject);"),j("with fieldsObject: ".concat(JSON.stringify(e))))):s("Expected `fieldsObject` arg to be an Object"):s("`fieldsObject` is required in .set()")}function Q(e,t){W(t,"send",e),R&&(j("called ga('send', fieldObject);"),j("with fieldObject: ".concat(JSON.stringify(e))),j("with trackers: ".concat(JSON.stringify(t))))}function X(e,t,n){if(e){var r=E(e);if(""!==r){var i={};if(n&&(i.title=n),W(t,"send",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hitType:"pageview",page:r},i)),R){j("called ga('send', 'pageview', path);");var o="";n&&(o=" and title: ".concat(n)),j("with path: ".concat(r).concat(o))}}else s("path cannot be an empty string in .pageview()")}else s("path is required in .pageview()")}function $(e,t){if(e){var n,r="/"===(n=E(e)).substring(0,1)?n.substring(1):n;if(""!==r){var i="/modal/".concat(r);W(t,"send","pageview",i),R&&(j("called ga('send', 'pageview', path);"),j("with path: ".concat(i)))}else s("modalName cannot be an empty string or a single / in .modalview()")}else s("modalName is required in .modalview(modalName)")}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,o=arguments.length>1?arguments[1]:void 0;if(t&&n&&"number"===typeof r){var a={hitType:"timing",timingCategory:V(t),timingVar:V(n),timingValue:r};i&&(a.timingLabel=V(i)),Q(a,o)}else s("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,o=e.nonInteraction,a=e.transport,c=I(e,["category","action","label","value","nonInteraction","transport"]),u=arguments.length>1?arguments[1]:void 0;if(t&&n){var l={hitType:"event",eventCategory:V(t),eventAction:V(n)};r&&(l.eventLabel=V(r)),"undefined"!==typeof i&&("number"!==typeof i?s("Expected `args.value` arg to be a Number."):l.eventValue=i),"undefined"!==typeof o&&("boolean"!==typeof o?s("`args.nonInteraction` must be a boolean."):l.nonInteraction=o),"undefined"!==typeof a&&("string"!==typeof a?s("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(a)&&s("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),l.transport=a)),Object.keys(c).filter((function(e){return"dimension"===e.substr(0,"dimension".length)})).forEach((function(e){l[e]=c[e]})),Object.keys(c).filter((function(e){return"metric"===e.substr(0,"metric".length)})).forEach((function(e){l[e]=c[e]})),Q(l,u)}else s("args.category AND args.action are required in event()")}function te(e,t){var n=e.description,r=e.fatal,i={hitType:"exception"};n&&(i.exDescription=V(n)),"undefined"!==typeof r&&("boolean"!==typeof r?s("`args.fatal` must be a boolean."):i.exFatal=r),Q(i,t)}var ne={require:function(e,t,n){if(e){var r=E(e);if(""!==r){var i=n?"".concat(n,".require"):"require";if(t){if("object"!==N(t))return void s("Expected `options` arg to be an Object");0===Object.keys(t).length&&s("Empty `options` given to .require()"),Y(i,r,t),R&&j("called ga('require', '".concat(r,"', ").concat(JSON.stringify(t)))}else Y(i,r),R&&j("called ga('require', '".concat(r,"');"))}else s("`name` cannot be an empty string in .require()")}else s("`name` is required in .require()")},execute:function(e,t){for(var n,r,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(1===o.length?n=o[0]:(r=o[0],n=o[1]),"string"!==typeof e)s("Expected `pluginName` arg to be a String.");else if("string"!==typeof t)s("Expected `action` arg to be a String.");else{var c="".concat(e,":").concat(t);n=n||null,r&&n?(Y(c,r,n),R&&(j("called ga('".concat(c,"');")),j('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(Y(c,n),R&&(j("called ga('".concat(c,"');")),j("with payload: ".concat(JSON.stringify(n))))):(Y(c),R&&j("called ga('".concat(c,"');")))}}};function re(e,t,n){if("function"===typeof t)if(e&&e.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:V(e.label)},i=!1,o=setTimeout((function(){i=!0,t()}),250);r.hitCallback=function(){clearTimeout(o),i||t()},Q(r,n)}else s("args.label is required in outboundLink()");else s("hitCallback function is required")}var ie=T,oe={initialize:G,ga:Y,set:K,send:Q,pageview:X,modalview:$,timing:J,event:ee,exception:te,plugin:ne,outboundLink:re,testModeAPI:T};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}x.origTrackLink=x.trackLink,x.trackLink=re;var ue=x,le=se(se({},r),{},{OutboundLink:ue})},43270:function(e,t,n){"use strict";n.d(t,{Qr:function(){return G},RV:function(){return U},KN:function(){return Y},U2:function(){return _},t8:function(){return X},cI:function(){return Ue},Gc:function(){return F}});var r=n(33032),i=n(27853),o=n(84531),a=n(89472),s=n(36222),c=n(50678),u=n(31303),l=n(84322),d=n.n(l),f=n(47313),h=function(e){return"checkbox"===e.type},p=function(e){return e instanceof Date},m=function(e){return null==e},v=function(e){return"object"===typeof e},g=function(e){return!m(e)&&!Array.isArray(e)&&v(e)&&!p(e)},y=function(e){return e.substring(0,e.search(/.\d/))||e},b=function(e,t){return(0,u.Z)(e).some((function(e){return y(t)===e}))},w=function(e){return e.filter(Boolean)},x=function(e){return void 0===e},_=function(e,t,n){if(g(e)&&t){var r=w(t.split(/[,[\].]+?/)).reduce((function(e,t){return m(e)?e:e[t]}),e);return x(r)||r===e?x(e[t])?n:e[t]:r}},E="blur",k="change",C="onBlur",S="onChange",j="onSubmit",A="onTouched",T="all",I="max",O="min",D="maxLength",N="minLength",P="pattern",M="required",L="validate",R=function(e,t){var n=Object.assign({},e);return delete n[t],n},Z=f.createContext(null);Z.displayName="RHFContext";var F=function(){return f.useContext(Z)},U=function(e){return f.createElement(Z.Provider,{value:R(e,"children")},e.children)},z=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];function i(i){return function(){if(i in e)return t[i]!==T&&(t[i]=!r||T),n&&(n[i]=!0),e[i]}}var o={};for(var a in e)Object.defineProperty(o,a,{get:i(a)});return o},B=function(e){return g(e)&&!Object.keys(e).length},V=function(e,t,n){var r=R(e,"name");return B(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||T)}))},W=function(e){return Array.isArray(e)?e:[e]};function H(e){var t=e.disabled,n=e.subject,r=e.callback,i=f.useRef(n),o=f.useRef();t?i.current&&(o.current&&o.current.unsubscribe(),i.current=o.current=void 0):(i.current||(i.current=n),!o.current&&i.current&&(o.current=i.current.subscribe({next:r}))),f.useEffect((function(){return function(){o.current&&o.current.unsubscribe()}}),[])}function q(e){var t=F(),n=e.name,r=e.control,i=void 0===r?t.control:r,o=e.shouldUnregister,a=f.useState(_(i._formValues,n,_(i._defaultValues,n,e.defaultValue))),s=(0,c.Z)(a,2),u=s[0],l=s[1],d=function(e){var t=F(),n=e||{},r=n.control,i=void 0===r?t.control:r,o=n.disabled,a=n.name,s=f.useState(i._formState),u=(0,c.Z)(s,2),l=u[0],d=u[1],h=f.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=f.useRef(a);return p.current=a,H({disabled:o,callback:function(e){return(!p.current||!e.name||W(p.current).includes(e.name))&&V(e,h.current)&&d(Object.assign(Object.assign({},i._formState),e))},subject:i._subjects.state}),z(l,i._proxyFormState,h.current,!1)}({control:i||t.control,name:n}),p=f.useRef(n);p.current=n,H({subject:i._subjects.control,callback:function(e){return(!e.name||p.current===e.name)&&l(_(e.values,n))}});var m=i.register(n,Object.assign(Object.assign({},e.rules),{value:u})),v=f.useCallback((function(e,t){var n=_(i._fields,e);n&&(n._f.mount=t)}),[i]);return f.useEffect((function(){return v(n,!0),function(){var e=i._shouldUnregister||o;(b(i._names.array,n)?e&&!i._stateFlags.action:e)?i.unregister(n):v(n,!1)}}),[n,i,o,v]),{field:{onChange:function(e){var t=function(e){return g(e)&&e.target?h(e.target)?e.target.checked:e.target.value:e}(e);l(t),m.onChange({target:{value:t,name:n},type:k})},onBlur:function(){m.onBlur({target:{value:u,name:n},type:E})},name:n,value:u,ref:function(e){var t=_(i._fields,n);e&&t&&e.focus&&(t._f.ref={focus:function(){return e.focus()},setCustomValidity:function(t){return e.setCustomValidity(t)},reportValidity:function(){return e.reportValidity()}})}},formState:d,fieldState:{invalid:!!_(d.errors,n),isDirty:!!_(d.dirtyFields,n),isTouched:!!_(d.touchedFields,n),error:_(d.errors,n)}}}var G=function(e){return e.render(q(e))},Y=function(e,t,n,r,i){return t?Object.assign(Object.assign({},n[e]),{types:Object.assign(Object.assign({},n[e]&&n[e].types?n[e].types:{}),(0,s.Z)({},r,i||!0))}):{}},K=function(e){return/^\w*$/.test(e)},Q=function(e){return w(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function X(e,t,n){for(var r=-1,i=K(t)?[t]:Q(t),o=i.length,a=o-1;++r<o;){var s=i[r],c=n;if(r!==a){var u=e[s];c=g(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[s]=c,e=e[s]}return e}var $=function e(t,n,r){var i,o=(0,a.Z)(r||Object.keys(t));try{for(o.s();!(i=o.n()).done;){var s=i.value,c=_(t,s);if(c){var u=c._f,l=R(c,"_f");if(u&&n(u.name)){if(u.ref.focus&&x(u.ref.focus()))break;if(u.refs){u.refs[0].focus();break}}else g(l)&&e(l,n)}}}catch(d){o.e(d)}finally{o.f()}};var J=function(e,t){return e.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(e,t)}))};function ee(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(!n&&!g(e))return e;for(var r in t=n?[]:{},e)t[r]=ee(e[r])}return t}var te=function(e){return m(e)||!v(e)};function ne(e,t){if(te(e)||te(t)||p(e)||p(t))return e===t;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i],s=e[a];if(!r.includes(a))return!1;if("ref"!==a){var c=t[a];if((g(s)||Array.isArray(s))&&(g(c)||Array.isArray(c))?!ne(s,c):s!==c)return!1}}return!0}var re=function(e){return{isOnSubmit:!e||e===j,isOnBlur:e===C,isOnChange:e===S,isOnAll:e===T,isOnTouch:e===A}},ie=function(e){return"boolean"===typeof e},oe=function(e){return"file"===e.type},ae=function(e){return"function"===typeof e},se=function(e){return e instanceof HTMLElement},ce=function(e){return"select-multiple"===e.type},ue=function(e){return"radio"===e.type},le=function(e){return ue(e)||h(e)},de=function(e){return"string"===typeof e},fe="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document,he=function(e){return!se(e)||!document.contains(e)},pe=function(){function e(){(0,i.Z)(this,e),this.tearDowns=[]}return(0,o.Z)(e,[{key:"add",value:function(e){this.tearDowns.push(e)}},{key:"unsubscribe",value:function(){var e,t=(0,a.Z)(this.tearDowns);try{for(t.s();!(e=t.n()).done;){(0,e.value)()}}catch(n){t.e(n)}finally{t.f()}this.tearDowns=[]}}]),e}(),me=function(){function e(t,n){var r=this;(0,i.Z)(this,e),this.observer=t,this.closed=!1,n.add((function(){return r.closed=!0}))}return(0,o.Z)(e,[{key:"next",value:function(e){this.closed||this.observer.next(e)}}]),e}(),ve=function(){function e(){(0,i.Z)(this,e),this.observers=[]}return(0,o.Z)(e,[{key:"next",value:function(e){var t,n=(0,a.Z)(this.observers);try{for(n.s();!(t=n.n()).done;){t.value.next(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"subscribe",value:function(e){var t=new pe,n=new me(e,t);return this.observers.push(n),t}},{key:"unsubscribe",value:function(){this.observers=[]}}]),e}();function ge(e,t){var n,r=K(t)?[t]:Q(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=x(e)?r++:e[t[r++]];return e}(e,r),o=r[r.length-1];i&&delete i[o];for(var a=0;a<r.slice(0,-1).length;a++){var s=-1,c=void 0,u=r.slice(0,-(a+1)),l=u.length-1;for(a>0&&(n=e);++s<u.length;){var d=u[s];c=c?c[d]:e[d],l===s&&(g(c)&&B(c)||Array.isArray(c)&&!c.filter((function(e){return g(e)&&!B(e)||ie(e)})).length)&&(n?delete n[d]:delete e[d]),n=c}}return e}var ye={value:!1,isValid:!1},be={value:!0,isValid:!0},we=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!x(e[0].attributes.value)?x(e[0].value)||""===e[0].value?be:{value:e[0].value,isValid:!0}:be:ye}return ye},xe=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return x(e)?e:n?""===e?NaN:+e:r?new Date(e):i?i(e):e},_e={isValid:!1,value:null},Ee=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),_e):_e};function ke(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return oe(t)?t.files:ue(t)?Ee(e.refs).value:ce(t)?(0,u.Z)(t.selectedOptions).map((function(e){return e.value})):h(t)?we(e.refs).value:xe(x(t.value)?e.ref.value:t.value,e)}var Ce=function(e,t,n,r){var i,o={},s=(0,a.Z)(e);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=_(t,c);l&&X(o,c,l._f)}}catch(d){s.e(d)}finally{s.f()}return{criteriaMode:n,names:(0,u.Z)(e),fields:o,shouldUseNativeValidation:r}},Se=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function je(e,t){if(te(e)||te(t))return t;for(var n in t){var r=e[n],i=t[n];try{e[n]=g(r)&&g(i)||Array.isArray(r)&&Array.isArray(i)?je(r,i):i}catch(o){}}return e}function Ae(e,t,n,r,i){for(var o=-1;++o<e.length;){for(var a in e[o])Array.isArray(e[o][a])?(!n[o]&&(n[o]={}),n[o][a]=[],Ae(e[o][a],_(t[o]||{},a,[]),n[o][a],n[o],a)):!m(t)&&ne(_(t[o]||{},a),e[o][a])?X(n[o]||{},a):n[o]=Object.assign(Object.assign({},n[o]),(0,s.Z)({},a,!0));r&&!n.length&&delete r[i]}return n}var Te=function(e,t,n){return je(Ae(e,t,n.slice(0,e.length)),Ae(t,e,n.slice(0,e.length)))},Ie=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},Oe=function(e,t){return!w(_(e,t,[])).length&&ge(e,t)},De=function(e){return de(e)||f.isValidElement(e)},Ne=function(e){return e instanceof RegExp};function Pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(De(e)||Array.isArray(e)&&e.every(De)||ie(e)&&!e)return{type:n,message:De(e)?e:"",ref:t}}var Me=function(e){return g(e)&&!Ne(e)?e:{value:e,message:""}},Le=function(){var e=(0,r.Z)(d().mark((function e(t,n,r,i){var o,a,s,c,u,l,f,p,v,y,b,w,x,_,E,k,C,S,j,A,T,R,Z,F,U,z,V,W,H,q,G,K,Q,X,$,J,ee,te,ne,re,se,ce,le,fe;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,a=o.ref,s=o.refs,c=o.required,u=o.maxLength,l=o.minLength,f=o.min,p=o.max,v=o.pattern,y=o.validate,b=o.name,w=o.valueAsNumber,x=o.mount,_=o.disabled,x&&!_){e.next=3;break}return e.abrupt("return",{});case 3:if(E=s?s[0]:a,k=function(e){i&&E.reportValidity&&(E.setCustomValidity(ie(e)?"":e||" "),E.reportValidity())},C={},S=ue(a),j=h(a),A=S||j,T=(w||oe(a))&&!a.value||""===n||Array.isArray(n)&&!n.length,R=Y.bind(null,b,r,C),Z=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N,o=e?t:n;C[b]=Object.assign({type:e?r:i,message:o,ref:a},R(e?r:i,o))},!c||!(!A&&(T||m(n))||ie(n)&&!n||j&&!we(s).isValid||S&&!Ee(s).isValid)){e.next=19;break}if(F=De(c)?{value:!!c,message:c}:Me(c),U=F.value,z=F.message,!U){e.next=19;break}if(C[b]=Object.assign({type:M,message:z,ref:E},R(M,z)),r){e.next=19;break}return k(z),e.abrupt("return",C);case 19:if(T||m(f)&&m(p)){e.next=28;break}if(H=Me(p),q=Me(f),isNaN(n)?(K=a.valueAsDate||new Date(n),de(H.value)&&(V=K>new Date(H.value)),de(q.value)&&(W=K<new Date(q.value))):(G=a.valueAsNumber||parseFloat(n),m(H.value)||(V=G>H.value),m(q.value)||(W=G<q.value)),!V&&!W){e.next=28;break}if(Z(!!V,H.message,q.message,I,O),r){e.next=28;break}return k(C[b].message),e.abrupt("return",C);case 28:if(!u&&!l||T||!de(n)){e.next=38;break}if(Q=Me(u),X=Me(l),$=!m(Q.value)&&n.length>Q.value,J=!m(X.value)&&n.length<X.value,!$&&!J){e.next=38;break}if(Z($,Q.message,X.message),r){e.next=38;break}return k(C[b].message),e.abrupt("return",C);case 38:if(!v||T||!de(n)){e.next=45;break}if(ee=Me(v),te=ee.value,ne=ee.message,!Ne(te)||n.match(te)){e.next=45;break}if(C[b]=Object.assign({type:P,message:ne,ref:a},R(P,ne)),r){e.next=45;break}return k(ne),e.abrupt("return",C);case 45:if(!y){e.next=79;break}if(!ae(y)){e.next=58;break}return e.next=49,y(n);case 49:if(re=e.sent,!(se=Pe(re,E))){e.next=56;break}if(C[b]=Object.assign(Object.assign({},se),R(L,se.message)),r){e.next=56;break}return k(se.message),e.abrupt("return",C);case 56:e.next=79;break;case 58:if(!g(y)){e.next=79;break}ce={},e.t0=d().keys(y);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(le=e.t1.value,B(ce)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=Pe,e.next=68,y[le](n);case 68:e.t3=e.sent,e.t4=E,e.t5=le,(fe=(0,e.t2)(e.t3,e.t4,e.t5))&&(ce=Object.assign(Object.assign({},fe),R(le,fe.message)),k(fe.message),r&&(C[b]=ce)),e.next=61;break;case 75:if(B(ce)){e.next=79;break}if(C[b]=Object.assign({ref:E},ce),r){e.next=79;break}return e.abrupt("return",C);case 79:return k(!0),e.abrupt("return",C);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Re={mode:j,reValidateMode:S,shouldFocusError:!0},Ze="undefined"===typeof window;function Fe(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign(Object.assign({},Re),t),i={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},l=n.defaultValues||{},f=n.shouldUnregister?{}:ee(l),v={action:!1,mount:!1,watch:!1},g=0,k={mount:new Set,unMount:new Set,array:new Set,watch:new Set},C={},S={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},j={watch:new ve,control:new ve,array:new ve,state:new ve},A=re(n.mode),I=re(n.reValidateMode),O=n.criteriaMode===T,D=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];clearTimeout(g),g=window.setTimeout((function(){return e.apply(void 0,r)}),t)}},N=function(e){return k.watchAll||k.watch.has(e)||k.watch.has((e.match(/\w+/)||[])[0])},P=function(e,t){X(i.errors,e,t),j.state.next({errors:i.errors})},M=function(){var n=(0,r.Z)(d().mark((function n(r,o,a,s,c){var u,l,f;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=_(i.errors,o),l=S.isValid&&i.isValid!==a,t.delayError&&s?(e=e||D(P,t.delayError))(o,s):(clearTimeout(g),s?X(i.errors,o,s):ge(i.errors,o)),(s?ne(u,s):!u)&&B(c)&&!l||r||(f=Object.assign(Object.assign(Object.assign({},c),l?{isValid:a}:{}),{errors:i.errors,name:o}),i=Object.assign(Object.assign({},i),f),j.state.next(f)),C[o]--,S.isValidating&&!C[o]&&(j.state.next({isValidating:!1}),C={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i,o){return n.apply(this,arguments)}}(),L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=_(o,e),a=t;if(i){var s=i._f;s&&(X(f,e,xe(t,s)),a=fe&&se(s.ref)&&m(t)?"":t,oe(s.ref)&&!de(a)?s.ref.files=a:ce(s.ref)?(0,u.Z)(s.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):s.refs?h(s.ref)?s.refs.length>1?s.refs.forEach((function(e){return e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value})):s.refs[0].checked=!!a:s.refs.forEach((function(e){return e.checked=e.value===a})):s.ref.value=a,r&&j.control.next({values:f,name:e}))}(n.shouldDirty||n.shouldTouch)&&Z(e,a,n.shouldTouch),n.shouldValidate&&me(e)},Z=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={name:e},a=!1;if(S.isDirty){var s=i.isDirty;i.isDirty=q(),o.isDirty=i.isDirty,a=s!==o.isDirty}if(S.dirtyFields&&!n){var c=_(i.dirtyFields,e),u=!ne(_(l,e),t);u?X(i.dirtyFields,e,!0):ge(i.dirtyFields,e),o.dirtyFields=i.dirtyFields,a=a||c!==_(i.dirtyFields,e)}var d=_(i.touchedFields,e);return n&&!d&&(X(i.touchedFields,e,n),o.touchedFields=i.touchedFields,a=a||S.touchedFields&&d!==n),a&&r&&j.state.next(o),a?o:{}},F=function(){var e=(0,r.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Object.assign({},f),n.context,Ce(t||k.mount,o,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,r.Z)(d().mark((function e(t){var n,r,o,s,c,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:if(n=e.sent,r=n.errors,t){o=(0,a.Z)(t);try{for(o.s();!(s=o.n()).done;)c=s.value,(u=_(r,c))?X(i.errors,c,u):ge(i.errors,c)}catch(l){o.e(l)}finally{o.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,r.Z)(d().mark((function e(t,r){var o,a,s,c,u,l,h=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=d().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(a=e.t1.value,!(s=t[a])){e.next=21;break}if(c=s._f,u=R(s,"_f"),!c){e.next=17;break}return e.next=11,Le(s,_(f,c.name),O,n.shouldUseNativeValidation);case 11:if(!(l=e.sent)[c.name]){e.next=16;break}if(o.valid=!1,!r){e.next=16;break}return e.abrupt("break",23);case 16:r||(l[c.name]?X(i.errors,c.name,l[c.name]):ge(i.errors,c.name));case 17:if(e.t2=u,!e.t2){e.next=21;break}return e.next=21,z(u,r,o);case 21:e.next=2;break;case 23:return e.abrupt("return",o.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=(0,r.Z)(d().mark((function e(t){var r,a,s,c,u,l,p,m,v,g,b,w,x,k,T,D;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target,a=r.name,!(s=_(o,a))){e.next=37;break}if(l=r.type?ke(s._f):r.value,(p=t.type===E)&&s._f.onBlur?s._f.onBlur(t):s._f.onChange&&s._f.onChange(t),m=!Se(s._f)&&!n.resolver&&!_(i.errors,a)&&!s._f.deps||Ie(p,_(i.touchedFields,a),i.isSubmitted,I,A),v=!p&&N(a),X(f,a,l),g=Z(a,l,p,!1),b=!B(g)||v,!p&&j.watch.next({name:a,type:t.type}),!m){e.next=15;break}return e.abrupt("return",b&&j.state.next(Object.assign({name:a},v?{}:g)));case 15:if(!p&&v&&j.state.next({}),C[a]=(C[a],1),S.isValidating&&j.state.next({isValidating:!0}),!n.resolver){e.next=28;break}return e.next=21,F([a]);case 21:w=e.sent,x=w.errors,c=_(x,a),h(r)&&!c&&(k=y(a),T=_(o,k),Array.isArray(T)&&T.every((function(e){return e._f&&h(e._f.ref)}))&&((D=_(x,k,{})).type&&(c=D),a=k)),u=B(x),e.next=35;break;case 28:return e.next=30,Le(s,_(f,a),O,n.shouldUseNativeValidation);case 30:return e.t0=a,c=e.sent[e.t0],e.next=34,G(!0);case 34:u=e.sent;case 35:s._f.deps&&me(s._f.deps),M(!1,a,u,c,g);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e,t,n){var r=_(o,e);if(r){var i=_(f,e),a=x(i)?_(l,e):i;x(a)||n&&n.defaultChecked||t?X(f,e,t?a:ke(r._f)):L(e,a)}v.mount&&G()},q=function(e,t){return e&&t&&X(f,e,t),!ne(Object.assign({},ye()),l)},G=function(){var e=(0,r.Z)(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,!S.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=B,e.next=6,F();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,z(o,!0);case 12:e.t0=e.sent;case 13:r=e.t0,t||r===i.isValid||(i.isValid=r,j.state.next({isValid:r}));case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function e(t,n,r){return Object.entries(n).forEach((function(n){var i=(0,c.Z)(n,2),a=i[0],s=i[1],u="".concat(t,".").concat(a),l=_(o,u);!k.array.has(t)&&te(s)&&(!l||l._f)||p(s)?L(u,s,r,!0):e(u,s,r)}))},K=function(e,t,n,r){var i=Object.assign({},n||v.mount?f:x(t)?l:de(e)?(0,s.Z)({},e,t):t);if(!e)return r&&(k.watchAll=!0),i;var o,c=[],u=(0,a.Z)(W(e));try{for(u.s();!(o=u.n()).done;){var d=o.value;r&&k.watch.add(d),c.push(_(i,d))}}catch(h){u.e(h)}finally{u.f()}return Array.isArray(e)?c:c[0]},Q=function(e,t,n,r){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(v.action=!0,u&&_(o,t)&&(a=n(_(o,t),r.argA,r.argB),c&&X(o,t,a)),Array.isArray(_(i.errors,t))){var d=n(_(i.errors,t),r.argA,r.argB);c&&X(i.errors,t,d),Oe(i.errors,t)}if(S.touchedFields&&_(i.touchedFields,t)){var f=n(_(i.touchedFields,t),r.argA,r.argB);c&&X(i.touchedFields,t,f),Oe(i.touchedFields,t)}(S.dirtyFields||S.isDirty)&&(X(i.dirtyFields,t,Te(J(s,e),_(l,t,[]),_(i.dirtyFields,t,[]))),s&&X(i.dirtyFields,t,Te(J(s,e),_(l,t,[]),_(i.dirtyFields,t,[]))),Oe(i.dirtyFields,t)),j.state.next({isDirty:q(t,J(s,e)),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})},ue=function(e){return _(v.mount?f:l,e,[])},pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_(o,e),a=k.array.has(e);X(f,e,t),a?(j.array.next({name:e,values:f}),(S.isDirty||S.dirtyFields)&&n.shouldDirty&&(X(i.dirtyFields,e,Te(t,_(l,e,[]),_(i.dirtyFields,e,[]))),j.state.next({name:e,dirtyFields:i.dirtyFields,isDirty:q(e,t)}))):!r||r._f||m(t)?L(e,t,n,!0):Y(e,t,n),N(e)&&j.state.next({}),j.watch.next({name:e})},me=function(){var e=(0,r.Z)(d().mark((function e(t){var a,c,u,l,f,h=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>1&&void 0!==h[1]?h[1]:{},c=W(t),j.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,U(x(t)?t:c);case 6:f=e.sent,u=B(f),l=t?!c.some((function(e){return _(f,e)})):u,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=(0,r.Z)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_(o,t),e.next=3,z(n&&n._f?(0,s.Z)({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:l=e.sent.every(Boolean),G(),e.next=21;break;case 18:return e.next=20,z(o);case 20:l=u=e.sent;case 21:return j.state.next(Object.assign(Object.assign({},de(t)&&u===i.isValid?{name:t}:{}),{errors:i.errors,isValid:u,isValidating:!1})),a.shouldFocus&&!l&&$(o,(function(e){return _(i.errors,e)}),t?c:k.mount),e.abrupt("return",l);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(e){var t=Object.assign(Object.assign({},l),v.mount?f:{});return x(e)?t:de(e)?_(t,e):e.map((function(e){return _(t,e)}))},be=function(e){e?W(e).forEach((function(e){return ge(i.errors,e)})):i.errors={},j.state.next({errors:i.errors})},we=function(e,t,n){var r=(_(o,e,{_f:{}})._f||{}).ref;X(i.errors,e,Object.assign(Object.assign({},t),{ref:r})),j.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},_e=function(e,t){return ae(e)?j.watch.subscribe({next:function(n){return e(K(void 0,t),n)}}):K(e,t,!1,!0)},Ee=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,a.Z)(e?W(e):k.mount);try{for(s.s();!(t=s.n()).done;){var c=t.value;k.mount.delete(c),k.array.delete(c),_(o,c)&&(r.keepValue||(ge(o,c),ge(f,c)),!r.keepError&&ge(i.errors,c),!r.keepDirty&&ge(i.dirtyFields,c),!r.keepTouched&&ge(i.touchedFields,c),!n.shouldUnregister&&!r.keepDefaultValue&&ge(l,c))}}catch(u){s.e(u)}finally{s.f()}j.watch.next({}),j.state.next(Object.assign(Object.assign({},i),r.keepDirty?{isDirty:q()}:{})),!r.keepIsValid&&G()},je=function(e,t,n){Ae(e,n);var r=_(o,e),i=x(t.value)&&t.querySelectorAll&&t.querySelectorAll("input,select,textarea")[0]||t,a=le(i);i===r._f.ref||a&&w(r._f.refs||[]).find((function(e){return e===i}))||(r={_f:a?Object.assign(Object.assign({},r._f),{refs:[].concat((0,u.Z)(w(r._f.refs||[]).filter((function(e){return se(e)&&document.contains(e)}))),[i]),ref:{type:i.type,name:e}}):Object.assign(Object.assign({},r._f),{ref:i})},X(o,e,r),(!n||!n.disabled)&&H(e,!1,i))},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=_(o,e);return X(o,e,{_f:Object.assign(Object.assign(Object.assign({},r&&r._f?r._f:{ref:{name:e}}),{name:e,mount:!0}),t)}),k.mount.add(e),x(t.value)||X(f,e,t.value),r&&ie(t.disabled)&&X(f,e,t.disabled?void 0:_(f,e,ke(r._f))),!r&&H(e,!0),Ze?{name:e}:Object.assign(Object.assign({name:e},ie(t.disabled)?{disabled:t.disabled}:{}),{onChange:V,onBlur:V,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(r){if(r)je(e,r,t);else{var i=_(o,e,{}),a=n.shouldUnregister||t.shouldUnregister;i._f&&(i._f.mount=!1),a&&(!b(k.array,e)||!v.action)&&k.unMount.add(e)}}))})},De=function(e,t){return function(){var a=(0,r.Z)(d().mark((function r(a){var s,c,u,l,h;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist()),s=!0,c=Object.assign({},f),j.state.next({isSubmitting:!0}),r.prev=4,!n.resolver){r.next=15;break}return r.next=8,F();case 8:u=r.sent,l=u.errors,h=u.values,i.errors=l,c=h,r.next=17;break;case 15:return r.next=17,z(o);case 17:if(!B(i.errors)||!Object.keys(i.errors).every((function(e){return _(c,e)}))){r.next=23;break}return j.state.next({errors:{},isSubmitting:!0}),r.next=21,e(c,a);case 21:r.next=28;break;case 23:if(r.t0=t,!r.t0){r.next=27;break}return r.next=27,t(i.errors,a);case 27:n.shouldFocusError&&$(o,(function(e){return _(i.errors,e)}),k.mount);case 28:r.next=34;break;case 30:throw r.prev=30,r.t1=r.catch(4),s=!1,r.t1;case 34:return r.prev=34,i.isSubmitted=!0,j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(i.errors)&&s,submitCount:i.submitCount+1,errors:i.errors}),r.finish(34);case 38:case"end":return r.stop()}}),r,null,[[4,30,34,38]])})));return function(e){return a.apply(this,arguments)}}()},Ne=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e||l,s=ee(r);if(n.keepValues||(f=t.shouldUnregister?{}:s),fe&&!n.keepValues){var c,u=(0,a.Z)(k.mount);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=_(o,d);if(h&&h._f){var p=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;try{se(p)&&p.closest("form").reset();break}catch(m){}}}}catch(g){u.e(g)}finally{u.f()}}n.keepDefaultValues||(l=Object.assign({},r)),n.keepValues||(o={},j.control.next({values:n.keepDefaultValues?l:Object.assign({},r)}),j.watch.next({}),j.array.next({values:s})),k={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},j.state.next({submitCount:n.keepSubmitCount?i.submitCount:0,isDirty:n.keepDirty?i.isDirty:!!n.keepDefaultValues&&ne(e,l),isSubmitted:!!n.keepIsSubmitted&&i.isSubmitted,dirtyFields:n.keepDirty?i.dirtyFields:{},touchedFields:n.keepTouched?i.touchedFields:{},errors:n.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),v.mount=!S.isValid||!!n.keepIsValid,v.watch=!!t.shouldUnregister},Pe=function(e){return _(o,e)._f.ref.focus()},Me=function(){var e,t=(0,a.Z)(k.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=_(o,n);r&&(r._f.refs?r._f.refs.every(he):he(r._f.ref))&&Ee(n)}}catch(i){t.e(i)}finally{t.f()}k.unMount=new Set};return{control:{register:Ae,unregister:Ee,_getWatch:K,_getIsDirty:q,_updateValid:G,_removeFields:Me,_updateFieldArray:Q,_getFieldArrayValue:ue,_subjects:j,_shouldUnregister:n.shouldUnregister,_proxyFormState:S,get _fields(){return o},set _fields(e){o=e},get _formValues(){return f},set _formValues(e){f=e},get _stateFlags(){return v},set _stateFlags(e){v=e},get _defaultValues(){return l},set _defaultValues(e){l=e},get _names(){return k},set _names(e){k=e},get _formState(){return i},set _formState(e){i=e},_updateProps:function(e){n=Object.assign(Object.assign({},Re),e)}},trigger:me,register:Ae,handleSubmit:De,watch:_e,setValue:pe,getValues:ye,reset:Ne,clearErrors:be,unregister:Ee,setError:we,setFocus:Pe}}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=f.useRef(),n=f.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),r=(0,c.Z)(n,2),i=r[0],o=r[1];t.current?t.current.control._updateProps(e):t.current=Object.assign(Object.assign({},Fe(e)),{formState:i});var a=t.current.control;return H({subject:a._subjects.state,callback:function(e){V(e,a._proxyFormState,!0)&&(a._formState=Object.assign(Object.assign({},a._formState),e),o(Object.assign({},a._formState)))}}),f.useEffect((function(){a._stateFlags.mount||(a._proxyFormState.isValid&&a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeFields()})),t.current.formState=z(i,a._proxyFormState),t.current}},21624:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case v:case m:case c:return e;default:return t}}case i:return t}}}function _(e){return x(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||x(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=x},96214:function(e,t,n){"use strict";e.exports=n(21624)},46438:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.create;Object.create;var i=n(47313),o="right-scroll-bar-position",a="width-before-scroll-bar";function s(e,t){return function(e,t){var n=(0,i.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)};Object.create;Object.create;function u(e){return e}function l(e,t){void 0===t&&(t=u);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}var d=function(e){void 0===e&&(e={});var t=l(null);return t.options=c({async:!0,ssr:!1},e),t}(),f=function(){},h=i.forwardRef((function(e,t){var n=i.useRef(null),o=i.useState({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:f}),a=o[0],c=o[1],u=e.forwardProps,l=e.children,h=e.className,p=e.removeScrollBar,m=e.enabled,v=e.shards,g=e.sideCar,y=e.noIsolation,b=e.inert,w=e.allowPinchZoom,x=e.as,_=void 0===x?"div":x,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),k=g,C=s([n,t]),S=r(r({},E),a);return i.createElement(i.Fragment,null,m&&i.createElement(k,{sideCar:d,removeScrollBar:p,shards:v,noIsolation:y,inert:b,setCallbacks:c,allowPinchZoom:!!w,lockRef:n}),u?i.cloneElement(i.Children.only(l),r(r({},S),{ref:C})):i.createElement(_,r({},S,{className:h,ref:C}),l))}));h.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},h.classNames={fullWidth:a,zeroRight:o};var p,m=function(e){var t=e.sideCar,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return i.createElement(r,c({},n))};m.isSideCarExport=!0;function v(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=p||n.nc;return t&&e.setAttribute("nonce",t),e}var g=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=v())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},y=function(){var e=function(){var e=g();return function(t,n){i.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},b={left:0,top:0,right:0,gap:0},w=function(e){return parseInt(e||"",10)||0},x=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return b;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[w(n),w(r),w(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},_=y(),E=function(e,t,n,r){var i=e.left,s=e.top,c=e.right,u=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(u,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(c,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(u,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o," {\n    right: ").concat(u,"px ").concat(r,";\n  }\n  \n  .").concat(a," {\n    margin-right: ").concat(u,"px ").concat(r,";\n  }\n  \n  .").concat(o," .").concat(o," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(a," .").concat(a," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(u,"px;\n  }\n")},k=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=void 0===r?"margin":r,a=i.useMemo((function(){return x(o)}),[o]);return i.createElement(_,{styles:E(a,!t,o,n?"":"!important")})},C=!1;if("undefined"!==typeof window)try{var S=Object.defineProperty({},"passive",{get:function(){return C=!0,!0}});window.addEventListener("test",S,S),window.removeEventListener("test",S,S)}catch(z){C=!1}var j=!!C&&{passive:!1},A=function(e,t){var n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),T(e,n)){var r=I(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},T=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},I=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},O=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},D=function(e){return[e.deltaX,e.deltaY]},N=function(e){return e&&"current"in e?e.current:e},P=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},M=0,L=[];var R,Z=(R=function(e){var t=i.useRef([]),n=i.useRef([0,0]),r=i.useRef(),o=i.useState(M++)[0],a=i.useState((function(){return y()}))[0],s=i.useRef(e);i.useEffect((function(){s.current=e}),[e]),i.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(N),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(o))})),function(){document.body.classList.remove("block-interactivity-".concat(o)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(o))}))}}}),[e.inert,e.lockRef.current,e.shards]);var c=i.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var i,o=O(e),a=n.current,c="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],l=e.target,d=Math.abs(c)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===l.type)return!1;var f=A(d,l);if(!f)return!0;if(f?i=d:(i="v"===d?"h":"v",f=A(d,l)),!f)return!1;if(!r.current&&"changedTouches"in e&&(c||u)&&(r.current=i),!i)return!0;var h=r.current||i;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,c=t.contains(s),u=!1,l=a>0,d=0,f=0;do{var h=I(e,s),p=h[0],m=h[1]-h[2]-o*p;(p||m)&&T(e,s)&&(d+=m,f+=p),s=s.parentNode}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(l&&(i&&0===d||!i&&a>d)||!l&&(i&&0===f||!i&&-a>f))&&(u=!0),u}(h,t,e,"h"===h?c:u,!0)}),[]),u=i.useCallback((function(e){var n=e;if(L.length&&L[L.length-1]===a){var r="deltaY"in n?D(n):O(n),i=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)n.preventDefault();else if(!i){var o=(s.current.shards||[]).map(N).filter(Boolean).filter((function(e){return e.contains(n.target)}));(o.length>0?c(n,o[0]):!s.current.noIsolation)&&n.preventDefault()}}}),[]),l=i.useCallback((function(e,n,r,i){var o={name:e,delta:n,target:r,should:i};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),d=i.useCallback((function(e){n.current=O(e),r.current=void 0}),[]),f=i.useCallback((function(t){l(t.type,D(t),t.target,c(t,e.lockRef.current))}),[]),h=i.useCallback((function(t){l(t.type,O(t),t.target,c(t,e.lockRef.current))}),[]);i.useEffect((function(){return L.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",u,j),document.addEventListener("touchmove",u,j),document.addEventListener("touchstart",d,j),function(){L=L.filter((function(e){return e!==a})),document.removeEventListener("wheel",u,j),document.removeEventListener("touchmove",u,j),document.removeEventListener("touchstart",d,j)}}),[]);var p=e.removeScrollBar,m=e.inert;return i.createElement(i.Fragment,null,m?i.createElement(a,{styles:P(o)}):null,p?i.createElement(k,{gapMode:"margin"}):null)},d.useMedium(R),m),F=i.forwardRef((function(e,t){return i.createElement(h,r({},e,{ref:t,sideCar:Z}))}));F.classNames=h.classNames;var U=F},28303:function(e,t,n){"use strict";n.d(t,{rU:function(){return m},OL:function(){return y}});var r=n(63830),i=n(94578),o=n(47313),a=n(77480),s=(n(75192),n(87462)),c=n(63366),u=n(38618);o.Component;o.Component;var l=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?(0,a.ob)(e,null,null,t):e},f=function(e){return e},h=o.forwardRef;"undefined"===typeof h&&(h=f);var p=h((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=(0,c.Z)(e,["innerRef","navigate","onClick"]),u=a.target,l=(0,s.Z)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=f!==h&&t||n,o.createElement("a",l)}));var m=h((function(e,t){var n=e.component,i=void 0===n?p:n,a=e.replace,m=e.to,v=e.innerRef,g=(0,c.Z)(e,["component","replace","to","innerRef"]);return o.createElement(r.s6.Consumer,null,(function(e){e||(0,u.Z)(!1);var n=e.history,r=d(l(m,e.location),e.location),c=r?n.createHref(r):"",p=(0,s.Z)({},g,{href:c,navigate:function(){var t=l(m,e.location);(a?n.replace:n.push)(t)}});return f!==h?p.ref=t||v:p.innerRef=v,o.createElement(i,p)}))})),v=function(e){return e},g=o.forwardRef;"undefined"===typeof g&&(g=v);var y=g((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,f=void 0===a?"active":a,h=e.activeStyle,p=e.className,y=e.exact,b=e.isActive,w=e.location,x=e.sensitive,_=e.strict,E=e.style,k=e.to,C=e.innerRef,S=(0,c.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(r.s6.Consumer,null,(function(e){e||(0,u.Z)(!1);var n=w||e.location,a=d(l(k,n),n),c=a.pathname,j=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=j?(0,r.LX)(n.pathname,{path:j,exact:y,sensitive:x,strict:_}):null,T=!!(b?b(A,n):A),I=T?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,f):p,O=T?(0,s.Z)({},E,{},h):E,D=(0,s.Z)({"aria-current":T&&i||null,className:I,style:O,to:a},S);return v!==g?D.ref=t||C:D.innerRef=C,o.createElement(m,D)}))}))},63830:function(e,t,n){"use strict";n.d(t,{l_:function(){return j},AW:function(){return O},F0:function(){return _},rs:function(){return R},s6:function(){return x},Gn:function(){return S},LX:function(){return I},k6:function(){return F},TH:function(){return U},UO:function(){return z},$B:function(){return B}});var r=n(94578),i=n(47313),o=n(75192),a=n.n(o),s=n(77480),c=1073741823,u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var d=i.createContext||function(e,t){var n,o,s="__create-react-context-"+function(){var e="__global_unique_id__";return u[e]=(u[e]||0)+1}()+"__",d=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}(0,r.Z)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):c,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(i.Component);d.childContextTypes=((n={})[s]=a().object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,r.Z)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?c:t},i.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?c:e},i.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},i.getValue=function(){return this.context[s]?this.context[s].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return f.contextTypes=((o={})[s]=a().object,o),{Provider:d,Consumer:f}},f=d,h=n(38618),p=n(87462),m=n(64883),v=n.n(m),g=(n(96214),n(63366)),y=(n(67861),function(e){var t=f();return t.displayName=e,t}),b=y("Router-History"),w=function(e){var t=f();return t.displayName=e,t},x=w("Router"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}(0,r.Z)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.createElement(x.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(b.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);i.Component;var E=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.Component);var k={},C=0;function S(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(k[e])return k[e];var t=v().compile(e);return C<1e4&&(k[e]=t,C++),t}(e)(t,{pretty:!0})}function j(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.createElement(x.Consumer,null,(function(e){e||(0,h.Z)(!1);var r=e.history,a=e.staticContext,c=o?r.push:r.replace,u=(0,s.ob)(t?"string"===typeof n?S(n,t.params):(0,p.Z)({},n,{pathname:S(n.pathname,t.params)}):n);return a?(c(u),null):i.createElement(E,{onMount:function(){c(u)},onUpdate:function(e,t){var n=(0,s.ob)(t.to);(0,s.Hp)(n,(0,p.Z)({},u,{key:n.key}))||c(u)},to:n})}))}var A={},T=0;function I(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=A[n]||(A[n]={});if(r[e])return r[e];var i=[],o={regexp:v()(e,i,t),keys:i};return T<1e4&&(r[e]=o,T++),o}(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,c=i.exec(e);if(!c)return null;var l=c[0],d=c.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var O=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return i.createElement(x.Consumer,null,(function(t){t||(0,h.Z)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?I(n.pathname,e.props):t.match,o=(0,p.Z)({},t,{location:n,match:r}),a=e.props,s=a.children,c=a.component,u=a.render;return Array.isArray(s)&&0===s.length&&(s=null),i.createElement(x.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:c?i.createElement(c,o):u?u(o):null:"function"===typeof s?s(o):null)}))},t}(i.Component);function D(e){return"/"===e.charAt(0)?e:"/"+e}function N(e,t){if(!e)return t;var n=D(e);return 0!==t.pathname.indexOf(n)?t:(0,p.Z)({},t,{pathname:t.pathname.substr(n.length)})}function P(e){return"string"===typeof e?e:(0,s.Ep)(e)}function M(e){return function(){(0,h.Z)(!1)}}function L(){}i.Component;var R=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return i.createElement(x.Consumer,null,(function(t){t||(0,h.Z)(!1);var n,r,o=e.props.location||t.location;return i.Children.forEach(e.props.children,(function(e){if(null==r&&i.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?I(o.pathname,(0,p.Z)({},e.props,{path:a})):t.match}})),r?i.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.Component);var Z=i.useContext;function F(){return Z(b)}function U(){return Z(x).location}function z(){var e=Z(x).match;return e?e.params:{}}function B(e){var t=U(),n=Z(x).match;return e?I(t.pathname,e):n}},77560:function(e){var t=function(e){return"string"===typeof e};function n(e,n,r){var i=0,o=0;if(""===e)return e;if(!e||!t(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var a=n;(function(e){return e instanceof RegExp})(a)||(a=new RegExp("("+function(e){var t=/[\\^$.*+?()[\]{}|]/g,n=RegExp(t.source);return e&&n.test(e)?e.replace(t,"\\$&"):e}(a)+")","gi"));for(var s=e.split(a),c=1,u=s.length;c<u;c+=2)void 0!==s[c]&&void 0!==s[c-1]?(o=s[c].length,i+=s[c-1].length,s[c]=r(s[c],c,i),i+=o):console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");return s}e.exports=function(e,r,i){return Array.isArray(e)||(e=[e]),function(e){var t=[];return e.forEach((function(e){Array.isArray(e)?t=t.concat(e):t.push(e)})),t}(e.map((function(e){return t(e)?n(e,r,i):e})))}},62787:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(47313),i=n(92229),o=n.n(i);function a(e,t){var n=(0,r.useState)(!1),i=n[0],a=n[1],s=t&&t.successDuration;return(0,r.useEffect)((function(){if(i&&s){var e=setTimeout((function(){a(!1)}),s);return function(){clearTimeout(e)}}}),[i,s]),[i,function(){var t=o()(e);a(t)}]}},35918:function(e,t,n){"use strict";n(71843);var r=n(47313),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:a.current}}t.jsx=u,t.jsxs=u},80306:function(e,t,n){"use strict";var r=n(71843),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),l=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return a=a(c=e),e=""===r?"."+S(c,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),j(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=r+S(s=e[u],u);c+=j(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=j(s=s.value,t,n,l=r+S(s,u++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function O(){var e=I.current;if(null===e)throw Error(h(321));return e}var D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){u=Array(l);for(var d=0;d<l;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},47313:function(e,t,n){"use strict";e.exports=n(80306)},46417:function(e,t,n){"use strict";e.exports=n(35918)},68937:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==n&&r.call(x,o)&&(b=x);var _=y.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:t,done:!0}}return g.prototype=_.constructor=y,y.constructor=g,g.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},E(k.prototype),k.prototype[a]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(_),c(_,s,"Generator"),_[o]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}},13095:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,d=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?x.postMessage(null):(m=!1,v=null)}catch(n){throw x.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,x.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){h(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>C(a,n))void 0!==c&&0>C(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],j=[],A=1,T=null,I=3,O=!1,D=!1,N=!1;function P(e){for(var t=E(j);null!==t;){if(null===t.callback)k(j);else{if(!(t.startTime<=e))break;k(j),t.sortIndex=t.expirationTime,_(S,t)}t=E(j)}}function M(e){if(N=!1,P(e),!D)if(null!==E(S))D=!0,n(L);else{var t=E(j);null!==t&&r(M,t.startTime-e)}}function L(e,n){D=!1,N&&(N=!1,i()),O=!0;var o=I;try{for(P(n),T=E(S);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=T.callback;if("function"===typeof a){T.callback=null,I=T.priorityLevel;var s=a(T.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?T.callback=s:T===E(S)&&k(S),P(n)}else k(S);T=E(S)}if(null!==T)var c=!0;else{var u=E(j);null!==u&&r(M,u.startTime-n),c=!1}return c}finally{T=null,I=o,O=!1}}var R=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||O||(D=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=R,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:A++,callback:o,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,_(j,e),null===E(S)&&e===E(j)&&(N?i():N=!0,r(M,a-s))):(e.sortIndex=c,_(S,e),D||O||(D=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},62224:function(e,t,n){"use strict";e.exports=n(13095)},73170:function(e,t,n){"use strict";var r=n(28476),i=n(44680),o=n(73154),a=r("%TypeError%"),s=r("%WeakMap%",!0),c=r("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return u(e,r)}else if(c){if(t)return f(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return d(e,r)}else if(c){if(t)return p(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),l(e,r,i)):c?(t||(t=new c),h(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},30207:function(e,t,n){var r=n(12e3),i=n(44684),o=n(9424),a=n(33136)("socket.io-client");e.exports=t=c;var s=t.managers={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),c=i.source,u=i.id,l=i.path,d=s[u]&&l in s[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(a("ignoring socket cache for %s",c),n=o(c,t)):(s[u]||(a("new io instance for %s",c),s[u]=o(c,t)),n=s[u]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=c,t.Manager=n(9424),t.Socket=n(52169)},9424:function(e,t,n){var r=n(64331),i=n(52169),o=n(69380),a=n(44684),s=n(10950),c=n(51813),u=n(33136)("socket.io-client:manager"),l=n(69272),d=n(79375),f=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=s(n,"open",(function(){i.onopen(),e&&e()})),a=s(n,"error",(function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c),0===c&&o.destroy();var l=setTimeout((function(){u("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(a),this},h.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(e,"ping",c(this,"onping"))),this.subs.push(s(e,"pong",c(this,"onpong"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&o()}function o(){~l(r.connecting,n)||r.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},10950:function(e){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},52169:function(e,t,n){var r=n(44684),i=n(69380),o=n(19678),a=n(10950),s=n(51813),c=n(33136)("socket.io-client:socket"),u=n(31905),l=n(60224);e.exports=h;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(d.hasOwnProperty(e))return f.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},h.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i),t.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},12e3:function(e,t,n){var r=n(45176),i=n(33136)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},33136:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"}.DEBUG),e}(t=e.exports=n(9266)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},9266:function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var o=a[c];n=i.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a);var u=r.log||t.log||console.log.bind(console);u.apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(836),t.instances=[],t.names=[],t.skips=[],t.formatters={}},836:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,o=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return s.long?a(c=e,i,"day")||a(c,r,"hour")||a(c,n,"minute")||a(c,t,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},91343:function(e,t,n){var r=n(56675),i=n(37834),o=Object.prototype.toString,a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===o.call(File);function c(e,t){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=c(e[a],t);return o}if("object"===typeof e&&!(e instanceof Date)){o={};for(var s in e)o[s]=c(e[s],t);return o}return e}function u(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(r(e))for(var n=0;n<e.length;n++)e[n]=u(e[n],t);else if("object"===typeof e)for(var i in e)e[i]=u(e[i],t);return e}t.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=c(n,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=u(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(c,u,l){if(!c)return c;if(a&&c instanceof Blob||s&&c instanceof File){n++;var d=new FileReader;d.onload=function(){l?l[u]=this.result:o=this.result,--n||t(o)},d.readAsArrayBuffer(c)}else if(r(c))for(var f=0;f<c.length;f++)e(c[f],f,c);else if("object"===typeof c&&!i(c))for(var h in c)e(c[h],h,c)}(o),n||t(o)}},44684:function(e,t,n){var r=n(5349)("socket.io-parser"),i=n(69380),o=n(91343),a=n(56675),s=n(37834);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d;var u=t.ERROR+'"encode error"';function l(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return u;n+=i}return r("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){function n(e){var n=o.deconstructPacket(e),r=l(n.packet),i=n.buffers;i.unshift(r),t(i)}o.removeBlobs(e,n)}(e,n):n([l(e)])},i(d.prototype),d.prototype.add=function(e){var n;if("string"===typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return h("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var s=e.substring(o,n);if(s!=Number(s)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===e.charAt(n+1)){for(o=n+1;++n;){if(","===(u=e.charAt(n)))break;if(n===e.length)break}i.nsp=e.substring(o,n)}else i.nsp="/";var c=e.charAt(n+1);if(""!==c&&Number(c)==c){for(o=n+1;++n;){var u;if(null==(u=e.charAt(n))||Number(u)!=u){--n;break}if(n===e.length)break}i.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){var l=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n));if(!(!1!==l&&(i.type===t.ERROR||a(l))))return h("invalid payload");i.data=l}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},37834:function(e){e.exports=function(e){return t&&Buffer.isBuffer(e)||n&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var t="function"===typeof Buffer&&"function"===typeof Buffer.isBuffer,n="function"===typeof ArrayBuffer},5349:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"}.DEBUG),e}(t=e.exports=n(5619)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},5619:function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var o=a[c];n=i.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a);var u=r.log||t.log||console.log.bind(console);u.apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(85770),t.instances=[],t.names=[],t.skips=[],t.formatters={}},56675:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},85770:function(e){var t=1e3,n=60*t,r=60*n,i=24*r,o=365.25*i;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a)return;var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return s.long?a(c=e,i,"day")||a(c,r,"hour")||a(c,n,"minute")||a(c,t,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},38618:function(e,t){"use strict";var n="Invariant failed";t.Z=function(e,t){if(!e)throw new Error(n)}},19678:function(e){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},43071:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},64064:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},o=n,a=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));o--;)i[o]||c(e[o],o,new Set);return r;function c(e,t,o){if(o.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(f){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=a.get(e)||new Set;if(t=(l=Array.from(l)).length){o.add(e);do{var d=l[--t];c(d,s.get(d),o)}while(t);o.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t},66797:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return c},__metadata:function(){return u},__awaiter:function(){return l},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return h},__values:function(){return p},__read:function(){return m},__spread:function(){return v},__spreadArrays:function(){return g},__await:function(){return y},__asyncGenerator:function(){return b},__asyncDelegator:function(){return w},__asyncValues:function(){return x},__makeTemplateObject:function(){return _},__importStar:function(){return E},__importDefault:function(){return k},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return S}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},51544:function(e,t,n){e.exports={h32:n(98850),h64:n(85590)}},98850:function(e,t,n){var r=n(17540).UINT32;r.prototype.xxh_update=function(e,t){var n,r,a=o._low,s=o._high;n=(r=e*a)>>>16,n+=t*a,n&=65535,n+=e*s;var c=this._low+(65535&r),u=c>>>16,l=(u+=this._high+(65535&n))<<16|65535&c;u=(l=l<<13|l>>>19)>>>16,n=(r=(c=65535&l)*(a=i._low))>>>16,n+=u*a,n&=65535,n+=c*(s=i._high),this._low=65535&r,this._high=65535&n};var i=r("2654435761"),o=r("2246822519"),a=r("3266489917"),s=r("668265263"),c=r("374761393");function u(){return 2==arguments.length?new u(arguments[1]).update(arguments[0]).digest():this instanceof u?void l.call(this,arguments[0]):new u(arguments[0])}function l(e){return this.seed=e instanceof r?e.clone():r(e),this.v1=this.seed.clone().add(i).add(o),this.v2=this.seed.clone().add(o),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(i),this.total_len=0,this.memsize=0,this.memory=null,this}u.prototype.init=l,u.prototype.update=function(e){var t,n="string"==typeof e;n&&(e=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(t)}(e),n=!1,t=!0),"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer&&(t=!0,e=new Uint8Array(e));var r=0,i=e.length,o=r+i;if(0==i)return this;if(this.total_len+=i,0==this.memsize&&(this.memory=n?"":t?new Uint8Array(16):new Buffer(16)),this.memsize+i<16)return n?this.memory+=e:t?this.memory.set(e.subarray(0,i),this.memsize):e.copy(this.memory,this.memsize,0,i),this.memsize+=i,this;if(this.memsize>0){n?this.memory+=e.slice(0,16-this.memsize):t?this.memory.set(e.subarray(0,16-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,16-this.memsize);var a=0;n?(this.v1.xxh_update(this.memory.charCodeAt(a+1)<<8|this.memory.charCodeAt(a),this.memory.charCodeAt(a+3)<<8|this.memory.charCodeAt(a+2)),a+=4,this.v2.xxh_update(this.memory.charCodeAt(a+1)<<8|this.memory.charCodeAt(a),this.memory.charCodeAt(a+3)<<8|this.memory.charCodeAt(a+2)),a+=4,this.v3.xxh_update(this.memory.charCodeAt(a+1)<<8|this.memory.charCodeAt(a),this.memory.charCodeAt(a+3)<<8|this.memory.charCodeAt(a+2)),a+=4,this.v4.xxh_update(this.memory.charCodeAt(a+1)<<8|this.memory.charCodeAt(a),this.memory.charCodeAt(a+3)<<8|this.memory.charCodeAt(a+2))):(this.v1.xxh_update(this.memory[a+1]<<8|this.memory[a],this.memory[a+3]<<8|this.memory[a+2]),a+=4,this.v2.xxh_update(this.memory[a+1]<<8|this.memory[a],this.memory[a+3]<<8|this.memory[a+2]),a+=4,this.v3.xxh_update(this.memory[a+1]<<8|this.memory[a],this.memory[a+3]<<8|this.memory[a+2]),a+=4,this.v4.xxh_update(this.memory[a+1]<<8|this.memory[a],this.memory[a+3]<<8|this.memory[a+2])),r+=16-this.memsize,this.memsize=0,n&&(this.memory="")}if(r<=o-16){var s=o-16;do{n?(this.v1.xxh_update(e.charCodeAt(r+1)<<8|e.charCodeAt(r),e.charCodeAt(r+3)<<8|e.charCodeAt(r+2)),r+=4,this.v2.xxh_update(e.charCodeAt(r+1)<<8|e.charCodeAt(r),e.charCodeAt(r+3)<<8|e.charCodeAt(r+2)),r+=4,this.v3.xxh_update(e.charCodeAt(r+1)<<8|e.charCodeAt(r),e.charCodeAt(r+3)<<8|e.charCodeAt(r+2)),r+=4,this.v4.xxh_update(e.charCodeAt(r+1)<<8|e.charCodeAt(r),e.charCodeAt(r+3)<<8|e.charCodeAt(r+2))):(this.v1.xxh_update(e[r+1]<<8|e[r],e[r+3]<<8|e[r+2]),r+=4,this.v2.xxh_update(e[r+1]<<8|e[r],e[r+3]<<8|e[r+2]),r+=4,this.v3.xxh_update(e[r+1]<<8|e[r],e[r+3]<<8|e[r+2]),r+=4,this.v4.xxh_update(e[r+1]<<8|e[r],e[r+3]<<8|e[r+2])),r+=4}while(r<=s)}return r<o&&(n?this.memory+=e.slice(r):t?this.memory.set(e.subarray(r,o),this.memsize):e.copy(this.memory,this.memsize,r,o),this.memsize=o-r),this},u.prototype.digest=function(){var e,t,n=this.memory,u="string"==typeof n,l=0,d=this.memsize,f=new r;for((e=this.total_len>=16?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.clone().add(c)).add(f.fromNumber(this.total_len));l<=d-4;)u?f.fromBits(n.charCodeAt(l+1)<<8|n.charCodeAt(l),n.charCodeAt(l+3)<<8|n.charCodeAt(l+2)):f.fromBits(n[l+1]<<8|n[l],n[l+3]<<8|n[l+2]),e.add(f.multiply(a)).rotl(17).multiply(s),l+=4;for(;l<d;)f.fromBits(u?n.charCodeAt(l++):n[l++],0),e.add(f.multiply(c)).rotl(11).multiply(i);return t=e.clone().shiftRight(15),e.xor(t).multiply(o),t=e.clone().shiftRight(13),e.xor(t).multiply(a),t=e.clone().shiftRight(16),e.xor(t),this.init(this.seed),e},e.exports=u},85590:function(e,t,n){var r=n(17540).UINT64,i=r("11400714785074694791"),o=r("14029467366897019727"),a=r("1609587929392839161"),s=r("9650029242287828579"),c=r("2870177450012600261");function u(){return 2==arguments.length?new u(arguments[1]).update(arguments[0]).digest():this instanceof u?void l.call(this,arguments[0]):new u(arguments[0])}function l(e){return this.seed=e instanceof r?e.clone():r(e),this.v1=this.seed.clone().add(i).add(o),this.v2=this.seed.clone().add(o),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(i),this.total_len=0,this.memsize=0,this.memory=null,this}u.prototype.init=l,u.prototype.update=function(e){var t,n="string"==typeof e;n&&(e=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return new Uint8Array(t)}(e),n=!1,t=!0),"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer&&(t=!0,e=new Uint8Array(e));var a=0,s=e.length,c=a+s;if(0==s)return this;if(this.total_len+=s,0==this.memsize&&(this.memory=n?"":t?new Uint8Array(32):new Buffer(32)),this.memsize+s<32)return n?this.memory+=e:t?this.memory.set(e.subarray(0,s),this.memsize):e.copy(this.memory,this.memsize,0,s),this.memsize+=s,this;if(this.memsize>0){n?this.memory+=e.slice(0,32-this.memsize):t?this.memory.set(e.subarray(0,32-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,32-this.memsize);var u=0;if(n)d=r(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v1.add(d.multiply(o)).rotl(31).multiply(i),u+=8,d=r(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v2.add(d.multiply(o)).rotl(31).multiply(i),u+=8,d=r(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v3.add(d.multiply(o)).rotl(31).multiply(i),u+=8,d=r(this.memory.charCodeAt(u+1)<<8|this.memory.charCodeAt(u),this.memory.charCodeAt(u+3)<<8|this.memory.charCodeAt(u+2),this.memory.charCodeAt(u+5)<<8|this.memory.charCodeAt(u+4),this.memory.charCodeAt(u+7)<<8|this.memory.charCodeAt(u+6)),this.v4.add(d.multiply(o)).rotl(31).multiply(i);else d=r(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v1.add(d.multiply(o)).rotl(31).multiply(i),u+=8,d=r(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v2.add(d.multiply(o)).rotl(31).multiply(i),u+=8,d=r(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v3.add(d.multiply(o)).rotl(31).multiply(i),u+=8,d=r(this.memory[u+1]<<8|this.memory[u],this.memory[u+3]<<8|this.memory[u+2],this.memory[u+5]<<8|this.memory[u+4],this.memory[u+7]<<8|this.memory[u+6]),this.v4.add(d.multiply(o)).rotl(31).multiply(i);a+=32-this.memsize,this.memsize=0,n&&(this.memory="")}if(a<=c-32){var l=c-32;do{var d;if(n)d=r(e.charCodeAt(a+1)<<8|e.charCodeAt(a),e.charCodeAt(a+3)<<8|e.charCodeAt(a+2),e.charCodeAt(a+5)<<8|e.charCodeAt(a+4),e.charCodeAt(a+7)<<8|e.charCodeAt(a+6)),this.v1.add(d.multiply(o)).rotl(31).multiply(i),a+=8,d=r(e.charCodeAt(a+1)<<8|e.charCodeAt(a),e.charCodeAt(a+3)<<8|e.charCodeAt(a+2),e.charCodeAt(a+5)<<8|e.charCodeAt(a+4),e.charCodeAt(a+7)<<8|e.charCodeAt(a+6)),this.v2.add(d.multiply(o)).rotl(31).multiply(i),a+=8,d=r(e.charCodeAt(a+1)<<8|e.charCodeAt(a),e.charCodeAt(a+3)<<8|e.charCodeAt(a+2),e.charCodeAt(a+5)<<8|e.charCodeAt(a+4),e.charCodeAt(a+7)<<8|e.charCodeAt(a+6)),this.v3.add(d.multiply(o)).rotl(31).multiply(i),a+=8,d=r(e.charCodeAt(a+1)<<8|e.charCodeAt(a),e.charCodeAt(a+3)<<8|e.charCodeAt(a+2),e.charCodeAt(a+5)<<8|e.charCodeAt(a+4),e.charCodeAt(a+7)<<8|e.charCodeAt(a+6)),this.v4.add(d.multiply(o)).rotl(31).multiply(i);else d=r(e[a+1]<<8|e[a],e[a+3]<<8|e[a+2],e[a+5]<<8|e[a+4],e[a+7]<<8|e[a+6]),this.v1.add(d.multiply(o)).rotl(31).multiply(i),d=r(e[(a+=8)+1]<<8|e[a],e[a+3]<<8|e[a+2],e[a+5]<<8|e[a+4],e[a+7]<<8|e[a+6]),this.v2.add(d.multiply(o)).rotl(31).multiply(i),d=r(e[(a+=8)+1]<<8|e[a],e[a+3]<<8|e[a+2],e[a+5]<<8|e[a+4],e[a+7]<<8|e[a+6]),this.v3.add(d.multiply(o)).rotl(31).multiply(i),d=r(e[(a+=8)+1]<<8|e[a],e[a+3]<<8|e[a+2],e[a+5]<<8|e[a+4],e[a+7]<<8|e[a+6]),this.v4.add(d.multiply(o)).rotl(31).multiply(i);a+=8}while(a<=l)}return a<c&&(n?this.memory+=e.slice(a):t?this.memory.set(e.subarray(a,c),this.memsize):e.copy(this.memory,this.memsize,a,c),this.memsize=c-a),this},u.prototype.digest=function(){var e,t,n=this.memory,u="string"==typeof n,l=0,d=this.memsize,f=new r;for(this.total_len>=32?((e=this.v1.clone().rotl(1)).add(this.v2.clone().rotl(7)),e.add(this.v3.clone().rotl(12)),e.add(this.v4.clone().rotl(18)),e.xor(this.v1.multiply(o).rotl(31).multiply(i)),e.multiply(i).add(s),e.xor(this.v2.multiply(o).rotl(31).multiply(i)),e.multiply(i).add(s),e.xor(this.v3.multiply(o).rotl(31).multiply(i)),e.multiply(i).add(s),e.xor(this.v4.multiply(o).rotl(31).multiply(i)),e.multiply(i).add(s)):e=this.seed.clone().add(c),e.add(f.fromNumber(this.total_len));l<=d-8;)u?f.fromBits(n.charCodeAt(l+1)<<8|n.charCodeAt(l),n.charCodeAt(l+3)<<8|n.charCodeAt(l+2),n.charCodeAt(l+5)<<8|n.charCodeAt(l+4),n.charCodeAt(l+7)<<8|n.charCodeAt(l+6)):f.fromBits(n[l+1]<<8|n[l],n[l+3]<<8|n[l+2],n[l+5]<<8|n[l+4],n[l+7]<<8|n[l+6]),f.multiply(o).rotl(31).multiply(i),e.xor(f).rotl(27).multiply(i).add(s),l+=8;for(l+4<=d&&(u?f.fromBits(n.charCodeAt(l+1)<<8|n.charCodeAt(l),n.charCodeAt(l+3)<<8|n.charCodeAt(l+2),0,0):f.fromBits(n[l+1]<<8|n[l],n[l+3]<<8|n[l+2],0,0),e.xor(f.multiply(i)).rotl(23).multiply(o).add(a),l+=4);l<d;)f.fromBits(u?n.charCodeAt(l++):n[l++],0,0,0),e.xor(f.multiply(c)).rotl(11).multiply(i);return t=e.clone().shiftRight(33),e.xor(t).multiply(o),t=e.clone().shiftRight(29),e.xor(t).multiply(a),t=e.clone().shiftRight(32),e.xor(t),this.init(this.seed),e},e.exports=u},40276:function(e){"use strict";var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r={},i=0,o=0;function a(e){var t="";do{t=n[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function s(){var e=a(+new Date);return e!==t?(i=0,t=e):e+"."+a(i++)}for(;o<64;o++)r[n[o]]=o;s.encode=a,s.decode=function(e){var t=0;for(o=0;o<e.length;o++)t=64*t+r[e.charAt(o)];return t},e.exports=s},3463:function(e,t,n){"use strict";n.d(t,{kM:function(){return Ke},IX:function(){return Ge},O7:function(){return fe},nK:function(){return le},Rx:function(){return Ee},Ry:function(){return He},Z_:function(){return xe}});var r,i,o=n(31303),a=n(27853),s=n(84531);try{r=Map}catch(Qe){}try{i=Set}catch(Qe){}function c(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(u);if(r&&e instanceof r)return new Map(Array.from(e.entries()));if(i&&e instanceof i)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var o=Object.create(e);for(var a in n.push(o),e){var s=t.findIndex((function(t){return t===e[a]}));o[a]=s>-1?n[s]:c(e[a],t,n)}return o}return e}function u(e){return c(e,[],[])}var l=Object.prototype.toString,d=Error.prototype.toString,f=RegExp.prototype.toString,h="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},p=/^Symbol\((.*)\)(.*)$/;function m(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return m(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return h.call(e).replace(p,"Symbol($1)");var r=l.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+d.call(e)+"]":"RegExp"===r?f.call(e):null}function g(e,t){var n=v(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=v(this[e],t);return null!==r?r:n}),2)}var y={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,o=null!=i&&i!==r,a="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(g(r,!0),"`")+(o?" (cast from the value `".concat(g(i,!0),"`)."):".");return null===r&&(a+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),a},defined:"${path} must be defined"},b={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},w={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},x={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},_={isValue:"${path} field must be ${value}"},E={noUnknown:"${path} field has unspecified keys: ${unknown}"},k={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must be have ${length} items"},C=(Object.assign(Object.create(null),{mixed:y,string:b,number:w,date:x,object:E,array:k,boolean:_}),n(51912)),S=n.n(C),j=function(e){return e&&e.__isYupSchema__},A=function(){function e(t,n){if((0,a.Z)(this,e),this.refs=t,this.refs=t,"function"!==typeof n){if(!S()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,o=n.otherwise,s="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),a=t.pop(),c=s.apply(void 0,t)?i:o;if(c)return"function"===typeof c?c(a):a.concat(c.resolve(r))}}else this.fn=n}return(0,s.Z)(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!j(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),T=A,I=n(6148),O=n(81020),D=n(18334),N=n(52839);function P(e){return null==e?[]:[].concat(e)}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}var L=/\$\{\s*(\w+)\s*\}/g,R=function(e){(0,O.Z)(n,e);var t=(0,D.Z)(n);function n(e,r,i,s){var c;return(0,a.Z)(this,n),(c=t.call(this)).name="ValidationError",c.value=r,c.path=i,c.type=s,c.errors=[],c.inner=[],P(e).forEach((function(e){var t;n.isError(e)?((t=c.errors).push.apply(t,(0,o.Z)(e.errors)),c.inner=c.inner.concat(e.inner.length?e.inner:e)):c.errors.push(e)})),c.message=c.errors.length>1?"".concat(c.errors.length," errors occurred"):c.errors[0],Error.captureStackTrace&&Error.captureStackTrace((0,I.Z)(c),n),c}return(0,s.Z)(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=M({},t,{path:n})),"string"===typeof e?e.replace(L,(function(e,n){return g(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}((0,N.Z)(Error));function Z(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,s=e.errors,c=e.sort,u=e.path,l=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),d=r.length,f=[];if(s=s||[],!d)return s.length?l(new R(s,a,u)):l(null,a);for(var h=0;h<r.length;h++){(0,r[h])(i,(function(e){if(e){if(!R.isError(e))return l(e,a);if(n)return e.value=a,l(e,a);f.push(e)}if(--d<=0){if(f.length&&(c&&f.sort(c),s.length&&f.push.apply(f,(0,o.Z)(s)),s=f),s.length)return void l(new R(s,a,u),a);l(null,a)}}))}}var F=n(28463),U=n.n(F),z=n(23294),B="$",V=".";var W=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,a.Z)(this,e),"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===B,this.isValue=this.key[0]===V,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?B:this.isValue?V:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,z.getter)(this.path,!0),this.map=n.map}return(0,s.Z)(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function q(e){function t(t,n){var r=t.value,i=t.path,o=void 0===i?"":i,a=t.label,s=t.options,c=t.originalValue,u=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),d=e.name,f=e.test,h=e.params,p=e.message,m=s.parent,v=s.context;function g(e){return W.isRef(e)?e.getValue(r,m,v):e}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=U()(H({value:r,originalValue:c,label:a,path:e.path||o},h,e.params),g),n=new R(R.formatError(e.message||p,t),r,t.path,e.type||d);return n.params=t,n}var b=H({path:o,parent:m,type:d,createError:y,resolve:g,options:s,originalValue:c},l);if(u){var w;try{var x;if("function"===typeof(null==(x=w=f.call(b,r,b))?void 0:x.then))throw new Error('Validation test of type: "'.concat(b.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(_){return void n(_)}R.isError(w)?n(w):w?n(null,w):n(y())}else try{Promise.resolve(f.call(b,r,b)).then((function(e){R.isError(e)?n(e):e?n(null,e):n(y())}))}catch(_){n(_)}}return t.OPTIONS=e,t}W.prototype.__isYupRef=!0;var G=function(e){return e.substr(0,e.length-1).substr(1)};function Y(e,t,n){var r,i,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,z.forEach)(t,(function(s,c,u){var l=c?G(s):s;if((e=e.resolve({context:a,parent:r,value:n})).innerType){var d=u?parseInt(l,10):0;if(n&&d>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[d],e=e.innerType}if(!u){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(o,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,o=c?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}var K=n(50678),Q=n(89472),X=function(){function e(){(0,a.Z)(this,e),this.list=new Set,this.refs=new Map}return(0,s.Z)(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=(0,Q.Z)(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(s){n.e(s)}finally{n.f()}var i,o=(0,Q.Z)(this.refs);try{for(o.s();!(i=o.n()).done;){var a=(0,K.Z)(i.value,2)[1];t.push(a.describe())}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"add",value:function(e){W.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){W.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"has",value:function(e,t){if(this.list.has(e))return!0;for(var n,r=this.refs.values();!(n=r.next()).done;)if(t(n.value)===e)return!0;return!1}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}var J=function(){function e(t){var n=this;(0,a.Z)(this,e),this.deps=[],this.conditions=[],this._whitelist=new X,this._blacklist=new X,this.exclusiveTests=Object.create(null),this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(y.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=$({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return(0,s.Z)(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=$({},this.exclusiveTests),t.deps=(0,o.Z)(this.deps),t.conditions=(0,o.Z)(this.conditions),t.tests=(0,o.Z)(this.tests),t.transforms=(0,o.Z)(this.transforms),t.spec=u($({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=$({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve($({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=g(e),o=g(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(o!==i?"result of cast: ".concat(o):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,o=n.path,a=n.from,s=void 0===a?[]:a,c=n.originalValue,u=void 0===c?e:c,l=n.strict,d=void 0===l?this.spec.strict:l,f=n.abortEarly,h=void 0===f?this.spec.abortEarly:f,p=e;d||(p=this._cast(p,$({assert:!1},n)));var m={value:p,path:o,options:n,originalValue:u,schema:this,label:this.spec.label,sync:i,from:s},v=[];this._typeError&&v.push(this._typeError),this._whitelistError&&v.push(this._whitelistError),this._blacklistError&&v.push(this._blacklistError),Z({args:m,value:p,path:o,sync:i,tests:v,endEarly:h},(function(e){e?r(e,p):Z({tests:t.tests,args:m,path:o,sync:i,value:p,endEarly:h},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve($({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve($({},t,{value:e}))._validate(e,$({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(R.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(R.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):u(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=y.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=q(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=P(e).map((function(e){return new W(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new T(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=q({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=q({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist;return!!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=q({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist;return!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label;return{meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))}}}]),e}();J.prototype.__isYupSchema__=!0;for(var ee=function(){var e=ne[te];J.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Y(this,t,n,r.context),o=i.parent,a=i.parentPath,s=i.schema;return s[e](o&&o[a],$({},r,{parent:o,path:t}))}},te=0,ne=["validate","validateSync"];te<ne.length;te++)ee();for(var re=0,ie=["equals","is"];re<ie.length;re++){var oe=ie[re];J.prototype[oe]=J.prototype.oneOf}for(var ae=0,se=["not","nope"];ae<se.length;ae++){var ce=se[ae];J.prototype[ce]=J.prototype.notOneOf}J.prototype.optional=J.prototype.notRequired;var ue=J;function le(){return new ue}le.prototype=ue.prototype;var de=function(e){return null==e};function fe(){return new he}var he=function(e){(0,O.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return de(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return de(e)||!1===e}})}}]),n}(J);fe.prototype=he.prototype;var pe=n(44474),me=n(53538),ve=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,ge=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,ye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,be=function(e){return de(e)||e===e.trim()},we={}.toString();function xe(){return new _e}var _e=function(e){(0,O.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===we?e:t}))})),e}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return(0,pe.Z)((0,me.Z)(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return de(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return de(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return de(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var o=t.excludeEmptyString;i=void 0!==o&&o,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||b.matches,params:{regex:e},test:function(t){return de(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.email;return this.matches(ve,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.url;return this.matches(ge,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.uuid;return this.matches(ye,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:be})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.lowercase;return this.transform((function(e){return de(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return de(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.uppercase;return this.transform((function(e){return de(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return de(e)||e===e.toUpperCase()}})}}]),n}(J);xe.prototype=_e.prototype;function Ee(){return new ke}var ke=function(e){(0,O.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return de(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return de(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return de(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return de(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.integer;return this.test({name:"integer",message:e,test:function(e){return de(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return de(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return de(t)?t:Math[e](t)}))}}]),n}(J);Ee.prototype=ke.prototype;var Ce=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var Se=new Date("");function je(){return new Ae}var Ae=function(e){(0,O.Z)(n,e);var t=(0,D.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=Ce.exec(e)){for(var o,a=0;o=r[a];++a)n[o]=+n[o]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?Se:new Date(e))}))})),e}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(W.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return de(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return de(e)||e<=this.resolve(n)}})}}]),n}(J);Ae.INVALID_DATE=Se,je.prototype=Ae.prototype,je.INVALID_DATE=Se;var Te=n(63796),Ie=n.n(Te),Oe=n(49746),De=n.n(Oe),Ne=n(84129),Pe=n.n(Ne),Me=n(64064),Le=n.n(Me);function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=[];function i(e,i){var o=(0,z.split)(e)[0];~r.indexOf(o)||r.push(o),~t.indexOf("".concat(i,"-").concat(o))||n.push([i,o])}var o=function(t){if(S()(e,t)){var n=e[t];~r.indexOf(t)||r.push(t),W.isRef(n)&&n.isSibling?i(n.path,t):j(n)&&"deps"in n&&n.deps.forEach((function(e){return i(e,t)}))}};for(var a in e)o(a);return Le().array(r,n).reverse()}function Ze(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function Fe(e){return function(t,n){return Ze(e,t)-Ze(e,n)}}function Ue(){return Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}var ze=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function Be(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var Ve=Fe([]),We=function(e){(0,O.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=Ve,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return ze(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,pe.Z)((0,me.Z)(n.prototype),"_cast",this).call(this,e,i);if(void 0===o)return this.getDefault();if(!this._typeCheck(o))return o;var a,s=this.fields,c=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,u=this._nodes.concat(Object.keys(o).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},d=Ue({},i,{parent:l,__validating:i.__validating||!1}),f=!1,h=(0,Q.Z)(u);try{for(h.s();!(a=h.n()).done;){var p=a.value,m=s[p],v=S()(o,p);if(m){var g=void 0,y=o[p];d.path=(i.path?"".concat(i.path,"."):"")+p;var b="spec"in(m=m.resolve({value:y,context:i.context,parent:l}))?m.spec:void 0,w=null==b?void 0:b.strict;if(null==b?void 0:b.strip){f=f||p in o;continue}void 0!==(g=i.__validating&&w?o[p]:m.cast(o[p],d))&&(l[p]=g)}else v&&!c&&(l[p]=o[p]);l[p]!==o[p]&&(f=!0)}}catch(x){h.e(x)}finally{h.f()}return f?l:o}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=[],s=r.sync,c=r.from,u=void 0===c?[]:c,l=r.originalValue,d=void 0===l?e:l,f=r.abortEarly,h=void 0===f?this.spec.abortEarly:f,p=r.recursive,m=void 0===p?this.spec.recursive:p;u=[{schema:this,value:d}].concat((0,o.Z)(u)),r.__validating=!0,r.originalValue=d,r.from=u,(0,pe.Z)((0,me.Z)(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!R.isError(e)||h)return void i(e,n);a.push(e)}if(m&&ze(n)){d=d||n;var o=t._nodes.map((function(e){return function(i,o){var a=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),s=t.fields[e];s&&"validate"in s?s.validate(n[e],Ue({},r,{path:a,from:u,strict:!0,parent:n,originalValue:d[e]}),o):o(null)}}));Z({sync:s,tests:o,value:n,errors:a,endEarly:h,sort:t._sortErrors,path:r.path},i)}else i(a[0]||null,n)}))}},{key:"clone",value:function(e){var t=(0,pe.Z)((0,me.Z)(n.prototype),"clone",this).call(this,e);return t.fields=Ue({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=(0,pe.Z)((0,me.Z)(n.prototype),"concat",this).call(this,e),r=t.fields,i=0,o=Object.entries(this.fields);i<o.length;i++){var a=(0,K.Z)(o[i],2),s=a[0],c=a[1],u=r[s];void 0===u?r[s]=c:u instanceof J&&c instanceof J&&(r[s]=c.concat(u))}return t.withMutation((function(){return t.shape(r)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?(0,pe.Z)((0,me.Z)(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);if(n.fields=r,n._sortErrors=Fe(Object.keys(r)),t.length){Array.isArray(t[0])||(t=[t]);var i=t.map((function(e){var t=(0,K.Z)(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)}));n._excludedEdges=n._excludedEdges.concat(i)}return n._nodes=Re(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=(0,Q.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(o){r.e(o)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=(0,Q.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete n[o]}}catch(a){i.e(a)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,z.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var o=i;return S()(i,e)&&(o=Ue({},i),n||delete o[e],o[t]=r(i)),o}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=Be(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&Pe()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(De())}},{key:"snakeCase",value:function(){return this.transformKeys(Ie())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return Ie()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=(0,pe.Z)((0,me.Z)(n.prototype),"describe",this).call(this);return e.fields=U()(this.fields,(function(e){return e.describe()})),e}}]),n}(J);function He(e){return new We(e)}function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}function Ge(e){return new Ye(e)}He.prototype=We.prototype;var Ye=function(e){(0,O.Z)(n,e);var t=(0,D.Z)(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,{type:"array"})).innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return(0,s.Z)(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=(0,pe.Z)((0,me.Z)(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var o=!1,a=i.map((function(e,n){var i=r.innerType.cast(e,qe({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(o=!0),i}));return o?a:i}},{key:"_validate",value:function(e){var t,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=[],c=o.sync,u=o.path,l=this.innerType,d=null!=(t=o.abortEarly)?t:this.spec.abortEarly,f=null!=(r=o.recursive)?r:this.spec.recursive,h=null!=o.originalValue?o.originalValue:e;(0,pe.Z)((0,me.Z)(n.prototype),"_validate",this).call(this,e,o,(function(e,t){if(e){if(!R.isError(e)||d)return void a(e,t);s.push(e)}if(f&&l&&i._typeCheck(t)){h=h||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(o.path||"","[").concat(e,"]"),a=qe({},o,{path:i,strict:!0,parent:t,index:e,originalValue:h[e]});n[e]=function(e,t){return l.validate(r,a,t)}},p=0;p<t.length;p++)r(p);Z({sync:c,path:u,value:t,errors:s,endEarly:d,tests:n},a)}else a(s[0]||null,t)}))}},{key:"clone",value:function(e){var t=(0,pe.Z)((0,me.Z)(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=(0,pe.Z)((0,me.Z)(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!j(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+g(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return de(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||k.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return de(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||k.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return de(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=(0,pe.Z)((0,me.Z)(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,pe.Z)((0,me.Z)(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return(0,pe.Z)((0,me.Z)(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return(0,pe.Z)((0,me.Z)(n.prototype),"required",this).call(this,e)}}]),n}(J);function Ke(e,t,n){if(!e||!j(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if("string"!==typeof t)throw new TypeError("A Method name must be provided");if("function"!==typeof n)throw new TypeError("Method function must be provided");e.prototype[t]=n}Ge.prototype=Ye.prototype},5314:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},80807:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},94011:function(e,t,n){var r=n(5314);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},24587:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},48064:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},81703:function(e,t,n){var r=n(38181),i=n(39548);function o(t,n,a){return i()?(e.exports=o=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},18231:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},89504:function(e,t,n){var r=n(55816);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},53744:function(e,t,n){var r=n(53890),i=n(39548),o=n(30634);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},51955:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},53890:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},89137:function(e,t,n){var r=n(38181);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},51493:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},39548:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},95962:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},61581:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},96258:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},74815:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},30634:function(e,t,n){var r=n(47798).default,i=n(24587);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},38181:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},94534:function(e,t,n){var r=n(80807),i=n(61581),o=n(55816),a=n(96258);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},48485:function(e,t,n){var r=n(94011),i=n(95962),o=n(55816),a=n(74815);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},47798:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},55816:function(e,t,n){var r=n(5314);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},12682:function(e,t,n){var r=n(53890),i=n(38181),o=n(51493),a=n(81703);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},84322:function(e,t,n){e.exports=n(68937)},37984:function(){},77020:function(){},24654:function(){},30907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},87462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},94578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},63366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},89611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},42982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(30907);var i=n(40181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},40181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(30907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},3234:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=function(){this.__data__=[],this.size=0},i=n(87734);var o=function(e,t){for(var n=e.length;n--;)if((0,i.Z)(e[n][0],t))return n;return-1},a=Array.prototype.splice;var s=function(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)};var c=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]};var u=function(e){return o(this.__data__,e)>-1};var l=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=r,d.prototype.delete=s,d.prototype.get=c,d.prototype.has=u,d.prototype.set=l;var f=d},63698:function(e,t,n){"use strict";var r=n(58322),i=n(34455),o=(0,r.Z)(i.Z,"Map");t.Z=o},33563:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=(0,n(58322).Z)(Object,"create");var i=function(){this.__data__=r?r(null):{},this.size=0};var o=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},a=Object.prototype.hasOwnProperty;var s=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0},c=Object.prototype.hasOwnProperty;var u=function(e){var t=this.__data__;return r?void 0!==t[e]:c.call(t,e)};var l=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=i,d.prototype.delete=o,d.prototype.get=s,d.prototype.has=u,d.prototype.set=l;var f=d,h=n(3234),p=n(63698);var m=function(){this.size=0,this.__data__={hash:new f,map:new(p.Z||h.Z),string:new f}};var v=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var g=function(e,t){var n=e.__data__;return v(t)?n["string"==typeof t?"string":"hash"]:n.map};var y=function(e){var t=g(this,e).delete(e);return this.size-=t?1:0,t};var b=function(e){return g(this,e).get(e)};var w=function(e){return g(this,e).has(e)};var x=function(e,t){var n=g(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_.prototype.clear=m,_.prototype.delete=y,_.prototype.get=b,_.prototype.has=w,_.prototype.set=x;var E=_},30397:function(e,t,n){"use strict";var r=n(58322),i=n(34455),o=(0,r.Z)(i.Z,"Set");t.Z=o},38489:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(33563);var i=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var o=function(e){return this.__data__.has(e)};function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r.Z;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o;var s=a},81511:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(3234);var i=function(){this.__data__=new r.Z,this.size=0};var o=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var a=function(e){return this.__data__.get(e)};var s=function(e){return this.__data__.has(e)},c=n(63698),u=n(33563);var l=function(e,t){var n=this.__data__;if(n instanceof r.Z){var i=n.__data__;if(!c.Z||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new u.Z(i)}return n.set(e,t),this.size=n.size,this};function d(e){var t=this.__data__=new r.Z(e);this.size=t.size}d.prototype.clear=i,d.prototype.delete=o,d.prototype.get=a,d.prototype.has=s,d.prototype.set=l;var f=d},62393:function(e,t,n){"use strict";var r=n(34455).Z.Symbol;t.Z=r},54454:function(e,t,n){"use strict";var r=n(34455).Z.Uint8Array;t.Z=r},3854:function(e,t,n){"use strict";var r=n(85485);t.Z=function(e,t){return!!(null==e?0:e.length)&&(0,r.Z)(e,t,0)>-1}},30811:function(e,t){"use strict";t.Z=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},35274:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},i=n(77889),o=n(64251),a=n(27114),s=n(35562),c=n(30453),u=Object.prototype.hasOwnProperty;var l=function(e,t){var n=(0,o.Z)(e),l=!n&&(0,i.Z)(e),d=!n&&!l&&(0,a.Z)(e),f=!n&&!l&&!d&&(0,c.Z)(e),h=n||l||d||f,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||(0,s.Z)(v,m))||p.push(v);return p}},8699:function(e,t){"use strict";t.Z=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},20090:function(e,t){"use strict";t.Z=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},63490:function(e,t,n){"use strict";var r=n(91483),i=n(87734),o=Object.prototype.hasOwnProperty;t.Z=function(e,t,n){var a=e[t];o.call(e,t)&&(0,i.Z)(a,n)&&(void 0!==n||t in e)||(0,r.Z)(e,t,n)}},91483:function(e,t,n){"use strict";var r=n(20815);t.Z=function(e,t,n){"__proto__"==t&&r.Z?(0,r.Z)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},64322:function(e,t,n){"use strict";var r=n(38489),i=n(3854),o=n(30811),a=n(8699),s=n(91801),c=n(87327);t.Z=function(e,t,n,u){var l=-1,d=i.Z,f=!0,h=e.length,p=[],m=t.length;if(!h)return p;n&&(t=(0,a.Z)(t,(0,s.Z)(n))),u?(d=o.Z,f=!1):t.length>=200&&(d=c.Z,f=!1,t=new r.Z(t));e:for(;++l<h;){var v=e[l],g=null==n?v:n(v);if(v=u||0!==v?v:0,f&&g===g){for(var y=m;y--;)if(t[y]===g)continue e;p.push(v)}else d(t,g,u)||p.push(v)}return p}},30654:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(30127),i=n(21150);var o=function(e,t){return function(n,r){if(null==n)return n;if(!(0,i.Z)(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}(r.Z)},71345:function(e,t){"use strict";t.Z=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},7271:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(20090),i=n(62393),o=n(77889),a=n(64251),s=i.Z?i.Z.isConcatSpreadable:void 0;var c=function(e){return(0,a.Z)(e)||(0,o.Z)(e)||!!(s&&e&&e[s])};var u=function e(t,n,i,o,a){var s=-1,u=t.length;for(i||(i=c),a||(a=[]);++s<u;){var l=t[s];n>0&&i(l)?n>1?e(l,n-1,i,o,a):(0,r.Z)(a,l):o||(a[a.length]=l)}return a}},31371:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}()},30127:function(e,t,n){"use strict";var r=n(31371),i=n(17476);t.Z=function(e,t){return e&&(0,r.Z)(e,t,i.Z)}},29842:function(e,t,n){"use strict";var r=n(62661),i=n(57956);t.Z=function(e,t){for(var n=0,o=(t=(0,r.Z)(t,e)).length;null!=e&&n<o;)e=e[(0,i.Z)(t[n++])];return n&&n==o?e:void 0}},84340:function(e,t,n){"use strict";var r=n(20090),i=n(64251);t.Z=function(e,t,n){var o=t(e);return(0,i.Z)(e)?o:(0,r.Z)(o,n(e))}},77603:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(62393),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.Z?r.Z.toStringTag:void 0;var c=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i},u=Object.prototype.toString;var l=function(e){return u.call(e)},d=r.Z?r.Z.toStringTag:void 0;var f=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?c(e):l(e)}},85485:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(71345);var i=function(e){return e!==e};var o=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var a=function(e,t,n){return t===t?o(e,t,n):(0,r.Z)(e,i,n)}},38832:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(81511),i=n(38489);var o=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},a=n(87327);var s=function(e,t,n,r,s,c){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,v=2&n?new i.Z:void 0;for(c.set(e,t),c.set(t,e);++p<l;){var g=e[p],y=t[p];if(r)var b=u?r(y,g,p,t,e,c):r(g,y,p,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!o(t,(function(e,t){if(!(0,a.Z)(v,t)&&(g===e||s(g,e,n,r,c)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,r,c)){m=!1;break}}return c.delete(e),c.delete(t),m},c=n(62393),u=n(54454),l=n(87734);var d=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},f=n(60736),h=c.Z?c.Z.prototype:void 0,p=h?h.valueOf:void 0;var m=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new u.Z(e),new u.Z(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,l.Z)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=d;case"[object Set]":var h=1&r;if(c||(c=f.Z),e.size!=t.size&&!h)return!1;var m=a.get(e);if(m)return m==t;r|=2,a.set(e,t);var v=s(c(e),c(t),r,i,o,a);return a.delete(e),v;case"[object Symbol]":if(p)return p.call(e)==p.call(t)}return!1},v=n(11972),g=Object.prototype.hasOwnProperty;var y=function(e,t,n,r,i,o){var a=1&n,s=(0,v.Z)(e),c=s.length;if(c!=(0,v.Z)(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:g.call(t,l)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<c;){var m=e[l=s[u]],y=t[l];if(r)var b=a?r(y,m,l,t,e,o):r(m,y,l,e,t,o);if(!(void 0===b?m===y||i(m,y,n,r,o):b)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(h=!1)}return o.delete(e),o.delete(t),h},b=n(17473),w=n(64251),x=n(27114),_=n(30453),E="[object Arguments]",k="[object Array]",C="[object Object]",S=Object.prototype.hasOwnProperty;var j=function(e,t,n,i,o,a){var c=(0,w.Z)(e),u=(0,w.Z)(t),l=c?k:(0,b.Z)(e),d=u?k:(0,b.Z)(t),f=(l=l==E?C:l)==C,h=(d=d==E?C:d)==C,p=l==d;if(p&&(0,x.Z)(e)){if(!(0,x.Z)(t))return!1;c=!0,f=!1}if(p&&!f)return a||(a=new r.Z),c||(0,_.Z)(e)?s(e,t,n,i,o,a):m(e,t,l,n,i,o,a);if(!(1&n)){var v=f&&S.call(e,"__wrapped__"),g=h&&S.call(t,"__wrapped__");if(v||g){var j=v?e.value():e,A=g?t.value():t;return a||(a=new r.Z),o(j,A,n,i,a)}}return!!p&&(a||(a=new r.Z),y(e,t,n,i,o,a))},A=n(99154);var T=function e(t,n,r,i,o){return t===n||(null==t||null==n||!(0,A.Z)(t)&&!(0,A.Z)(n)?t!==t&&n!==n:j(t,n,r,i,e,o))}},18346:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(81511),i=n(38832);var o=function(e,t,n,o){var a=n.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=n[a])[0],d=e[l],f=u[1];if(c&&u[2]){if(void 0===d&&!(l in e))return!1}else{var h=new r.Z;if(o)var p=o(d,f,l,e,t,h);if(!(void 0===p?(0,i.Z)(f,d,3,o,h):p))return!1}}return!0},a=n(77955);var s=function(e){return e===e&&!(0,a.Z)(e)},c=n(17476);var u=function(e){for(var t=(0,c.Z)(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,s(i)]}return t};var l=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var d=function(e){var t=u(e);return 1==t.length&&t[0][2]?l(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}},f=n(29842);var h=function(e,t,n){var r=null==e?void 0:(0,f.Z)(e,t);return void 0===r?n:r};var p=function(e,t){return null!=e&&t in Object(e)},m=n(62661),v=n(77889),g=n(64251),y=n(35562),b=n(38870),w=n(57956);var x=function(e,t,n){for(var r=-1,i=(t=(0,m.Z)(t,e)).length,o=!1;++r<i;){var a=(0,w.Z)(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&(0,b.Z)(i)&&(0,y.Z)(a,i)&&((0,g.Z)(e)||(0,v.Z)(e))};var _=function(e,t){return null!=e&&x(e,t,p)},E=n(85905);var k=function(e,t){return(0,E.Z)(e)&&s(t)?l((0,w.Z)(e),t):function(n){var r=h(n,e);return void 0===r&&r===t?_(n,e):(0,i.Z)(t,r,3)}},C=n(67755),S=n(70222);var j=function(e){return function(t){return(0,f.Z)(t,e)}};var A=function(e){return(0,E.Z)(e)?(0,S.Z)((0,w.Z)(e)):j(e)};var T=function(e){return"function"==typeof e?e:null==e?C.Z:"object"==typeof e?(0,g.Z)(e)?k(e[0],e[1]):d(e):A(e)}},18244:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(51269),i=(0,n(21976).Z)(Object.keys,Object),o=Object.prototype.hasOwnProperty;var a=function(e){if(!(0,r.Z)(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},70222:function(e,t){"use strict";t.Z=function(e){return function(t){return null==t?void 0:t[e]}}},35210:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(67755);var i=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},o=Math.max;var a=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),c=Array(s);++a<s;)c[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(c),i(e,this,u)}};var s=function(e){return function(){return e}},c=n(20815),u=c.Z?function(e,t){return(0,c.Z)(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:r.Z,l=Date.now;var d=function(e){var t=0,n=0;return function(){var r=l(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},f=d(u);var h=function(e,t){return f(a(e,t,r.Z),e+"")}},693:function(e,t){"use strict";t.Z=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},71470:function(e,t,n){"use strict";var r=n(62393),i=n(8699),o=n(64251),a=n(25707),s=r.Z?r.Z.prototype:void 0,c=s?s.toString:void 0;t.Z=function e(t){if("string"==typeof t)return t;if((0,o.Z)(t))return(0,i.Z)(t,e)+"";if((0,a.Z)(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},91801:function(e,t){"use strict";t.Z=function(e){return function(t){return e(t)}}},19466:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(38489),i=n(3854),o=n(30811),a=n(87327),s=n(30397),c=n(91871),u=n(60736),l=s.Z&&1/(0,u.Z)(new s.Z([,-0]))[1]==1/0?function(e){return new s.Z(e)}:c.Z;var d=function(e,t,n){var s=-1,c=i.Z,d=e.length,f=!0,h=[],p=h;if(n)f=!1,c=o.Z;else if(d>=200){var m=t?null:l(e);if(m)return(0,u.Z)(m);f=!1,c=a.Z,p=new r.Z}else p=t?[]:h;e:for(;++s<d;){var v=e[s],g=t?t(v):v;if(v=n||0!==v?v:0,f&&g===g){for(var y=p.length;y--;)if(p[y]===g)continue e;t&&p.push(g),h.push(v)}else c(p,g,n)||(p!==h&&p.push(g),h.push(v))}return h}},87327:function(e,t){"use strict";t.Z=function(e,t){return e.has(t)}},62661:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(64251),i=n(85905),o=n(33563);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(a.Cache||o.Z),n}a.Cache=o.Z;var s=a;var c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,l=function(e){var t=s(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(c,(function(e,n,r,i){t.push(r?i.replace(u,"$1"):n||e)})),t})),d=n(69775);var f=function(e,t){return(0,r.Z)(e)?e:(0,i.Z)(e,t)?[e]:l((0,d.Z)(e))}},21172:function(e,t,n){"use strict";var r=n(693);t.Z=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:(0,r.Z)(e,t,n)}},28044:function(e,t,n){"use strict";var r=n(54454);t.Z=function(e){var t=new e.constructor(e.byteLength);return new r.Z(t).set(new r.Z(e)),t}},23999:function(e,t,n){"use strict";var r=n(34455),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===i?r.Z.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.Z=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},477:function(e,t,n){"use strict";var r=n(28044);t.Z=function(e,t){var n=t?(0,r.Z)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},94948:function(e,t){"use strict";t.Z=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},57150:function(e,t,n){"use strict";var r=n(63490),i=n(91483);t.Z=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?(0,i.Z)(n,u,l):(0,r.Z)(n,u,l)}return n}},20815:function(e,t,n){"use strict";var r=n(58322),i=function(){try{var e=(0,r.Z)(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();t.Z=i},34191:function(e,t){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;t.Z=n},11972:function(e,t,n){"use strict";var r=n(84340),i=n(76210),o=n(17476);t.Z=function(e){return(0,r.Z)(e,o.Z,i.Z)}},86778:function(e,t,n){"use strict";var r=n(84340),i=n(89670),o=n(41078);t.Z=function(e){return(0,r.Z)(e,o.Z,i.Z)}},58322:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(91655),i=n(34455).Z["__core-js_shared__"],o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var a=function(e){return!!o&&o in e},s=n(77955),c=n(88649),u=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,f=l.toString,h=d.hasOwnProperty,p=RegExp("^"+f.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var m=function(e){return!(!(0,s.Z)(e)||a(e))&&((0,r.Z)(e)?p:u).test((0,c.Z)(e))};var v=function(e,t){return null==e?void 0:e[t]};var g=function(e,t){var n=v(e,t);return m(n)?n:void 0}},74598:function(e,t,n){"use strict";var r=(0,n(21976).Z)(Object.getPrototypeOf,Object);t.Z=r},76210:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},i=n(50129),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i.Z},89670:function(e,t,n){"use strict";var r=n(20090),i=n(74598),o=n(76210),a=n(50129),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,r.Z)(t,(0,o.Z)(e)),e=(0,i.Z)(e);return t}:a.Z;t.Z=s},17473:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(58322),i=n(34455),o=(0,r.Z)(i.Z,"DataView"),a=n(63698),s=(0,r.Z)(i.Z,"Promise"),c=n(30397),u=(0,r.Z)(i.Z,"WeakMap"),l=n(77603),d=n(88649),f="[object Map]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",g=(0,d.Z)(o),y=(0,d.Z)(a.Z),b=(0,d.Z)(s),w=(0,d.Z)(c.Z),x=(0,d.Z)(u),_=l.Z;(o&&_(new o(new ArrayBuffer(1)))!=v||a.Z&&_(new a.Z)!=f||s&&_(s.resolve())!=h||c.Z&&_(new c.Z)!=p||u&&_(new u)!=m)&&(_=function(e){var t=(0,l.Z)(e),n="[object Object]"==t?e.constructor:void 0,r=n?(0,d.Z)(n):"";if(r)switch(r){case g:return v;case y:return f;case b:return h;case w:return p;case x:return m}return t});var E=_},48426:function(e,t){"use strict";var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.Z=function(e){return n.test(e)}},16982:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(77955),i=Object.create,o=function(){function e(){}return function(t){if(!(0,r.Z)(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),a=n(74598),s=n(51269);var c=function(e){return"function"!=typeof e.constructor||(0,s.Z)(e)?{}:o((0,a.Z)(e))}},35562:function(e,t){"use strict";var n=/^(?:0|[1-9]\d*)$/;t.Z=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},20937:function(e,t,n){"use strict";var r=n(87734),i=n(21150),o=n(35562),a=n(77955);t.Z=function(e,t,n){if(!(0,a.Z)(n))return!1;var s=typeof t;return!!("number"==s?(0,i.Z)(n)&&(0,o.Z)(t,n.length):"string"==s&&t in n)&&(0,r.Z)(n[t],e)}},85905:function(e,t,n){"use strict";var r=n(64251),i=n(25707),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.Z=function(e,t){if((0,r.Z)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!(0,i.Z)(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},51269:function(e,t){"use strict";var n=Object.prototype;t.Z=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},76018:function(e,t,n){"use strict";var r=n(34191),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===i&&r.Z.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();t.Z=s},21976:function(e,t){"use strict";t.Z=function(e,t){return function(n){return e(t(n))}}},34455:function(e,t,n){"use strict";var r=n(34191),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.Z||i||Function("return this")();t.Z=o},60736:function(e,t){"use strict";t.Z=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},27587:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=function(e){return e.split("")},i=n(48426),o="[\\ud800-\\udfff]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",c="[^\\ud800-\\udfff]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+a+"|"+s+")"+"?",f="[\\ufe0e\\ufe0f]?",h=f+d+("(?:\\u200d(?:"+[c,u,l].join("|")+")"+f+d+")*"),p="(?:"+[c+a+"?",a,u,l,o].join("|")+")",m=RegExp(s+"(?="+s+")|"+p+h,"g");var v=function(e){return e.match(m)||[]};var g=function(e){return(0,i.Z)(e)?v(e):r(e)}},57956:function(e,t,n){"use strict";var r=n(25707);t.Z=function(e){if("string"==typeof e||(0,r.Z)(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},88649:function(e,t){"use strict";var n=Function.prototype.toString;t.Z=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},11805:function(e,t){"use strict";t.Z=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},24691:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(77955),i=n(34455),o=function(){return i.Z.Date.now()},a=n(6135),s=Math.max,c=Math.min;var u=function(e,t,n){var i,u,l,d,f,h,p=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=i,r=u;return i=u=void 0,p=t,d=e.apply(r,n)}function b(e){return p=e,f=setTimeout(x,t),m?y(e):d}function w(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-p>=l}function x(){var e=o();if(w(e))return _(e);f=setTimeout(x,function(e){var n=t-(e-h);return v?c(n,l-(e-p)):n}(e))}function _(e){return f=void 0,g&&i?y(e):(i=u=void 0,d)}function E(){var e=o(),n=w(e);if(i=arguments,u=this,h=e,n){if(void 0===f)return b(h);if(v)return clearTimeout(f),f=setTimeout(x,t),y(h)}return void 0===f&&(f=setTimeout(x,t)),d}return t=(0,a.Z)(t)||0,(0,r.Z)(n)&&(m=!!n.leading,l=(v="maxWait"in n)?s((0,a.Z)(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),p=0,i=h=u=f=void 0},E.flush=function(){return void 0===f?d:_(o())},E}},87734:function(e,t){"use strict";t.Z=function(e,t){return e===t||e!==e&&t!==t}},57114:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(18346),i=n(21150),o=n(17476);var a=function(e){return function(t,n,a){var s=Object(t);if(!(0,i.Z)(t)){var c=(0,r.Z)(n,3);t=(0,o.Z)(t),n=function(e){return c(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[c?t[u]:u]:void 0}}(n(43802).Z)},43802:function(e,t,n){"use strict";var r=n(71345),i=n(18346),o=n(74833),a=Math.max;t.Z=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:(0,o.Z)(n);return c<0&&(c=a(s+c,0)),(0,r.Z)(e,(0,i.Z)(t,3),c)}},91976:function(e,t){"use strict";t.Z=function(e){return e&&e.length?e[0]:void 0}},67755:function(e,t){"use strict";t.Z=function(e){return e}},2624:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(85485),i=n(21150),o=n(77603),a=n(64251),s=n(99154);var c=function(e){return"string"==typeof e||!(0,a.Z)(e)&&(0,s.Z)(e)&&"[object String]"==(0,o.Z)(e)},u=n(74833),l=n(58509),d=Math.max;var f=function(e,t,n,o){e=(0,i.Z)(e)?e:(0,l.Z)(e),n=n&&!o?(0,u.Z)(n):0;var a=e.length;return n<0&&(n=d(a+n,0)),c(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&(0,r.Z)(e,t,n)>-1}},77889:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(77603),i=n(99154);var o=function(e){return(0,i.Z)(e)&&"[object Arguments]"==(0,r.Z)(e)},a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(e){return(0,i.Z)(e)&&s.call(e,"callee")&&!c.call(e,"callee")},l=u},64251:function(e,t){"use strict";var n=Array.isArray;t.Z=n},21150:function(e,t,n){"use strict";var r=n(91655),i=n(38870);t.Z=function(e){return null!=e&&(0,i.Z)(e.length)&&!(0,r.Z)(e)}},71299:function(e,t,n){"use strict";var r=n(21150),i=n(99154);t.Z=function(e){return(0,i.Z)(e)&&(0,r.Z)(e)}},27114:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(34455);var i=function(){return!1},o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof module&&module&&!module.nodeType&&module,s=a&&a.exports===o?r.Z.Buffer:void 0,c=(s?s.isBuffer:void 0)||i},47733:function(e,t,n){"use strict";var r=n(18244),i=n(17473),o=n(77889),a=n(64251),s=n(21150),c=n(27114),u=n(51269),l=n(30453),d=Object.prototype.hasOwnProperty;t.Z=function(e){if(null==e)return!0;if((0,s.Z)(e)&&((0,a.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,c.Z)(e)||(0,l.Z)(e)||(0,o.Z)(e)))return!e.length;var t=(0,i.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,u.Z)(e))return!(0,r.Z)(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},54778:function(e,t,n){"use strict";var r=n(38832);t.Z=function(e,t){return(0,r.Z)(e,t)}},91655:function(e,t,n){"use strict";var r=n(77603),i=n(77955);t.Z=function(e){if(!(0,i.Z)(e))return!1;var t=(0,r.Z)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},38870:function(e,t){"use strict";t.Z=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},77955:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},99154:function(e,t){"use strict";t.Z=function(e){return null!=e&&"object"==typeof e}},25707:function(e,t,n){"use strict";var r=n(77603),i=n(99154);t.Z=function(e){return"symbol"==typeof e||(0,i.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}},30453:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(77603),i=n(38870),o=n(99154),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=function(e){return(0,o.Z)(e)&&(0,i.Z)(e.length)&&!!a[(0,r.Z)(e)]},c=n(91801),u=n(76018),l=u.Z&&u.Z.isTypedArray,d=l?(0,c.Z)(l):s},70907:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(91483);var i=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},o=n(30654);var a=function(e,t,n,r){return(0,o.Z)(e,(function(e,i,o){t(r,e,n(e),o)})),r},s=n(18346),c=n(64251);var u=function(e,t){return function(n,r){var o=(0,c.Z)(n)?i:a,u=t?t():{};return o(n,e,(0,s.Z)(r,2),u)}}((function(e,t,n){(0,r.Z)(e,n,t)}))},17476:function(e,t,n){"use strict";var r=n(35274),i=n(18244),o=n(21150);t.Z=function(e){return(0,o.Z)(e)?(0,r.Z)(e):(0,i.Z)(e)}},41078:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(35274),i=n(77955),o=n(51269);var a=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},s=Object.prototype.hasOwnProperty;var c=function(e){if(!(0,i.Z)(e))return a(e);var t=(0,o.Z)(e),n=[];for(var r in e)("constructor"!=r||!t&&s.call(e,r))&&n.push(r);return n},u=n(21150);var l=function(e){return(0,u.Z)(e)?(0,r.Z)(e,!0):c(e)}},65767:function(e,t){"use strict";t.Z=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},83238:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(81511),i=n(91483),o=n(87734);var a=function(e,t,n){(void 0!==n&&!(0,o.Z)(e[t],n)||void 0===n&&!(t in e))&&(0,i.Z)(e,t,n)},s=n(31371),c=n(23999),u=n(477),l=n(94948),d=n(16982),f=n(77889),h=n(64251),p=n(71299),m=n(27114),v=n(91655),g=n(77955),y=n(77603),b=n(74598),w=n(99154),x=Function.prototype,_=Object.prototype,E=x.toString,k=_.hasOwnProperty,C=E.call(Object);var S=function(e){if(!(0,w.Z)(e)||"[object Object]"!=(0,y.Z)(e))return!1;var t=(0,b.Z)(e);if(null===t)return!0;var n=k.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==C},j=n(30453);var A=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]},T=n(57150),I=n(41078);var O=function(e){return(0,T.Z)(e,(0,I.Z)(e))};var D=function(e,t,n,r,i,o,s){var y=A(e,n),b=A(t,n),w=s.get(b);if(w)a(e,n,w);else{var x=o?o(y,b,n+"",e,t,s):void 0,_=void 0===x;if(_){var E=(0,h.Z)(b),k=!E&&(0,m.Z)(b),C=!E&&!k&&(0,j.Z)(b);x=b,E||k||C?(0,h.Z)(y)?x=y:(0,p.Z)(y)?x=(0,l.Z)(y):k?(_=!1,x=(0,c.Z)(b,!0)):C?(_=!1,x=(0,u.Z)(b,!0)):x=[]:S(b)||(0,f.Z)(b)?(x=y,(0,f.Z)(y)?x=O(y):(0,g.Z)(y)&&!(0,v.Z)(y)||(x=(0,d.Z)(b))):_=!1}_&&(s.set(b,x),i(x,b,r,o,s),s.delete(b)),a(e,n,x)}};var N=function e(t,n,i,o,c){t!==n&&(0,s.Z)(n,(function(s,u){if(c||(c=new r.Z),(0,g.Z)(s))D(t,n,u,i,e,o,c);else{var l=o?o(A(t,u),s,u+"",t,n,c):void 0;void 0===l&&(l=s),a(t,u,l)}}),I.Z)},P=n(35210),M=n(20937);var L=function(e){return(0,P.Z)((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&(0,M.Z)(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}((function(e,t,n){N(e,t,n)}))},91871:function(e,t){"use strict";t.Z=function(){}},84023:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(8699),i=n(29842),o=n(18346),a=n(30654),s=n(21150);var c=function(e,t){var n=-1,r=(0,s.Z)(e)?Array(e.length):[];return(0,a.Z)(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};var u=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},l=n(91801),d=n(25707);var f=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,o=(0,d.Z)(e),a=void 0!==t,s=null===t,c=t===t,u=(0,d.Z)(t);if(!s&&!u&&!o&&e>t||o&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0};var h=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var c=f(i[r],o[r]);if(c)return r>=s?c:c*("desc"==n[r]?-1:1)}return e.index-t.index},p=n(67755),m=n(64251);var v=function(e,t,n){t=t.length?(0,r.Z)(t,(function(e){return(0,m.Z)(e)?function(t){return(0,i.Z)(t,1===e.length?e[0]:e)}:e})):[p.Z];var a=-1;t=(0,r.Z)(t,(0,l.Z)(o.Z));var s=c(e,(function(e,n,i){return{criteria:(0,r.Z)(t,(function(t){return t(e)})),index:++a,value:e}}));return u(s,(function(e,t){return h(e,t,n)}))};var g=function(e,t,n,r){return null==e?[]:((0,m.Z)(t)||(t=null==t?[]:[t]),n=r?void 0:n,(0,m.Z)(n)||(n=null==n?[]:[n]),v(e,t,n))}},53573:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=Math.floor,i=Math.random;var o=function(e,t){return e+r(i()*(t-e+1))};var a=function(e){var t=e.length;return t?e[o(0,t-1)]:void 0},s=n(58509);var c=function(e){return a((0,s.Z)(e))},u=n(64251);var l=function(e){return((0,u.Z)(e)?a:c)(e)}},50129:function(e,t){"use strict";t.Z=function(){return[]}},78744:function(e,t,n){"use strict";var r=n(6135),i=1/0;t.Z=function(e){return e?(e=(0,r.Z)(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},74833:function(e,t,n){"use strict";var r=n(78744);t.Z=function(e){var t=(0,r.Z)(e),n=t%1;return t===t?n?t-n:t:0}},6135:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=/\s/;var i=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t},o=/^\s+/;var a=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e},s=n(77955),c=n(25707),u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt;var h=function(e){if("number"==typeof e)return e;if((0,c.Z)(e))return NaN;if((0,s.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,s.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var n=l.test(e);return n||d.test(e)?f(e.slice(2),n?2:8):u.test(e)?NaN:+e}},69775:function(e,t,n){"use strict";var r=n(71470);t.Z=function(e){return null==e?"":(0,r.Z)(e)}},84386:function(e,t,n){"use strict";var r=n(19466);t.Z=function(e){return e&&e.length?(0,r.Z)(e):[]}},82329:function(e,t,n){"use strict";var r=n(18346),i=n(19466);t.Z=function(e,t){return e&&e.length?(0,i.Z)(e,(0,r.Z)(t,2)):[]}},58509:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(8699);var i=function(e,t){return(0,r.Z)(t,(function(t){return e[t]}))},o=n(17476);var a=function(e){return null==e?[]:i(e,(0,o.Z)(e))}},82751:function(e,t,n){"use strict";n.d(t,{x0:function(){return a},kP:function(){return o}});var r=function(e){return crypto.getRandomValues(new Uint8Array(e))},i=function(e,t,n){var r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return function(){for(var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a="";;)for(var s=n(i),c=i;c--;)if((a+=e[s[c]&r]||"").length===o)return a}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return i(e,t,r)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}},24400:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},72781:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},6148:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},33032:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},27853:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},84531:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},89472:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(72327);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}},18334:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(53538),i=n(3268),o=n(29675),a=n(6148);function s(e,t){if(t&&("object"===(0,o.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.Z)(e)}function c(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},36222:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},44474:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(53538);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}},53538:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},81020:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(89384);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&(0,r.Z)(e,t)}},3268:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},25253:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},64501:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},18489:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(36222);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},83738:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},89384:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},50678:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(72781);var i=n(72327),o=n(64501);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},4528:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(72781),i=n(25253),o=n(72327),a=n(64501);function s(e){return(0,r.Z)(e)||(0,i.Z)(e)||(0,o.Z)(e)||(0,a.Z)()}},31303:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(24400);var i=n(25253),o=n(72327);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},29675:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},72327:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(24400);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},52839:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(53538),i=n(89384);var o=n(3268);function a(e,t,n){return a=(0,o.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,i.Z)(o,n.prototype),o},a.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return a(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},s(e)}},79495:function(e){"use strict";e.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+({75:"PublicExcalidrawScene",105:"Invitation",281:"StripeElements",313:"UserSettings",353:"RedeemProductInvite",372:"SignInWithEmailFinish",521:"ImportScene",600:"CreateWorkspace",856:"ProductInvites",872:"SignIn",896:"SignInWithEmail"}[e]||e)+"."+{12:"b9b07cbb",49:"514bf921",75:"ef3b71cb",105:"e9e68d0b",170:"bec3109e",205:"0484f7fa",221:"77e96812",281:"9833fb8c",313:"0d30085b",353:"5251e18b",372:"aae94a4d",509:"9419774c",521:"9812a070",574:"00604a53",600:"0c395ac4",604:"91f92033",621:"3fa38602",745:"6def8779",856:"cd8f73d7",872:"02032462",896:"536c08b1",953:"a68a84f8",965:"cda0b421"}[e]+".chunk.js"},n.miniCssF=function(e){return"static/css/"+{313:"UserSettings",600:"CreateWorkspace",872:"SignIn"}[e]+"."+{313:"cec93d12",600:"51669bf0",872:"95513337"}[e]+".chunk.css"},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="excalidraw-teams-app:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e=function(e){return new Promise((function(t,r){var i=n.miniCssF(e),o=n.p+i;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var a;if((i=(a=o[r]).getAttribute("data-href"))===e||i===t)return a}}(i,o))return t();!function(e,t,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=function(o){if(i.onerror=i.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,i.parentNode.removeChild(i),r(c)}},i.href=t,document.head.appendChild(i)}(e,o,t,r)}))},t={179:0};n.f.miniCss=function(n,r){t[n]?r.push(t[n]):0!==t[n]&&{313:1,600:1,872:1}[n]&&r.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}(),function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],c=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)c(n)}for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[a[u]]=0},r=self.webpackChunkexcalidraw_teams_app=self.webpackChunkexcalidraw_teams_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(47313),t=n(1168),r=n(18489),i=n(33032),o=n(84322),a=n.n(o),s=n(63830),c=n(30162),u=n(90615),l=n(12512),d=n(48688),f=n(86713),h=n(99204);var p,m=n(66797),v=n(81645),g=n(81921),y=n(35507),b=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],w=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){(0,v.c)((function(t){var n=(0,f.Gd)();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(h.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,g.jH)(e)),!0):this._isIgnoredError(e,t)?(h.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,g.jH)(e)),!0):this._isDeniedUrl(e,t)?(h.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,g.jH)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(h.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,g.jH)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return(0,y.zC)(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some((function(e){return(0,y.zC)(n,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some((function(e){return(0,y.zC)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:(0,m.__spread)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:(0,m.__spread)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:(0,m.__spread)(this._options.ignoreErrors||[],e.ignoreErrors||[],b),ignoreInternal:"undefined"===typeof this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(a){return h.k.error("Cannot extract message for event "+(0,g.jH)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return h.k.error("Cannot extract url for event "+(0,g.jH)(e)),null}},e.id="InboundFilters",e}(),x=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){p=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return p.apply(n,e)}},e.id="FunctionToString",e}(),_=n(14254),E=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var k=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,E(r,n.prototype),r}return(0,m.__extends)(t,e),t}(Error),C=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,S="Invalid Dsn",j=function(){function e(e){"string"===typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,i=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=C.exec(e);if(!t)throw new k(S);var n=(0,m.__read)(t.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],c=n[4],u=void 0===c?"":c,l="",d=n[5],f=d.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),d=f.pop()),d){var h=d.match(/^\d+/);h&&(d=h[0])}this._fromComponents({host:s,pass:a,path:l,projectId:d,port:u,protocol:r,user:i})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new k("Invalid Dsn: "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new k("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new k("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new k("Invalid Dsn: Invalid port "+this.port)},e}(),A=n(4440),T=n(89693),I=n(11048),O=n(96895),D=[];function N(e){var t={};return function(e){var t=e.defaultIntegrations&&(0,m.__spread)(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(e){return e.name})),o=[];t.forEach((function(e){-1===i.indexOf(e.name)&&-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))})),n.forEach((function(e){-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))}))}else"function"===typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=(0,m.__spread)(t);var a=r.map((function(e){return e.name})),s="Debug";return-1!==a.indexOf(s)&&r.push.apply(r,(0,m.__spread)(r.splice(a.indexOf(s),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===D.indexOf(e.name)&&(e.setupOnce(v.c,f.Gd),D.push(e.name),h.k.log("Integration installed: "+e.name))}(e)})),t}var P,M=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new j(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id,a=(0,A.pt)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){o=e}))),o},e.prototype.captureEvent=function(e,t,n){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r},e.prototype.captureSession=function(e){e.release?this._sendSession(e):h.k.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return t._getBackend().getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=N(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return h.k.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i,o=!1,a=!1,s=t.exception&&t.exception.values;if(s){a=!0;try{for(var c=(0,m.__values)(s),u=c.next();!u.done;u=c.next()){var l=u.value.mechanism;if(l&&!1===l.handled){o=!0;break}}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var d=t.user;if(!e.userAgent){var f=t.request?t.request.headers:{};for(var h in f)if("user-agent"===h.toLowerCase()){i=f[h];break}}e.update((0,m.__assign)((0,m.__assign)({},o&&{status:_.$.Crashed}),{user:d,userAgent:i,errors:e.errors+Number(a||o)}))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new T.c((function(n){var r=0,i=setInterval((function(){0==t._processing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=(0,m.__assign)((0,m.__assign)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:(0,g.DM)()),timestamp:e.timestamp||(0,I.yW)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=t;n&&n.captureContext&&(s=v.s.clone(s).update(n.captureContext));var c=T.c.resolve(a);return s&&(c=s.applyToEvent(a,n)),c.then((function(e){return"number"===typeof o&&o>0?r._normalizeEvent(e,o):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=(0,m.__assign)((0,m.__assign)((0,m.__assign)((0,m.__assign)((0,m.__assign)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return(0,m.__assign)((0,m.__assign)({},e),e.data&&{data:(0,O.Fv)(e.data,t)})}))}),e.user&&{user:(0,O.Fv)(e.user,t)}),e.contexts&&{contexts:(0,O.Fv)(e.contexts,t)}),e.extra&&{extra:(0,O.Fv)(e.extra,t)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,y.$G)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,y.$G)(s.value,a));var c=e.request;c&&c.url&&(c.url=(0,y.$G)(c.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,n=Object.keys(this._integrations);t&&n.length>0&&(t.integrations=n)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){h.k.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return T.c.reject(new k("SDK not enabled, will not send event."));var s="transaction"===e.type;return!s&&"number"===typeof a&&Math.random()>a?T.c.reject(new k("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,n,t).then((function(e){if(null===e)throw new k("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||s||!o)return e;var n=o(e,t);if("undefined"===typeof n)throw new k("`beforeSend` method has to return `null` or a valid event.");return(0,A.J8)(n)?n.then((function(e){return e}),(function(e){throw new k("beforeSend rejected with "+e)})):n})).then((function(e){if(null===e)throw new k("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!s&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e})).then(null,(function(e){if(e instanceof k)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new k("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._processing+=1,e.then((function(e){return t._processing-=1,e}),(function(e){return t._processing-=1,e}))},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(P||(P={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(P||(P={}));var L,R=function(){function e(){}return e.prototype.sendEvent=function(e){return T.c.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:P.Skipped})},e.prototype.close=function(e){return T.c.resolve(!0)},e}(),Z=function(){function e(e){this._options=e,this._options.dsn||h.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new k("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new k("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){h.k.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){h.k.error("Error while sending session: "+e)})):h.k.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new R},e}();function F(){if(!("fetch"in(0,g.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function U(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function z(){if(!F())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(L||(L={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;default:return e.Log}}}(L||(L={}));var B="?",V=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,W=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,H=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,q=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,G=/\((\S*)(?::(\d+))(?::(\d+))\)/,Y=/Minified React error #\d+;/i;function K(e){var t=null,n=0;e&&("number"===typeof e.framesToPop?n=e.framesToPop:Y.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var c=null;(t=r.exec(o[s]))?c={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(c={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),c&&(!c.func&&c.line&&(c.func=B),a.push(c))}if(!a.length)return null;return{message:X(e),name:e.name,stack:a}}(e),t)return Q(t,n)}catch(r){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=V.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=G.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||B,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=H.exec(o[a]))r={url:n[2],func:n[1]||B,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=W.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=q.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||B,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=B),i.push(r)}if(!i.length)return null;return{message:X(e),name:e.name,stack:i}}(e),t)return Q(t,n)}catch(r){}return{message:X(e),name:e&&e.name,stack:[],failed:!0}}function Q(e,t){try{return(0,m.__assign)((0,m.__assign)({},e),{stack:e.stack.slice(t)})}catch(n){return e}}function X(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function $(e){var t=ee(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function J(e){return{exception:{values:[$(e)]}}}function ee(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}function te(e,t,n){var r;if(void 0===n&&(n={}),(0,A.VW)(e)&&e.error)return r=J(K(e=e.error));if((0,A.TX)(e)||(0,A.fm)(e)){var i=e,o=i.name||((0,A.TX)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;return r=ne(a,t,n),(0,g.Db)(r,a),"code"in i&&(r.tags=(0,m.__assign)((0,m.__assign)({},r.tags),{"DOMException.code":""+i.code})),r}return(0,A.VZ)(e)?r=J(K(e)):(0,A.PO)(e)||(0,A.cO)(e)?(r=function(e,t,n){var r={exception:{values:[{type:(0,A.cO)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,O.zf)(e)}]},extra:{__serialized__:(0,O.Qy)(e)}};if(t){var i=ee(K(t).stack);r.stacktrace={frames:i}}return r}(e,t,n.rejection),(0,g.EG)(r,{synthetic:!0}),r):(r=ne(e,t,n),(0,g.Db)(r,""+e,void 0),(0,g.EG)(r,{synthetic:!0}),r)}function ne(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var i=ee(K(t).stack);r.stacktrace={frames:i}}return r}function re(e,t){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function ie(e,t){var n=e.tags||{},r=n.__sentry_samplingMethod,i=n.__sentry_sampleRate,o=(0,m.__rest)(n,["__sentry_samplingMethod","__sentry_sampleRate"]);e.tags=o;var a="transaction"===e.type,s={body:JSON.stringify(e),type:e.type||"event",url:a?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(a){var c=JSON.stringify({event_id:e.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:r,rate:i}]})+"\n"+s.body;s.body=c}return s}var oe=function(){function e(e){this.dsn=e,this._dsnObject=new j(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+t.toString()),e)if("dsn"!==i)if("user"===i){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return(0,O._j)(e)},e}(),ae=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):T.c.reject(new k("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new T.c((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);T.c.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),se=function(){function e(e){this.options=e,this._buffer=new ae(30),this._rateLimits={},this._api=new oe(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new k("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,o=e.reject,a=P.fromHttpCode(n.status);this._handleRateLimit(r)&&h.k.warn("Too many requests, backing off until: "+this._disabledUntil(t)),a!==P.Success?o(n):i({status:a})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,r,i,o=Date.now(),a=e["x-sentry-rate-limits"],s=e["retry-after"];if(a){try{for(var c=(0,m.__values)(a.trim().split(",")),u=c.next();!u.done;u=c.next()){var l=u.value.split(":",2),d=parseInt(l[0],10),f=1e3*(isNaN(d)?60:d);try{for(var h=(r=void 0,(0,m.__values)(l[1].split(";"))),p=h.next();!p.done;p=h.next()){var v=p.value;this._rateLimits[v||"all"]=new Date(o+f)}}catch(y){r={error:y}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}}catch(b){t={error:b}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return!0}return!!s&&(this._rateLimits.all=new Date(o+(0,g.JY)(o,s)),!0)},e}(),ce=(0,g.Rf)(),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.__extends)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(ie(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(re(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:z()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new T.c((function(t,i){ce.fetch(e.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})})).catch(i)})))},t}(se),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.__extends)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(ie(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(re(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new T.c((function(t,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(e.body)})))},t}(se),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.__extends)(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=te(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return(0,g.EG)(r,{handled:!0,type:"generic"}),r.level=L.Error,n&&n.event_id&&(r.event_id=n.event_id),T.c.resolve(r)}(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=L.Info),function(e,t,n,r){void 0===n&&(n=L.Info);var i=ne(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),T.c.resolve(i)}(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=(0,m.__assign)((0,m.__assign)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):F()?new ue(t):new le(t)},t}(Z),fe=n(71150),he=0;function pe(){return he>0}function me(){he+=1,setTimeout((function(){he-=1}))}function ve(e,t,n){if(void 0===t&&(t={}),"function"!==typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(o){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(e){return ve(e,t)}));return e.handleEvent?e.handleEvent.apply(this,i):e.apply(this,i)}catch(o){throw me(),(0,fe.$e)((function(e){e.addEventProcessor((function(e){var n=(0,m.__assign)({},e);return t.mechanism&&((0,g.Db)(n,void 0,void 0),(0,g.EG)(n,t.mechanism)),n.extra=(0,m.__assign)((0,m.__assign)({},n.extra),{arguments:r}),n})),(0,fe.Tb)(o)})),o}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(a){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(a){}return r}function ge(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new oe(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else h.k.error("Missing dsn option in showReportDialog call");else h.k.error("Missing eventId option in showReportDialog call")}var ye,be=n(16414),we=(0,g.Rf)(),xe={},_e={};function Ee(e){if(!_e[e])switch(_e[e]=!0,e){case"console":!function(){if(!("console"in we))return;["debug","info","warn","error","log","assert"].forEach((function(e){e in we.console&&(0,O.hl)(we.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Ce("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,we.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in we))return;we.document.addEventListener("click",Oe("click",Ce.bind(null,"dom")),!1),we.document.addEventListener("keypress",De(Ce.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=we[e]&&we[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&((0,O.hl)(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&(0,O.hl)(n,"handleEvent",(function(e){return function(t){return Oe("click",Ce.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&(0,O.hl)(n,"handleEvent",(function(e){return function(t){return De(Ce.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&Oe("click",Ce.bind(null,"dom"),!0)(this),"keypress"===t&&De(Ce.bind(null,"dom"))(this)),e.call(this,t,n,r)}})),(0,O.hl)(t,"removeEventListener",(function(e){return function(t,n,r){try{e.call(this,t,n.__sentry_wrapped__,r)}catch(i){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in we))return;var e=[],t=[],n=XMLHttpRequest.prototype;(0,O.hl)(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a=r[1];o.__sentry_xhr__={method:(0,A.HD)(r[0])?r[0].toUpperCase():r[0],url:r[1]},(0,A.HD)(a)&&"POST"===o.__sentry_xhr__.method&&a.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var s=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(a){}try{var n=e.indexOf(o);if(-1!==n){e.splice(n);var i=t.splice(n)[0];o.__sentry_xhr__&&void 0!==i[0]&&(o.__sentry_xhr__.body=i[0])}}catch(a){}Ce("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"===typeof o.onreadystatechange?(0,O.hl)(o,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return s(),e.apply(o,t)}})):o.addEventListener("readystatechange",s),n.apply(o,r)}})),(0,O.hl)(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.push(this),t.push(r),Ce("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!function(){if(!F())return!1;var e=(0,g.Rf)();if(U(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"===typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=U(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){h.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}())return;(0,O.hl)(we,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:Se(t),url:je(t)},startTimestamp:Date.now()};return Ce("fetch",(0,m.__assign)({},r)),e.apply(we,t).then((function(e){return Ce("fetch",(0,m.__assign)((0,m.__assign)({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw Ce("fetch",(0,m.__assign)((0,m.__assign)({},r),{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!function(){var e=(0,g.Rf)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}())return;var e=we.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length>2?t[2]:void 0;if(r){var i=ye,o=String(r);ye=o,Ce("history",{from:i,to:o})}return e.apply(this,t)}}we.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=we.location.href,i=ye;if(ye=r,Ce("history",{from:i,to:r}),e)return e.apply(this,t)},(0,O.hl)(we.history,"pushState",t),(0,O.hl)(we.history,"replaceState",t)}();break;case"error":Ne=we.onerror,we.onerror=function(e,t,n,r,i){return Ce("error",{column:r,error:i,line:n,msg:e,url:t}),!!Ne&&Ne.apply(this,arguments)};break;case"unhandledrejection":Pe=we.onunhandledrejection,we.onunhandledrejection=function(e){return Ce("unhandledrejection",e),!Pe||Pe.apply(this,arguments)};break;default:h.k.warn("unknown instrumentation type:",e)}}function ke(e){e&&"string"===typeof e.type&&"function"===typeof e.callback&&(xe[e.type]=xe[e.type]||[],xe[e.type].push(e.callback),Ee(e.type))}function Ce(e,t){var n,r;if(e&&xe[e])try{for(var i=(0,m.__values)(xe[e]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(t)}catch(s){h.k.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,be.$)(a)+"\nError: "+s)}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Se(e){return void 0===e&&(e=[]),"Request"in we&&(0,A.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function je(e){return void 0===e&&(e=[]),"string"===typeof e[0]?e[0]:"Request"in we&&(0,A.V9)(e[0],Request)?e[0].url:String(e[0])}var Ae,Te,Ie=0;function Oe(e,t,n){return void 0===n&&(n=!1),function(r){Ae=void 0,r&&Te!==r&&(Te=r,Ie&&clearTimeout(Ie),n?Ie=setTimeout((function(){t({event:r,name:e})})):t({event:r,name:e}))}}function De(e){return function(t){var n;try{n=t.target}catch(i){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(Ae||Oe("input",e)(t),clearTimeout(Ae),Ae=setTimeout((function(){Ae=void 0}),1e3))}}var Ne=null;var Pe=null;var Me=n(99587),Le=function(){function e(t){this.name=e.id,this._options=(0,m.__assign)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&(0,f.Gd)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,g.jH)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&ke({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,(0,m.__spread)(t))},type:"console"}),this._options.dom&&ke({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,(0,m.__spread)(t))},type:"dom"}),this._options.xhr&&ke({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,(0,m.__spread)(t))},type:"xhr"}),this._options.fetch&&ke({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,(0,m.__spread)(t))},type:"fetch"}),this._options.history&&ke({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,(0,m.__spread)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:L.fromString(e.level),message:(0,y.nK)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+((0,y.nK)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}(0,f.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?(0,Me.R)(e.event.target):(0,Me.R)(e.event)}catch(n){t="<unknown>"}0!==t.length&&(0,f.Gd)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;(0,f.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,f.Gd)().addBreadcrumb({category:"fetch",data:e.fetchData,level:L.Error,type:"http"},{data:e.error,input:e.args}):(0,f.Gd)().addBreadcrumb({category:"fetch",data:(0,m.__assign)((0,m.__assign)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=(0,g.Rf)(),n=e.from,r=e.to,i=(0,g.en)(t.location.href),o=(0,g.en)(n),a=(0,g.en)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,f.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}(),Re="5.30.0",Ze=function(e){function t(t){return void 0===t&&(t={}),e.call(this,de,t)||this}return(0,m.__extends)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),(0,g.Rf)().document&&(this._isEnabled()?ge((0,m.__assign)((0,m.__assign)({},e),{dsn:e.dsn||this.getDsn()})):h.k.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=(0,m.__assign)((0,m.__assign)({},t.sdk),{name:"sentry.javascript.browser",packages:(0,m.__spread)(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:Re}]),version:Re}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(Le);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(M),Fe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ue=function(){function e(t){this.name=e.id,this._options=(0,m.__assign)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,g.Rf)();(this._options.setTimeout&&(0,O.hl)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,O.hl)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,O.hl)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,O.hl)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Fe).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=ve(r,{mechanism:{data:{function:(0,be.$)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,ve(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,be.$)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=(0,g.Rf)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,O.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=ve(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,be.$)(r),target:e},handled:!0,type:"instrument"}}))}catch(o){}return t.call(this,n,ve(r,{mechanism:{data:{function:"addEventListener",handler:(0,be.$)(r),target:e},handled:!0,type:"instrument"}}),i)}})),(0,O.hl)(n,"removeEventListener",(function(e){return function(t,n,r){var i,o=n;try{var a=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(s){}return e.call(this,t,o,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(e){e in r&&"function"===typeof r[e]&&(0,O.hl)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,be.$)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=(0,be.$)(t.__sentry_original__)),ve(t,n)}))})),e.apply(this,t)}},e.id="TryCatch",e}(),ze=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=(0,m.__assign)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(h.k.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(h.k.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(ke({callback:function(n){var r=n.error,i=(0,f.Gd)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(o&&!pe()&&!a){var s=i.getClient(),c=(0,A.pt)(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(te(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,g.EG)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(ke({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(u){}var i=(0,f.Gd)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!o||pe()||a)return!0;var s=i.getClient(),c=(0,A.pt)(r)?t._eventFromRejectionWithPrimitive(r):te(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=L.Error,(0,g.EG)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var i,o=(0,A.VW)(e)?e.message:e;if((0,A.HD)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=(0,A.HD)(t)&&t.length>0?t:(0,g.l4)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),e},e.id="GlobalHandlers",e}(),Be=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){(0,v.c)((function(t,n){var r=(0,f.Gd)().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!e.exception||!e.exception.values||!t||!(0,A.V9)(t.originalException,Error))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=(0,m.__spread)(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!(0,A.V9)(e[t],Error)||n.length+1>=this._limit)return n;var r=$(K(e[t]));return this._walkErrorTree(e[t],t,(0,m.__spread)([r],n))},e.id="LinkedErrors",e}(),Ve=(0,g.Rf)(),We=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,v.c)((function(t){var n,r,i;if((0,f.Gd)().getIntegration(e)){if(!Ve.navigator&&!Ve.location&&!Ve.document)return t;var o=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(r=Ve.location)||void 0===r?void 0:r.href),a=(Ve.document||{}).referrer,s=(Ve.navigator||{}).userAgent,c=(0,m.__assign)((0,m.__assign)((0,m.__assign)({},null===(i=t.request)||void 0===i?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),u=(0,m.__assign)((0,m.__assign)({},o&&{url:o}),{headers:c});return(0,m.__assign)((0,m.__assign)({},t),{request:u})}return t}))},e.id="UserAgent",e}(),He=[new w,new x,new Ue,new Le,new ze,new Be,new We];var qe=(0,g.Rf)(),Ge=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._levels=["log","info","warn","error","debug","assert"],t.levels&&(this._levels=t.levels)}return e.prototype.setupOnce=function(t,n){"console"in qe&&this._levels.forEach((function(t){t in qe.console&&(0,O.hl)(qe.console,t,(function(r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=n();a.getIntegration(e)&&a.withScope((function(e){e.setLevel(L.fromString(t)),e.setExtra("arguments",i),e.addEventProcessor((function(e){return e.logger="console",e}));var n=(0,y.nK)(i," ");"assert"===t?!1===i[0]&&(n="Assertion failed: "+((0,y.nK)(i.slice(1)," ")||"console.assert"),e.setExtra("arguments",i.slice(1)),a.captureMessage(n)):a.captureMessage(n)})),r&&Function.prototype.apply.call(r,qe.console,i)}}))}))},e.id="CaptureConsole",e}(),Ye=n(69563),Ke=n(98714),Qe=n(50638),Xe=n(11824),$e=n(64589),Je=n(60754),et=n(34649),tt=n(60623),nt=n(50678),rt=n(63198),it=n(41155),ot=n(51386),at=n(96729),st=n(46417),ct=0,ut=null,lt=function(){localStorage.setItem("lastForceRefreshAt",(new Date).toISOString()),window.location.reload()},dt=function(){"saving"===it.ge.value?(ut&&ut(),ut=it.ge.on((function(e){"saving"!==e&&lt()}))):lt()},ft=0,ht=!0,pt=null,mt=n(65451),vt=n(2466),gt=n(58501),yt=n(6046),bt=n(22632);window.GIT_SHA={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"}.REACT_APP_GIT_SHA||null,window.VERSION=function(){var e,t=null===(e=document.querySelector('[name="version"]'))||void 0===e?void 0:e.content;return"{version}"===t?"0.".concat(tt.G,".").concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERCEL_ORG_ID:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_VERCEL_GIT_COMMIT_SHA:"65fbee942ce4398901b3003c4654bda004fa126a",REACT_APP_VERCEL_URL:"excalidraw-plus-g57627ap2-excalidraw.vercel.app",REACT_APP_VERCEL_EDGE_FUNCTIONS_REGIONAL_INVOCATION:"1",REACT_APP_VERCEL_ENV:"production",REACT_APP_VERCEL_TEMP_DETECT_MONOREPO_IN_BUILDCONTAINER:"1",REACT_APP_VERCEL_GIT_PREVIOUS_SHA:"710ea20ee3284252a47724b98703da555c94300f",REACT_APP_VERCEL_EDGE_FUNCTIONS_EMBEDDED_SOURCEMAPS:"1",REACT_APP_VERCEL_S3_METADATA_FOR_DEPLOYMENT_SOURCE_FILES:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_LOGIN:"barnabasmolnar",REACT_APP_VERCEL_GIT_PROVIDER:"github",REACT_APP_VERCEL_PROJECT_ID:"prj_OVBtu8wqQE1ZbnEqp7ciDoSPjG76",REACT_APP_STRIPE_YEARLY_PRICE_ID:"price_1KTu28DdqaPMsMHtSBIEPSkh",REACT_APP_VERCEL_EDGE_FUNCTIONS_STRICT_MODE:"1",REACT_APP_VERCEL_GIT_COMMIT_AUTHOR_NAME:"Barnab\xe1s Moln\xe1r",REACT_APP_VERCEL_BUILD_OUTPUTS_EDGE_FUNCTION:"1",REACT_APP_FIREBASE_FUNCTIONS_HOST:"https://us-central1-quickstart-1595168317408.cloudfunctions.net",REACT_APP_VERCEL_GIT_REPO_OWNER:"excalidraw-teams",REACT_APP_VERCEL_GIT_REPO_SLUG:"excalidraw-teams",REACT_APP_VERCEL_GIT_PULL_REQUEST_ID:"",REACT_APP_EXCALIDRAW_OSS_STORAGE_BASE_URL:"https://firebasestorage.googleapis.com/v0/b/excalidraw-room-persistence.appspot.com/o",REACT_APP_VERCEL_BUILD_MONOREPO_SUPPORT:"1",REACT_APP_STRIPE_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_STRIPE_PUBLISHABLE_KEY:"pk_live_51HEXg2DdqaPMsMHtZ2vOe6JNLHBP5RBxEJ9PtIiF7kdzej5gqWtTj9dBtNFNiJPYjX4j5aFU42SwADRsgznO92Wg00Gwbyojwy",REACT_APP_VERCEL_USE_CREATE_EDGE_FUNCTIONS_WITH_SUMMARY:"1",REACT_APP_VERCEL_GIT_COMMIT_MESSAGE:"Redirect to /l/ for unauthed users if scene shared (#755)\n\nCo-authored-by: dwelle <luzar.david@gmail.com>",REACT_APP_VERCEL_ARTIFACTS_TOKEN:"artifacts:eyJkZXBsb3ltZW50SWQiOiJkcGxfRktWa05manhYZ1lzemU4N0FlNGl5ckZHRnNmTSIsIm93bmVySWQiOiJ0ZWFtX3lhODVmQU9Pcmc3UEcyYW1sTUN5cUgwayIsInRpY2tldCI6ImdxRjB6UWNJb1dPUzJTQmtjR3hmUmt0V2EwNW1hbmhZWjFsemVtVTROMEZsTkdsNWNrWkhSbk5tVGExQlVFbGZRVkpVU1VaQlExUlRtYUxxSWdQdmtQTFFNajhuckYwM29IT01sU0U9In0=",REACT_APP_VERCEL_GIT_REPO_ID:"284789220",REACT_APP_VERCEL_ARTIFACTS_OWNER:"team_ya85fAOOrg7PG2amlMCyqH0k",REACT_APP_STRIPE_MONTHLY_PRICE_ID:"price_1Ik4WyDdqaPMsMHtbZ61PV1e",REACT_APP_VERCEL_GIT_COMMIT_REF:"master",REACT_APP_COLLAB_SERVER:"https://plus-collab-lb.excalidraw.com",REACT_APP_LP_URL:"https://plus.excalidraw.com",REACT_APP_BACKEND:"https://backend.excalidraw.com",REACT_APP_GA_TRACKING:"UA-191716632-1"}.REACT_APP_GIT_SHA||"X"):t}(),window.EXCALIDRAW_THROTTLE_RENDER=!0,function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=He),void 0===e.release){var t=(0,g.Rf)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!1),function(e,t){!0===t.debug&&h.k.enable();var n=(0,f.Gd)(),r=new e(t);n.bindClient(r)}(Ze,e),e.autoSessionTracking&&function(){var e=(0,g.Rf)(),t=(0,f.Gd)(),n="complete"===document.readyState,r=!1,i=function(){r&&n&&t.endSession()},o=function t(){n=!0,i(),e.removeEventListener("load",t)};t.startSession(),n||e.addEventListener("load",o);try{var a=new PerformanceObserver((function(e,t){e.getEntries().forEach((function(e){"first-contentful-paint"===e.name&&e.startTime<s&&(t.disconnect(),r=!0,i())}))})),s="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",(function(e){s=Math.min(s,e.timeStamp)}),{once:!0}),a.observe({type:"paint",buffered:!0})}catch(c){r=!0,i()}}()}({dsn:"https://fdb236100c434228a2d95bc680c4cc70@o450260.ingest.sentry.io/5434575",integrations:[new Ge({levels:["error"]})],tracesSampleRate:1}),Xe.ZP.initialize("UA-191716632-1"),Xe.ZP.pageview(window.location.pathname+window.location.search),yt.Z.trackView(window.location.pathname+window.location.search);var wt=(0,gt.Z)((function(){return n.e(872).then(n.bind(n,349))})),xt=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(896).then(n.bind(n,27147));case 2:return e.t0=e.sent.SignInWithEmail,e.abrupt("return",{default:e.t0});case 4:case"end":return e.stop()}}),e)})))),_t=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(372).then(n.bind(n,18022));case 2:return e.t0=e.sent.SignInWithEmailFinish,e.abrupt("return",{default:e.t0});case 4:case"end":return e.stop()}}),e)})))),Et=(0,gt.Z)((function(){return Promise.resolve().then(n.bind(n,78401))})),kt=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(105).then(n.bind(n,65794));case 2:return e.t0=e.sent.Invitation,e.abrupt("return",{default:e.t0});case 4:case"end":return e.stop()}}),e)})))),Ct=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(856).then(n.bind(n,63108));case 2:return e.t0=e.sent.ProductInvites,e.abrupt("return",{default:e.t0});case 4:case"end":return e.stop()}}),e)})))),St=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(353).then(n.bind(n,54420));case 2:return e.t0=e.sent.RedeemProductInvite,e.abrupt("return",{default:e.t0});case 4:case"end":return e.stop()}}),e)})))),jt=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(313).then(n.bind(n,63398)));case 1:case"end":return e.stop()}}),e)})))),At=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.e(600).then(n.bind(n,97967)));case 1:case"end":return e.stop()}}),e)})))),Tt=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(75).then(n.bind(n,3979));case 2:return e.t0=e.sent.PublicExcalidrawScene,e.abrupt("return",{default:e.t0});case 4:case"end":return e.stop()}}),e)})))),It=(0,gt.Z)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(521).then(n.bind(n,98608));case 2:return e.t0=e.sent.ImportScene,e.abrupt("return",{default:e.t0});case 4:case"end":return e.stop()}}),e)})))),Ot=function(){var e=(0,s.UO)(),t=e.workspace,n=e.scene,i=(0,bt.n)({scene:n,workspace:t}),o=i.activeScene;return i.isLoadingScene?(0,st.jsx)(Je.Z,{}):null!==o&&void 0!==o&&o.linkSharing?(0,st.jsx)(s.l_,{to:(0,s.Gn)(Ye.Z6.linkSharedScene,{workspace:t,scene:n}),push:!1}):(0,st.jsx)(s.l_,{push:!1,to:"".concat(Ye.Z6.signIn,"?").concat(new URLSearchParams((0,r.Z)((0,r.Z)({},Object.fromEntries(new URLSearchParams(window.location.search))),{},{next:window.location.pathname||"/"})).toString())})};function Dt(){var t=function(){var t=(0,e.useState)(null),n=(0,nt.Z)(t,2),r=n[0],i=n[1],o=(0,e.useState)({minimumVersion:null,gracePeriodMs:null}),a=(0,nt.Z)(o,2),s=a[0],c=s.minimumVersion,u=s.gracePeriodMs,l=a[1],d=(0,e.useState)(null),f=(0,nt.Z)(d,2),h=f[0],p=f[1];return(0,e.useEffect)((function(){var e=localStorage.getItem("ignoreNewMinimumVersion");if(e)try{p(JSON.parse(e))}catch(t){console.error(t)}}),[]),(0,e.useEffect)((function(){if(!c)return i(null);h&&h.timestamp&&parseInt(h.minimumVersion)===parseInt(c)&&Date.now()-new Date(h.timestamp).getTime()<864e5||i((0,st.jsx)(at.u,{title:"New version required",onCloseRequest:function(){return i(null)},priority:"high",children:(0,st.jsxs)("div",{className:"flex-center flex-col",children:["You are using an unsupported version of the app.",(0,st.jsx)("br",{}),(0,st.jsx)("br",{}),"Please reload the page to get the latest version, otherwise important functionality may not work.",(0,st.jsx)(rt.Z,{onClick:function(){window.location.reload()},children:"Reload"}),(0,st.jsxs)("p",{className:"color-text-subtitle",children:[!!u&&(0,st.jsxs)(st.Fragment,{children:["Your browser will automatically reload"," ",Math.floor(u/1e3/60)," minutes from now.",(0,st.jsx)("br",{}),(0,st.jsx)("br",{})]}),"If you face any problems, please contact us on"," ",(0,st.jsx)("a",{href:"mailto:support@excalidraw.com",children:"support@excalidraw.com"})," ","or our"," ",(0,st.jsx)("a",{className:"item",href:"https://discord.gg/e5nJxZBZxz",target:"_blank",rel:"noreferrer",children:"Discord chat"}),".",(0,st.jsx)("br",{}),(0,st.jsx)("br",{}),"If you know what you're doing, you can"," ",(0,st.jsx)(rt.Z,{type:"link",onClick:function(){localStorage.setItem("ignoreNewMinimumVersion",JSON.stringify({minimumVersion:c,timestamp:(new Date).toISOString()})),i(null)},children:"hide"})," ","this message for the next 24 hrs."]})]})}))}),[c,u,h]),(0,e.useEffect)((function(){return ot.ZP.firestore().collection("app").doc("version").onSnapshot((function(e){var t=e.data();if(setTimeout((function(){ht=!1})),clearTimeout(ct),clearTimeout(ft),t&&parseInt(tt.G)<parseInt(t.minimumApiVersion)){var n=60*(t.gracePeriodMinutes||0)*1e3,r=60*(t.backoffPeriodMinutes||60)*1e3;!n||ht||pt||(pt=(new Date).toISOString());var i=0;if(pt){var o=Date.now()-new Date(pt).getTime();o<n&&(i=n-o)}l({minimumVersion:t.minimumApiVersion,gracePeriodMs:n}),ft=window.setTimeout((function(){var e=localStorage.getItem("lastForceRefreshAt");if(e){var t=Date.now()-new Date(e).getTime();t<r&&(ct=window.setTimeout(dt,r-t))}else dt()}),i)}else l({minimumVersion:null,gracePeriodMs:null})}))}),[]),{newMinimumVersionModal:r}}(),n=t.newMinimumVersionModal;return(0,st.jsx)(l.ZP,{children:function(e){var t=e.user;return(0,st.jsxs)(Ke.z,{children:[(0,st.jsx)(Qe.P,{}),n,(0,st.jsxs)(s.rs,{children:[(0,st.jsx)(s.AW,{exact:!0,path:Ye.Z6.importScene,component:It}),(0,st.jsx)(s.AW,{exact:!0,path:Ye.Z6.linkSharedScene,component:Tt}),(0,st.jsx)(s.AW,{exact:!0,path:[Ye.Z6.signIn,Ye.Z6.signUp,"/login"],component:wt}),(0,st.jsx)(s.AW,{exact:!0,path:[Ye.Z6.signInWithEmail,Ye.Z6.signUpWithEmail],component:xt}),(0,st.jsx)(s.AW,{exact:!0,path:[Ye.Z6.signInWithEmailFinish,Ye.Z6.signUpWithEmailFinish],component:_t}),(0,st.jsx)(s.AW,{exact:!0,path:Ye.Z6.redeemWorkspaceInvite,component:kt}),(0,st.jsx)(s.AW,{exact:!0,path:Ye.Z6.redeemProductInvite,component:St}),!t&&(0,st.jsx)(s.AW,{path:Ye.Z6.workspaceScene,component:Ot}),!t&&(0,st.jsx)(s.l_,{push:!1,to:"".concat(Ye.Z6.signIn,"?").concat(new URLSearchParams((0,r.Z)((0,r.Z)({},Object.fromEntries(new URLSearchParams(window.location.search))),{},{next:window.location.pathname||"/"})).toString())}),(0,st.jsx)(s.AW,{path:"/account",component:jt}),(0,st.jsx)(s.AW,{exact:!0,path:Ye.Z6.productInvites,component:Ct}),(0,st.jsx)(s.AW,{exact:!0,path:Ye.Z6.createWorkspace,component:At}),(0,st.jsx)(s.AW,{exact:!0,path:Ye.Z6.fallthrough,component:Et})]}),(0,st.jsx)(et.Z,{})]})}})}function Nt(){return(0,st.jsx)(d.zt,{unstable_createStore:function(){return vt.jotaiStore},scope:vt.jotaiScope,children:(0,st.jsx)(s.F0,{history:c.m,children:(0,st.jsxs)(u.Z,{children:[(0,st.jsx)(mt.A,{}),(0,st.jsx)($e.x,{children:(0,st.jsx)(e.Suspense,{fallback:(0,st.jsx)(Je.Z,{}),children:(0,st.jsx)(Dt,{})})})]})})})}var Pt=n(30568);Promise.allSettled||(Promise.allSettled=function(e){return Promise.all((e||[]).map((function(e){return Promise.resolve(e).then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))})))}),t.render((0,st.jsx)(e.StrictMode,{children:(0,st.jsx)(Pt.Z,{children:(0,st.jsx)(Nt,{})})}),document.getElementById("root"))}()}();